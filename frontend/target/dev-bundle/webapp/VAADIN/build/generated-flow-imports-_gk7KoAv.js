var oe=(n,i)=>()=>(i||n((i={exports:{}}).exports,i),i.exports);import{J as css$e,M as themeRegistry,S as stylesFromTemplate,T as unsafeCSS,W as DomModule,a0 as registerStyles$1,a1 as isIOS,a2 as ElementMixin,a3 as ThemableMixin,a4 as ControllerMixin,a5 as PolymerElement,a6 as html,a7 as AriaModalController,a8 as FocusTrapController,a9 as beforeNextRender,aa as afterNextRender,ab as defineCustomElement,ac as addLumoGlobalStyles,ad as overlay,ae as DirMixin,af as PositionMixin,ag as OverlayMixin,ah as overlayStyles,ai as Debouncer$1,aj as timeOut,ak as announce,al as detailsSummary,am as ActiveMixin,an as details,ao as CollapsibleMixin,ap as DelegateFocusMixin,aq as DelegateStateMixin,ar as SummaryController,as as TooltipController,at as KeyboardDirectionMixin,au as isElementFocused,av as SlotObserver,aw as button,ax as Button,ay as isEmptyTextNode,az as OverlayClassMixin,aA as generateUniqueId,aB as SlotController,aC as microTask,aD as isKeyboardActive,aE as removeValueFromAttribute,aF as addValueToAttribute,aG as ThemePropertyMixin,aH as FocusMixin,aI as item,aJ as menuOverlayCore,aK as listBox,aL as ListMixin,aM as ItemMixin,aN as nothing,aO as ResizeMixin,aP as render$1,aQ as html$1,aR as isElementHidden,aS as wrap$e,aT as microTask$1,aU as dedupingMixin,aV as DisabledMixin,aW as InputMixin,aX as LabelMixin,aY as InputController,aZ as LabelledInputController,a_ as requiredField,a$ as helper,b0 as FieldMixin,b1 as inputFieldShared,b2 as Virtualizer,b3 as get$5,b4 as InputConstraintsMixin,b5 as ValidateMixin,b6 as KeyboardMixin,b7 as processTemplates,b8 as isTouch,b9 as InputControlMixin,ba as inputFieldShared$1,bb as legacyOptimizations,bc as useShadow,bd as PropertyEffects,be as strictTemplatePolicy,bf as legacyWarnings,bg as fastDomIf,bh as root,bi as suppressTemplateNotifications,bj as Directive,bk as isSingleExpression,bl as PartType,bm as directive,bn as noChange,bo as idlePeriod,bp as timeOut$1,bq as fieldButton,br as InputContainer,bs as setAriaIDReference,bt as gestures,bu as addListener,bv as removeListener,bw as ColumnBaseMixin,bx as updateColumnOrders,by as animationFrame,bz as ColumnObserver,bA as GridColumn,bB as get$6,bC as set$1,bD as Grid,bE as FocusRestorationController,bF as MediaQueryController,bG as animationFrame$1,bH as isFocusable,bI as getFlattenedElements,bJ as menuOverlay,bK as isFirefox$4,bL as matches,bM as translate$1,bN as setTouchAction,bO as hideOthers,bP as set$2,bQ as ButtonMixin,bR as LabelController,bS as fieldShared,bT as inputFieldContainer,bU as TextField,bV as color$h,bW as typography,bX as InputFieldMixin,bY as isTemplateResult,bZ as LitElement,b_ as getNormalizedScrollLeft,b$ as Iconset,c0 as injectGlobalCss}from"./indexhtml-mKuW6MLf.js";var ae=oe(exports=>{const $cssFromFile_0=css$e`*{margin:0;padding:0;box-sizing:border-box}.main-layout{width:75%;height:80%;border:1px solid #F5CD58;margin:auto;position:absolute;top:0;bottom:0;left:0;right:0}.left-col{width:35%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}.title{font-size:18px;width:95%;margin-left:auto}.text-field::part(input-field){background-color:#fff;border:1px solid #D0D5DD}.text-field:focus{color:red}.text-field,.register-button{width:95%;margin-left:auto}.register-button{background:#f5cd58;color:#000}.register-button:hover{background:#fff;border:1px solid #F5CD58}.footer-text{width:95%;margin-left:auto;font-size:12px}.right-col{width:65%;height:100%}.register-image{width:100%;height:100%;display:block}@media only screen and (max-width: 991px){.main-layout{width:90%}.left-col{width:95%}.right-col{display:none}}`;/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */let moduleIdIndex=0;function registerStyles(n,i=[],t={}){const r=t.moduleId||`custom-style-module-${moduleIdIndex}`;moduleIdIndex+=1;const o=document.createElement("dom-module");n&&o.setAttribute("theme-for",n);const a=!!(i.length&&t.moduleId),s=[].concat(t.include||[]);s.length===0?o.__allStyles=i:a||(o.__partialStyles=i),o.innerHTML=`
    <template>
      ${s.map(l=>`<style include=${l}></style>`)}
      ${a?`<style>${i.map(l=>l.cssText).join(`
`)}</style>`:""}
    </template>
  `,o.register(r)}function getModuleStyles(n){return stylesFromTemplate(n.querySelector("template")).map(i=>unsafeCSS(i.textContent))}function getAllThemes(){const i=DomModule.prototype.modules;return Object.keys(i).map(t=>{const r=i[t],o=r.getAttribute("theme-for");return r.__allStyles||(r.__allStyles=getModuleStyles(r).concat(r.__partialStyles||[])),{themeFor:o,moduleId:t,styles:r.__allStyles}})}window.Vaadin||(window.Vaadin={});window.Vaadin.styleModules={getAllThemes,registerStyles};themeRegistry&&themeRegistry.length>0&&(themeRegistry.forEach(n=>{registerStyles(n.themeFor,n.styles,{moduleId:n.moduleId,include:n.include})}),themeRegistry.length=0);registerStyles$1("vaadin-app-layout",css$e`
    [part='navbar'],
    [part='drawer'] {
      background-color: var(--lumo-base-color);
      background-clip: padding-box;
    }

    [part='navbar'] {
      min-height: var(--lumo-size-xl);
      border-bottom: 1px solid var(--lumo-contrast-10pct);
    }

    [part='navbar'][bottom] {
      border-bottom: none;
      border-top: 1px solid var(--lumo-contrast-10pct);
    }

    [part='drawer'] {
      border-inline-end: 1px solid var(--lumo-contrast-10pct);
    }

    :host([overlay]) [part='drawer'] {
      border-inline-end: none;
      box-shadow: var(--lumo-box-shadow-s);
    }

    :host([primary-section='navbar']) [part='navbar'] {
      border: none;
      background-image: linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct));
    }

    :host([primary-section='drawer']:not([overlay])) [part='drawer'] {
      background-image: linear-gradient(var(--lumo-shade-5pct), var(--lumo-shade-5pct));
    }

    [part='backdrop'] {
      background-color: var(--lumo-shade-20pct);
      opacity: 1;
    }

    [part] ::slotted(h2),
    [part] ::slotted(h3),
    [part] ::slotted(h4) {
      margin-top: var(--lumo-space-xs) !important;
      margin-bottom: var(--lumo-space-xs) !important;
    }
  `,{moduleId:"lumo-app-layout"});/**
 * @license
 * Copyright (c) 2018 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */function _detectIosNavbar(){if(isIOS){const n=window.innerHeight,t=window.innerWidth>n,r=document.documentElement.clientHeight;t&&r>n?document.documentElement.style.setProperty("--vaadin-viewport-offset-bottom",`${r-n}px`):document.documentElement.style.setProperty("--vaadin-viewport-offset-bottom","")}}_detectIosNavbar();window.addEventListener("resize",_detectIosNavbar);const template$8=document.createElement("template");template$8.innerHTML=`
  <style>
    /* Use units so that the values can be used in calc() */
    html {
      --safe-area-inset-top: env(safe-area-inset-top, 0px);
      --safe-area-inset-right: env(safe-area-inset-right, 0px);
      --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
      --safe-area-inset-left: env(safe-area-inset-left, 0px);
    }
  </style>
`;document.head.appendChild(template$8.content);/**
 * @license
 * Copyright (c) 2018 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class AppLayout extends ElementMixin(ThemableMixin(ControllerMixin(PolymerElement))){static get template(){return html`
      <style>
        :host {
          display: block;
          box-sizing: border-box;
          height: 100%;
          --vaadin-app-layout-transition: 200ms;
          transition: padding var(--vaadin-app-layout-transition);
          --_vaadin-app-layout-drawer-width: var(--vaadin-app-layout-drawer-width, 16em);
          --vaadin-app-layout-touch-optimized: false;
          --vaadin-app-layout-navbar-offset-top: var(--_vaadin-app-layout-navbar-offset-size);
          --vaadin-app-layout-navbar-offset-bottom: var(--_vaadin-app-layout-navbar-offset-size-bottom);
          padding-block: var(--vaadin-app-layout-navbar-offset-top) var(--vaadin-app-layout-navbar-offset-bottom);
          padding-inline-start: var(--vaadin-app-layout-navbar-offset-left);
        }

        :host([hidden]),
        [hidden] {
          display: none !important;
        }

        :host([no-anim]) {
          --vaadin-app-layout-transition: none !important;
        }

        :host([drawer-opened]) {
          --vaadin-app-layout-drawer-offset-left: var(--_vaadin-app-layout-drawer-offset-size);
        }

        :host([overlay]) {
          --vaadin-app-layout-drawer-offset-left: 0;
          --vaadin-app-layout-navbar-offset-left: 0;
        }

        :host(:not([no-scroll])) [content] {
          overflow: auto;
        }

        [content] {
          height: 100%;
        }

        @media (pointer: coarse) and (max-width: 800px) and (min-height: 500px) {
          :host {
            --vaadin-app-layout-touch-optimized: true;
          }
        }

        [part='navbar'] {
          position: fixed;
          display: flex;
          align-items: center;
          top: 0;
          inset-inline: 0;
          transition: inset-inline-start var(--vaadin-app-layout-transition);
          padding-top: var(--safe-area-inset-top);
          padding-left: var(--safe-area-inset-left);
          padding-right: var(--safe-area-inset-right);
          z-index: 1;
        }

        :host([primary-section='drawer'][drawer-opened]:not([overlay])) [part='navbar'] {
          inset-inline-start: var(--vaadin-app-layout-drawer-offset-left, 0);
        }

        :host([primary-section='drawer']) [part='drawer'] {
          top: 0;
        }

        [part='navbar'][bottom] {
          top: auto;
          bottom: 0;
          padding-bottom: var(--safe-area-inset-bottom);
        }

        [part='drawer'] {
          overflow: auto;
          position: fixed;
          top: var(--vaadin-app-layout-navbar-offset-top, 0);
          bottom: var(--vaadin-app-layout-navbar-offset-bottom, var(--vaadin-viewport-offset-bottom, 0));
          inset-inline: var(--vaadin-app-layout-navbar-offset-left, 0) auto;
          transition: transform var(--vaadin-app-layout-transition), visibility var(--vaadin-app-layout-transition);
          transform: translateX(-100%);
          max-width: 90%;
          width: var(--_vaadin-app-layout-drawer-width);
          box-sizing: border-box;
          padding: var(--safe-area-inset-top) 0 var(--safe-area-inset-bottom) var(--safe-area-inset-left);
          outline: none;
          /* The drawer should be inaccessible by the tabbing navigation when it is closed. */
          visibility: hidden;
          display: flex;
          flex-direction: column;
        }

        :host([drawer-opened]) [part='drawer'] {
          /* The drawer should be accessible by the tabbing navigation when it is opened. */
          visibility: visible;
          transform: translateX(0%);
          touch-action: manipulation;
        }

        [part='backdrop'] {
          background-color: #000;
          opacity: 0.3;
        }

        :host(:not([drawer-opened])) [part='backdrop'] {
          opacity: 0;
        }

        :host([overlay]) [part='backdrop'] {
          position: fixed;
          inset: 0;
          pointer-events: none;
          transition: opacity var(--vaadin-app-layout-transition);
          -webkit-tap-highlight-color: transparent;
        }

        :host([overlay]) [part='drawer'] {
          top: 0;
          bottom: 0;
        }

        :host([overlay]) [part='drawer'],
        :host([overlay]) [part='backdrop'] {
          z-index: 2;
        }

        :host([drawer-opened][overlay]) [part='backdrop'] {
          pointer-events: auto;
          touch-action: manipulation;
        }

        :host([dir='rtl']) [part='drawer'] {
          transform: translateX(100%);
        }

        :host([dir='rtl'][drawer-opened]) [part='drawer'] {
          transform: translateX(0%);
        }

        :host([drawer-opened]:not([overlay])) {
          padding-inline-start: var(--vaadin-app-layout-drawer-offset-left);
        }

        @media (max-width: 800px), (max-height: 600px) {
          :host {
            --vaadin-app-layout-drawer-overlay: true;
            --_vaadin-app-layout-drawer-width: var(--vaadin-app-layout-drawer-width, 20em);
          }
        }

        /* If a vaadin-scroller is used in the drawer, allow it to take all remaining space and contain scrolling */
        [part='drawer'] ::slotted(vaadin-scroller) {
          flex: 1;
          overscroll-behavior: contain;
        }
      </style>
      <div part="navbar" id="navbarTop">
        <slot name="navbar" on-slotchange="_updateTouchOptimizedMode"></slot>
      </div>
      <div part="backdrop" on-click="_onBackdropClick" on-touchend="_onBackdropTouchend"></div>
      <div part="drawer" id="drawer">
        <slot name="drawer" id="drawerSlot" on-slotchange="_updateDrawerSize"></slot>
      </div>
      <div content>
        <slot></slot>
      </div>
      <div part="navbar" id="navbarBottom" bottom hidden>
        <slot name="navbar-bottom"></slot>
      </div>
      <div hidden>
        <slot id="touchSlot" name="navbar touch-optimized" on-slotchange="_updateTouchOptimizedMode"></slot>
      </div>
    `}static get is(){return"vaadin-app-layout"}static get properties(){return{i18n:{type:Object,observer:"__i18nChanged",value:()=>({drawer:"Drawer"})},primarySection:{type:String,value:"navbar",notify:!0,reflectToAttribute:!0,observer:"__primarySectionChanged"},drawerOpened:{type:Boolean,notify:!0,value:!0,reflectToAttribute:!0,observer:"__drawerOpenedChanged"},overlay:{type:Boolean,notify:!0,readOnly:!0,value:!1,reflectToAttribute:!0},closeDrawerOn:{type:String,value:"vaadin-router-location-changed",observer:"_closeDrawerOnChanged"}}}static dispatchCloseOverlayDrawerEvent(){window.dispatchEvent(new CustomEvent("close-overlay-drawer"))}constructor(){super(),this.__boundResizeListener=this._resize.bind(this),this.__drawerToggleClickListener=this._drawerToggleClick.bind(this),this.__onDrawerKeyDown=this.__onDrawerKeyDown.bind(this),this.__closeOverlayDrawerListener=this.__closeOverlayDrawer.bind(this),this.__trapFocusInDrawer=this.__trapFocusInDrawer.bind(this),this.__releaseFocusFromDrawer=this.__releaseFocusFromDrawer.bind(this),this.__ariaModalController=new AriaModalController(this,()=>[...this.querySelectorAll('vaadin-drawer-toggle, [slot="drawer"]')]),this.__focusTrapController=new FocusTrapController(this)}connectedCallback(){super.connectedCallback(),this._blockAnimationUntilAfterNextRender(),window.addEventListener("resize",this.__boundResizeListener),this.addEventListener("drawer-toggle-click",this.__drawerToggleClickListener),beforeNextRender(this,this._afterFirstRender),this._updateTouchOptimizedMode(),this._updateDrawerSize(),this._updateOverlayMode(),this._navbarSizeObserver=new ResizeObserver(()=>{requestAnimationFrame(()=>{this.__isDrawerAnimating?this.__updateOffsetSizePending=!0:this._updateOffsetSize()})}),this._navbarSizeObserver.observe(this.$.navbarTop),this._navbarSizeObserver.observe(this.$.navbarBottom),window.addEventListener("close-overlay-drawer",this.__closeOverlayDrawerListener),window.addEventListener("keydown",this.__onDrawerKeyDown)}ready(){super.ready(),this.addController(this.__focusTrapController),this.__setAriaExpanded(),this.$.drawer.addEventListener("transitionstart",()=>{this.__isDrawerAnimating=!0}),this.$.drawer.addEventListener("transitionend",()=>{this.__updateOffsetSizePending&&(this.__updateOffsetSizePending=!1,this._updateOffsetSize()),requestAnimationFrame(()=>{this.__isDrawerAnimating=!1})})}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("resize",this.__boundResizeListener),this.removeEventListener("drawer-toggle-click",this.__drawerToggleClickListener),window.removeEventListener("close-overlay-drawer",this.__drawerToggleClickListener),window.removeEventListener("keydown",this.__onDrawerKeyDown)}__primarySectionChanged(i){["navbar","drawer"].includes(i)||this.set("primarySection","navbar")}__drawerOpenedChanged(i,t){this.overlay&&(i?this.__trapFocusInDrawer():t&&this.__releaseFocusFromDrawer()),this.__setAriaExpanded()}__i18nChanged(){this.__updateDrawerAriaAttributes()}_afterFirstRender(){this._blockAnimationUntilAfterNextRender(),this._updateOffsetSize()}_drawerToggleClick(i){i.stopPropagation(),this.drawerOpened=!this.drawerOpened}__closeOverlayDrawer(){this.overlay&&(this.drawerOpened=!1)}__setAriaExpanded(){const i=this.querySelector("vaadin-drawer-toggle");i&&i.setAttribute("aria-expanded",this.drawerOpened)}_updateDrawerSize(){const i=this.querySelectorAll("[slot=drawer]").length,t=this.$.drawer;i===0?(t.setAttribute("hidden",""),this.style.setProperty("--_vaadin-app-layout-drawer-width",0)):(t.removeAttribute("hidden"),this.style.removeProperty("--_vaadin-app-layout-drawer-width")),this._updateOffsetSize()}_resize(){this._blockAnimationUntilAfterNextRender(),this._updateTouchOptimizedMode(),this._updateOverlayMode()}_updateOffsetSize(){const t=this.$.navbarTop.getBoundingClientRect(),o=this.$.navbarBottom.getBoundingClientRect(),s=this.$.drawer.getBoundingClientRect();this.style.setProperty("--_vaadin-app-layout-navbar-offset-size",`${t.height}px`),this.style.setProperty("--_vaadin-app-layout-navbar-offset-size-bottom",`${o.height}px`),this.style.setProperty("--_vaadin-app-layout-drawer-offset-size",`${s.width}px`)}_updateOverlayMode(){const i=this._getCustomPropertyValue("--vaadin-app-layout-drawer-overlay")==="true";!this.overlay&&i&&(this._drawerStateSaved=this.drawerOpened,this.drawerOpened=!1),this._setOverlay(i),!this.overlay&&this._drawerStateSaved&&(this.drawerOpened=this._drawerStateSaved,this._drawerStateSaved=null),this.__updateDrawerAriaAttributes()}__updateDrawerAriaAttributes(){const i=this.$.drawer;this.overlay?(i.setAttribute("role","dialog"),i.setAttribute("aria-modal","true"),i.setAttribute("aria-label",this.i18n.drawer)):(i.removeAttribute("role"),i.removeAttribute("aria-modal"),i.removeAttribute("aria-label"))}__drawerTransitionComplete(){return new Promise(i=>{if(this._getCustomPropertyValue("--vaadin-app-layout-transition")==="none"){i();return}this.$.drawer.addEventListener("transitionend",i,{once:!0})})}async __trapFocusInDrawer(){await this.__drawerTransitionComplete(),this.drawerOpened&&(this.$.drawer.setAttribute("tabindex","0"),this.__ariaModalController.showModal(),this.__focusTrapController.trapFocus(this.$.drawer))}async __releaseFocusFromDrawer(){if(await this.__drawerTransitionComplete(),this.drawerOpened)return;this.__ariaModalController.close(),this.__focusTrapController.releaseFocus(),this.$.drawer.removeAttribute("tabindex");const i=this.querySelector("vaadin-drawer-toggle");i&&(i.focus(),i.setAttribute("focus-ring","focus"))}__onDrawerKeyDown(i){i.key==="Escape"&&this.overlay&&(this.drawerOpened=!1)}_closeDrawerOnChanged(i,t){t&&window.removeEventListener(t,this.__closeOverlayDrawerListener),i&&window.addEventListener(i,this.__closeOverlayDrawerListener)}_onBackdropClick(){this._close()}_onBackdropTouchend(i){i.preventDefault(),this._close()}_close(){this.drawerOpened=!1}_getCustomPropertyValue(i){return(getComputedStyle(this).getPropertyValue(i)||"").trim().toLowerCase()}_updateTouchOptimizedMode(){const i=this._getCustomPropertyValue("--vaadin-app-layout-touch-optimized")==="true",t=this.querySelectorAll('[slot*="navbar"]');t.length>0&&Array.from(t).forEach(r=>{r.getAttribute("slot").indexOf("touch-optimized")>-1&&(r.__touchOptimized=!0),i&&r.__touchOptimized?r.setAttribute("slot","navbar-bottom"):r.setAttribute("slot","navbar")}),this.$.navbarTop.querySelector("[name=navbar]").assignedNodes().length===0?this.$.navbarTop.setAttribute("hidden",""):this.$.navbarTop.removeAttribute("hidden"),this.$.navbarBottom.querySelector("[name=navbar-bottom]").assignedNodes().length===0?this.$.navbarBottom.setAttribute("hidden",""):this.$.navbarBottom.removeAttribute("hidden"),this._updateOffsetSize()}_blockAnimationUntilAfterNextRender(){this.setAttribute("no-anim",""),afterNextRender(this,()=>{this.removeAttribute("no-anim")})}}defineCustomElement(AppLayout);const horizontalLayout=css$e`
  :host([theme~='margin']) {
    margin: var(--lumo-space-m);
  }

  :host([theme~='padding']) {
    padding: var(--lumo-space-m);
  }

  :host([theme~='spacing-xs']) {
    gap: var(--lumo-space-xs);
  }

  :host([theme~='spacing-s']) {
    gap: var(--lumo-space-s);
  }

  :host([theme~='spacing']) {
    gap: var(--lumo-space-m);
  }

  :host([theme~='spacing-l']) {
    gap: var(--lumo-space-l);
  }

  :host([theme~='spacing-xl']) {
    gap: var(--lumo-space-xl);
  }
`;registerStyles$1("vaadin-horizontal-layout",horizontalLayout,{moduleId:"lumo-horizontal-layout"});/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class HorizontalLayout extends ElementMixin(ThemableMixin(PolymerElement)){static get template(){return html`
      <style>
        :host {
          display: flex;
          box-sizing: border-box;
        }

        :host([hidden]) {
          display: none !important;
        }

        /* Theme variations */
        :host([theme~='margin']) {
          margin: 1em;
        }

        :host([theme~='padding']) {
          padding: 1em;
        }

        :host([theme~='spacing']) {
          gap: 1em;
        }
      </style>

      <slot></slot>
    `}static get is(){return"vaadin-horizontal-layout"}}defineCustomElement(HorizontalLayout);/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const userColors=css$e`
  :host {
    --vaadin-user-color-0: #df0b92;
    --vaadin-user-color-1: #650acc;
    --vaadin-user-color-2: #097faa;
    --vaadin-user-color-3: #ad6200;
    --vaadin-user-color-4: #bf16f3;
    --vaadin-user-color-5: #084391;
    --vaadin-user-color-6: #078836;
  }

  [theme~='dark'] {
    --vaadin-user-color-0: #ff66c7;
    --vaadin-user-color-1: #9d8aff;
    --vaadin-user-color-2: #8aff66;
    --vaadin-user-color-3: #ffbd66;
    --vaadin-user-color-4: #dc6bff;
    --vaadin-user-color-5: #66fffa;
    --vaadin-user-color-6: #e6ff66;
  }
`;addLumoGlobalStyles("user-color-props",userColors);/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-field-outline",css$e`
    :host {
      transition: opacity 0.3s;
      -webkit-mask-image: none !important;
      mask-image: none !important;
    }

    :host::before {
      content: '';
      position: absolute;
      inset: 0;
      box-shadow: 0 0 0 2px var(--_active-user-color);
      border-radius: var(--lumo-border-radius-s);
      transition: box-shadow 0.3s;
    }

    :host([context$='checkbox'])::before {
      box-shadow: 0 0 0 2px var(--lumo-base-color), 0 0 0 4px var(--_active-user-color);
    }

    :host([context$='radio-button'])::before {
      border-radius: 50%;
      box-shadow: 0 0 0 3px var(--lumo-base-color), 0 0 0 5px var(--_active-user-color);
    }

    :host([context$='item'])::before {
      box-shadow: inset 0 0 0 2px var(--_active-user-color);
    }
  `,{moduleId:"lumo-field-outline"});/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-user-tags-overlay",[overlay,css$e`
      [part='overlay'] {
        will-change: opacity, transform;
      }

      :host([opening]) [part='overlay'] {
        animation: 0.1s lumo-user-tags-enter ease-out both;
      }

      @keyframes lumo-user-tags-enter {
        0% {
          opacity: 0;
        }
      }

      :host([closing]) [part='overlay'] {
        animation: 0.1s lumo-user-tags-exit both;
      }

      @keyframes lumo-user-tags-exit {
        100% {
          opacity: 0;
        }
      }
    `],{moduleId:"lumo-user-tags-overlay"});registerStyles$1("vaadin-user-tag",css$e`
    :host {
      font-family: var(--lumo-font-family);
      font-size: var(--lumo-font-size-xxs);
      border-radius: var(--lumo-border-radius-s);
      box-shadow: var(--lumo-box-shadow-xs);
      --vaadin-user-tag-offset: var(--lumo-space-xs);
    }

    [part='name'] {
      color: var(--lumo-primary-contrast-color);
      padding: 0.3em calc(0.3em + var(--lumo-border-radius-s) / 4);
      line-height: 1;
      font-weight: 500;
      min-width: calc(var(--lumo-line-height-xs) * 1em + 0.45em);
    }
  `,{moduleId:"lumo-user-tag"});/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class UserTag extends ThemableMixin(DirMixin(PolymerElement)){static get is(){return"vaadin-user-tag"}static get template(){return html`
      <style>
        :host {
          display: block;
          box-sizing: border-box;
          margin: 0 0 var(--vaadin-user-tag-offset);
          opacity: 0;
          height: 1.3rem;
          transition: opacity 0.2s ease-in-out;
          background-color: var(--vaadin-user-tag-color);
          color: #fff;
          cursor: default;
          -webkit-user-select: none;
          user-select: none;
          --vaadin-user-tag-offset: 4px;
        }

        :host(.show) {
          opacity: 1;
        }

        :host(:last-of-type) {
          margin-bottom: 0;
        }

        [part='name'] {
          overflow: hidden;
          white-space: nowrap;
          text-overflow: ellipsis;
          box-sizing: border-box;
          padding: 2px 4px;
          height: 1.3rem;
          font-size: 13px;
        }
      </style>
      <div part="name">[[name]]</div>
    `}static get properties(){return{name:{type:String},uid:{type:String},colorIndex:{type:Number,observer:"_colorIndexChanged"}}}ready(){super.ready(),this.addEventListener("mousedown",this._onClick.bind(this),!0)}_colorIndexChanged(i){i!=null&&this.style.setProperty("--vaadin-user-tag-color",`var(--vaadin-user-color-${i})`)}_onClick(i){i.preventDefault(),this.dispatchEvent(new CustomEvent("user-tag-click",{bubbles:!0,composed:!0,detail:{name:this.name}}))}}defineCustomElement(UserTag);/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const userTagsOverlayStyles=css$e`
  :host {
    background: transparent;
    box-shadow: none;
  }

  [part='overlay'] {
    box-shadow: none;
    background: transparent;
    position: relative;
    left: -4px;
    padding: 4px;
    outline: none;
    overflow: visible;
  }

  ::slotted([part='tags']) {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
  }

  :host([dir='rtl']) [part='overlay'] {
    left: auto;
    right: -4px;
  }

  [part='content'] {
    padding: 0;
  }

  :host([opening]),
  :host([closing]) {
    animation: 0.14s user-tags-overlay-dummy-animation;
  }

  @keyframes user-tags-overlay-dummy-animation {
    0% {
      opacity: 1;
    }

    100% {
      opacity: 1;
    }
  }
`;registerStyles$1("vaadin-user-tags-overlay",[overlayStyles,userTagsOverlayStyles]);class UserTagsOverlay extends PositionMixin(OverlayMixin(DirMixin(ThemableMixin(PolymerElement)))){static get is(){return"vaadin-user-tags-overlay"}static get template(){return html`
      <div id="backdrop" part="backdrop" hidden$="[[!withBackdrop]]"></div>
      <div part="overlay" id="overlay">
        <div part="content" id="content">
          <slot></slot>
        </div>
      </div>
    `}}defineCustomElement(UserTagsOverlay);/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function newSplice(n,i,t){return{index:n,removed:i,addedCount:t}}const EDIT_LEAVE=0,EDIT_UPDATE=1,EDIT_ADD=2,EDIT_DELETE=3;function calcEditDistances(n,i,t,r,o,a){let s=a-o+1,l=t-i+1,c=new Array(s);for(let h=0;h<s;h++)c[h]=new Array(l),c[h][0]=h;for(let h=0;h<l;h++)c[0][h]=h;for(let h=1;h<s;h++)for(let u=1;u<l;u++)if(equals$3(n[i+u-1],r[o+h-1]))c[h][u]=c[h-1][u-1];else{let d=c[h-1][u]+1,f=c[h][u-1]+1;c[h][u]=d<f?d:f}return c}function spliceOperationsFromEditDistances(n){let i=n.length-1,t=n[0].length-1,r=n[i][t],o=[];for(;i>0||t>0;){if(i==0){o.push(EDIT_ADD),t--;continue}if(t==0){o.push(EDIT_DELETE),i--;continue}let a=n[i-1][t-1],s=n[i-1][t],l=n[i][t-1],c;s<l?c=s<a?s:a:c=l<a?l:a,c==a?(a==r?o.push(EDIT_LEAVE):(o.push(EDIT_UPDATE),r=a),i--,t--):c==s?(o.push(EDIT_DELETE),i--,r=s):(o.push(EDIT_ADD),t--,r=l)}return o.reverse(),o}function calcSplices(n,i,t,r,o,a){let s=0,l=0,c,h=Math.min(t-i,a-o);if(i==0&&o==0&&(s=sharedPrefix(n,r,h)),t==n.length&&a==r.length&&(l=sharedSuffix(n,r,h-s)),i+=s,o+=s,t-=l,a-=l,t-i==0&&a-o==0)return[];if(i==t){for(c=newSplice(i,[],0);o<a;)c.removed.push(r[o++]);return[c]}else if(o==a)return[newSplice(i,[],t-i)];let u=spliceOperationsFromEditDistances(calcEditDistances(n,i,t,r,o,a));c=void 0;let d=[],f=i,p=o;for(let m=0;m<u.length;m++)switch(u[m]){case EDIT_LEAVE:c&&(d.push(c),c=void 0),f++,p++;break;case EDIT_UPDATE:c||(c=newSplice(f,[],0)),c.addedCount++,f++,c.removed.push(r[p]),p++;break;case EDIT_ADD:c||(c=newSplice(f,[],0)),c.addedCount++,f++;break;case EDIT_DELETE:c||(c=newSplice(f,[],0)),c.removed.push(r[p]),p++;break}return c&&d.push(c),d}function sharedPrefix(n,i,t){for(let r=0;r<t;r++)if(!equals$3(n[r],i[r]))return r;return t}function sharedSuffix(n,i,t){let r=n.length,o=i.length,a=0;for(;a<t&&equals$3(n[--r],i[--o]);)a++;return a}function calculateSplices(n,i){return calcSplices(n,0,n.length,i,0,i.length)}function equals$3(n,i){return n===i}/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const listenOnce$1=(n,i)=>new Promise(t=>{const r=()=>{n.removeEventListener(i,r),t()};n.addEventListener(i,r)});class UserTags extends PolymerElement{static get is(){return"vaadin-user-tags"}static get template(){return html`
      <style>
        :host {
          position: absolute;
        }
      </style>
      <vaadin-user-tags-overlay
        id="overlay"
        modeless
        opened="[[opened]]"
        no-vertical-overlap
        on-vaadin-overlay-open="_onOverlayOpen"
      ></vaadin-user-tags-overlay>
    `}static get properties(){return{hasFocus:{type:Boolean,value:!1,observer:"_hasFocusChanged"},opened:{type:Boolean,value:!1},flashing:{type:Boolean,value:!1},target:{type:Object,observer:"__targetChanged"},users:{type:Array,value:()=>[]},duration:{type:Number,value:200},delay:{type:Number,value:2e3},__flashQueue:{type:Array,value:()=>[]},__isTargetVisible:{type:Boolean,value:!1}}}constructor(){super(),this.__targetVisibilityObserver=new IntersectionObserver(([i])=>{this.__onTargetVisibilityChange(i.isIntersecting)},{threshold:1})}get wrapper(){return this.$.overlay.querySelector('[part="tags"]')}connectedCallback(){super.connectedCallback(),this.target&&this.__targetVisibilityObserver.observe(this.target)}disconnectedCallback(){super.disconnectedCallback(),this.opened=!1,this.target&&this.__targetVisibilityObserver.unobserve(this.target)}ready(){super.ready(),this.$.overlay.renderer=i=>{if(!i.firstChild){const t=document.createElement("div");t.setAttribute("part","tags"),i.appendChild(t)}},this.$.overlay.requestContentUpdate()}__onTargetVisibilityChange(i){if(this.__isTargetVisible=i,i&&this.__flashQueue.length>0&&!this.flashing){this.flashTags(this.__flashQueue.shift());return}if(i&&this.hasFocus){this.opened=!0;return}!i&&this.opened&&(this.opened=!1)}__targetChanged(i,t){this.$.overlay.positionTarget=i,t&&this.__targetVisibilityObserver.unobserve(t),i&&this.__targetVisibilityObserver.observe(i)}_hasFocusChanged(i){i&&this.flashing&&this.stopFlash()}createUserTag(i){const t=document.createElement("vaadin-user-tag");return t.name=i.name,t.uid=i.id,t.colorIndex=i.colorIndex,t}getTagForUser(i){return Array.from(this.wrapper.children).find(t=>t.uid===i.id)}getChangedTags(i,t){const r=t.map(a=>this.getTagForUser(a));return{added:i.map(a=>this.getTagForUser(a)||this.createUserTag(a)),removed:r}}getChangedUsers(i,t){const r=[],o=[];t.forEach(l=>{l.removed.forEach(c=>{o.push(c)});for(let c=l.addedCount-1;c>=0;c--)r.push(i[l.index+c])});const a=r.filter(l=>!o.some(c=>l.id===c.id)),s=o.filter(l=>!r.some(c=>l.id===c.id));return{addedUsers:a,removedUsers:s}}applyTagsStart({added:i,removed:t}){const r=this.wrapper;t.forEach(o=>{o&&(o.classList.add("removing"),o.classList.remove("show"))}),i.forEach(o=>r.insertBefore(o,r.firstChild))}applyTagsEnd({added:i,removed:t}){const r=this.wrapper;t.forEach(o=>{o&&o.parentNode===r&&r.removeChild(o)}),i.forEach(o=>o&&o.classList.add("show"))}setUsers(i){this.requestContentUpdate();const t=calculateSplices(i,this.users);if(t.length===0)return;const{addedUsers:r,removedUsers:o}=this.getChangedUsers(i,t);if(r.length===0&&o.length===0)return;const a=this.getChangedTags(r,o);if(this.__flashQueue.length>0&&o.forEach((s,l)=>{a.removed[l]!==null&&this.__flashQueue.forEach(c=>{c.some(h=>h.uid===s.id)&&this.splice("__flashQueue",l,1)})}),this.opened&&this.hasFocus)this.updateTags(i,a);else if(r.length>0&&document.visibilityState!=="hidden"){const s=a.added,l=a.removed;this.updateTagsSync(i,{added:[],removed:l}),this.flashing||!this.__isTargetVisible?this.push("__flashQueue",s):this.flashTags(s)}else this.updateTagsSync(i,a)}_onOverlayOpen(){Array.from(this.wrapper.children).forEach(i=>{i.classList.contains("removing")||i.classList.add("show")})}flashTags(i){this.flashing=!0;const t=this.wrapper,r=Array.from(t.children);r.forEach(o=>{o.style.display="none"}),i.forEach(o=>{t.insertBefore(o,t.firstChild)}),this.flashPromise=new Promise(o=>{listenOnce$1(this.$.overlay,"vaadin-overlay-open").then(()=>{this._debounceFlashStart=Debouncer$1.debounce(this._debounceFlashStart,timeOut.after(this.duration+this.delay),()=>{this.hasFocus||i.forEach(a=>a.classList.remove("show")),this._debounceFlashEnd=Debouncer$1.debounce(this._debounceFlashEnd,timeOut.after(this.duration),()=>{const a=()=>{r.forEach(s=>{s.style.display="block"}),this.flashing=!1,o()};this.hasFocus?a():(listenOnce$1(this.$.overlay,"animationend").then(()=>{a()}),this.opened=!1)})})})}).then(()=>{if(this.__flashQueue.length>0){const o=this.__flashQueue[0];this.splice("__flashQueue",0,1),this.flashTags(o)}}),this.opened=!0}stopFlash(){this._debounceFlashStart&&this._debounceFlashStart.flush(),this._debounceFlashEnd&&this._debounceFlashEnd.flush(),this.$.overlay._flushAnimation("closing")}updateTags(i,t){this.applyTagsStart(t),this._debounceRender=Debouncer$1.debounce(this._debounceRender,timeOut.after(this.duration),()=>{this.set("users",i),this.applyTagsEnd(t),i.length===0&&this.opened&&(this.opened=!1)})}updateTagsSync(i,t){this.applyTagsStart(t),this.set("users",i),this.applyTagsEnd(t)}show(){this.hasFocus=!0,this.__isTargetVisible&&(this.opened=!0)}hide(){this.hasFocus=!1,this.opened=!1}requestContentUpdate(){this._debounceRender&&this._debounceRender.isActive()&&this._debounceRender.flush()}}defineCustomElement(UserTags);/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class FieldOutline extends ThemableMixin(DirMixin(PolymerElement)){static get is(){return"vaadin-field-outline"}static get template(){return html`
      <style>
        :host {
          display: block;
          box-sizing: border-box;
          position: absolute;
          inset: 0;
          width: 100%;
          height: 100%;
          pointer-events: none;
          user-select: none;
          opacity: 0;
          --_active-user-color: transparent;
        }

        :host([has-active-user]) {
          opacity: 1;
        }
      </style>
    `}static get properties(){return{user:{type:Object,value:null,observer:"_userChanged"}}}ready(){super.ready(),this.setAttribute("part","outline"),this._field=this.getRootNode().host}_userChanged(i){this.toggleAttribute("has-active-user",!!i);const t=i?`var(--vaadin-user-color-${i.colorIndex})`:"transparent",r="--_active-user-color";this.style.setProperty(r,t),this._field&&this._field.style.setProperty(r,t)}}defineCustomElement(FieldOutline);/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const getOutlineTarget=(n,i)=>{switch(i){case"vaadin-big-decimal-field":case"vaadin-combo-box":case"vaadin-date-picker":case"vaadin-email-field":case"vaadin-integer-field":case"vaadin-number-field":case"vaadin-password-field":case"vaadin-select":case"vaadin-text-area":case"vaadin-text-field":case"vaadin-time-picker":return n.shadowRoot.querySelector('[part="input-field"]');case"vaadin-checkbox":return n.shadowRoot.querySelector('[part="checkbox"]');case"vaadin-radio-button":return n.shadowRoot.querySelector('[part="radio"]');default:return n}},fields=new WeakMap,initOutline=n=>{if(!fields.has(n)){const i=n.tagName.toLowerCase(),t=getOutlineTarget(n,i);t.style.position="relative",i.endsWith("text-area")&&(t.style.overflow="visible");const r=document.createElement("style");r.textContent=`
      :host([active]) [part="outline"],
      :host([focus-ring]) [part="outline"] {
        display: none;
      }
    `,n.shadowRoot.appendChild(r);const o=document.createElement("vaadin-field-outline");(t===n?n.shadowRoot:t).appendChild(o),o.setAttribute("context",i),fields.set(n,{root:n,target:t,outline:o})}return fields.get(n)};/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class ComponentObserver{constructor(i){this.component=i,this.initTags(i)}getFields(){return[this.component]}getFieldIndex(i){return this.getFields().indexOf(i)}getFocusTarget(i){return this.component}initTags(i){const t=document.createElement("vaadin-user-tags");i.shadowRoot.appendChild(t),t.target=i,this._tags=t,i.addEventListener("mouseenter",r=>{r.relatedTarget!==this._tags.$.overlay&&(this._mouse=!0,this._mouseDebouncer=Debouncer$1.debounce(this._mouseDebouncer,timeOut.after(200),()=>{this._mouse&&this._tags.show()}))}),i.addEventListener("mouseleave",r=>{r.relatedTarget!==this._tags.$.overlay&&(this._mouse=!1,this._hasFocus||this._tags.hide())}),i.addEventListener("vaadin-highlight-show",r=>{this._hasFocus=!0,this._debouncer&&this._debouncer.isActive()?this._debouncer.cancel():this._tags.show()}),i.addEventListener("vaadin-highlight-hide",r=>{this._hasFocus=!1,this._mouse||(this._debouncer=Debouncer$1.debounce(this._debouncer,timeOut.after(1),()=>{this._tags.hide()}))}),this._tags.$.overlay.addEventListener("mouseleave",r=>{r.relatedTarget!==i&&(this._mouse=!1,i.hasAttribute("focused")||this._tags.hide())})}setOutlines(i){const t=this.getFields();t.forEach((r,o)=>{const{outline:a}=initOutline(r),s=t.length===1?0:i.map(l=>l.fieldIndex).indexOf(o);a.user=i[s]})}showOutline(i){this.fire("show",i)}hideOutline(i){this.fire("hide",i)}fire(i,t){this.component.dispatchEvent(new CustomEvent(`vaadin-highlight-${i}`,{bubbles:!0,composed:!0,detail:{fieldIndex:this.getFieldIndex(t)}}))}redraw(i){this._tags.setUsers(i),this.setOutlines(i)}}/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class FieldObserver extends ComponentObserver{constructor(i){super(i),this.addListeners(i)}addListeners(i){i.addEventListener("focusin",t=>this.onFocusIn(t)),i.addEventListener("focusout",t=>this.onFocusOut(t))}onFocusIn(i){const t=this.getFocusTarget(i);this.showOutline(t)}onFocusOut(i){const t=this.getFocusTarget(i);this.hideOutline(t)}}/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class CheckboxGroupObserver extends FieldObserver{getFields(){return this.component.__checkboxes}getFocusTarget(i){const t=this.getFields();return Array.from(i.composedPath()).find(r=>t.includes(r))}}/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class DatePickerObserver extends ComponentObserver{constructor(i){super(i),this.datePicker=i,this.fullscreenFocus=!1,this.blurWhileOpened=!1,this.addListeners(i)}addListeners(i){this.overlay=i.$.overlay,i.addEventListener("blur",t=>this.onBlur(t),!0),i.addEventListener("opened-changed",t=>this.onOpenedChanged(t)),this.overlay.addEventListener("focusout",t=>this.onOverlayFocusOut(t)),i.addEventListener("focusin",t=>this.onFocusIn(t)),i.addEventListener("focusout",t=>this.onFocusOut(t))}isEventInOverlay(i){return this.datePicker._overlayContent&&this.datePicker._overlayContent.contains(i)}onBlur(i){this.datePicker._fullscreen&&!this.isEventInOverlay(i.relatedTarget)&&(this.fullscreenFocus=!0)}onFocusIn(i){if(!this.isEventInOverlay(i.relatedTarget)){if(this.blurWhileOpened){this.blurWhileOpened=!1;return}this.showOutline(this.datePicker)}}onFocusOut(i){this.fullscreenFocus||this.isEventInOverlay(i.relatedTarget)||(this.datePicker.opened?this.blurWhileOpened=!0:this.hideOutline(this.datePicker))}onOverlayFocusOut(i){this.datePicker.contains(i.relatedTarget)||(this.blurWhileOpened=!0)}onOpenedChanged(i){i.detail.value===!0&&this.fullscreenFocus&&(this.fullscreenFocus=!1,this.showOutline(this.datePicker)),i.detail.value===!1&&this.blurWhileOpened&&(this.blurWhileOpened=!1,this.hideOutline(this.datePicker))}}/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class DateObserver extends DatePickerObserver{constructor(i,t){super(i),this.component=t}getFieldIndex(){return 0}}class TimeObserver extends FieldObserver{constructor(i,t){super(i),this.component=t,this.timePicker=i}getFocusTarget(i){return this.timePicker}getFieldIndex(){return 1}}class DateTimePickerObserver extends ComponentObserver{constructor(i){super(i);const[t,r]=this.getFields();this.dateObserver=new DateObserver(t,i),this.timeObserver=new TimeObserver(r,i)}getFields(){return this.component.__inputs}}/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class ListBoxObserver extends FieldObserver{getFields(){return this.component.items||[]}getFocusTarget(i){const t=this.getFields();return Array.from(i.composedPath()).find(r=>t.includes(r))}}/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class RadioGroupObserver extends FieldObserver{getFields(){return this.component.__radioButtons}getFocusTarget(i){const t=this.getFields();return Array.from(i.composedPath()).find(r=>t.includes(r))}}/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class SelectObserver extends FieldObserver{constructor(i){super(i),this.blurWhileOpened=!1,this.overlay=i._overlayElement}addListeners(i){super.addListeners(i),i.addEventListener("opened-changed",t=>{i._phone&&t.detail.value===!1&&this.hideOutline(i)})}onFocusIn(i){this.overlay.contains(i.relatedTarget)||!this.component._phone&&this.overlay.hasAttribute("closing")||super.onFocusIn(i)}onFocusOut(i){this.overlay.contains(i.relatedTarget)||super.onFocusOut(i)}}/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const initFieldObserver=n=>{let i;switch(n.tagName.toLowerCase()){case"vaadin-date-picker":i=new DatePickerObserver(n);break;case"vaadin-date-time-picker":i=new DateTimePickerObserver(n);break;case"vaadin-select":i=new SelectObserver(n);break;case"vaadin-checkbox-group":i=new CheckboxGroupObserver(n);break;case"vaadin-radio-group":i=new RadioGroupObserver(n);break;case"vaadin-list-box":i=new ListBoxObserver(n);break;default:i=new FieldObserver(n)}return i};class FieldHighlighterController{constructor(i){this.host=i,this.user=null,this.users=[]}get user(){return this._user}set user(i){if(this._user=i,i){const t=`${i.name} started editing`,{label:r}=this.host;announce(r?`${t} ${r}`:t)}}hostConnected(){this.redraw()}addUser(i){i&&(this.users.push(i),this.redraw(),this.user=i)}setUsers(i){Array.isArray(i)&&(this.users=i,this.redraw(),this.user=i[i.length-1]||null)}removeUser(i){if(i&&i.id!==void 0){let t;for(let r=0;r<this.users.length;r++)if(this.users[r].id===i.id){t=r;break}t!==void 0&&(this.users.splice(t,1),this.redraw(),this.users.length>0?this.user=this.users[this.users.length-1]:this.user=null)}}redraw(){this.observer.redraw([...this.users].reverse())}}class FieldHighlighter extends HTMLElement{static get is(){return"vaadin-field-highlighter"}static init(i){if(!i._highlighterController){const t=new FieldHighlighterController(i);i.setAttribute("has-highlighter",""),t.observer=initFieldObserver(i),i.addController(t),i._highlighterController=t}return i._highlighterController}static addUser(i,t){this.init(i).addUser(t)}static removeUser(i,t){this.init(i).removeUser(t)}static setUsers(i,t){this.init(i).setUsers(t)}}defineCustomElement(FieldHighlighter);const accordionHeading$1=css$e`
  :host {
    padding: 0;
  }

  [part='content'] {
    padding: var(--lumo-space-s) 0;
  }

  :host([theme~='filled']) {
    padding-top: 0;
    padding-bottom: 0;
  }
`;registerStyles$1("vaadin-accordion-heading",[detailsSummary,accordionHeading$1],{moduleId:"lumo-accordion-heading"});/**
 * @license
 * Copyright (c) 2019 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const accordionHeading=css$e`
  :host {
    display: block;
    outline: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }

  :host([hidden]) {
    display: none !important;
  }

  button {
    display: flex;
    align-items: center;
    justify-content: inherit;
    width: 100%;
    margin: 0;
    padding: 0;
    background-color: initial;
    color: inherit;
    border: initial;
    outline: none;
    font: inherit;
    text-align: inherit;
  }
`;/**
 * @license
 * Copyright (c) 2019 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-accordion-heading",accordionHeading,{moduleId:"vaadin-accordion-heading-styles"});class AccordionHeading extends ActiveMixin(DirMixin(ThemableMixin(PolymerElement))){static get is(){return"vaadin-accordion-heading"}static get template(){return html`
      <button id="button" part="content" disabled$="[[disabled]]" aria-expanded$="[[__updateAriaExpanded(opened)]]">
        <span part="toggle" aria-hidden="true"></span>
        <slot></slot>
      </button>
    `}static get properties(){return{opened:{type:Boolean,reflectToAttribute:!0}}}_attachDom(i){const t=this.attachShadow({mode:"open",delegatesFocus:!0});return t.appendChild(i),t}ready(){super.ready(),this.hasAttribute("role")||this.setAttribute("role","heading")}__updateAriaExpanded(i){return i?"true":"false"}}defineCustomElement(AccordionHeading);const accordionPanel$1=css$e`
  :host {
    margin: 0;
    border-bottom: solid 1px var(--lumo-contrast-10pct);
  }

  :host(:last-child) {
    border-bottom: none;
  }

  :host([theme~='filled']) {
    border-bottom: none;
  }

  :host([theme~='filled']:not(:last-child)) {
    margin-bottom: 2px;
  }
`;registerStyles$1("vaadin-accordion-panel",[details,accordionPanel$1],{moduleId:"lumo-accordion-panel"});/**
 * @license
 * Copyright (c) 2019 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const accordionPanel=css$e`
  :host {
    display: block;
  }

  :host([hidden]) {
    display: none !important;
  }

  [part='content'] {
    display: none;
    overflow: hidden;
  }

  :host([opened]) [part='content'] {
    display: block;
    overflow: visible;
  }
`;/**
 * @license
 * Copyright (c) 2019 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-accordion-panel",accordionPanel,{moduleId:"vaadin-accordion-panel-styles"});class AccordionPanel extends CollapsibleMixin(DelegateFocusMixin(DelegateStateMixin(ThemableMixin(ControllerMixin(PolymerElement))))){static get is(){return"vaadin-accordion-panel"}static get template(){return html`
      <slot name="summary"></slot>

      <div part="content">
        <slot></slot>
      </div>

      <slot name="tooltip"></slot>
    `}static get properties(){return{summary:{type:String,observer:"_summaryChanged"}}}static get observers(){return["__updateAriaAttributes(focusElement, _contentElements)"]}static get delegateAttrs(){return["theme"]}static get delegateProps(){return["disabled","opened"]}constructor(){super(),this._summaryController=new SummaryController(this,"vaadin-accordion-heading"),this._summaryController.addEventListener("slot-content-changed",i=>{const{node:t}=i.target;this._setFocusElement(t),this.stateTarget=t,this._tooltipController.setTarget(t)}),this._tooltipController=new TooltipController(this),this._tooltipController.setPosition("bottom-start")}ready(){super.ready(),this.addController(this._summaryController),this.addController(this._tooltipController)}_setAriaDisabled(){}_summaryChanged(i){this._summaryController.setSummary(i)}__updateAriaAttributes(i,t){if(i&&t){const r=t[0];r&&(r.setAttribute("role","region"),r.setAttribute("aria-labelledby",i.id)),r&&r.id?i.setAttribute("aria-controls",r.id):i.removeAttribute("aria-controls")}}}defineCustomElement(AccordionPanel);/**
 * @license
 * Copyright (c) 2019 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Accordion extends KeyboardDirectionMixin(ThemableMixin(ElementMixin(PolymerElement))){static get template(){return html`
      <style>
        :host {
          display: block;
        }

        :host([hidden]) {
          display: none !important;
        }
      </style>
      <slot></slot>
    `}static get is(){return"vaadin-accordion"}static get properties(){return{opened:{type:Number,value:0,notify:!0,reflectToAttribute:!0},items:{type:Array,readOnly:!0,notify:!0}}}static get observers(){return["_updateItems(items, opened)"]}constructor(){super(),this._boundUpdateOpened=this._updateOpened.bind(this)}get focused(){return(this._getItems()||[]).find(i=>isElementFocused(i.focusElement))}focus(){this._observer&&this._observer.flush(),super.focus()}ready(){super.ready();const i=this.shadowRoot.querySelector("slot");this._observer=new SlotObserver(i,t=>{this._setItems(this._filterItems(Array.from(this.children))),this._filterItems(t.addedNodes).forEach(r=>{r.addEventListener("opened-changed",this._boundUpdateOpened)})})}_getItems(){return this.items}_filterItems(i){return i.filter(t=>t instanceof AccordionPanel)}_updateItems(i,t){if(i){const r=i[t];i.forEach(o=>{o.opened=o===r})}}_onKeyDown(i){this.items.some(t=>t.focusElement===i.target)&&super._onKeyDown(i)}_updateOpened(i){const t=this._filterItems(i.composedPath())[0],r=this.items.indexOf(t);if(i.detail.value){if(t.disabled||r===-1)return;this.opened=r}else this.items.some(o=>o.opened)||(this.opened=null)}}defineCustomElement(Accordion);function disableOnClickListener({currentTarget:n}){n.disabled=n.hasAttribute("disableOnClick")}window.Vaadin.Flow.button={initDisableOnClick:n=>{n.__hasDisableOnClickListener||(n.addEventListener("click",disableOnClickListener),n.__hasDisableOnClickListener=!0)}};const drawerToggle=css$e`
  :host {
    width: var(--lumo-size-l);
    height: var(--lumo-size-l);
    min-width: auto;
    margin: 0 var(--lumo-space-s);
    padding: 0;
    background: transparent;
  }

  [part='icon'],
  [part='icon']::after,
  [part='icon']::before {
    position: inherit;
    height: auto;
    width: auto;
    background: transparent;
    top: auto;
  }

  [part='icon']::before {
    font-family: lumo-icons;
    font-size: var(--lumo-icon-size-m);
    content: var(--lumo-icons-menu);
  }

  :host([slot~='navbar']) {
    color: var(--lumo-secondary-text-color);
  }
`;registerStyles$1("vaadin-drawer-toggle",[button,drawerToggle],{moduleId:"lumo-drawer-toggle"});/**
 * @license
 * Copyright (c) 2018 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-drawer-toggle",css$e`
    :host {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      cursor: default;
      position: relative;
      outline: none;
      height: 24px;
      width: 24px;
      padding: 4px;
    }

    [part='icon'],
    [part='icon']::after,
    [part='icon']::before {
      position: absolute;
      top: 8px;
      height: 3px;
      width: 24px;
      background-color: #000;
    }

    [part='icon']::after,
    [part='icon']::before {
      content: '';
    }

    [part='icon']::after {
      top: 6px;
    }

    [part='icon']::before {
      top: 12px;
    }
  `,{moduleId:"vaadin-drawer-toggle-styles"});class DrawerToggle extends Button{static get template(){return html`
      <slot id="slot">
        <div part="icon"></div>
      </slot>
      <div part="icon" hidden$="[[!_showFallbackIcon]]"></div>
      <slot name="tooltip"></slot>
    `}static get is(){return"vaadin-drawer-toggle"}static get properties(){return{ariaLabel:{type:String,value:"Toggle navigation panel",reflectToAttribute:!0},_showFallbackIcon:{type:Boolean,value:!1}}}constructor(){super(),this.addEventListener("click",()=>{this.dispatchEvent(new CustomEvent("drawer-toggle-click",{bubbles:!0,composed:!0}))})}ready(){super.ready(),this._toggleFallbackIcon(),this.$.slot.addEventListener("slotchange",()=>{this._toggleFallbackIcon()})}_toggleFallbackIcon(){const i=this.$.slot.assignedNodes();this._showFallbackIcon=i.length>0&&i.every(t=>isEmptyTextNode(t))}}defineCustomElement(DrawerToggle);const tooltipOverlay=css$e`
  :host {
    --vaadin-tooltip-offset-top: var(--lumo-space-xs);
    --vaadin-tooltip-offset-bottom: var(--lumo-space-xs);
    --vaadin-tooltip-offset-start: var(--lumo-space-xs);
    --vaadin-tooltip-offset-end: var(--lumo-space-xs);
  }

  [part='overlay'] {
    background: var(--lumo-base-color) linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct));
    color: var(--lumo-body-text-color);
    font-size: var(--lumo-font-size-xs);
    line-height: var(--lumo-line-height-s);
  }

  [part='content'] {
    padding: var(--lumo-space-xs) var(--lumo-space-s);
  }
`;registerStyles$1("vaadin-tooltip-overlay",[overlay,tooltipOverlay],{moduleId:"lumo-tooltip-overlay"});/**
 * @license
 * Copyright (c) 2022 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const TooltipOverlayMixin=n=>class extends PositionMixin(OverlayMixin(n)){static get properties(){return{position:{type:String,reflectToAttribute:!0}}}requestContentUpdate(){if(super.requestContentUpdate(),this.toggleAttribute("hidden",this.textContent.trim()===""),this.positionTarget&&this.owner){const t=getComputedStyle(this.owner);["top","bottom","start","end"].forEach(r=>{this.style.setProperty(`--vaadin-tooltip-offset-${r}`,t.getPropertyValue(`--vaadin-tooltip-offset-${r}`))})}}_updatePosition(){if(super._updatePosition(),!!this.positionTarget){if(this.position==="bottom"||this.position==="top"){const t=this.positionTarget.getBoundingClientRect(),r=this.$.overlay.getBoundingClientRect(),o=t.width/2-r.width/2;if(this.style.left){const a=r.left+o;a>0&&(this.style.left=`${a}px`)}if(this.style.right){const a=parseFloat(this.style.right)+o;a>0&&(this.style.right=`${a}px`)}}if(this.position==="start"||this.position==="end"){const t=this.positionTarget.getBoundingClientRect(),r=this.$.overlay.getBoundingClientRect(),o=t.height/2-r.height/2;this.style.top=`${r.top+o}px`}}}};/**
 * @license
 * Copyright (c) 2022 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const tooltipOverlayStyles=css$e`
  :host {
    z-index: 1100;
  }

  [part='overlay'] {
    max-width: 40ch;
  }

  :host([position^='top'][top-aligned]) [part='overlay'],
  :host([position^='bottom'][top-aligned]) [part='overlay'] {
    margin-top: var(--vaadin-tooltip-offset-top, 0);
  }

  :host([position^='top'][bottom-aligned]) [part='overlay'],
  :host([position^='bottom'][bottom-aligned]) [part='overlay'] {
    margin-bottom: var(--vaadin-tooltip-offset-bottom, 0);
  }

  :host([position^='start'][start-aligned]) [part='overlay'],
  :host([position^='end'][start-aligned]) [part='overlay'] {
    margin-inline-start: var(--vaadin-tooltip-offset-start, 0);
  }

  :host([position^='start'][end-aligned]) [part='overlay'],
  :host([position^='end'][end-aligned]) [part='overlay'] {
    margin-inline-end: var(--vaadin-tooltip-offset-end, 0);
  }

  @media (forced-colors: active) {
    [part='overlay'] {
      outline: 1px dashed;
    }
  }
`;/**
 * @license
 * Copyright (c) 2022 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-tooltip-overlay",[overlayStyles,tooltipOverlayStyles],{moduleId:"vaadin-tooltip-overlay-styles"});class TooltipOverlay extends TooltipOverlayMixin(DirMixin(ThemableMixin(PolymerElement))){static get is(){return"vaadin-tooltip-overlay"}static get template(){return html`
      <div id="backdrop" part="backdrop" hidden></div>
      <div part="overlay" id="overlay">
        <div part="content" id="content"><slot></slot></div>
      </div>
    `}ready(){super.ready(),this.owner=this.__dataHost,this.owner._overlayElement=this}}defineCustomElement(TooltipOverlay);/**
 * @license
 * Copyright (c) 2022 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const DEFAULT_DELAY=500;let defaultFocusDelay$1=DEFAULT_DELAY,defaultHoverDelay$1=DEFAULT_DELAY,defaultHideDelay$1=DEFAULT_DELAY;const closing=new Set;let warmedUp=!1,warmUpTimeout=null,cooldownTimeout=null;class TooltipStateController{constructor(i){this.host=i}get openedProp(){return this.host.manual?"opened":"_autoOpened"}get focusDelay(){const i=this.host;return i.focusDelay!=null&&i.focusDelay>0?i.focusDelay:defaultFocusDelay$1}get hoverDelay(){const i=this.host;return i.hoverDelay!=null&&i.hoverDelay>0?i.hoverDelay:defaultHoverDelay$1}get hideDelay(){const i=this.host;return i.hideDelay!=null&&i.hideDelay>0?i.hideDelay:defaultHideDelay$1}get isClosing(){return closing.has(this.host)}open(i={immediate:!1}){const{immediate:t,hover:r,focus:o}=i,a=r&&this.hoverDelay>0,s=o&&this.focusDelay>0;!t&&(a||s)&&!this.__closeTimeout?this.__warmupTooltip(s):this.__showTooltip()}close(i){!i&&this.hideDelay>0?this.__scheduleClose():(this.__abortClose(),this._setOpened(!1)),this.__abortWarmUp(),warmedUp&&(this.__abortCooldown(),this.__scheduleCooldown())}_isOpened(){return this.host[this.openedProp]}_setOpened(i){this.host[this.openedProp]=i}__flushClosingTooltips(){closing.forEach(i=>{i._stateController.close(!0),closing.delete(i)})}__showTooltip(){this.__abortClose(),this.__flushClosingTooltips(),this._setOpened(!0),warmedUp=!0,this.__abortWarmUp(),this.__abortCooldown()}__warmupTooltip(i){this._isOpened()||(warmedUp?this.__showTooltip():this.__scheduleWarmUp(i))}__abortClose(){this.__closeTimeout&&(clearTimeout(this.__closeTimeout),this.__closeTimeout=null)}__abortCooldown(){cooldownTimeout&&(clearTimeout(cooldownTimeout),cooldownTimeout=null)}__abortWarmUp(){warmUpTimeout&&(clearTimeout(warmUpTimeout),warmUpTimeout=null)}__scheduleClose(){this._isOpened()&&(closing.add(this.host),this.__closeTimeout=setTimeout(()=>{closing.delete(this.host),this.__closeTimeout=null,this._setOpened(!1)},this.hideDelay))}__scheduleCooldown(){cooldownTimeout=setTimeout(()=>{cooldownTimeout=null,warmedUp=!1},this.hideDelay)}__scheduleWarmUp(i){const t=i?this.focusDelay:this.hoverDelay;warmUpTimeout=setTimeout(()=>{warmUpTimeout=null,warmedUp=!0,this.__showTooltip()},t)}}const TooltipMixin=n=>class extends OverlayClassMixin(n){static get properties(){return{ariaTarget:{type:Object},context:{type:Object,value:()=>({})},focusDelay:{type:Number},for:{type:String,observer:"__forChanged"},generator:{type:Object},hideDelay:{type:Number},hoverDelay:{type:Number},manual:{type:Boolean,value:!1,sync:!0},opened:{type:Boolean,value:!1,sync:!0},position:{type:String},shouldShow:{type:Object,value:()=>(t,r)=>!0},target:{type:Object,observer:"__targetChanged"},text:{type:String,observer:"__textChanged"},_autoOpened:{type:Boolean,observer:"__autoOpenedChanged",sync:!0},_effectiveAriaTarget:{type:Object,computed:"__computeAriaTarget(ariaTarget, target)",observer:"__effectiveAriaTargetChanged"},__effectivePosition:{type:String,computed:"__computePosition(position, _position)"},__isTargetHidden:{type:Boolean,value:!1},_isConnected:{type:Boolean,sync:!0},_position:{type:String,value:"bottom"},_srLabel:{type:Object},_overlayContent:{type:String}}}static get observers(){return["__generatorChanged(_overlayElement, generator, context)","__updateSrLabelText(_srLabel, _overlayContent)"]}static setDefaultFocusDelay(t){defaultFocusDelay$1=t!=null&&t>=0?t:DEFAULT_DELAY}static setDefaultHideDelay(t){defaultHideDelay$1=t!=null&&t>=0?t:DEFAULT_DELAY}static setDefaultHoverDelay(t){defaultHoverDelay$1=t!=null&&t>=0?t:DEFAULT_DELAY}constructor(){super(),this._uniqueId=`vaadin-tooltip-${generateUniqueId()}`,this._renderer=this.__tooltipRenderer.bind(this),this.__onFocusin=this.__onFocusin.bind(this),this.__onFocusout=this.__onFocusout.bind(this),this.__onMouseDown=this.__onMouseDown.bind(this),this.__onMouseEnter=this.__onMouseEnter.bind(this),this.__onMouseLeave=this.__onMouseLeave.bind(this),this.__onKeyDown=this.__onKeyDown.bind(this),this.__onOverlayOpen=this.__onOverlayOpen.bind(this),this.__targetVisibilityObserver=new IntersectionObserver(t=>{t.forEach(r=>this.__onTargetVisibilityChange(r.isIntersecting))},{threshold:0}),this._stateController=new TooltipStateController(this)}connectedCallback(){super.connectedCallback(),this._isConnected=!0,document.body.addEventListener("vaadin-overlay-open",this.__onOverlayOpen)}disconnectedCallback(){super.disconnectedCallback(),this._autoOpened&&this._stateController.close(!0),this._isConnected=!1,document.body.removeEventListener("vaadin-overlay-open",this.__onOverlayOpen)}ready(){super.ready(),this._srLabelController=new SlotController(this,"sr-label","div",{initializer:t=>{t.id=this._uniqueId,t.setAttribute("role","tooltip"),this._srLabel=t}}),this.addController(this._srLabelController)}__computeHorizontalAlign(t){return["top-end","bottom-end","start-top","start","start-bottom"].includes(t)?"end":"start"}__computeNoHorizontalOverlap(t){return["start-top","start","start-bottom","end-top","end","end-bottom"].includes(t)}__computeNoVerticalOverlap(t){return["top-start","top-end","top","bottom-start","bottom","bottom-end"].includes(t)}__computeVerticalAlign(t){return["top-start","top-end","top","start-bottom","end-bottom"].includes(t)?"bottom":"top"}__computeOpened(t,r,o,a){return a&&(t?r:o)}__computePosition(t,r){return t||r}__autoOpenedChanged(t,r){t?document.addEventListener("keydown",this.__onKeyDown,!0):r&&document.removeEventListener("keydown",this.__onKeyDown,!0)}__forChanged(t){t&&(this.__setTargetByIdDebouncer=Debouncer$1.debounce(this.__setTargetByIdDebouncer,microTask,()=>this.__setTargetById(t)))}__setTargetById(t){if(!this.isConnected)return;const r=this.getRootNode().getElementById(t);r?this.target=r:console.warn(`No element with id="${t}" found to show tooltip.`)}__targetChanged(t,r){r&&(r.removeEventListener("mouseenter",this.__onMouseEnter),r.removeEventListener("mouseleave",this.__onMouseLeave),r.removeEventListener("focusin",this.__onFocusin),r.removeEventListener("focusout",this.__onFocusout),r.removeEventListener("mousedown",this.__onMouseDown),this.__targetVisibilityObserver.unobserve(r)),t&&(t.addEventListener("mouseenter",this.__onMouseEnter),t.addEventListener("mouseleave",this.__onMouseLeave),t.addEventListener("focusin",this.__onFocusin),t.addEventListener("focusout",this.__onFocusout),t.addEventListener("mousedown",this.__onMouseDown),requestAnimationFrame(()=>{this.__targetVisibilityObserver.observe(t)}))}__onFocusin(t){this.manual||isKeyboardActive()&&(this.target.contains(t.relatedTarget)||this.__isShouldShow()&&(this.__focusInside=!0,!this.__isTargetHidden&&(!this.__hoverInside||!this._autoOpened)&&this._stateController.open({focus:!0})))}__onFocusout(t){this.manual||this.target.contains(t.relatedTarget)||(this.__focusInside=!1,this.__hoverInside||this._stateController.close(!0))}__onKeyDown(t){t.key==="Escape"&&(t.stopPropagation(),this._stateController.close(!0))}__onMouseDown(){this._stateController.close(!0)}__onMouseEnter(){this.manual||this.__isShouldShow()&&(this.__hoverInside||(this.__hoverInside=!0,!this.__isTargetHidden&&(!this.__focusInside||!this._autoOpened)&&this._stateController.open({hover:!0})))}__onMouseLeave(t){t.relatedTarget!==this._overlayElement&&this.__handleMouseLeave()}__onOverlayMouseEnter(){this._stateController.isClosing&&this._stateController.open({immediate:!0})}__onOverlayMouseLeave(t){t.relatedTarget!==this.target&&this.__handleMouseLeave()}__handleMouseLeave(){this.manual||(this.__hoverInside=!1,this.__focusInside||this._stateController.close())}__onOverlayOpen(){this.manual||this._overlayElement.opened&&!this._overlayElement._last&&this._stateController.close(!0)}__onTargetVisibilityChange(t){const r=this.__isTargetHidden;if(this.__isTargetHidden=!t,r&&t&&(this.__focusInside||this.__hoverInside)){this._stateController.open({immediate:!0});return}!t&&this._autoOpened&&this._stateController.close(!0)}__isShouldShow(){return!(typeof this.shouldShow=="function"&&this.shouldShow(this.target,this.context)!==!0)}__textChanged(t,r){this._overlayElement&&(t||r)&&this._overlayElement.requestContentUpdate()}__tooltipRenderer(t){t.textContent=typeof this.generator=="function"?this.generator(this.context):this.text,this._overlayContent=t.textContent}__computeAriaTarget(t,r){const o=s=>s&&s.nodeType===Node.ELEMENT_NODE;return(Array.isArray(t)?t.some(o):t)?t:r}__effectiveAriaTargetChanged(t,r){r&&[r].flat().forEach(o=>{removeValueFromAttribute(o,"aria-describedby",this._uniqueId)}),t&&[t].flat().forEach(o=>{addValueToAttribute(o,"aria-describedby",this._uniqueId)})}__generatorChanged(t,r,o){t&&((r!==this.__oldTextGenerator||o!==this.__oldContext)&&t.requestContentUpdate(),this.__oldTextGenerator=r,this.__oldContext=o)}__updateSrLabelText(t,r){t&&(t.textContent=r)}};/**
 * @license
 * Copyright (c) 2022 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */let Tooltip$1=class extends TooltipMixin(ThemePropertyMixin(ElementMixin(ControllerMixin(PolymerElement)))){static get is(){return"vaadin-tooltip"}static get template(){return html`
      <style>
        :host {
          display: none;
        }
      </style>
      <vaadin-tooltip-overlay
        renderer="[[_renderer]]"
        theme$="[[_theme]]"
        opened="[[__computeOpened(manual, opened, _autoOpened, _isConnected)]]"
        position-target="[[target]]"
        position="[[__effectivePosition]]"
        no-horizontal-overlap$="[[__computeNoHorizontalOverlap(__effectivePosition)]]"
        no-vertical-overlap$="[[__computeNoVerticalOverlap(__effectivePosition)]]"
        horizontal-align="[[__computeHorizontalAlign(__effectivePosition)]]"
        vertical-align="[[__computeVerticalAlign(__effectivePosition)]]"
        on-mouseenter="__onOverlayMouseEnter"
        on-mouseleave="__onOverlayMouseLeave"
        modeless
      ></vaadin-tooltip-overlay>

      <slot name="sr-label"></slot>
    `}};defineCustomElement(Tooltip$1);const globalStyle=document.createElement("style");globalStyle.textContent="html { --vaadin-avatar-size: var(--lumo-size-m); }";document.head.appendChild(globalStyle);registerStyles$1("vaadin-avatar",css$e`
    :host {
      color: var(--lumo-secondary-text-color);
      background-color: var(--lumo-contrast-10pct);
      border-radius: 50%;
      outline: none;
      cursor: default;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    :host([has-color-index]) {
      color: var(--lumo-base-color);
    }

    :host([focus-ring]) {
      border-color: var(--vaadin-focus-ring-color, var(--lumo-primary-color-50pct));
    }

    [part='icon'],
    [part='abbr'] {
      fill: currentColor;
    }

    [part='abbr'] {
      font-family: var(--lumo-font-family);
      font-size: 2.4375em;
      font-weight: 500;
    }

    :host([theme~='xlarge']) [part='abbr'] {
      font-size: 2.5em;
    }

    :host([theme~='large']) [part='abbr'] {
      font-size: 2.375em;
    }

    :host([theme~='small']) [part='abbr'] {
      font-size: 2.75em;
    }

    :host([theme~='xsmall']) [part='abbr'] {
      font-size: 3em;
    }

    :host([theme~='xlarge']) {
      --vaadin-avatar-size: var(--lumo-size-xl);
    }

    :host([theme~='large']) {
      --vaadin-avatar-size: var(--lumo-size-l);
    }

    :host([theme~='small']) {
      --vaadin-avatar-size: var(--lumo-size-s);
    }

    :host([theme~='xsmall']) {
      --vaadin-avatar-size: var(--lumo-size-xs);
    }
  `,{moduleId:"lumo-avatar"});/**
 * @license
 * Copyright (c) 2020 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const template$7=document.createElement("template");template$7.innerHTML=`
  <style>
    @font-face {
      font-family: 'vaadin-avatar-icons';
      src: url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAQAAAsAAAAABnwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAQwAAAFZAIUmEY21hcAAAAYgAAABLAAABcOspwa1nbHlmAAAB1AAAAEUAAABMYO4o1WhlYWQAAAIcAAAALgAAADYYaAmGaGhlYQAAAkwAAAAdAAAAJAZsA1VobXR4AAACbAAAAAgAAAAIA+gAAGxvY2EAAAJ0AAAABgAAAAYAJgAAbWF4cAAAAnwAAAAeAAAAIAEOACFuYW1lAAACnAAAAUIAAAKavFDYrHBvc3QAAAPgAAAAHQAAAC52hGZ4eJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGT8wjiBgZWBgamKaQ8DA0MPhGZ8wGDIyAQUZWBlZsAKAtJcUxgcXjG+YmQO+p/FEMUcxDANKMwIkgMADiUMJQB4nGNgYGBlYGBgBmIdIGZhYGAMYWBkAAE/oCgjWJyZgQsszsKgBFbDAhJ/xfj/P4wE8lnAJAMjG8Mo4AGTMlAeOKwgmIERADU0CX0AeJxjYGIAAmYJpkgGHgYRBgZGJT1GEztGIzlGET5GKEuU8YuSpZKSpQuI+LfLv21emz9jHJQPJP7dsUywsEiwBACG8g9CAAAAeJxjYGRgYADicIOnh+P5bb4ycDO/AIow3JZ4rIJMM0swRQIpDgYmEA8AKwgJOwAAeJxjYGRgYA76nwUkXzAAAbMEAyMDKmACAE2GAskAAAAAAAAAA+gAAAAAAAAAJgAAeJxjYGRgYGBiEAViBjCLgYELCBkY/oP5DAAKuwEwAAB4nI2Qu07DMBSG//SGaCWEhMSAGDx1QU0vYyemdmDrUDEhuamTpkriyHEj9RF4B56Bh2Bg5mmY+8d4Qh3qo9jf+c45thQAt/hGgGYFuHN7s1q4YvbHbdKD5w555LmLAZ499+hfPPfxhDfPA/p33hB0rmmG+PDcwg2+PLfpfzx3yL+eu7gPHj33MAxmnvtYB6+eB/SftZTbtBjJWlppRmmki2qlkkMmzZnKGbVWpkp1Iabh5Ex1qQplpFVbsTmKqk5m1sYiNjoXC11YlWValEbvVWTDnbXlfDyOvQ8jnaOGZGyRouCfky63/AyzFBE0fYUVFBIckLnKZTOXda15s+GZulxgihCTC2eXnC3cfFNV7BfY4Mi9eT3BjNYiZh6zRyMnLdxs050xNE3panuaiD7Ezk2VmGPMiP/1h+71/ATcWYAhAAB4nGNgYoAALgbsgImRiZGZgaW0OLWIgQEACl4B2QAAAA==) format('woff');
      font-weight: normal;
      font-style: normal;
    }
  </style>
`;document.head.appendChild(template$7.content);/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const AvatarMixin=n=>class extends FocusMixin(n){static get properties(){return{img:{type:String,reflectToAttribute:!0,observer:"__imgChanged"},abbr:{type:String,reflectToAttribute:!0},name:{type:String,reflectToAttribute:!0},colorIndex:{type:Number,observer:"__colorIndexChanged"},i18n:{type:Object,value:()=>({anonymous:"anonymous"})},withTooltip:{type:Boolean,value:!1,observer:"__withTooltipChanged"},__imgVisible:Boolean,__iconVisible:Boolean,__abbrVisible:Boolean,__tooltipNode:Object}}static get observers(){return["__imgOrAbbrOrNameChanged(img, abbr, name)","__i18nChanged(i18n)","__tooltipChanged(__tooltipNode, name, abbr)"]}ready(){super.ready(),this.__updateVisibility(),this.hasAttribute("role")||this.setAttribute("role","button"),this.hasAttribute("tabindex")||this.setAttribute("tabindex","0"),!this.name&&!this.abbr&&this.__setTooltip()}__colorIndexChanged(t){if(t!=null){const r=`--vaadin-user-color-${t}`;!!getComputedStyle(document.documentElement).getPropertyValue(r)?(this.setAttribute("has-color-index",""),this.style.setProperty("--vaadin-avatar-user-color",`var(${r})`)):(this.removeAttribute("has-color-index"),console.warn(`The CSS property --vaadin-user-color-${t} is not defined`))}else this.removeAttribute("has-color-index")}__imgChanged(){this.__imgFailedToLoad=!1}__imgOrAbbrOrNameChanged(t,r,o){this.__updateVisibility(),!(r&&r!==this.__generatedAbbr)&&(o?this.abbr=this.__generatedAbbr=o.split(" ").map(a=>a.charAt(0)).join(""):this.abbr=void 0)}__tooltipChanged(t,r,o){t&&(o&&o!==this.__generatedAbbr?this.__setTooltip(r?`${r} (${o})`:o):this.__setTooltip(r))}__withTooltipChanged(t,r){if(t){const o=document.createElement("vaadin-tooltip");o.setAttribute("slot","tooltip"),this.appendChild(o),this.__tooltipNode=o}else r&&(this.__tooltipNode.target=null,this.__tooltipNode.remove(),this.__tooltipNode=null)}__i18nChanged(t){t&&t.anonymous&&(this.__oldAnonymous&&this.__tooltipNode&&this.__tooltipNode.text===this.__oldAnonymous&&this.__setTooltip(),this.__oldAnonymous=t.anonymous)}__updateVisibility(){this.__imgVisible=!!this.img&&!this.__imgFailedToLoad,this.__abbrVisible=!this.__imgVisible&&!!this.abbr,this.__iconVisible=!this.__imgVisible&&!this.abbr}__setTooltip(t){const r=this.__tooltipNode;r&&(r.text=t||this.i18n.anonymous)}__onImageLoadError(){this.img&&(console.warn(`<vaadin-avatar> The specified image could not be loaded: ${this.img}`),this.__imgFailedToLoad=!0,this.__updateVisibility())}};/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const avatarStyles=css$e`
  :host {
    display: inline-block;
    flex: none;
    border-radius: 50%;
    overflow: hidden;
    height: var(--vaadin-avatar-size, 64px);
    width: var(--vaadin-avatar-size, 64px);
    border: var(--vaadin-avatar-outline-width) solid transparent;
    margin: calc(var(--vaadin-avatar-outline-width) * -1);
    background-clip: content-box;
    --vaadin-avatar-outline-width: var(--vaadin-focus-ring-width, 2px);
  }

  img {
    height: 100%;
    width: 100%;
    object-fit: cover;
  }

  [part='icon'] {
    font-size: 5.6em;
  }

  [part='abbr'] {
    font-size: 2.2em;
  }

  [part='icon'] > text {
    font-family: 'vaadin-avatar-icons';
  }

  :host([hidden]) {
    display: none !important;
  }

  svg[hidden] {
    display: none !important;
  }

  :host([has-color-index]) {
    position: relative;
    background-color: var(--vaadin-avatar-user-color);
  }

  :host([has-color-index])::before {
    position: absolute;
    content: '';
    inset: 0;
    border-radius: inherit;
    box-shadow: inset 0 0 0 2px var(--vaadin-avatar-user-color);
  }
`;/**
 * @license
 * Copyright (c) 2020 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-avatar",avatarStyles,{moduleId:"vaadin-avatar-styles"});class Avatar extends AvatarMixin(ElementMixin(ThemableMixin(ControllerMixin(PolymerElement)))){static get template(){return html`
      <img hidden$="[[!__imgVisible]]" src$="[[img]]" aria-hidden="true" on-error="__onImageLoadError" />
      <svg
        part="icon"
        hidden$="[[!__iconVisible]]"
        id="avatar-icon"
        viewBox="-50 -50 100 100"
        preserveAspectRatio="xMidYMid meet"
        aria-hidden="true"
      >
        <text dy=".35em" text-anchor="middle">&#xea01;</text>
      </svg>
      <svg
        part="abbr"
        hidden$="[[!__abbrVisible]]"
        id="avatar-abbr"
        viewBox="-50 -50 100 100"
        preserveAspectRatio="xMidYMid meet"
        aria-hidden="true"
      >
        <text dy=".35em" text-anchor="middle">[[abbr]]</text>
      </svg>

      <slot name="tooltip"></slot>
    `}static get is(){return"vaadin-avatar"}ready(){super.ready(),this._tooltipController=new TooltipController(this),this.addController(this._tooltipController)}}defineCustomElement(Avatar);registerStyles$1("vaadin-avatar-group",css$e`
    :host {
      --vaadin-avatar-size: var(--lumo-size-m);
    }

    :host([theme~='xlarge']) {
      --vaadin-avatar-group-overlap: 12px;
      --vaadin-avatar-group-overlap-border: 3px;
      --vaadin-avatar-size: var(--lumo-size-xl);
    }

    :host([theme~='large']) {
      --vaadin-avatar-group-overlap: 10px;
      --vaadin-avatar-group-overlap-border: 3px;
      --vaadin-avatar-size: var(--lumo-size-l);
    }

    :host([theme~='small']) {
      --vaadin-avatar-group-overlap: 6px;
      --vaadin-avatar-group-overlap-border: 2px;
      --vaadin-avatar-size: var(--lumo-size-s);
    }

    :host([theme~='xsmall']) {
      --vaadin-avatar-group-overlap: 4px;
      --vaadin-avatar-group-overlap-border: 2px;
      --vaadin-avatar-size: var(--lumo-size-xs);
    }
  `,{moduleId:"lumo-avatar-group"});const avatarGroupOverlay=css$e`
  :host {
    --_lumo-list-box-item-selected-icon-display: none;
    --_lumo-list-box-item-padding-left: calc(var(--lumo-space-m) + var(--lumo-border-radius-m) / 4);
  }

  [part='overlay'] {
    outline: none;
  }
`;registerStyles$1("vaadin-avatar-group-overlay",[overlay,menuOverlayCore,avatarGroupOverlay],{moduleId:"lumo-avatar-group-overlay"});registerStyles$1("vaadin-avatar-group-menu",listBox,{moduleId:"lumo-avatar-group-menu"});registerStyles$1("vaadin-avatar-group-menu-item",[item,css$e`
      :host {
        padding: var(--lumo-space-xs);
        padding-inline-end: var(--lumo-space-m);
      }

      [part='content'] {
        display: flex;
        align-items: center;
      }

      [part='content'] ::slotted(vaadin-avatar) {
        width: var(--lumo-size-xs);
        height: var(--lumo-size-xs);
        margin-inline-end: var(--lumo-space-s);
      }
    `],{moduleId:"lumo-avatar-group-menu-item"});/**
 * @license
 * Copyright (c) 2020 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class AvatarGroupMenu extends ListMixin(ThemableMixin(DirMixin(ControllerMixin(PolymerElement)))){static get is(){return"vaadin-avatar-group-menu"}static get template(){return html`
      <style>
        :host {
          display: flex;
        }

        :host([hidden]) {
          display: none !important;
        }

        [part='items'] {
          height: 100%;
          width: 100%;
          overflow-y: auto;
          -webkit-overflow-scrolling: touch;
        }
      </style>
      <div part="items">
        <slot></slot>
      </div>
    `}static get properties(){return{orientation:{readOnly:!0}}}get _scrollerElement(){return this.shadowRoot.querySelector('[part="items"]')}ready(){super.ready(),this.setAttribute("role","menu")}}defineCustomElement(AvatarGroupMenu);/**
 * @license
 * Copyright (c) 2020 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class AvatarGroupMenuItem extends ItemMixin(ThemableMixin(DirMixin(PolymerElement))){static get is(){return"vaadin-avatar-group-menu-item"}static get template(){return html`
      <style>
        :host {
          display: inline-block;
        }

        :host([hidden]) {
          display: none !important;
        }
      </style>
      <span part="checkmark" aria-hidden="true"></span>
      <div part="content">
        <slot></slot>
      </div>
    `}ready(){super.ready(),this.setAttribute("role","menuitem")}}defineCustomElement(AvatarGroupMenuItem);/**
 * @license
 * Copyright (c) 2020 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-avatar-group-overlay",[overlayStyles],{moduleId:"vaadin-avatar-group-overlay-styles"});class AvatarGroupOverlay extends PositionMixin(OverlayMixin(DirMixin(ThemableMixin(PolymerElement)))){static get is(){return"vaadin-avatar-group-overlay"}static get template(){return html`
      <div id="backdrop" part="backdrop" hidden$="[[!withBackdrop]]"></div>
      <div part="overlay" id="overlay" tabindex="0">
        <div part="content" id="content">
          <slot></slot>
        </div>
      </div>
    `}}defineCustomElement(AvatarGroupOverlay);/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ifDefined=n=>n??nothing;/**
 * @license
 * Copyright (c) 2020 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const MINIMUM_DISPLAYED_AVATARS=2;class AvatarGroup extends ResizeMixin(OverlayClassMixin(ElementMixin(ThemableMixin(ControllerMixin(PolymerElement))))){static get template(){return html`
      <style>
        :host {
          display: block;
          width: 100%; /* prevent collapsing inside non-stretching column flex */
          --vaadin-avatar-group-overlap: 8px;
          --vaadin-avatar-group-overlap-border: 2px;
        }

        :host([hidden]) {
          display: none !important;
        }

        [part='container'] {
          display: flex;
          position: relative;
          width: 100%;
          flex-wrap: nowrap;
        }

        ::slotted(vaadin-avatar:not(:first-child)) {
          -webkit-mask-image: url('data:image/svg+xml;utf8,<svg viewBox=%220 0 300 300%22 fill=%22none%22 xmlns=%22http://www.w3.org/2000/svg%22><path fill-rule=%22evenodd%22 clip-rule=%22evenodd%22 d=%22M300 0H0V300H300V0ZM150 200C177.614 200 200 177.614 200 150C200 122.386 177.614 100 150 100C122.386 100 100 122.386 100 150C100 177.614 122.386 200 150 200Z%22 fill=%22black%22/></svg>');
          mask-image: url('data:image/svg+xml;utf8,<svg viewBox=%220 0 300 300%22 fill=%22none%22 xmlns=%22http://www.w3.org/2000/svg%22><path fill-rule=%22evenodd%22 clip-rule=%22evenodd%22 d=%22M300 0H0V300H300V0ZM150 200C177.614 200 200 177.614 200 150C200 122.386 177.614 100 150 100C122.386 100 100 122.386 100 150C100 177.614 122.386 200 150 200Z%22 fill=%22black%22/></svg>');
          -webkit-mask-size: calc(
            300% + var(--vaadin-avatar-group-overlap-border) * 6 - var(--vaadin-avatar-outline-width) * 6
          );
          mask-size: calc(
            300% + var(--vaadin-avatar-group-overlap-border) * 6 - var(--vaadin-avatar-outline-width) * 6
          );
        }

        ::slotted(vaadin-avatar:not([dir='rtl']):not(:first-child)) {
          margin-left: calc(var(--vaadin-avatar-group-overlap) * -1 - var(--vaadin-avatar-outline-width));
          -webkit-mask-position: calc(50% - var(--vaadin-avatar-size) + var(--vaadin-avatar-group-overlap));
          mask-position: calc(50% - var(--vaadin-avatar-size) + var(--vaadin-avatar-group-overlap));
        }

        ::slotted(vaadin-avatar[dir='rtl']:not(:first-child)) {
          margin-right: calc(var(--vaadin-avatar-group-overlap) * -1);
          -webkit-mask-position: calc(
            50% + var(--vaadin-avatar-size) - var(--vaadin-avatar-group-overlap) + var(--vaadin-avatar-outline-width)
          );
          mask-position: calc(
            50% + var(--vaadin-avatar-size) - var(--vaadin-avatar-group-overlap) + var(--vaadin-avatar-outline-width)
          );
        }
      </style>
      <div id="container" part="container">
        <slot></slot>
        <slot name="overflow"></slot>
      </div>
      <vaadin-avatar-group-overlay
        id="overlay"
        opened="{{_opened}}"
        position-target="[[_overflow]]"
        no-vertical-overlap
        on-vaadin-overlay-close="_onVaadinOverlayClose"
      ></vaadin-avatar-group-overlay>
    `}static get is(){return"vaadin-avatar-group"}static get properties(){return{items:{type:Array},maxItemsVisible:{type:Number},i18n:{type:Object,value:()=>({anonymous:"anonymous",activeUsers:{one:"Currently one active user",many:"Currently {count} active users"},joined:"{user} joined",left:"{user} left"})},_avatars:{type:Array,value:()=>[]},__maxReached:{type:Boolean,computed:"__computeMaxReached(items.length, maxItemsVisible)"},__items:{type:Array},__itemsInView:{type:Number,value:null},_overflow:{type:Object},_overflowItems:{type:Array,observer:"__overflowItemsChanged",computed:"__computeOverflowItems(items.*, __itemsInView, maxItemsVisible)"},_overflowTooltip:{type:Object},_opened:{type:Boolean,observer:"__openedChanged"}}}static get observers(){return["__itemsChanged(items.splices, items.*)","__i18nItemsChanged(i18n.*, items.length)","__updateAvatarsTheme(_overflow, _avatars, _theme)","__updateAvatars(items.*, __itemsInView, maxItemsVisible, _overflow, i18n)","__updateOverflowAbbr(_overflow, items.length, __itemsInView, maxItemsVisible)","__updateOverflowHidden(_overflow, items.length, __itemsInView, __maxReached)","__updateOverflowTooltip(_overflowTooltip, items.length, __itemsInView, maxItemsVisible)"]}ready(){super.ready(),this._overflowController=new SlotController(this,"overflow","vaadin-avatar",{initializer:t=>{t.setAttribute("aria-haspopup","menu"),t.setAttribute("aria-expanded","false"),t.addEventListener("click",o=>this._onOverflowClick(o)),t.addEventListener("keydown",o=>this._onOverflowKeyDown(o));const r=document.createElement("vaadin-tooltip");r.setAttribute("slot","tooltip"),t.appendChild(r),this._overflow=t,this._overflowTooltip=r}}),this.addController(this._overflowController);const i=this.$.overlay;i.renderer=this.__overlayRenderer.bind(this),this._overlayElement=i,afterNextRender(this,()=>{this.__setItemsInView()})}disconnectedCallback(){super.disconnectedCallback(),this._opened=!1}__getMessage(i,t){return t.replace("{user}",i.name||i.abbr||this.i18n.anonymous)}__overlayRenderer(i){let t=i.firstElementChild;t||(t=document.createElement("vaadin-avatar-group-menu"),t.addEventListener("keydown",r=>this._onListKeyDown(r)),i.appendChild(t)),t.textContent="",this._overflowItems&&this._overflowItems.forEach(r=>{t.appendChild(this.__createItemElement(r))})}__createItemElement(i){const t=document.createElement("vaadin-avatar-group-menu-item"),r=document.createElement("vaadin-avatar");if(t.appendChild(r),r.setAttribute("aria-hidden","true"),r.setAttribute("tabindex","-1"),r.i18n=this.i18n,this._theme&&r.setAttribute("theme",this._theme),r.name=i.name,r.abbr=i.abbr,r.img=i.img,r.colorIndex=i.colorIndex,i.className&&(r.className=i.className),i.name){const o=document.createTextNode(i.name);t.appendChild(o)}return t}_onOverflowClick(i){i.stopPropagation(),this._opened?this.$.overlay.close():i.defaultPrevented||(this._opened=!0)}_onOverflowKeyDown(i){this._opened||/^(Enter|SpaceBar|\s)$/u.test(i.key)&&(i.preventDefault(),this._opened=!0)}_onListKeyDown(i){(i.key==="Escape"||i.key==="Tab")&&(this._opened=!1)}_onResize(){this.__setItemsInView()}_onVaadinOverlayClose(i){i.detail.sourceEvent&&i.detail.sourceEvent.composedPath().includes(this)&&i.preventDefault()}__renderAvatars(i){render$1(html$1`
        ${i.map(t=>html$1`
              <vaadin-avatar
                .name="${t.name}"
                .abbr="${t.abbr}"
                .img="${t.img}"
                .colorIndex="${t.colorIndex}"
                .i18n="${this.i18n}"
                class="${ifDefined(t.className)}"
                with-tooltip
              ></vaadin-avatar>
            `)}
      `,this,{renderBefore:this._overflow})}__updateAvatars(i,t,r,o){if(!o)return;const a=i.base||[],s=this.__getLimit(a.length,t,r);this.__renderAvatars(s?a.slice(0,s):a),this._avatars=[...this.querySelectorAll("vaadin-avatar")]}__computeOverflowItems(i,t,r){const o=i.base||[],a=this.__getLimit(o.length,t,r);return a?o.slice(a):[]}__computeMaxReached(i,t){return t!=null&&i>this.__getMax(t)}__updateOverflowAbbr(i,t,r,o){i&&(i.abbr=`+${t-this.__getLimit(t,r,o)}`)}__updateOverflowHidden(i,t,r,o){i&&i.toggleAttribute("hidden",!o&&!(r&&r<t))}__updateAvatarsTheme(i,t,r){i&&[i,...t].forEach(o=>{r?o.setAttribute("theme",r):o.removeAttribute("theme")})}__updateOverflowTooltip(i,t,r,o){if(!i)return;const a=this.__getLimit(t,r,o);if(a==null)return;const s=[];for(let l=a;l<t;l++){const c=this.items[l];c&&s.push(c.name||c.abbr||"anonymous")}i.text=s.join(`
`)}__getLimit(i,t,r){let o=null;const a=this.__getMax(r);return r!=null&&a<i?o=a-1:t&&t<i&&(o=t),Math.min(o,this.__calculateAvatarsFitWidth())}__getMax(i){return Math.max(i,MINIMUM_DISPLAYED_AVATARS)}__itemsChanged(i,t){const r=t.base;this.__setItemsInView(),i&&Array.isArray(i.indexSplices)?i.indexSplices.forEach(o=>{this.__announceItemsChange(r,o)}):Array.isArray(r)&&Array.isArray(this.__oldItems)&&calculateSplices(r,this.__oldItems).forEach(a=>{this.__announceItemsChange(r,a)}),this.__oldItems=r}__announceItemsChange(i,t){const{addedCount:r,index:o,removed:a}=t;let s=[],l=[];r&&(s=i.slice(o,o+r).map(h=>this.__getMessage(h,this.i18n.joined||"{user} joined"))),a&&(l=a.map(h=>this.__getMessage(h,this.i18n.left||"{user} left")));const c=l.concat(s);c.length>0&&announce(c.join(", "))}__i18nItemsChanged(i,t){const{base:r}=i;if(r&&r.activeUsers){const o=t===1?"one":"many";r.activeUsers[o]&&this.setAttribute("aria-label",r.activeUsers[o].replace("{count}",t||0)),this._avatars.forEach(a=>{a.i18n=r})}}__openedChanged(i,t){i?(this._menuElement||(this._menuElement=this.$.overlay.querySelector("vaadin-avatar-group-menu")),this._openedWithFocusRing=this._overflow.hasAttribute("focus-ring"),this._menuElement.focus()):t&&(this._overflow.focus(),this._openedWithFocusRing&&this._overflow.setAttribute("focus-ring","")),this._overflow.setAttribute("aria-expanded",i===!0)}__overflowItemsChanged(i,t){(i||t)&&this.$.overlay.requestContentUpdate()}__setItemsInView(){const i=this._avatars,t=this.items;if(!t||!i||i.length<3)return;let r=this.__calculateAvatarsFitWidth();r===t.length-1&&(r=t.length),r>=t.length&&this._opened&&(this.$.overlay.close(),this.$.overlay._flushAnimation("closing")),this.__itemsInView=r}__calculateAvatarsFitWidth(){if(!this.shadowRoot||this._avatars.length<MINIMUM_DISPLAYED_AVATARS)return MINIMUM_DISPLAYED_AVATARS;const i=this._avatars,t=i[0].clientWidth,{marginLeft:r,marginRight:o}=getComputedStyle(i[1]),a=this.__isRTL?parseInt(o,0)-parseInt(r,0):parseInt(r,0)-parseInt(o,0);return Math.floor((this.$.container.offsetWidth-t)/(t+a))}}defineCustomElement(AvatarGroup);/**
 * @license
 * Copyright (c) 2000 - 2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See https://vaadin.com/commercial-license-and-service-terms for the full
 * license.
 */const CLASSES={SMALL:"small",MEDIUM:"medium",LARGE:"large"};class BoardRow extends ResizeMixin(ElementMixin(PolymerElement)){static get template(){return html`
      <style>
        :host {
          display: flex;
          flex-flow: row wrap;
          align-items: stretch;
          --small-size: var(--vaadin-board-width-small, 600px);
          --medium-size: var(--vaadin-board-width-medium, 960px);
        }

        :host ::slotted(*) {
          box-sizing: border-box;
          flex-grow: 1;
          overflow: hidden;
        }
      </style>
      <slot id="insertionPoint"></slot>
    `}static get is(){return"vaadin-board-row"}constructor(){super(),this._oldWidth=0,this._oldBreakpoints={smallSize:600,mediumSize:960},this._oldFlexBasis=[]}ready(){super.ready(),this.$.insertionPoint.addEventListener("slotchange",()=>this.redraw())}connectedCallback(){super.connectedCallback(),this._onResize()}_addStyleNames(i,t){i<t.smallSize?(this.classList.add(CLASSES.SMALL),this.classList.remove(CLASSES.MEDIUM),this.classList.remove(CLASSES.LARGE)):i<t.mediumSize?(this.classList.remove(CLASSES.SMALL),this.classList.add(CLASSES.MEDIUM),this.classList.remove(CLASSES.LARGE)):(this.classList.remove(CLASSES.SMALL),this.classList.remove(CLASSES.MEDIUM),this.classList.add(CLASSES.LARGE))}_calculateFlexBasis(i,t,r,o){t<o.smallSize?r=1:t<o.mediumSize&&r===4&&(r=2);let a=i/r*100;return a=a>100?100:a,`${a}%`}_reportError(){console.warn("The column configuration is not valid; column count should add up to 3 or 4.",`check: \r
${this.outerHTML}`)}_parseBoardCols(i){const t=i.map(a=>a.getAttribute("board-cols")?parseInt(a.getAttribute("board-cols")):1);let r=4,o=[];return i.forEach((a,s)=>{r-=t[s]}),r<0?(this._reportError(),t.forEach((a,s)=>{o[s]=1})):o=t.slice(0),o}_removeExtraNodesFromDOM(i,t){let r=!1,o=4;const a=[];return t.forEach((s,l)=>{o-=i[l],o<0?(r||(r=!0,this._reportError()),this.removeChild(s)):a[l]=s}),a}redraw(){this._recalculateFlexBasis(!0)}_onResize(){this._recalculateFlexBasis(!1)}_recalculateFlexBasis(i){const t=this.getBoundingClientRect().width,r=this._measureBreakpointsInPx();if(i||this._shouldRecalculate(t,r)){const a=this.$.insertionPoint.assignedNodes({flatten:!0}).filter(c=>c.nodeType===Node.ELEMENT_NODE);this._addStyleNames(t,r);const s=this._parseBoardCols(a),l=s.reduce((c,h)=>c+h,0);this._removeExtraNodesFromDOM(s,a).forEach((c,h)=>{const u=this._calculateFlexBasis(s[h],t,l,r);(i||!this._oldFlexBasis[h]||this._oldFlexBasis[h]!==u)&&(this._oldFlexBasis[h]=u,c.style.flexBasis=u)}),this._oldWidth=t,this._oldBreakpoints=r}}_shouldRecalculate(i,t){return isElementHidden(this)?!1:i!==this._oldWidth||t.smallSize!==this._oldBreakpoints.smallSize||t.mediumSize!==this._oldBreakpoints.mediumSize}_measureBreakpointsInPx(){const i={},t="background-position",r=getComputedStyle(this).getPropertyValue("--small-size"),o=getComputedStyle(this).getPropertyValue("--medium-size");return this.style.setProperty(t,r),i.smallSize=parseFloat(getComputedStyle(this).getPropertyValue(t)),this.style.setProperty(t,o),i.mediumSize=parseFloat(getComputedStyle(this).getPropertyValue(t)),this.style.removeProperty(t),i}}defineCustomElement(BoardRow);/**
 * @license
 * Copyright (c) 2000 - 2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See https://vaadin.com/commercial-license-and-service-terms for the full
 * license.
 */class Board extends ElementMixin(PolymerElement){static get template(){return html`
      <style>
        :host {
          display: block;
        }
      </style>
      <slot></slot>
    `}static get is(){return"vaadin-board"}static get cvdlName(){return"vaadin-board"}redraw(){[...this.querySelectorAll("*")].filter(i=>i instanceof BoardRow).forEach(i=>i.redraw())}}defineCustomElement(Board);/**
 * @license
 * Copyright (c) 2000 - 2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See https://vaadin.com/commercial-license-and-service-terms for the full
 * license.
 */const chartBaseTheme=css$e`
  :host {
    font-family: -apple-system, BlinkMacSystemFont, 'Roboto', 'Segoe UI', Helvetica, Arial, sans-serif,
      'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
    font-size: 12px;
    line-height: normal;
  }

  .highcharts-container {
    position: relative;
    overflow: hidden;
    width: 100%;
    height: 100%;
    text-align: left;
    z-index: 0;
    /* #1072 */
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  }

  :where([styled-mode]) .highcharts-root {
    display: block;
  }

  :where([styled-mode]) .highcharts-root text {
    stroke-width: 0;
  }

  :where([styled-mode]) .highcharts-strong {
    font-weight: 600;
  }

  :where([styled-mode]) .highcharts-emphasized {
    font-style: italic;
  }

  :where([styled-mode]) .highcharts-anchor {
    cursor: pointer;
  }

  :where([styled-mode]) .highcharts-background {
    fill: var(--vaadin-charts-background, #fff);
  }

  :where([styled-mode]) .highcharts-plot-border,
  :where([styled-mode]) .highcharts-plot-background {
    fill: none;
  }

  :where([styled-mode]) .highcharts-label-box {
    fill: none;
  }

  :where([styled-mode]) .highcharts-button-box {
    fill: inherit;
  }

  :where([styled-mode]) .highcharts-tracker-line {
    stroke-linejoin: round;
    stroke: rgba(192, 192, 192, 0.0001);
    stroke-width: 22;
    fill: none;
  }

  :where([styled-mode]) .highcharts-tracker-area {
    fill: rgba(192, 192, 192, 0.0001);
    stroke-width: 0;
  }

  /* Titles */
  :where([styled-mode]) .highcharts-title {
    fill: var(--vaadin-charts-title-label, hsl(214, 35%, 15%));
    font-size: 1.5em;
    font-weight: 600;
  }

  :where([styled-mode]) .highcharts-subtitle {
    fill: var(--vaadin-charts-secondary-label, hsla(214, 42%, 18%, 0.72));
  }

  /* Axes */
  :where([styled-mode]) .highcharts-axis-line {
    fill: none;
    stroke: var(--vaadin-charts-axis-line, hsla(214, 61%, 25%, 0.05));
  }

  :where([styled-mode]) .highcharts-yaxis .highcharts-axis-line {
    stroke-width: 0;
  }

  :where([styled-mode]) .highcharts-axis-title {
    fill: var(--vaadin-charts-axis-title, hsla(214, 42%, 18%, 0.72));
  }

  :where([styled-mode]) .highcharts-axis-labels {
    fill: var(--vaadin-charts-axis-label, hsla(214, 42%, 18%, 0.72));
    cursor: default;
    font-size: 0.9em;
  }

  :where([styled-mode]) .highcharts-grid-line {
    fill: none;
    stroke: var(--vaadin-charts-grid-line, hsla(214, 53%, 23%, 0.16));
  }

  :where([styled-mode]) .highcharts-xaxis-grid .highcharts-grid-line {
    stroke-width: var(--vaadin-charts-xaxis-line-width, 0px);
  }

  :where([styled-mode]) .highcharts-tick {
    stroke: var(--vaadin-charts-grid-line, hsla(214, 53%, 23%, 0.16));
  }

  :where([styled-mode]) .highcharts-yaxis .highcharts-tick {
    stroke-width: 0;
  }

  :where([styled-mode]) .highcharts-minor-grid-line {
    stroke: var(--vaadin-charts-contrast-5pct, hsla(214, 61%, 25%, 0.05));
  }

  :where([styled-mode]) .highcharts-crosshair-thin {
    stroke-width: 1px;
    stroke: var(--vaadin-charts-grid-line, hsla(214, 53%, 23%, 0.16));
  }

  :where([styled-mode]) .highcharts-crosshair-category {
    stroke: var(--vaadin-charts-color-0, #5ac2f7);
    stroke-opacity: 0.25;
  }

  /* Credits */
  :where([styled-mode]) .highcharts-credits {
    cursor: pointer;
    fill: var(--vaadin-charts-disabled-label, hsla(214, 50%, 22%, 0.26));
    font-size: 0.7em;
    transition: fill 250ms, font-size 250ms;
  }

  :where([styled-mode]) .highcharts-credits:hover {
    fill: black;
    font-size: 1em;
  }

  /* Tooltip */
  :where([styled-mode]) .highcharts-tooltip {
    cursor: default;
    pointer-events: none;
    white-space: nowrap;
    transition: stroke 150ms;
  }

  :where([styled-mode]) .highcharts-tooltip {
    filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.05)) !important;
  }

  :where([styled-mode]) .highcharts-tooltip text {
    fill: var(--vaadin-charts-data-label, hsla(214, 40%, 16%, 0.94));
  }

  :where([styled-mode]) .highcharts-tooltip .highcharts-header {
    font-size: 0.85em;
    color: var(--vaadin-charts-secondary-label, hsla(214, 42%, 18%, 0.72));
  }

  :where([styled-mode]) .highcharts-tooltip-box {
    stroke-width: 1px;
    stroke: var(--vaadin-charts-tooltip-border, inherit);
    fill: var(--vaadin-charts-tooltip-background, #fff);
    fill-opacity: var(--vaadin-charts-tooltip-background-opacity, 1);
  }

  :where([styled-mode]) .highcharts-tooltip-box .highcharts-label-box {
    fill: var(--vaadin-charts-tooltip-background, #fff);
    fill-opacity: var(--vaadin-charts-tooltip-background-opacity, 1);
  }

  :where([styled-mode]) .highcharts-tooltip-header {
    stroke-width: 1px;
    stroke: var(--vaadin-charts-contrast-20pct, hsla(214, 53%, 23%, 0.16));
  }

  :where([styled-mode]) div.highcharts-tooltip {
    filter: none;
  }

  :where([styled-mode]) .highcharts-selection-marker {
    fill: var(--vaadin-charts-color-0, #5ac2f7);
    fill-opacity: 0.25;
  }

  :where([styled-mode]) .highcharts-graph {
    fill: none;
    stroke-width: 2px;
    stroke-linecap: round;
    stroke-linejoin: round;
  }

  :where([styled-mode]) .highcharts-state-hover .highcharts-graph {
    stroke-width: 3;
  }

  :where([styled-mode]) .highcharts-point-inactive {
    opacity: 0.2;
    transition: opacity 50ms;
    /* quick in */
  }

  :where([styled-mode]) .highcharts-series-inactive {
    opacity: 0.2;
    transition: opacity 50ms;
    /* quick in */
  }

  :where([styled-mode]) .highcharts-state-hover path {
    transition: stroke-width 50ms;
    /* quick in */
  }

  :where([styled-mode]) .highcharts-state-normal path {
    transition: stroke-width 250ms;
    /* slow out */
  }

  /* Legend hover affects points and series */
  :where([styled-mode]) g.highcharts-series,
  :where([styled-mode]) .highcharts-point,
  :where([styled-mode]) .highcharts-markers,
  :where([styled-mode]) .highcharts-data-labels {
    transition: opacity 250ms;
  }

  :where([styled-mode]) .highcharts-legend-series-active g.highcharts-series:not(.highcharts-series-hover),
  :where([styled-mode]) .highcharts-legend-point-active .highcharts-point:not(.highcharts-point-hover),
  :where([styled-mode]) .highcharts-legend-series-active .highcharts-markers:not(.highcharts-series-hover),
  :where([styled-mode]) .highcharts-legend-series-active .highcharts-data-labels:not(.highcharts-series-hover) {
    opacity: 0.2;
  }

  /* Series options */
  /* Default colors */
  /* vaadin-charts custom properties */
  /* Use of :where() function to avoid setting classes with high specificity */
  :where([styled-mode]) .highcharts-color-0 {
    fill: var(--vaadin-charts-color-0, #5ac2f7);
    stroke: var(--vaadin-charts-color-0, #5ac2f7);
  }

  :where([styled-mode]) .highcharts-color-1 {
    fill: var(--vaadin-charts-color-1, #1676f3);
    stroke: var(--vaadin-charts-color-1, #1676f3);
  }

  :where([styled-mode]) .highcharts-color-2 {
    fill: var(--vaadin-charts-color-2, #ff7d94);
    stroke: var(--vaadin-charts-color-2, #ff7d94);
  }

  :where([styled-mode]) .highcharts-color-3 {
    fill: var(--vaadin-charts-color-3, #c5164e);
    stroke: var(--vaadin-charts-color-3, #c5164e);
  }

  :where([styled-mode]) .highcharts-color-4 {
    fill: var(--vaadin-charts-color-4, #15c15d);
    stroke: var(--vaadin-charts-color-4, #15c15d);
  }

  :where([styled-mode]) .highcharts-color-5 {
    fill: var(--vaadin-charts-color-5, #0e8151);
    stroke: var(--vaadin-charts-color-5, #0e8151);
  }

  :where([styled-mode]) .highcharts-color-6 {
    fill: var(--vaadin-charts-color-6, #c18ed2);
    stroke: var(--vaadin-charts-color-6, #c18ed2);
  }

  :where([styled-mode]) .highcharts-color-7 {
    fill: var(--vaadin-charts-color-7, #9233b3);
    stroke: var(--vaadin-charts-color-7, #9233b3);
  }

  :where([styled-mode]) .highcharts-color-8 {
    fill: var(--vaadin-charts-color-8, #fda253);
    stroke: var(--vaadin-charts-color-8, #fda253);
  }

  :where([styled-mode]) .highcharts-color-9 {
    fill: var(--vaadin-charts-color-9, #e24932);
    stroke: var(--vaadin-charts-color-9, #e24932);
  }

  /* end of vaadin-charts custom properties */

  :where([styled-mode]) .highcharts-area {
    fill-opacity: 0.5;
    stroke-width: 0;
  }

  :where([styled-mode]) .highcharts-markers {
    stroke-width: 1px;
    stroke: var(--vaadin-charts-background, #fff);
  }

  :where([styled-mode])
    .highcharts-a11y-markers-hidden
    .highcharts-point:not(.highcharts-point-hover):not(.highcharts-a11y-marker-visible),
  :where([styled-mode]) .highcharts-a11y-marker-hidden {
    opacity: 0;
  }

  :where([styled-mode]) .highcharts-point {
    stroke-width: 1px;
  }

  :where([styled-mode]) .highcharts-dense-data .highcharts-point {
    stroke-width: 0;
  }

  :where([styled-mode]) .highcharts-data-label {
    font-size: 0.9em;
    font-weight: normal;
  }

  :where([styled-mode]) .highcharts-data-label-box {
    fill: none;
    stroke-width: 0;
  }

  :where([styled-mode]) .highcharts-data-label text,
  :where([styled-mode]) text.highcharts-data-label {
    fill: var(--vaadin-charts-data-label, hsla(214, 40%, 16%, 0.94));
  }

  :where([styled-mode]) .highcharts-data-label-connector {
    fill: none;
  }

  :where([styled-mode]) .highcharts-data-label-hidden {
    pointer-events: none;
  }

  :where([styled-mode]) .highcharts-halo {
    fill-opacity: 0.25;
    stroke-width: 0;
  }

  :where([styled-mode]) .highcharts-series:not(.highcharts-pie-series) .highcharts-point-select,
  :where([styled-mode]) .highcharts-markers .highcharts-point-select {
    fill: var(--vaadin-charts-grid-line, hsla(214, 53%, 23%, 0.16));
    stroke: var(--vaadin-charts-contrast, hsl(214, 35%, 15%));
  }

  :where([styled-mode]) .highcharts-column-series rect.highcharts-point {
    stroke: var(--vaadin-charts-background, #fff);
  }

  :where([styled-mode]) .highcharts-column-series .highcharts-point {
    transition: fill-opacity 250ms;
  }

  :where([styled-mode]) .highcharts-column-series .highcharts-point-hover {
    fill-opacity: 0.75;
    transition: fill-opacity 50ms;
  }

  :where([styled-mode]) .highcharts-pie-series .highcharts-point {
    stroke-linejoin: round;
    stroke: var(--vaadin-charts-background, #fff);
  }

  :where([styled-mode]) .highcharts-pie-series .highcharts-point-hover {
    fill-opacity: 0.75;
    transition: fill-opacity 50ms;
  }

  :where([styled-mode]) .highcharts-funnel-series .highcharts-point {
    stroke-linejoin: round;
    stroke: var(--vaadin-charts-background, #fff);
    stroke-width: 2px;
  }

  :where([styled-mode]) .highcharts-funnel-series .highcharts-point-hover {
    fill-opacity: 0.75;
    transition: fill-opacity 50ms;
  }

  :where([styled-mode]) .highcharts-funnel-series .highcharts-point-select {
    fill: inherit;
    stroke: inherit;
  }

  :where([styled-mode]) .highcharts-pyramid-series .highcharts-point {
    stroke-linejoin: round;
    stroke: var(--vaadin-charts-background, #fff);
    stroke-width: 2px;
  }

  :where([styled-mode]) .highcharts-pyramid-series .highcharts-point-hover {
    fill-opacity: 0.75;
    transition: fill-opacity 50ms;
  }

  :where([styled-mode]) .highcharts-pyramid-series .highcharts-point-select {
    fill: inherit;
    stroke: inherit;
  }

  :where([styled-mode]) .highcharts-solidgauge-series .highcharts-point {
    stroke-width: 0;
  }

  :where([styled-mode]) .highcharts-treemap-series .highcharts-point {
    stroke-width: 2px;
    stroke: var(--vaadin-charts-background, #fff);
    transition: stroke 250ms, fill 250ms, fill-opacity 250ms;
  }

  :where([styled-mode]) .highcharts-treemap-series .highcharts-point-hover {
    stroke-width: 0px;
    stroke: var(--vaadin-charts-background, #fff);
    fill-opacity: 0.75;
    transition: stroke 25ms, fill 25ms, fill-opacity 25ms;
  }

  :where([styled-mode]) .highcharts-treemap-series .highcharts-above-level {
    display: none;
  }

  :where([styled-mode]) .highcharts-treemap-series .highcharts-internal-node {
    fill: none;
  }

  :where([styled-mode]) .highcharts-treemap-series .highcharts-internal-node-interactive {
    fill-opacity: 0.15;
    cursor: pointer;
  }

  :where([styled-mode]) .highcharts-treemap-series .highcharts-internal-node-interactive:hover {
    fill-opacity: 0.75;
  }

  :where([styled-mode]) .highcharts-vector-series .highcharts-point {
    fill: none;
    stroke-width: 2px;
  }

  :where([styled-mode]) .highcharts-windbarb-series .highcharts-point {
    fill: none;
    stroke-width: 2px;
  }

  :where([styled-mode]) .highcharts-lollipop-stem {
    stroke: var(--vaadin-charts-contrast, hsl(214, 35%, 15%));
  }

  :where([styled-mode]) .highcharts-focus-border {
    fill: none;
    stroke-width: 2px;
  }

  :where([styled-mode]) .highcharts-legend-item-hidden .highcharts-focus-border {
    fill: none !important;
  }

  /* Legend */
  :where([styled-mode]) .highcharts-legend-box {
    fill: none;
    stroke-width: 0;
  }

  :where([styled-mode]) .highcharts-legend-item > text {
    fill: var(--vaadin-charts-data-label, hsla(214, 40%, 16%, 0.94));
    font-weight: normal;
    font-size: 1em;
    cursor: pointer;
    stroke-width: 0;
  }

  :where([styled-mode]) .highcharts-legend-item > .highcharts-point {
    stroke-width: 0px;
  }

  :where([styled-mode]) .highcharts-legend-item:hover text {
    fill: var(--vaadin-charts-title-label, hsl(214, 35%, 15%));
  }

  :where([styled-mode]) .highcharts-legend-item-hidden * {
    fill: var(--vaadin-charts-disabled-label, hsla(214, 50%, 22%, 0.26)) !important;
    stroke: var(--vaadin-charts-disabled-label, hsla(214, 50%, 22%, 0.26)) !important;
    transition: fill 250ms;
  }

  :where([styled-mode]) .highcharts-legend-nav-active {
    fill: var(--vaadin-charts-button-label, hsl(214, 90%, 52%));
    cursor: pointer;
  }

  :where([styled-mode]) .highcharts-legend-nav-inactive {
    fill: var(--vaadin-charts-disabled-label, hsla(214, 50%, 22%, 0.26));
  }

  :where([styled-mode]) circle.highcharts-legend-nav-active,
  :where([styled-mode]) circle.highcharts-legend-nav-inactive {
    /* tracker */
    fill: rgba(192, 192, 192, 0.0001);
  }

  :where([styled-mode]) .highcharts-legend-title-box {
    fill: none;
    stroke-width: 0;
  }

  /* Bubble legend */
  :where([styled-mode]) .highcharts-bubble-legend-symbol {
    stroke-width: 2;
    fill-opacity: 0.5;
  }

  :where([styled-mode]) .highcharts-bubble-legend-connectors {
    stroke-width: 1;
  }

  :where([styled-mode]) .highcharts-bubble-legend-labels {
    fill: var(--vaadin-charts-data-label, hsla(214, 40%, 16%, 0.94));
  }

  /* Loading */
  :where([styled-mode]) .highcharts-loading {
    position: absolute;
    background-color: var(--vaadin-charts-background, #fff);
    opacity: 0.5;
    text-align: center;
    z-index: 10;
    transition: opacity 250ms;
  }

  :where([styled-mode]) .highcharts-loading-hidden {
    height: 0 !important;
    opacity: 0;
    overflow: hidden;
    transition: opacity 250ms, height 250ms step-end;
  }

  :where([styled-mode]) .highcharts-loading-inner {
    font-weight: normal;
    position: relative;
    top: 45%;
  }

  /* Plot bands and polar pane backgrounds */
  :where([styled-mode]) .highcharts-plot-band,
  :where([styled-mode]) .highcharts-pane {
    fill: var(--vaadin-charts-contrast, hsl(214, 35%, 15%));
    fill-opacity: 0.05;
  }

  :where([styled-mode]) .highcharts-plot-line {
    fill: none;
    stroke: var(--vaadin-charts-contrast-60pct, hsla(214, 43%, 19%, 0.61));
    stroke-width: 1px;
  }

  :where([styled-mode]) .highcharts-plot-line-label {
    fill: var(--vaadin-charts-data-label, hsla(214, 40%, 16%, 0.94));
  }

  /* Highcharts More and modules */
  :where([styled-mode]) .highcharts-boxplot-box {
    fill: var(--vaadin-charts-background, #fff);
  }

  :where([styled-mode]) .highcharts-boxplot-median {
    stroke-width: 2px;
  }

  :where([styled-mode]) .highcharts-bubble-series .highcharts-point {
    fill-opacity: 0.5;
  }

  :where([styled-mode]) .highcharts-errorbar-series .highcharts-point {
    stroke: var(--vaadin-charts-contrast, hsl(214, 35%, 15%));
  }

  :where([styled-mode]) .highcharts-gauge-series .highcharts-data-label-box {
    stroke: var(--vaadin-charts-grid-line, hsla(214, 53%, 23%, 0.16));
    stroke-width: 1px;
  }

  :where([styled-mode]) .highcharts-gauge-series .highcharts-dial {
    fill: var(--vaadin-charts-contrast, hsl(214, 35%, 15%));
    stroke-width: 0;
  }

  :where([styled-mode]) .highcharts-polygon-series .highcharts-graph {
    fill: inherit;
    stroke-width: 0;
  }

  :where([styled-mode]) .highcharts-waterfall-series .highcharts-graph {
    stroke: var(--vaadin-charts-contrast-60pct, hsla(214, 43%, 19%, 0.61));
    stroke-dasharray: 1, 3;
  }

  :where([styled-mode]) .highcharts-sankey-series .highcharts-point {
    stroke-width: 0;
  }

  :where([styled-mode]) .highcharts-sankey-series .highcharts-link {
    transition: fill 250ms, fill-opacity 250ms;
    fill-opacity: 0.5;
  }

  :where([styled-mode]) .highcharts-sankey-series .highcharts-point-hover.highcharts-link {
    transition: fill 50ms, fill-opacity 50ms;
    fill-opacity: 1;
  }

  :where([styled-mode]) .highcharts-venn-series .highcharts-point {
    fill-opacity: 0.75;
    stroke: var(--vaadin-charts-background, #fff);
    transition: stroke 250ms, fill-opacity 250ms;
  }

  :where([styled-mode]) .highcharts-venn-series .highcharts-point-hover {
    fill-opacity: 1;
    stroke: var(--vaadin-charts-background, #fff);
  }

  /* Highstock */
  :where([styled-mode]) .highcharts-navigator-mask-outside {
    fill-opacity: 0;
  }

  :where([styled-mode]) .highcharts-navigator-mask-inside {
    fill: var(--vaadin-charts-color-0, #5ac2f7);
    /* navigator.maskFill option */
    fill-opacity: 0.2;
    cursor: ew-resize;
  }

  :where([styled-mode]) .highcharts-navigator-outline {
    stroke: var(--vaadin-charts-grid-line, hsla(214, 53%, 23%, 0.16));
    fill: none;
  }

  :where([styled-mode]) .highcharts-navigator-handle {
    stroke: var(--vaadin-charts-contrast-20pct, hsla(214, 53%, 23%, 0.16));
    fill: var(--vaadin-charts-background, #fff);
    cursor: ew-resize;
  }

  :where([styled-mode]) .highcharts-navigator-series {
    fill: var(--vaadin-charts-color-1, #1676f3);
    stroke: var(--vaadin-charts-color-1, #1676f3);
  }

  :where([styled-mode]) .highcharts-navigator-series .highcharts-graph {
    stroke-width: 1px;
  }

  :where([styled-mode]) .highcharts-navigator-series .highcharts-area {
    fill-opacity: 0.05;
  }

  :where([styled-mode]) .highcharts-navigator-xaxis .highcharts-axis-line {
    stroke-width: 0;
  }

  :where([styled-mode]) .highcharts-navigator-xaxis .highcharts-grid-line {
    stroke-width: 1px;
    stroke: var(--vaadin-charts-grid-line, hsla(214, 53%, 23%, 0.16));
  }

  :where([styled-mode]) .highcharts-navigator-xaxis.highcharts-axis-labels {
    fill: var(--vaadin-charts-secondary-label, hsla(214, 42%, 18%, 0.72));
  }

  :where([styled-mode]) .highcharts-navigator-yaxis .highcharts-grid-line {
    stroke-width: 0;
  }

  :where([styled-mode]) .highcharts-scrollbar-thumb {
    fill: var(--vaadin-charts-contrast-20pct, hsla(214, 53%, 23%, 0.16));
  }

  :where([styled-mode]) .highcharts-scrollbar-button {
    fill: var(--vaadin-charts-background, #fff);
  }

  :where([styled-mode]) .highcharts-scrollbar-arrow {
    fill: var(--vaadin-charts-data-label, hsla(214, 40%, 16%, 0.94));
  }

  :where([styled-mode]) .highcharts-scrollbar-rifles {
    stroke: var(--vaadin-charts-data-label, hsla(214, 40%, 16%, 0.94));
    stroke-width: 1px;
  }

  :where([styled-mode]) .highcharts-scrollbar-track {
    fill: var(--vaadin-charts-contrast-5pct, hsla(214, 61%, 25%, 0.05));
  }

  :where([styled-mode]) .highcharts-button {
    fill: var(--vaadin-charts-button-background, hsla(214, 61%, 25%, 0.05));
    cursor: default;
    transition: fill 250ms;
  }

  :where([styled-mode]) .highcharts-button text {
    fill: var(--vaadin-charts-button-label, hsl(214, 90%, 52%));
    font-weight: 600;
  }

  :where([styled-mode]) .highcharts-button-hover {
    transition: fill 0ms;
    fill: var(--vaadin-charts-button-hover-background, hsla(214, 90%, 52%, 0.1));
    stroke-width: 0px;
  }

  :where([styled-mode]) .highcharts-button-hover text {
    fill: var(--vaadin-charts-button-label, hsl(214, 90%, 52%));
  }

  :where([styled-mode]) .highcharts-button-pressed {
    fill: var(--vaadin-charts-button-active-background, hsl(214, 90%, 52%));
  }

  :where([styled-mode]) .highcharts-button-pressed text {
    fill: var(--vaadin-charts-button-active-label, #fff);
  }

  :where([styled-mode]) .highcharts-button-disabled text {
    fill: var(--vaadin-charts-button-label, hsl(214, 90%, 52%));
  }

  :where([styled-mode]) .highcharts-range-selector-buttons > text {
    fill: var(--vaadin-charts-secondary-label, hsla(214, 42%, 18%, 0.72));
  }

  :where([styled-mode]) .highcharts-range-selector-buttons .highcharts-button {
    stroke-width: 0;
  }

  :where([styled-mode]) .highcharts-range-label rect {
    fill: none;
  }

  :where([styled-mode]) .highcharts-range-label text {
    fill: var(--vaadin-charts-secondary-label, hsla(214, 42%, 18%, 0.72));
  }

  :where([styled-mode]) .highcharts-range-input rect {
    fill: var(--vaadin-charts-contrast-10pct, hsla(214, 57%, 24%, 0.1));
    rx: 2;
    ry: 2;
  }

  :where([styled-mode]) .highcharts-range-input:hover rect {
    fill: var(--vaadin-charts-contrast-20pct, hsla(214, 53%, 23%, 0.16));
    transition: fill 250ms;
  }

  :where([styled-mode]) .highcharts-range-input text {
    fill: var(--vaadin-charts-data-label, hsla(214, 40%, 16%, 0.94));
  }

  :where([styled-mode]) input.highcharts-range-selector {
    position: absolute;
    border: 0;
    width: 1px;
    /* Chrome needs a pixel to see it */
    height: 1px;
    padding: 0;
    text-align: center;
    left: -9em;
    /* #4798 */
  }

  :where([styled-mode]) .highcharts-crosshair-label text {
    fill: var(--vaadin-charts-background, #fff);
    font-size: 1.1em;
  }

  :where([styled-mode]) .highcharts-crosshair-label .highcharts-label-box {
    fill: inherit;
  }

  :where([styled-mode]) .highcharts-candlestick-series .highcharts-point {
    stroke: var(--vaadin-charts-contrast-60pct, hsla(214, 43%, 19%, 0.61));
    stroke-width: 1px;
  }

  :where([styled-mode]) .highcharts-candlestick-series .highcharts-point-up {
    fill: var(--vaadin-charts-color-positive, #15c15d);
  }

  :where([styled-mode]) .highcharts-candlestick-series .highcharts-point-down {
    fill: var(--vaadin-charts-color-negative, #e24932);
  }

  :where([styled-mode]) .highcharts-ohlc-series .highcharts-point-hover {
    stroke-width: 3px;
  }

  :where([styled-mode]) .highcharts-flags-series .highcharts-point .highcharts-label-box {
    stroke: var(--vaadin-charts-grid-line, hsla(214, 53%, 23%, 0.16));
    fill: var(--vaadin-charts-background, #fff);
    transition: fill 250ms;
  }

  :where([styled-mode]) .highcharts-flags-series .highcharts-point-hover .highcharts-label-box {
    stroke: var(--vaadin-charts-contrast-60pct, hsla(214, 43%, 19%, 0.61));
    fill: var(--vaadin-charts-background, #fff);
  }

  :where([styled-mode]) .highcharts-flags-series .highcharts-point text {
    fill: var(--vaadin-charts-data-label, hsla(214, 40%, 16%, 0.94));
    font-size: 0.9em;
    font-weight: normal;
  }

  :where([styled-mode]) .highcharts-flags-series .highcharts-point-hover text {
    fill: var(--vaadin-charts-title-label, hsl(214, 35%, 15%));
  }

  /* Highmaps */
  :where([styled-mode]) .highcharts-map-series .highcharts-point {
    transition: fill 500ms, fill-opacity 500ms, stroke-width 250ms;
    stroke: var(--vaadin-charts-contrast-20pct, hsla(214, 53%, 23%, 0.16));
  }

  :where([styled-mode]) .highcharts-map-series .highcharts-point-hover {
    transition: fill 0ms, fill-opacity 0ms;
    fill-opacity: 0.5;
    stroke-width: 2px;
  }

  :where([styled-mode]) .highcharts-mapline-series .highcharts-point {
    fill: none;
  }

  :where([styled-mode]) .highcharts-heatmap-series .highcharts-point {
    stroke-width: 0;
  }

  :where([styled-mode]) .highcharts-map-navigation {
    font-size: 1.3em;
    font-weight: normal;
    text-align: center;
  }

  :where([styled-mode]) .highcharts-coloraxis {
    stroke-width: 0;
  }

  :where([styled-mode]) .highcharts-coloraxis-grid .highcharts-grid-line {
    stroke: var(--vaadin-charts-background, #fff);
  }

  :where([styled-mode]) .highcharts-coloraxis-marker {
    fill: var(--vaadin-charts-axis-label, hsla(214, 42%, 18%, 0.72));
    stroke-width: 0px;
  }

  :where([styled-mode]) .highcharts-null-point {
    fill: var(--vaadin-charts-contrast-5pct, hsla(214, 61%, 25%, 0.05));
    stroke: var(--vaadin-charts-contrast-60pct, hsla(214, 43%, 19%, 0.61));
  }

  /* 3d charts */
  :where([styled-mode]) .highcharts-3d-frame {
    fill: transparent;
  }

  /* Exporting module */
  :where([styled-mode]) .highcharts-contextbutton {
    fill: #fff;
    /* needed to capture hover */
    stroke: none;
    stroke-linecap: round;
  }

  :where([styled-mode]) .highcharts-contextbutton:hover {
    fill: #e6e6e6;
    stroke: #e6e6e6;
  }

  :where([styled-mode]) .highcharts-button-symbol {
    stroke: var(--vaadin-charts-secondary-label, hsla(214, 42%, 18%, 0.72));
    stroke-width: 3px;
  }

  :where([styled-mode]) .highcharts-menu {
    border: 1px solid #999;
    background: #fff;
    padding: 5px 0;
    box-shadow: 3px 3px 10px #888;
  }

  :where([styled-mode]) .highcharts-menu-item {
    padding: 0.5em 1em;
    background: none;
    color: var(--vaadin-charts-button-label, hsl(214, 90%, 52%));
    cursor: pointer;
    transition: background 250ms, color 250ms;
  }

  :where([styled-mode]) .highcharts-menu-item:hover {
    background: #335cad;
    color: #fff;
  }

  /* Drilldown module */
  :where([styled-mode]) .highcharts-drilldown-point {
    cursor: pointer;
  }

  :where([styled-mode]) .highcharts-drilldown-data-label text,
  :where([styled-mode]) text.highcharts-drilldown-data-label,
  :where([styled-mode]) .highcharts-drilldown-axis-label {
    cursor: pointer;
    fill: var(--vaadin-charts-button-label, hsl(214, 90%, 52%));
    font-weight: normal;
    text-decoration: underline;
  }

  /* No-data module */
  :where([styled-mode]) .highcharts-no-data text {
    font-weight: normal;
    font-size: 1rem;
    fill: var(--vaadin-charts-secondary-label, hsla(214, 42%, 18%, 0.72));
  }

  /* Drag-panes module */
  :where([styled-mode]) .highcharts-axis-resizer {
    cursor: ns-resize;
    stroke: black;
    stroke-width: 2px;
  }

  /* Bullet type series */
  :where([styled-mode]) .highcharts-bullet-target {
    stroke-width: 0;
  }

  /* Lineargauge type series */
  :where([styled-mode]) .highcharts-lineargauge-target {
    stroke-width: 1px;
    stroke: var(--vaadin-charts-contrast-60pct, hsla(214, 43%, 19%, 0.61));
  }

  :where([styled-mode]) .highcharts-lineargauge-target-line {
    stroke-width: 1px;
    stroke: var(--vaadin-charts-contrast-60pct, hsla(214, 43%, 19%, 0.61));
  }

  /* Annotations module */
  :where([styled-mode]) .highcharts-annotation-label-box {
    stroke-width: 1px;
    stroke: var(--vaadin-charts-contrast, hsl(214, 35%, 15%));
    fill: var(--vaadin-charts-contrast, hsl(214, 35%, 15%));
    fill-opacity: 0.75;
  }

  :where([styled-mode]) .highcharts-annotation-label text {
    fill: var(--vaadin-charts-disabled-label, hsla(214, 50%, 22%, 0.26));
  }

  /* Gantt */
  :where([styled-mode]) .highcharts-treegrid-node-collapsed,
  :where([styled-mode]) .highcharts-treegrid-node-expanded {
    cursor: pointer;
  }

  :where([styled-mode]) .highcharts-point-connecting-path {
    fill: none;
  }

  :where([styled-mode]) .highcharts-grid-axis .highcharts-tick {
    stroke-width: 1px;
  }

  :where([styled-mode]) .highcharts-grid-axis .highcharts-axis-line {
    stroke-width: 1px;
  }

  /* RTL styles */
  :host([dir='rtl']) :where([styled-mode]) .highcharts-container {
    text-align: right;
  }

  :host([dir='rtl']) :where([styled-mode]) input.highcharts-range-selector {
    left: auto;
    right: -9em;
  }

  :host([dir='rtl']) :where([styled-mode]) .highcharts-menu {
    box-shadow: -3px 3px 10px #888;
  }

  /* https://github.com/highcharts/highcharts/issues/16282 */
  /* without this the resize callback always calls __reflow */
  ul[aria-hidden='false'] {
    margin: 0px;
  }
`;registerStyles$1("vaadin-chart",chartBaseTheme,{moduleId:"vaadin-chart-base-theme"});const chartColors=css$e`
  :host {
    --vaadin-charts-color-0: #5ac2f7;
    --vaadin-charts-color-1: #1676f3;
    --vaadin-charts-color-2: #ff7d94;
    --vaadin-charts-color-3: #c5164e;
    --vaadin-charts-color-4: #15c15d;
    --vaadin-charts-color-5: #0e8151;
    --vaadin-charts-color-6: #c18ed2;
    --vaadin-charts-color-7: #9233b3;
    --vaadin-charts-color-8: #fda253;
    --vaadin-charts-color-9: #e24932;
    --vaadin-charts-color-positive: var(--vaadin-charts-color-4, #15c15d);
    --vaadin-charts-color-negative: var(--vaadin-charts-color-9, #e24932);
  }

  :host([theme~='gradient']) {
    --vaadin-charts-color-0: #1676f3;
    --vaadin-charts-color-1: #13bbf0;
    --vaadin-charts-color-2: #1ee;
    --vaadin-charts-color-3: #0cd9bf;
    --vaadin-charts-color-4: #06be81;
    --vaadin-charts-color-5: #00a344;
    --vaadin-charts-color-6: #41c639;
    --vaadin-charts-color-7: #8aed2c;
    --vaadin-charts-color-8: #c0e632;
    --vaadin-charts-color-9: #f6db3a;
    --vaadin-charts-color-positive: var(--vaadin-charts-color-6);
    --vaadin-charts-color-negative: var(--vaadin-charts-color-1);
  }

  :host([theme~='monotone']) {
    --vaadin-charts-color-0: #1676f3;
    --vaadin-charts-color-1: #4795f5;
    --vaadin-charts-color-2: #71b0f7;
    --vaadin-charts-color-3: #a0cef9;
    --vaadin-charts-color-4: #bce0fa;
    --vaadin-charts-color-5: #a8d8ed;
    --vaadin-charts-color-6: #7fc3dd;
    --vaadin-charts-color-7: #54adcc;
    --vaadin-charts-color-8: #2b99bc;
    --vaadin-charts-color-9: #0284ac;
    --vaadin-charts-color-positive: var(--vaadin-charts-color-3);
    --vaadin-charts-color-negative: var(--vaadin-charts-color-9);
  }

  :host([theme~='classic']) {
    --vaadin-charts-color-0: #7cb5ec;
    --vaadin-charts-color-1: #434348;
    --vaadin-charts-color-2: #90ed7d;
    --vaadin-charts-color-3: #f7a35c;
    --vaadin-charts-color-4: #8085e9;
    --vaadin-charts-color-5: #f15c80;
    --vaadin-charts-color-6: #e4d354;
    --vaadin-charts-color-7: #2b908f;
    --vaadin-charts-color-8: #f45b5b;
    --vaadin-charts-color-9: #91e8e1;
  }
`,chartTheme=css$e`
  :host {
    --vaadin-charts-background: var(--lumo-base-color);
    --vaadin-charts-title-label: var(--lumo-header-text-color);
    --vaadin-charts-axis-title: var(--lumo-secondary-text-color);
    --vaadin-charts-axis-label: var(--lumo-secondary-text-color);
    --vaadin-charts-data-label: var(--lumo-body-text-color);
    --vaadin-charts-secondary-label: var(--lumo-secondary-text-color);
    --vaadin-charts-axis-line: var(--lumo-contrast-5pct);
    --vaadin-charts-grid-line: var(--lumo-contrast-20pct);
    --vaadin-charts-disabled-label: var(--lumo-disabled-text-color);
    --vaadin-charts-contrast: var(--lumo-contrast);
    --vaadin-charts-contrast-5pct: var(--lumo-contrast-5pct);
    --vaadin-charts-contrast-10pct: var(--lumo-contrast-10pct);
    --vaadin-charts-contrast-20pct: var(--lumo-contrast-20pct);
    --vaadin-charts-contrast-60pct: var(--lumo-contrast-60pct);
    --vaadin-charts-tooltip-background: var(--lumo-base-color);
    --vaadin-charts-tooltip-border-color: inherit;
    --vaadin-charts-button-label: var(--lumo-primary-text-color);
    --vaadin-charts-button-background: var(--lumo-contrast-5pct);
    --vaadin-charts-button-hover-background: var(--lumo-primary-color-10pct);
    --vaadin-charts-button-active-label: var(--lumo-primary-contrast-color);
    --vaadin-charts-button-active-background: var(--lumo-primary-color);
    --vaadin-charts-xaxis-line-width: 0;
    --vaadin-charts-tooltip-background-opacity: 1;
    font-family: var(--lumo-font-family);
  }
`;registerStyles$1("vaadin-chart",[chartColors,chartTheme],{moduleId:"lumo-chart"});var w=typeof win<"u"?win:typeof window<"u"?window:{},Globals;(function(n){n.SVG_NS="http://www.w3.org/2000/svg",n.product="Highcharts",n.version="9.2.2",n.win=w,n.doc=n.win.document,n.svg=n.doc&&n.doc.createElementNS&&!!n.doc.createElementNS(n.SVG_NS,"svg").createSVGRect,n.userAgent=n.win.navigator&&n.win.navigator.userAgent||"",n.isChrome=n.userAgent.indexOf("Chrome")!==-1,n.isFirefox=n.userAgent.indexOf("Firefox")!==-1,n.isMS=/(edge|msie|trident)/i.test(n.userAgent)&&!n.win.opera,n.isSafari=!n.isChrome&&n.userAgent.indexOf("Safari")!==-1,n.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(n.userAgent),n.isWebKit=n.userAgent.indexOf("AppleWebKit")!==-1,n.deg2rad=Math.PI*2/360,n.hasBidiBug=n.isFirefox&&parseInt(n.userAgent.split("Firefox/")[1],10)<4,n.hasTouch=!!n.win.TouchEvent,n.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],n.noop=function(){},n.supportsPassiveEvents=function(){var i=!1;if(!n.isMS){var t=Object.defineProperty({},"passive",{get:function(){i=!0}});n.win.addEventListener&&n.win.removeEventListener&&(n.win.addEventListener("testPassive",n.noop,t),n.win.removeEventListener("testPassive",n.noop,t))}return i}(),n.charts=[],n.dateFormats={},n.seriesTypes={},n.symbolSizes={},n.chartCount=0})(Globals||(Globals={}));const H=Globals;var charts$5=H.charts,doc$m=H.doc,win$g=H.win;function error$a(n,i,t,r){var o=i?"Highcharts error":"Highcharts warning";n===32&&(n=o+": Deprecated member");var a=isNumber$R(n),s=a?o+" #"+n+": www.highcharts.com/errors/"+n+"/":n.toString(),l=function(){if(i)throw new Error(s);win$g.console&&error$a.messages.indexOf(s)===-1&&console.warn(s)};if(typeof r<"u"){var c="";a&&(s+="?"),objectEach$B(r,function(h,u){c+=`
 - `+u+": "+h,a&&(s+=encodeURI(u)+"="+encodeURI(h))}),s+=c}fireEvent$B(H,"displayError",{chart:t,code:n,message:s,params:r},l),error$a.messages.push(s)}(function(n){n.messages=[]})(error$a||(error$a={}));function merge$1p(){var n,i=arguments,t={},r=function(a,s){return typeof a!="object"&&(a={}),objectEach$B(s,function(l,c){c==="__proto__"||c==="constructor"||(isObject$f(l,!0)&&!isClass(l)&&!isDOMElement(l)?a[c]=r(a[c]||{},l):a[c]=s[c])}),a};i[0]===!0&&(t=i[1],i=Array.prototype.slice.call(i,2));var o=i.length;for(n=0;n<o;n++)t=r(t,i[n]);return t}function clamp$k(n,i,t){return n>i?n<t?n:t:i}function cleanRecursively$2(n,i){var t={};return objectEach$B(n,function(r,o){var a;isObject$f(n[o],!0)&&!n.nodeType&&i[o]?(a=cleanRecursively$2(n[o],i[o]),Object.keys(a).length&&(t[o]=a)):(isObject$f(n[o])||n[o]!==i[o])&&(t[o]=n[o])}),t}function pInt$a(n,i){return parseInt(n,i||10)}function isString$c(n){return typeof n=="string"}function isArray$n(n){var i=Object.prototype.toString.call(n);return i==="[object Array]"||i==="[object Array Iterator]"}function isObject$f(n,i){return!!n&&typeof n=="object"&&(!i||!isArray$n(n))}function isDOMElement(n){return isObject$f(n)&&typeof n.nodeType=="number"}function isClass(n){var i=n&&n.constructor;return!!(isObject$f(n,!0)&&!isDOMElement(n)&&i&&i.name&&i.name!=="Object")}function isNumber$R(n){return typeof n=="number"&&!isNaN(n)&&n<1/0&&n>-1/0}function erase$9(n,i){for(var t=n.length;t--;)if(n[t]===i){n.splice(t,1);break}}function defined$W(n){return typeof n<"u"&&n!==null}function attr$8(n,i,t){var r;return isString$c(i)?defined$W(t)?n.setAttribute(i,t):n&&n.getAttribute&&(r=n.getAttribute(i),!r&&i==="class"&&(r=n.getAttribute(i+"Name"))):objectEach$B(i,function(o,a){n.setAttribute(a,o)}),r}function splat$j(n){return isArray$n(n)?n:[n]}function syncTimeout$9(n,i,t){return i>0?setTimeout(n,i,t):(n.call(0,t),-1)}function internalClearTimeout(n){defined$W(n)&&clearTimeout(n)}function extend$1u(n,i){var t;n||(n={});for(t in i)n[t]=i[t];return n}function pick$1B(){for(var n=arguments,i=n.length,t=0;t<i;t++){var r=n[t];if(typeof r<"u"&&r!==null)return r}}function css$d(n,i){H.isMS&&!H.svg&&i&&typeof i.opacity<"u"&&(i.filter="alpha(opacity="+i.opacity*100+")"),extend$1u(n.style,i)}function createElement$b(n,i,t,r,o){var a=doc$m.createElement(n);return i&&extend$1u(a,i),o&&css$d(a,{padding:"0",border:"none",margin:"0"}),t&&css$d(a,t),r&&r.appendChild(a),a}function extendClass$2(n,i){var t=function(){};return t.prototype=new n,extend$1u(t.prototype,i),t}function pad$2(n,i,t){return new Array((i||2)+1-String(n).replace("-","").length).join(t||"0")+n}function relativeLength$a(n,i,t){return/%$/.test(n)?i*parseFloat(n)/100+(t||0):parseFloat(n)}function wrap$d(n,i,t){var r=n[i];n[i]=function(){var o=Array.prototype.slice.call(arguments),a=arguments,s=this;s.proceed=function(){r.apply(s,arguments.length?arguments:a)},o.unshift(r);var l=t.apply(this,o);return s.proceed=null,l}}function getMagnitude$3(n){return Math.pow(10,Math.floor(Math.log(n)/Math.LN10))}function normalizeTickInterval$3(n,i,t,r,o){var a,s=n;t=pick$1B(t,1);var l=n/t;for(i||(i=o?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],r===!1&&(t===1?i=i.filter(function(c){return c%1===0}):t<=.1&&(i=[1/t]))),a=0;a<i.length&&(s=i[a],!(o&&s*t>=n||!o&&l<=(i[a]+(i[a+1]||i[a]))/2));a++);return s=correctFloat$d(s*t,-Math.round(Math.log(.001)/Math.LN10)),s}function stableSort$7(n,i){var t=n.length,r,o;for(o=0;o<t;o++)n[o].safeI=o;for(n.sort(function(a,s){return r=i(a,s),r===0?a.safeI-s.safeI:r}),o=0;o<t;o++)delete n[o].safeI}function arrayMin$9(n){for(var i=n.length,t=n[0];i--;)n[i]<t&&(t=n[i]);return t}function arrayMax$a(n){for(var i=n.length,t=n[0];i--;)n[i]>t&&(t=n[i]);return t}function destroyObjectProperties$a(n,i){objectEach$B(n,function(t,r){t&&t!==i&&t.destroy&&t.destroy(),delete n[r]})}function discardElement$7(n){garbageBin||(garbageBin=createElement$b("div")),n&&garbageBin.appendChild(n),garbageBin.innerHTML=""}var garbageBin;function correctFloat$d(n,i){return parseFloat(n.toPrecision(i||14))}var timeUnits$3={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:24*36e5,week:7*24*36e5,month:28*24*36e5,year:364*24*36e5};Math.easeInOutSine=function(n){return-.5*(Math.cos(Math.PI*n)-1)};function getNestedProperty$3(n,i){for(var t=n.split(".");t.length&&defined$W(i);){var r=t.shift();if(typeof r>"u"||r==="__proto__")return;var o=i[r];if(!defined$W(o)||typeof o=="function"||typeof o.nodeType=="number"||o===win$g)return;i=o}return i}function getStyle$2(n,i,t){var r=H.getStyle||getStyle$2,o;if(i==="width"){var a=Math.min(n.offsetWidth,n.scrollWidth),s=n.getBoundingClientRect&&n.getBoundingClientRect().width;return s<a&&s>=a-1&&(a=Math.floor(s)),Math.max(0,a-(r(n,"padding-left",!0)||0)-(r(n,"padding-right",!0)||0))}if(i==="height")return Math.max(0,Math.min(n.offsetHeight,n.scrollHeight)-(r(n,"padding-top",!0)||0)-(r(n,"padding-bottom",!0)||0));win$g.getComputedStyle||error$a(27,!0);var l=win$g.getComputedStyle(n,void 0);return l&&(o=l.getPropertyValue(i),pick$1B(t,i!=="opacity")&&(o=pInt$a(o))),o}function inArray(n,i,t){return error$a(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),i.indexOf(n,t)}var find$j=Array.prototype.find?function(n,i){return n.find(i)}:function(n,i){var t,r=n.length;for(t=0;t<r;t++)if(i(n[t],t))return n[t]};function keys(n){return error$a(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(n)}function offset$1(n){var i=doc$m.documentElement,t=n.parentElement||n.parentNode?n.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:t.top+(win$g.pageYOffset||i.scrollTop)-(i.clientTop||0),left:t.left+(win$g.pageXOffset||i.scrollLeft)-(i.clientLeft||0),width:t.width,height:t.height}}function objectEach$B(n,i,t){for(var r in n)Object.hasOwnProperty.call(n,r)&&i.call(t||n[r],n[r],r,n)}objectEach$B({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(n,i){H[i]=function(t){var r;return error$a(32,!1,void 0,(r={},r["Highcharts."+i]="use Array."+n,r)),Array.prototype[n].apply(t,[].slice.call(arguments,1))}});function addEvent$12(n,i,t,r){r===void 0&&(r={});var o=typeof n=="function"&&n.prototype||n;Object.hasOwnProperty.call(o,"hcEvents")||(o.hcEvents={});var a=o.hcEvents;H.Point&&n instanceof H.Point&&n.series&&n.series.chart&&(n.series.chart.runTrackerClick=!0);var s=n.addEventListener||H.addEventListenerPolyfill;s&&s.call(n,i,t,H.supportsPassiveEvents?{passive:r.passive===void 0?i.indexOf("touch")!==-1:r.passive,capture:!1}:!1),a[i]||(a[i]=[]);var l={fn:t,order:typeof r.order=="number"?r.order:1/0};return a[i].push(l),a[i].sort(function(c,h){return c.order-h.order}),function(){removeEvent$c(n,i,t)}}function removeEvent$c(n,i,t){function r(c,h){var u=n.removeEventListener||H.removeEventListenerPolyfill;u&&u.call(n,c,h,!1)}function o(c){var h,u;n.nodeName&&(i?(h={},h[i]=!0):h=c,objectEach$B(h,function(d,f){if(c[f])for(u=c[f].length;u--;)r(f,c[f][u].fn)}))}var a=typeof n=="function"&&n.prototype||n;if(Object.hasOwnProperty.call(a,"hcEvents")){var s=a.hcEvents;if(i){var l=s[i]||[];t?(s[i]=l.filter(function(c){return t!==c.fn}),r(i,t)):(o(s),s[i]=[])}else o(s),delete a.hcEvents}}function fireEvent$B(n,i,t,r){var o;if(t=t||{},doc$m.createEvent&&(n.dispatchEvent||n.fireEvent&&n!==H))o=doc$m.createEvent("Events"),o.initEvent(i,!0,!0),t=extend$1u(o,t),n.dispatchEvent?n.dispatchEvent(t):n.fireEvent(i,t);else if(n.hcEvents){t.target||extend$1u(t,{preventDefault:function(){t.defaultPrevented=!0},target:n,type:i});for(var a=[],s=n,l=!1;s.hcEvents;)Object.hasOwnProperty.call(s,"hcEvents")&&s.hcEvents[i]&&(a.length&&(l=!0),a.unshift.apply(a,s.hcEvents[i])),s=Object.getPrototypeOf(s);l&&a.sort(function(c,h){return c.order-h.order}),a.forEach(function(c){c.fn.call(n,t)===!1&&t.preventDefault()})}r&&!t.defaultPrevented&&r.call(n,t)}var serialMode,uniqueKey$8=function(){var n=Math.random().toString(36).substring(2,9)+"-",i=0;return function(){return"highcharts-"+(serialMode?"":n)+i++}}();function useSerialIds(n){return serialMode=pick$1B(n,serialMode)}function isFunction$5(n){return typeof n=="function"}win$g.jQuery&&(win$g.jQuery.fn.highcharts=function(){var n=[].slice.call(arguments);if(this[0])return n[0]?(new H[isString$c(n[0])?n.shift():"Chart"](this[0],n[0],n[1]),this):charts$5[attr$8(this[0],"data-highcharts-chart")]});var Utilities={addEvent:addEvent$12,arrayMax:arrayMax$a,arrayMin:arrayMin$9,attr:attr$8,clamp:clamp$k,cleanRecursively:cleanRecursively$2,clearTimeout:internalClearTimeout,correctFloat:correctFloat$d,createElement:createElement$b,css:css$d,defined:defined$W,destroyObjectProperties:destroyObjectProperties$a,discardElement:discardElement$7,erase:erase$9,error:error$a,extend:extend$1u,extendClass:extendClass$2,find:find$j,fireEvent:fireEvent$B,getMagnitude:getMagnitude$3,getNestedProperty:getNestedProperty$3,getStyle:getStyle$2,inArray,isArray:isArray$n,isClass,isDOMElement,isFunction:isFunction$5,isNumber:isNumber$R,isObject:isObject$f,isString:isString$c,keys,merge:merge$1p,normalizeTickInterval:normalizeTickInterval$3,objectEach:objectEach$B,offset:offset$1,pad:pad$2,pick:pick$1B,pInt:pInt$a,relativeLength:relativeLength$a,removeEvent:removeEvent$c,splat:splat$j,stableSort:stableSort$7,syncTimeout:syncTimeout$9,timeUnits:timeUnits$3,uniqueKey:uniqueKey$8,useSerialIds,wrap:wrap$d},palette={colors:["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"],backgroundColor:"#ffffff",neutralColor100:"#000000",neutralColor80:"#333333",neutralColor60:"#666666",neutralColor40:"#999999",neutralColor20:"#cccccc",neutralColor10:"#e6e6e6",neutralColor5:"#f2f2f2",neutralColor3:"#f7f7f7",highlightColor100:"#003399",highlightColor80:"#335cad",highlightColor60:"#6685c2",highlightColor20:"#ccd6eb",highlightColor10:"#e6ebf5",positiveColor:"#06b535",negativeColor:"#f21313"},ChartDefaults={panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},zoomBySingleTouch:!1,width:null,height:null,borderColor:palette.highlightColor80,backgroundColor:palette.backgroundColor,plotBorderColor:palette.neutralColor20},isNumber$Q=Utilities.isNumber,merge$1o=Utilities.merge,pInt$9=Utilities.pInt,Color=function(){function n(i){this.rgba=[NaN,NaN,NaN,NaN],this.input=i;var t=H.Color;if(t&&t!==n)return new t(i);if(!(this instanceof n))return new n(i);this.init(i)}return n.parse=function(i){return i?new n(i):n.None},n.prototype.init=function(i){var t,r,o,a;if(typeof i=="object"&&typeof i.stops<"u")this.stops=i.stops.map(function(c){return new n(c[1])});else if(typeof i=="string"){if(this.input=i=n.names[i.toLowerCase()]||i,i.charAt(0)==="#"){var s=i.length,l=parseInt(i.substr(1),16);s===7?r=[(l&16711680)>>16,(l&65280)>>8,l&255,1]:s===4&&(r=[(l&3840)>>4|(l&3840)>>8,(l&240)>>4|l&240,(l&15)<<4|l&15,1])}if(!r)for(o=n.parsers.length;o--&&!r;)a=n.parsers[o],t=a.regex.exec(i),t&&(r=a.parse(t))}r&&(this.rgba=r)},n.prototype.get=function(i){var t=this.input,r=this.rgba;if(typeof t=="object"&&typeof this.stops<"u"){var o=merge$1o(t);return o.stops=[].slice.call(o.stops),this.stops.forEach(function(a,s){o.stops[s]=[o.stops[s][0],a.get(i)]}),o}return r&&isNumber$Q(r[0])?i==="rgb"||!i&&r[3]===1?"rgb("+r[0]+","+r[1]+","+r[2]+")":i==="a"?""+r[3]:"rgba("+r.join(",")+")":t},n.prototype.brighten=function(i){var t=this.rgba;if(this.stops)this.stops.forEach(function(o){o.brighten(i)});else if(isNumber$Q(i)&&i!==0)for(var r=0;r<3;r++)t[r]+=pInt$9(i*255),t[r]<0&&(t[r]=0),t[r]>255&&(t[r]=255);return this},n.prototype.setOpacity=function(i){return this.rgba[3]=i,this},n.prototype.tweenTo=function(i,t){var r=this.rgba,o=i.rgba;if(!isNumber$Q(r[0])||!isNumber$Q(o[0]))return i.input||"none";var a=o[3]!==1||r[3]!==1;return(a?"rgba(":"rgb(")+Math.round(o[0]+(r[0]-o[0])*(1-t))+","+Math.round(o[1]+(r[1]-o[1])*(1-t))+","+Math.round(o[2]+(r[2]-o[2])*(1-t))+(a?","+(o[3]+(r[3]-o[3])*(1-t)):"")+")"},n.names={white:"#ffffff",black:"#000000"},n.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(i){return[pInt$9(i[1]),pInt$9(i[2]),pInt$9(i[3]),parseFloat(i[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(i){return[pInt$9(i[1]),pInt$9(i[2]),pInt$9(i[3]),1]}}],n.None=new n(""),n}(),win$f=H.win,defined$V=Utilities.defined,error$9=Utilities.error,extend$1t=Utilities.extend,isObject$e=Utilities.isObject,merge$1n=Utilities.merge,objectEach$A=Utilities.objectEach,pad$1=Utilities.pad,pick$1A=Utilities.pick,splat$i=Utilities.splat,timeUnits$2=Utilities.timeUnits,hasNewSafariBug=H.isSafari&&win$f.Intl&&win$f.Intl.DateTimeFormat.prototype.formatRange,hasOldSafariBug=H.isSafari&&win$f.Intl&&!win$f.Intl.DateTimeFormat.prototype.formatRange,Time=function(){function n(i){this.options={},this.useUTC=!1,this.variableTimezone=!1,this.Date=win$f.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(i)}return n.prototype.get=function(i,t){if(this.variableTimezone||this.timezoneOffset){var r=t.getTime(),o=r-this.getTimezoneOffset(t);t.setTime(o);var a=t["getUTC"+i]();return t.setTime(r),a}return this.useUTC?t["getUTC"+i]():t["get"+i]()},n.prototype.set=function(i,t,r){if(this.variableTimezone||this.timezoneOffset){if(i==="Milliseconds"||i==="Seconds"||i==="Minutes"&&this.getTimezoneOffset(t)%36e5===0)return t["setUTC"+i](r);var o=this.getTimezoneOffset(t),a=t.getTime()-o;t.setTime(a),t["setUTC"+i](r);var s=this.getTimezoneOffset(t);return a=t.getTime()+s,t.setTime(a)}return this.useUTC||hasNewSafariBug&&i==="FullYear"?t["setUTC"+i](r):t["set"+i](r)},n.prototype.update=function(i){var t=pick$1A(i&&i.useUTC,!0);this.options=i=merge$1n(!0,this.options||{},i),this.Date=i.Date||win$f.Date||Date,this.useUTC=t,this.timezoneOffset=t&&i.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=t&&!!(i.getTimezoneOffset||i.timezone)},n.prototype.makeTime=function(i,t,r,o,a,s){var l,c,h;return this.useUTC?(l=this.Date.UTC.apply(0,arguments),c=this.getTimezoneOffset(l),l+=c,h=this.getTimezoneOffset(l),c!==h?l+=h-c:c-36e5===this.getTimezoneOffset(l-36e5)&&!hasOldSafariBug&&(l-=36e5)):l=new this.Date(i,t,pick$1A(r,1),pick$1A(o,0),pick$1A(a,0),pick$1A(s,0)).getTime(),l},n.prototype.timezoneOffsetFunction=function(){var i=this,t=this.options,r=t.moment||win$f.moment;if(!this.useUTC)return function(o){return new Date(o.toString()).getTimezoneOffset()*6e4};if(t.timezone)if(!r)error$9(25);else return function(o){return-r.tz(o,t.timezone).utcOffset()*6e4};return this.useUTC&&t.getTimezoneOffset?function(o){return t.getTimezoneOffset(o.valueOf())*6e4}:function(){return(i.timezoneOffset||0)*6e4}},n.prototype.dateFormat=function(i,t,r){if(!defined$V(t)||isNaN(t))return H.defaultOptions.lang&&H.defaultOptions.lang.invalidDate||"";i=pick$1A(i,"%Y-%m-%d %H:%M:%S");var o=this,a=new this.Date(t),s=this.get("Hours",a),l=this.get("Day",a),c=this.get("Date",a),h=this.get("Month",a),u=this.get("FullYear",a),d=H.defaultOptions.lang,f=d&&d.weekdays,p=d&&d.shortWeekdays,m=extend$1t({a:p?p[l]:f[l].substr(0,3),A:f[l],d:pad$1(c),e:pad$1(c,2," "),w:l,b:d.shortMonths[h],B:d.months[h],m:pad$1(h+1),o:h+1,y:u.toString().substr(2,2),Y:u,H:pad$1(s),k:s,I:pad$1(s%12||12),l:s%12||12,M:pad$1(this.get("Minutes",a)),p:s<12?"AM":"PM",P:s<12?"am":"pm",S:pad$1(a.getSeconds()),L:pad$1(Math.floor(t%1e3),3)},H.dateFormats);return objectEach$A(m,function(g,v){for(;i.indexOf("%"+v)!==-1;)i=i.replace("%"+v,typeof g=="function"?g.call(o,t):g)}),r?i.substr(0,1).toUpperCase()+i.substr(1):i},n.prototype.resolveDTLFormat=function(i){return isObject$e(i,!0)?i:(i=splat$i(i),{main:i[0],from:i[1],to:i[2]})},n.prototype.getTimeTicks=function(i,t,r,o){var a=this,s=a.Date,l=[],c={},h=new s(t),u=i.unitRange,d=i.count||1,f,p,m,g;if(o=pick$1A(o,1),defined$V(t)){a.set("Milliseconds",h,u>=timeUnits$2.second?0:d*Math.floor(a.get("Milliseconds",h)/d)),u>=timeUnits$2.second&&a.set("Seconds",h,u>=timeUnits$2.minute?0:d*Math.floor(a.get("Seconds",h)/d)),u>=timeUnits$2.minute&&a.set("Minutes",h,u>=timeUnits$2.hour?0:d*Math.floor(a.get("Minutes",h)/d)),u>=timeUnits$2.hour&&a.set("Hours",h,u>=timeUnits$2.day?0:d*Math.floor(a.get("Hours",h)/d)),u>=timeUnits$2.day&&a.set("Date",h,u>=timeUnits$2.month?1:Math.max(1,d*Math.floor(a.get("Date",h)/d))),u>=timeUnits$2.month&&(a.set("Month",h,u>=timeUnits$2.year?0:d*Math.floor(a.get("Month",h)/d)),p=a.get("FullYear",h)),u>=timeUnits$2.year&&(p-=p%d,a.set("FullYear",h,p)),u===timeUnits$2.week&&(g=a.get("Day",h),a.set("Date",h,a.get("Date",h)-g+o+(g<o?-7:0))),p=a.get("FullYear",h);var v=a.get("Month",h),_=a.get("Date",h),y=a.get("Hours",h);t=h.getTime(),(a.variableTimezone||!a.useUTC)&&defined$V(r)&&(m=r-t>4*timeUnits$2.month||a.getTimezoneOffset(t)!==a.getTimezoneOffset(r));var b=h.getTime();for(f=1;b<r;)l.push(b),u===timeUnits$2.year?b=a.makeTime(p+f*d,0):u===timeUnits$2.month?b=a.makeTime(p,v+f*d):m&&(u===timeUnits$2.day||u===timeUnits$2.week)?b=a.makeTime(p,v,_+f*d*(u===timeUnits$2.day?1:7)):m&&u===timeUnits$2.hour&&d>1?b=a.makeTime(p,v,_,y+f*d):b+=u*d,f++;l.push(b),u<=timeUnits$2.hour&&l.length<1e4&&l.forEach(function(x){x%18e5===0&&a.dateFormat("%H%M%S%L",x)==="000000000"&&(c[x]="day")})}return l.info=extend$1t(i,{higherRanks:c,totalRange:u*d}),l},n.prototype.getDateFormat=function(i,t,r,o){var a=this.dateFormat("%m-%d %H:%M:%S.%L",t),s="01-01 00:00:00.000",l={millisecond:15,second:12,minute:9,hour:6,day:3},c,h,u="millisecond";for(h in timeUnits$2){if(i===timeUnits$2.week&&+this.dateFormat("%w",t)===r&&a.substr(6)===s.substr(6)){h="week";break}if(timeUnits$2[h]>i){h=u;break}if(l[h]&&a.substr(l[h])!==s.substr(l[h]))break;h!=="week"&&(u=h)}return h&&(c=this.resolveDTLFormat(o[h]).main),c},n}(),color$g=Color.parse,isTouchDevice$4=H.isTouchDevice,svg$5=H.svg,merge$1m=Utilities.merge,defaultOptions$g={colors:palette.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:ChartDefaults,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:palette.neutralColor80}},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:palette.neutralColor40,borderRadius:0,navigation:{activeColor:palette.highlightColor100,inactiveColor:palette.neutralColor20},itemStyle:{color:palette.neutralColor80,cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:palette.neutralColor100},itemHiddenStyle:{color:palette.neutralColor20},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:palette.backgroundColor,opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:svg$5,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:isTouchDevice$4?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:color$g(palette.neutralColor3).setOpacity(.85).get(),borderWidth:1,shadow:!0,stickOnContact:!1,style:{color:palette.neutralColor80,cursor:"default",fontSize:"12px",whiteSpace:"nowrap"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:palette.neutralColor40,fontSize:"9px"},text:"Highcharts.com"}};defaultOptions$g.chart.styledMode=!1;var defaultTime$2=new Time(merge$1m(defaultOptions$g.global,defaultOptions$g.time));function getOptions$3(){return defaultOptions$g}function setOptions$2(n){return merge$1m(!0,defaultOptions$g,n),(n.time||n.global)&&(H.time?H.time.update(merge$1m(defaultOptions$g.global,defaultOptions$g.time,n.global,n.time)):H.time=defaultTime$2),defaultOptions$g}var DefaultOptions={defaultOptions:defaultOptions$g,defaultTime:defaultTime$2,getOptions:getOptions$3,setOptions:setOptions$2},color$f=Color.parse,win$e=H.win,isNumber$P=Utilities.isNumber,objectEach$z=Utilities.objectEach,Fx=function(){function n(i,t,r){this.pos=NaN,this.options=t,this.elem=i,this.prop=r}return n.prototype.dSetter=function(){var i=this.paths,t=i&&i[0],r=i&&i[1],o=this.now||0,a=[];if(o===1||!t||!r)a=this.toD||[];else if(t.length===r.length&&o<1)for(var s=0;s<r.length;s++){for(var l=t[s],c=r[s],h=[],u=0;u<c.length;u++){var d=l[u],f=c[u];isNumber$P(d)&&isNumber$P(f)&&!(c[0]==="A"&&(u===4||u===5))?h[u]=d+o*(f-d):h[u]=f}a.push(h)}else a=r;this.elem.attr("d",a,void 0,!0)},n.prototype.update=function(){var i=this.elem,t=this.prop,r=this.now,o=this.options.step;this[t+"Setter"]?this[t+"Setter"]():i.attr?i.element&&i.attr(t,r,null,!0):i.style[t]=r+this.unit,o&&o.call(i,r,this)},n.prototype.run=function(i,t,r){var o=this,a=o.options,s=function(h){return s.stopped?!1:o.step(h)},l=win$e.requestAnimationFrame||function(h){setTimeout(h,13)},c=function(){for(var h=0;h<n.timers.length;h++)n.timers[h]()||n.timers.splice(h--,1);n.timers.length&&l(c)};i===t&&!this.elem["forceAnimate:"+this.prop]?(delete a.curAnim[this.prop],a.complete&&Object.keys(a.curAnim).length===0&&a.complete.call(this.elem)):(this.startTime=+new Date,this.start=i,this.end=t,this.unit=r,this.now=this.start,this.pos=0,s.elem=this.elem,s.prop=this.prop,s()&&n.timers.push(s)===1&&l(c))},n.prototype.step=function(i){var t=+new Date,r=this.options,o=this.elem,a=r.complete,s=r.duration,l=r.curAnim,c,h;return o.attr&&!o.element?c=!1:i||t>=s+this.startTime?(this.now=this.end,this.pos=1,this.update(),l[this.prop]=!0,h=!0,objectEach$z(l,function(u){u!==!0&&(h=!1)}),h&&a&&a.call(o),c=!1):(this.pos=r.easing((t-this.startTime)/s),this.now=this.start+(this.end-this.start)*this.pos,this.update(),c=!0),c},n.prototype.initPath=function(i,t,r){var o=i.startX,a=i.endX,s=r.slice(),l=i.isArea,c=l?2:1,h,u,d,f,p=t&&t.slice();if(!p)return[s,s];function m(v,_){for(;v.length<u;){var y=v[0],b=_[u-v.length];if(b&&y[0]==="M"&&(b[0]==="C"?v[0]=["C",y[1],y[2],y[1],y[2],y[1],y[2]]:v[0]=["L",y[1],y[2]]),v.unshift(y),l){var x=v.pop();v.push(v[v.length-1],x)}}}function g(v,_){for(;v.length<u;){var y=v[Math.floor(v.length/c)-1].slice();if(y[0]==="C"&&(y[1]=y[5],y[2]=y[6]),!l)v.push(y);else{var b=v[Math.floor(v.length/c)].slice();v.splice(v.length/2,0,y,b)}}}if(o&&a&&a.length){for(d=0;d<o.length;d++)if(o[d]===a[0]){h=d;break}else if(o[0]===a[a.length-o.length+d]){h=d,f=!0;break}else if(o[o.length-1]===a[a.length-o.length+d]){h=o.length-d;break}typeof h>"u"&&(p=[])}return p.length&&isNumber$P(h)&&(u=s.length+h*c,f?(m(p,s),g(s)):(m(s,p),g(p))),[p,s]},n.prototype.fillSetter=function(){n.prototype.strokeSetter.apply(this,arguments)},n.prototype.strokeSetter=function(){this.elem.attr(this.prop,color$f(this.start).tweenTo(color$f(this.end),this.pos),null,!0)},n.timers=[],n}(),defined$U=Utilities.defined,getStyle$1=Utilities.getStyle,isArray$m=Utilities.isArray,isNumber$O=Utilities.isNumber,isObject$d=Utilities.isObject,merge$1l=Utilities.merge,objectEach$y=Utilities.objectEach,pick$1z=Utilities.pick;function setAnimation$5(n,i){i.renderer.globalAnimation=pick$1z(n,i.options.chart.animation,!0)}function animObject$c(n){return isObject$d(n)?merge$1l({duration:500,defer:0},n):{duration:n?500:0,defer:0}}function getDeferredAnimation$3(n,i,t){var r=animObject$c(i),o=t?[t]:n.series,a=0,s=0;o.forEach(function(c){var h=animObject$c(c.options.animation);a=i&&defined$U(i.defer)?r.defer:Math.max(a,h.duration+h.defer),s=Math.min(r.duration,h.duration)}),n.renderer.forExport&&(a=0);var l={defer:Math.max(0,a-s),duration:Math.min(a,s)};return l}function animate$2(n,i,t){var r,o="",a,s,l;isObject$d(t)||(l=arguments,t={duration:l[2],easing:l[3],complete:l[4]}),isNumber$O(t.duration)||(t.duration=400),t.easing=typeof t.easing=="function"?t.easing:Math[t.easing]||Math.easeInOutSine,t.curAnim=merge$1l(i),objectEach$y(i,function(c,h){stop$2(n,h),s=new Fx(n,t,h),a=void 0,h==="d"&&isArray$m(i.d)?(s.paths=s.initPath(n,n.pathArray,i.d),s.toD=i.d,r=0,a=1):n.attr?r=n.attr(h):(r=parseFloat(getStyle$1(n,h))||0,h!=="opacity"&&(o="px")),a||(a=c),typeof a=="string"&&a.match("px")&&(a=a.replace(/px/g,"")),s.run(r,a,o)})}function stop$2(n,i){for(var t=Fx.timers.length;t--;)Fx.timers[t].elem===n&&(!i||i===Fx.timers[t].prop)&&(Fx.timers[t].stopped=!0)}var animationExports={animate:animate$2,animObject:animObject$c,getDeferredAnimation:getDeferredAnimation$3,setAnimation:setAnimation$5,stop:stop$2},SVG_NS$3=H.SVG_NS,attr$7=Utilities.attr,createElement$a=Utilities.createElement,discardElement$6=Utilities.discardElement,error$8=Utilities.error,isString$b=Utilities.isString,objectEach$x=Utilities.objectEach,splat$h=Utilities.splat,hasValidDOMParser=function(){try{return!!new DOMParser().parseFromString("","text/html")}catch{return!1}}(),AST=function(){function n(i){this.nodes=typeof i=="string"?this.parseMarkup(i):i}return n.filterUserAttributes=function(i){return objectEach$x(i,function(t,r){var o=!0;n.allowedAttributes.indexOf(r)===-1&&(o=!1),["background","dynsrc","href","lowsrc","src"].indexOf(r)!==-1&&(o=isString$b(t)&&n.allowedReferences.some(function(a){return t.indexOf(a)===0})),o||(error$8("Highcharts warning: Invalid attribute '"+r+"' in config"),delete i[r])}),i},n.setElementHTML=function(i,t){if(i.innerHTML="",t){var r=new n(t);r.addToDOM(i)}},n.prototype.addToDOM=function(i){function t(r,o){var a;return splat$h(r).forEach(function(s){var l=s.tagName,c=s.textContent?H.doc.createTextNode(s.textContent):void 0,h;if(l)if(l==="#text")h=c;else if(n.allowedTags.indexOf(l)!==-1){var u=l==="svg"?SVG_NS$3:o.namespaceURI||SVG_NS$3,d=H.doc.createElementNS(u,l),f=s.attributes||{};objectEach$x(s,function(p,m){m!=="tagName"&&m!=="attributes"&&m!=="children"&&m!=="textContent"&&(f[m]=p)}),attr$7(d,n.filterUserAttributes(f)),c&&d.appendChild(c),t(s.children||[],d),h=d}else error$8("Highcharts warning: Invalid tagName '"+l+"' in config");h&&o.appendChild(h),a=h}),a}return t(this.nodes,i)},n.prototype.parseMarkup=function(i){var t=[];i=i.trim();var r,o;hasValidDOMParser?r=new DOMParser().parseFromString(i,"text/html"):(o=createElement$a("div"),o.innerHTML=i,r={body:o});var a=function(s,l){var c=s.nodeName.toLowerCase(),h={tagName:c};c==="#text"&&(h.textContent=s.textContent||"");var u=s.attributes;if(u){var d={};[].forEach.call(u,function(p){d[p.name]=p.value}),h.attributes=d}if(s.childNodes.length){var f=[];[].forEach.call(s.childNodes,function(p){a(p,f)}),f.length&&(h.children=f)}l.push(h)};return[].forEach.call(r.body.childNodes,function(s){return a(s,t)}),o&&discardElement$6(o),t},n.allowedAttributes=["aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","dx","dy","disabled","fill","height","href","id","in","markerHeight","markerWidth","offset","opacity","orient","padding","paddingLeft","paddingRight","patternUnits","r","refX","refY","role","scope","slope","src","startOffset","stdDeviation","stroke","stroke-linecap","stroke-width","style","tableValues","result","rowspan","summary","target","tabindex","text-align","textAnchor","textLength","type","valign","width","x","x1","x2","y","y1","y2","zIndex"],n.allowedReferences=["https://","http://","mailto:","/","../","./","#"],n.allowedTags=["a","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feOffset","feMerge","feMergeNode","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","text","thead","tbody","tspan","td","th","tr","u","ul","#text"],n}(),defaultOptions$f=DefaultOptions.defaultOptions,defaultTime$1=DefaultOptions.defaultTime,getNestedProperty$2=Utilities.getNestedProperty,isNumber$N=Utilities.isNumber,pick$1y=Utilities.pick,pInt$8=Utilities.pInt;function dateFormat(n,i,t){return defaultTime$1.dateFormat(n,i,t)}function format$e(n,i,t){for(var r="{",o=!1,a,s,l,c,h=/f$/,u=/\.([0-9])/,d=defaultOptions$f.lang,f=t&&t.time||defaultTime$1,p=t&&t.numberFormatter||numberFormat$2,m=[];n&&(c=n.indexOf(r),c!==-1);){if(a=n.slice(0,c),o){if(s=a.split(":"),l=getNestedProperty$2(s.shift()||"",i),s.length&&typeof l=="number")if(a=s.join(":"),h.test(a)){var g=parseInt((a.match(u)||["","-1"])[1],10);l!==null&&(l=p(l,g,d.decimalPoint,a.indexOf(",")>-1?d.thousandsSep:""))}else l=f.dateFormat(a,l);m.push(l)}else m.push(a);n=n.slice(c+1),o=!o,r=o?"}":"{"}return m.push(n),m.join("")}function numberFormat$2(n,i,t,r){n=+n||0,i=+i;var o,a,s=defaultOptions$f.lang,l=(n.toString().split(".")[1]||"").split("e")[0].length,c=n.toString().split("e"),h=i;i===-1?i=Math.min(l,20):isNumber$N(i)?i&&c[1]&&c[1]<0&&(a=i+ +c[1],a>=0?(c[0]=(+c[0]).toExponential(a).split("e")[0],i=a):(c[0]=c[0].split(".")[0]||0,i<20?n=(c[0]*Math.pow(10,c[1])).toFixed(i):n=0,c[1]=0)):i=2;var u=(Math.abs(c[1]?c[0]:n)+Math.pow(10,-Math.max(i,l)-1)).toFixed(i),d=String(pInt$8(u)),f=d.length>3?d.length%3:0;return t=pick$1y(t,s.decimalPoint),r=pick$1y(r,s.thousandsSep),o=n<0?"-":"",o+=f?d.substr(0,f)+r:"",+c[1]<0&&!h?o="0":o+=d.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+r),i&&(o+=t+u.slice(-i)),c[1]&&+o!=0&&(o+="e"+c[1]),o}var FormatUtilities={dateFormat,format:format$e,numberFormat:numberFormat$2},clamp$j=Utilities.clamp,pick$1x=Utilities.pick,stableSort$6=Utilities.stableSort,RendererUtilities;(function(n){function i(t,r,o){var a=t,s=a.reducedLen||r,l=function(g,v){return(v.rank||0)-(g.rank||0)},c=function(g,v){return g.target-v.target},h,u=!0,d=[],f,p,m=0;for(h=t.length;h--;)m+=t[h].size;if(m>s){for(stableSort$6(t,l),h=0,m=0;m<=s;)m+=t[h].size,h++;d=t.splice(h-1,t.length)}for(stableSort$6(t,c),t=t.map(function(g){return{size:g.size,targets:[g.target],align:pick$1x(g.align,.5)}});u;){for(h=t.length;h--;)f=t[h],p=(Math.min.apply(0,f.targets)+Math.max.apply(0,f.targets))/2,f.pos=clamp$j(p-f.size*f.align,0,r-f.size);for(h=t.length,u=!1;h--;)h>0&&t[h-1].pos+t[h-1].size>t[h].pos&&(t[h-1].size+=t[h].size,t[h-1].targets=t[h-1].targets.concat(t[h].targets),t[h-1].align=.5,t[h-1].pos+t[h-1].size>r&&(t[h-1].pos=r-t[h-1].size),t.splice(h,1),u=!0)}return a.push.apply(a,d),h=0,t.some(function(g){var v=0;return(g.targets||[]).some(function(){return a[h].pos=g.pos+v,typeof o<"u"&&Math.abs(a[h].pos-a[h].target)>o?(a.slice(0,h+1).forEach(function(_){return delete _.pos}),a.reducedLen=(a.reducedLen||r)-r*.1,a.reducedLen>r*.1&&i(a,r,o),!0):(v+=a[h].size,h++,!1)})}),stableSort$6(a,c),a}n.distribute=i})(RendererUtilities||(RendererUtilities={}));const R=RendererUtilities;var animate$1=animationExports.animate,animObject$b=animationExports.animObject,stop$1=animationExports.stop,deg2rad$8=H.deg2rad,doc$l=H.doc,noop$l=H.noop,svg$4=H.svg,SVG_NS$2=H.SVG_NS,win$d=H.win,addEvent$11=Utilities.addEvent,attr$6=Utilities.attr,createElement$9=Utilities.createElement,css$c=Utilities.css,defined$T=Utilities.defined,erase$8=Utilities.erase,extend$1s=Utilities.extend,fireEvent$A=Utilities.fireEvent,isArray$l=Utilities.isArray,isFunction$4=Utilities.isFunction,isNumber$M=Utilities.isNumber,isString$a=Utilities.isString,merge$1k=Utilities.merge,objectEach$w=Utilities.objectEach,pick$1w=Utilities.pick,pInt$7=Utilities.pInt,syncTimeout$8=Utilities.syncTimeout,uniqueKey$7=Utilities.uniqueKey,SVGElement=function(){function n(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=SVG_NS$2,this.symbolCustomAttribs=["x","y","width","height","r","start","end","innerR","anchorX","anchorY","rounded"]}return n.prototype._defaultGetter=function(i){var t=pick$1w(this[i+"Value"],this[i],this.element?this.element.getAttribute(i):null,0);return/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},n.prototype._defaultSetter=function(i,t,r){r.setAttribute(t,i)},n.prototype.add=function(i){var t=this.renderer,r=this.element,o;return i&&(this.parentGroup=i),this.parentInverted=i&&i.inverted,typeof this.textStr<"u"&&this.element.nodeName==="text"&&t.buildText(this),this.added=!0,(!i||i.handleZ||this.zIndex)&&(o=this.zIndexSetter()),o||(i?i.element:t.box).appendChild(r),this.onAdd&&this.onAdd(),this},n.prototype.addClass=function(i,t){var r=t?"":this.attr("class")||"";return i=(i||"").split(/ /g).reduce(function(o,a){return r.indexOf(a)===-1&&o.push(a),o},r?[r]:[]).join(" "),i!==r&&this.attr("class",i),this},n.prototype.afterSetters=function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},n.prototype.align=function(i,t,r){var o={},a=this.renderer,s=a.alignedObjects,l,c,h,u,d;i?(this.alignOptions=i,this.alignByTranslate=t,(!r||isString$a(r))&&(this.alignTo=h=r||"renderer",erase$8(s,this),s.push(this),r=void 0)):(i=this.alignOptions,t=this.alignByTranslate,h=this.alignTo),r=pick$1w(r,a[h],h==="scrollablePlotBox"?a.plotBox:void 0,a);var f=i.align,p=i.verticalAlign;return l=(r.x||0)+(i.x||0),c=(r.y||0)+(i.y||0),f==="right"?u=1:f==="center"&&(u=2),u&&(l+=(r.width-(i.width||0))/u),o[t?"translateX":"x"]=Math.round(l),p==="bottom"?d=1:p==="middle"&&(d=2),d&&(c+=(r.height-(i.height||0))/d),o[t?"translateY":"y"]=Math.round(c),this[this.placed?"animate":"attr"](o),this.placed=!0,this.alignAttr=o,this},n.prototype.alignSetter=function(i){var t={left:"start",center:"middle",right:"end"};t[i]&&(this.alignValue=i,this.element.setAttribute("text-anchor",t[i]))},n.prototype.animate=function(i,t,r){var o=this,a=animObject$b(pick$1w(t,this.renderer.globalAnimation,!0)),s=a.defer;return pick$1w(doc$l.hidden,doc$l.msHidden,doc$l.webkitHidden,!1)&&(a.duration=0),a.duration!==0?(r&&(a.complete=r),syncTimeout$8(function(){o.element&&animate$1(o,i,a)},s)):(this.attr(i,void 0,r),objectEach$w(i,function(l,c){a.step&&a.step.call(this,l,{prop:c,pos:1,elem:this})},this)),this},n.prototype.applyTextOutline=function(i){var t=this.element,r=i.indexOf("contrast")!==-1;r&&(i=i.replace(/contrast/g,this.renderer.getContrast(t.style.fill)));var o=i.split(" "),a=o[o.length-1],s=o[0];if(s&&s!=="none"&&H.svg){this.fakeTS=!0,this.ySetter=this.xSetter,s=s.replace(/(^[\d\.]+)(.*?)$/g,function(h,u,d){return 2*Number(u)+d}),this.removeTextOutline();var l=doc$l.createElementNS(SVG_NS$2,"tspan");attr$6(l,{class:"highcharts-text-outline",fill:a,stroke:a,"stroke-width":s,"stroke-linejoin":"round"}),[].forEach.call(t.childNodes,function(h){var u=h.cloneNode(!0);u.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(function(d){return u.removeAttribute(d)}),l.appendChild(u)});var c=doc$l.createElementNS(SVG_NS$2,"tspan");c.textContent="​",["x","y"].forEach(function(h){var u=t.getAttribute(h);u&&c.setAttribute(h,u)}),l.appendChild(c),t.insertBefore(l,t.firstChild)}},n.prototype.attr=function(i,t,r,o){var a=this.element,s=this.symbolCustomAttribs,l,c,h=this,u,d;return typeof i=="string"&&typeof t<"u"&&(l=i,i={},i[l]=t),typeof i=="string"?h=(this[i+"Getter"]||this._defaultGetter).call(this,i,a):(objectEach$w(i,function(p,m){u=!1,o||stop$1(this,m),this.symbolName&&s.indexOf(m)!==-1&&(c||(this.symbolAttr(i),c=!0),u=!0),this.rotation&&(m==="x"||m==="y")&&(this.doTransform=!0),u||(d=this[m+"Setter"]||this._defaultSetter,d.call(this,p,m,a),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(m)&&this.updateShadows(m,p,d))},this),this.afterSetters()),r&&r.call(this),h},n.prototype.clip=function(i){return this.attr("clip-path",i?"url("+this.renderer.url+"#"+i.id+")":"none")},n.prototype.crisp=function(i,t){var r=this;t=t||i.strokeWidth||0;var o=Math.round(t)%2/2;return i.x=Math.floor(i.x||r.x||0)+o,i.y=Math.floor(i.y||r.y||0)+o,i.width=Math.floor((i.width||r.width||0)-2*o),i.height=Math.floor((i.height||r.height||0)-2*o),defined$T(i.strokeWidth)&&(i.strokeWidth=t),i},n.prototype.complexColor=function(i,t,r){var o=this.renderer,a,s,l,c,h,u,d,f,p,m,g=[],v;fireEvent$A(this.renderer,"complexColor",{args:arguments},function(){if(i.radialGradient?s="radialGradient":i.linearGradient&&(s="linearGradient"),s){if(l=i[s],h=o.gradients,u=i.stops,p=r.radialReference,isArray$l(l)&&(i[s]=l={x1:l[0],y1:l[1],x2:l[2],y2:l[3],gradientUnits:"userSpaceOnUse"}),s==="radialGradient"&&p&&!defined$T(l.gradientUnits)&&(c=l,l=merge$1k(l,o.getRadialAttr(p,c),{gradientUnits:"userSpaceOnUse"})),objectEach$w(l,function(y,b){b!=="id"&&g.push(b,y)}),objectEach$w(u,function(y){g.push(y)}),g=g.join(","),h[g])m=h[g].attr("id");else{l.id=m=uniqueKey$7();var _=h[g]=o.createElement(s).attr(l).add(o.defs);_.radAttr=c,_.stops=[],u.forEach(function(y){y[1].indexOf("rgba")===0?(a=Color.parse(y[1]),d=a.get("rgb"),f=a.get("a")):(d=y[1],f=1);var b=o.createElement("stop").attr({offset:y[0],"stop-color":d,"stop-opacity":f}).add(_);_.stops.push(b)})}v="url("+o.url+"#"+m+")",r.setAttribute(t,v),r.gradient=g,i.toString=function(){return v}}})},n.prototype.css=function(i){var t=this.styles,r={},o=this.element,a=["textOutline","textOverflow","width"],s,l="",c,h=!t;return i&&i.color&&(i.fill=i.color),t&&objectEach$w(i,function(u,d){t&&t[d]!==u&&(r[d]=u,h=!0)}),h&&(t&&(i=extend$1s(t,r)),i&&(i.width===null||i.width==="auto"?delete this.textWidth:o.nodeName.toLowerCase()==="text"&&i.width&&(s=this.textWidth=pInt$7(i.width))),this.styles=i,s&&!svg$4&&this.renderer.forExport&&delete i.width,o.namespaceURI===this.SVG_NS?(c=function(u,d){return"-"+d.toLowerCase()},objectEach$w(i,function(u,d){a.indexOf(d)===-1&&(l+=d.replace(/([A-Z])/g,c)+":"+u+";")}),l&&attr$6(o,"style",l)):css$c(o,i),this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),i&&i.textOutline&&this.applyTextOutline(i.textOutline))),this},n.prototype.dashstyleSetter=function(i){var t,r=this["stroke-width"];if(r==="inherit"&&(r=1),i=i&&i.toLowerCase(),i){var o=i.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(t=o.length;t--;)o[t]=""+pInt$7(o[t])*pick$1w(r,NaN);i=o.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",i)}},n.prototype.destroy=function(){var i=this,t=i.element||{},r=i.renderer,o=t.ownerSVGElement,a=r.isSVG&&t.nodeName==="SPAN"&&i.parentGroup||void 0,s,l;if(t.onclick=t.onmouseout=t.onmouseover=t.onmousemove=t.point=null,stop$1(i),i.clipPath&&o){var c=i.clipPath;[].forEach.call(o.querySelectorAll("[clip-path],[CLIP-PATH]"),function(h){h.getAttribute("clip-path").indexOf(c.element.id)>-1&&h.removeAttribute("clip-path")}),i.clipPath=c.destroy()}if(i.stops){for(l=0;l<i.stops.length;l++)i.stops[l].destroy();i.stops.length=0,i.stops=void 0}for(i.safeRemoveChild(t),r.styledMode||i.destroyShadows();a&&a.div&&a.div.childNodes.length===0;)s=a.parentGroup,i.safeRemoveChild(a.div),delete a.div,a=s;i.alignTo&&erase$8(r.alignedObjects,i),objectEach$w(i,function(h,u){i[u]&&i[u].parentGroup===i&&i[u].destroy&&i[u].destroy(),delete i[u]})},n.prototype.destroyShadows=function(){(this.shadows||[]).forEach(function(i){this.safeRemoveChild(i)},this),this.shadows=void 0},n.prototype.destroyTextPath=function(i,t){var r=i.getElementsByTagName("text")[0],o;if(r){if(r.removeAttribute("dx"),r.removeAttribute("dy"),t.element.setAttribute("id",""),this.textPathWrapper&&r.getElementsByTagName("textPath").length){for(o=this.textPathWrapper.element.childNodes;o.length;)r.appendChild(o[0]);r.removeChild(this.textPathWrapper.element)}}else(i.getAttribute("dx")||i.getAttribute("dy"))&&(i.removeAttribute("dx"),i.removeAttribute("dy"));this.textPathWrapper&&(this.textPathWrapper=this.textPathWrapper.destroy())},n.prototype.dSetter=function(i,t,r){isArray$l(i)&&(typeof i[0]=="string"&&(i=this.renderer.pathToSegments(i)),this.pathArray=i,i=i.reduce(function(o,a,s){return!a||!a.join?(a||"").toString():(s?o+" ":"")+a.join(" ")},"")),/(NaN| {2}|^$)/.test(i)&&(i="M 0 0"),this[t]!==i&&(r.setAttribute(t,i),this[t]=i)},n.prototype.fadeOut=function(i){var t=this;t.animate({opacity:0},{duration:pick$1w(i,150),complete:function(){t.attr({y:-9999}).hide()}})},n.prototype.fillSetter=function(i,t,r){typeof i=="string"?r.setAttribute(t,i):i&&this.complexColor(i,t,r)},n.prototype.getBBox=function(i,t){var r=this,o=r.renderer,a=r.element,s=r.styles,l=r.textStr,c=o.cache,h=o.cacheKeys,u=a.namespaceURI===r.SVG_NS,d=pick$1w(t,r.rotation,0),f=o.styledMode?a&&n.prototype.getStyle.call(a,"font-size"):s&&s.fontSize,p,m,g,v,_;if(defined$T(l)&&(_=l.toString(),_.indexOf("<")===-1&&(_=_.replace(/[0-9]/g,"0")),_+=["",d,f,r.textWidth,s&&s.textOverflow,s&&s.fontWeight].join(",")),_&&!i&&(p=c[_]),!p){if(u||o.forExport){try{v=this.fakeTS&&function(b){var x=a.querySelector(".highcharts-text-outline");x&&css$c(x,{display:b})},isFunction$4(v)&&v("none"),p=a.getBBox?extend$1s({},a.getBBox()):{width:a.offsetWidth,height:a.offsetHeight},isFunction$4(v)&&v("")}catch{}(!p||p.width<0)&&(p={width:0,height:0})}else p=r.htmlGetBBox();if(o.isSVG&&(m=p.width,g=p.height,u&&(p.height=g={"11px,17":14,"13px,20":16}[s&&s.fontSize+","+Math.round(g)]||g),d)){var y=d*deg2rad$8;p.width=Math.abs(g*Math.sin(y))+Math.abs(m*Math.cos(y)),p.height=Math.abs(g*Math.cos(y))+Math.abs(m*Math.sin(y))}if(_&&(l===""||p.height>0)){for(;h.length>250;)delete c[h.shift()];c[_]||h.push(_),c[_]=p}}return p},n.prototype.getStyle=function(i){return win$d.getComputedStyle(this.element||this,"").getPropertyValue(i)},n.prototype.hasClass=function(i){return(""+this.attr("class")).split(" ").indexOf(i)!==-1},n.prototype.hide=function(i){return i?this.attr({y:-9999}):this.attr({visibility:"hidden"}),this},n.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}},n.prototype.init=function(i,t){this.element=t==="span"?createElement$9(t):doc$l.createElementNS(this.SVG_NS,t),this.renderer=i,fireEvent$A(this,"afterInit")},n.prototype.invert=function(i){return this.inverted=i,this.updateTransform(),this},n.prototype.on=function(i,t){var r=this.onEvents;return r[i]&&r[i](),r[i]=addEvent$11(this.element,i,t),this},n.prototype.opacitySetter=function(i,t,r){var o=Number(Number(i).toFixed(3));this.opacity=o,r.setAttribute(t,o)},n.prototype.removeClass=function(i){return this.attr("class",(""+this.attr("class")).replace(isString$a(i)?new RegExp("(^| )"+i+"( |$)"):i," ").replace(/ +/g," ").trim())},n.prototype.removeTextOutline=function(){var i=this.element.querySelector("tspan.highcharts-text-outline");i&&this.safeRemoveChild(i)},n.prototype.safeRemoveChild=function(i){var t=i.parentNode;t&&t.removeChild(i)},n.prototype.setRadialReference=function(i){var t=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=i,t&&t.radAttr&&t.animate(this.renderer.getRadialAttr(i,t.radAttr)),this},n.prototype.setTextPath=function(i,t){var r=this.element,o=this.text?this.text.element:r,a={textAnchor:"text-anchor"},s=!1,l,c,h=this.textPathWrapper,u=!h;t=merge$1k(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},t);var d=AST.filterUserAttributes(t.attributes);if(i&&t&&t.enabled){if(h&&h.element.parentNode===null?(u=!0,h=h.destroy()):h&&this.removeTextOutline.call(h.parentGroup),this.options&&this.options.padding&&(d.dx=-this.options.padding),h||(this.textPathWrapper=h=this.renderer.createElement("textPath"),s=!0),l=h.element,c=i.element.getAttribute("id"),c||i.element.setAttribute("id",c=uniqueKey$7()),u){o.setAttribute("y",0),isNumber$M(d.dx)&&o.setAttribute("x",-d.dx);for(var f=[].slice.call(o.childNodes),p=0;p<f.length;p++){var m=f[p];(m.nodeType===Node.TEXT_NODE||m.nodeName==="tspan")&&l.appendChild(m)}}s&&h&&h.add({element:o}),l.setAttributeNS("http://www.w3.org/1999/xlink","href",this.renderer.url+"#"+c),defined$T(d.dy)&&(l.parentNode.setAttribute("dy",d.dy),delete d.dy),defined$T(d.dx)&&(l.parentNode.setAttribute("dx",d.dx),delete d.dx),objectEach$w(d,function(g,v){l.setAttribute(a[v]||v,g)}),r.removeAttribute("transform"),this.removeTextOutline.call(h),this.text&&!this.renderer.styledMode&&this.attr({fill:"none","stroke-width":0}),this.updateTransform=noop$l,this.applyTextOutline=noop$l}else h&&(delete this.updateTransform,delete this.applyTextOutline,this.destroyTextPath(r,i),this.updateTransform(),this.options&&this.options.rotation&&this.applyTextOutline(this.options.style.textOutline));return this},n.prototype.shadow=function(i,t,r){var o=[],a=this.element,s=this.oldShadowOptions,l={color:palette.neutralColor100,offsetX:this.parentInverted?-1:1,offsetY:this.parentInverted?-1:1,opacity:.15,width:3},c,h,u,d,f=!1,p,m;if(i===!0?m=l:typeof i=="object"&&(m=extend$1s(l,i)),m&&(m&&s&&objectEach$w(m,function(g,v){g!==s[v]&&(f=!0)}),f&&this.destroyShadows(),this.oldShadowOptions=m),!m)this.destroyShadows();else if(!this.shadows){for(d=m.opacity/m.width,p=this.parentInverted?"translate("+m.offsetY+", "+m.offsetX+")":"translate("+m.offsetX+", "+m.offsetY+")",c=1;c<=m.width;c++)h=a.cloneNode(!1),u=m.width*2+1-2*c,attr$6(h,{stroke:i.color||palette.neutralColor100,"stroke-opacity":d*c,"stroke-width":u,transform:p,fill:"none"}),h.setAttribute("class",(h.getAttribute("class")||"")+" highcharts-shadow"),r&&(attr$6(h,"height",Math.max(attr$6(h,"height")-u,0)),h.cutHeight=u),t?t.element.appendChild(h):a.parentNode&&a.parentNode.insertBefore(h,a),o.push(h);this.shadows=o}return this},n.prototype.show=function(i){return this.attr({visibility:i?"inherit":"visible"})},n.prototype.strokeSetter=function(i,t,r){this[t]=i,this.stroke&&this["stroke-width"]?(n.prototype.fillSetter.call(this,this.stroke,"stroke",r),r.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):t==="stroke-width"&&i===0&&this.hasStroke?(r.removeAttribute("stroke"),this.hasStroke=!1):this.renderer.styledMode&&this["stroke-width"]&&(r.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0)},n.prototype.strokeWidth=function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var i=this.getStyle("stroke-width"),t=0,r;return i.indexOf("px")===i.length-2?t=pInt$7(i):i!==""&&(r=doc$l.createElementNS(SVG_NS$2,"rect"),attr$6(r,{width:i,"stroke-width":0}),this.element.parentNode.appendChild(r),t=r.getBBox().width,r.parentNode.removeChild(r)),t},n.prototype.symbolAttr=function(i){var t=this;["x","y","r","start","end","width","height","innerR","anchorX","anchorY","clockwise"].forEach(function(r){t[r]=pick$1w(i[r],t[r])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},n.prototype.textSetter=function(i){i!==this.textStr&&(delete this.textPxLength,this.textStr=i,this.added&&this.renderer.buildText(this))},n.prototype.titleSetter=function(i){var t=this.element,r=t.getElementsByTagName("title")[0]||doc$l.createElementNS(this.SVG_NS,"title");t.insertBefore?t.insertBefore(r,t.firstChild):t.appendChild(r),r.textContent=String(pick$1w(i,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")},n.prototype.toFront=function(){var i=this.element;return i.parentNode.appendChild(i),this},n.prototype.translate=function(i,t){return this.attr({translateX:i,translateY:t})},n.prototype.updateShadows=function(i,t,r){var o=this.shadows;if(o)for(var a=o.length;a--;)r.call(o[a],i==="height"?Math.max(t-(o[a].cutHeight||0),0):i==="d"?this.d:t,i,o[a])},n.prototype.updateTransform=function(){var i=this,t=i.scaleX,r=i.scaleY,o=i.inverted,a=i.rotation,s=i.matrix,l=i.element,c=i.translateX||0,h=i.translateY||0;o&&(c+=i.width,h+=i.height);var u=["translate("+c+","+h+")"];defined$T(s)&&u.push("matrix("+s.join(",")+")"),o?u.push("rotate(90) scale(-1,1)"):a&&u.push("rotate("+a+" "+pick$1w(this.rotationOriginX,l.getAttribute("x"),0)+" "+pick$1w(this.rotationOriginY,l.getAttribute("y")||0)+")"),(defined$T(t)||defined$T(r))&&u.push("scale("+pick$1w(t,1)+" "+pick$1w(r,1)+")"),u.length&&l.setAttribute("transform",u.join(" "))},n.prototype.visibilitySetter=function(i,t,r){i==="inherit"?r.removeAttribute(t):this[t]!==i&&r.setAttribute(t,i),this[t]=i},n.prototype.xGetter=function(i){return this.element.nodeName==="circle"&&(i==="x"?i="cx":i==="y"&&(i="cy")),this._defaultGetter(i)},n.prototype.zIndexSetter=function(i,t){var r=this.renderer,o=this.parentGroup,a=o||r,s=a.element||r.box,l=this.element,c=s===r.box,h,u,d,f=!1,p,m=this.added,g;if(defined$T(i)?(l.setAttribute("data-z-index",i),i=+i,this[t]===i&&(m=!1)):defined$T(this[t])&&l.removeAttribute("data-z-index"),this[t]=i,m){for(i=this.zIndex,i&&o&&(o.handleZ=!0),h=s.childNodes,g=h.length-1;g>=0&&!f;g--)u=h[g],d=u.getAttribute("data-z-index"),p=!defined$T(d),u!==l&&(i<0&&p&&!c&&!g?(s.insertBefore(l,h[g]),f=!0):(pInt$7(d)<=i||p&&(!defined$T(i)||i>=0))&&(s.insertBefore(l,h[g+1]||null),f=!0));f||(s.insertBefore(l,h[c?3:0]||null),f=!0)}return f},n}();SVGElement.prototype["stroke-widthSetter"]=SVGElement.prototype.strokeSetter;SVGElement.prototype.yGetter=SVGElement.prototype.xGetter;SVGElement.prototype.matrixSetter=SVGElement.prototype.rotationOriginXSetter=SVGElement.prototype.rotationOriginYSetter=SVGElement.prototype.rotationSetter=SVGElement.prototype.scaleXSetter=SVGElement.prototype.scaleYSetter=SVGElement.prototype.translateXSetter=SVGElement.prototype.translateYSetter=SVGElement.prototype.verticalAlignSetter=function(n,i){this[i]=n,this.doTransform=!0};var RendererRegistry;(function(n){n.rendererTypes={};var i;function t(o){return o===void 0&&(o=i),n.rendererTypes[o]||n.rendererTypes[i]}n.getRendererType=t;function r(o,a,s){n.rendererTypes[o]=a,(!i||s)&&(i=o,H.Renderer=a)}n.registerRendererType=r})(RendererRegistry||(RendererRegistry={}));const RendererRegistry$1=RendererRegistry;var __extends$2e=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),defined$S=Utilities.defined,extend$1r=Utilities.extend,isNumber$L=Utilities.isNumber,merge$1j=Utilities.merge,pick$1v=Utilities.pick,removeEvent$b=Utilities.removeEvent,SVGLabel=function(n){__extends$2e(i,n);function i(t,r,o,a,s,l,c,h,u,d){var f=n.call(this)||this;f.paddingLeftSetter=f.paddingSetter,f.paddingRightSetter=f.paddingSetter,f.init(t,"g"),f.textStr=r,f.x=o,f.y=a,f.anchorX=l,f.anchorY=c,f.baseline=u,f.className=d,f.addClass(d==="button"?"highcharts-no-tooltip":"highcharts-label"),d&&f.addClass("highcharts-"+d),f.text=t.text(void 0,0,0,h).attr({zIndex:1});var p;return typeof s=="string"&&(p=/^url\((.*?)\)$/.test(s),(p||f.renderer.symbols[s])&&(f.symbolKey=s)),f.bBox=i.emptyBBox,f.padding=3,f.baselineOffset=0,f.needsBox=t.styledMode||p,f.deferredAttr={},f.alignFactor=0,f}return i.prototype.alignSetter=function(t){var r={left:0,center:.5,right:1}[t];r!==this.alignFactor&&(this.alignFactor=r,this.bBox&&isNumber$L(this.xSetting)&&this.attr({x:this.xSetting}))},i.prototype.anchorXSetter=function(t,r){this.anchorX=t,this.boxAttr(r,Math.round(t)-this.getCrispAdjust()-this.xSetting)},i.prototype.anchorYSetter=function(t,r){this.anchorY=t,this.boxAttr(r,t-this.ySetting)},i.prototype.boxAttr=function(t,r){this.box?this.box.attr(t,r):this.deferredAttr[t]=r},i.prototype.css=function(t){if(t){var r={};t=merge$1j(t),i.textProps.forEach(function(s){typeof t[s]<"u"&&(r[s]=t[s],delete t[s])}),this.text.css(r);var o="width"in r,a="fontSize"in r||"fontWeight"in r;a?this.updateTextPadding():o&&this.updateBoxSize()}return SVGElement.prototype.css.call(this,t)},i.prototype.destroy=function(){removeEvent$b(this.element,"mouseenter"),removeEvent$b(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),SVGElement.prototype.destroy.call(this)},i.prototype.fillSetter=function(t,r){t&&(this.needsBox=!0),this.fill=t,this.boxAttr(r,t)},i.prototype.getBBox=function(){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();var t=this.padding,r=pick$1v(this.paddingLeft,t);return{width:this.width,height:this.height,x:this.bBox.x-r,y:this.bBox.y-t}},i.prototype.getCrispAdjust=function(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2},i.prototype.heightSetter=function(t){this.heightSetting=t},i.prototype.onAdd=function(){var t=this.textStr;this.text.add(this),this.attr({text:defined$S(t)?t:"",x:this.x,y:this.y}),this.box&&defined$S(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})},i.prototype.paddingSetter=function(t,r){isNumber$L(t)?t!==this[r]&&(this[r]=t,this.updateTextPadding()):this[r]=void 0},i.prototype.rSetter=function(t,r){this.boxAttr(r,t)},i.prototype.shadow=function(t){return t&&!this.renderer.styledMode&&(this.updateBoxSize(),this.box&&this.box.shadow(t)),this},i.prototype.strokeSetter=function(t,r){this.stroke=t,this.boxAttr(r,t)},i.prototype["stroke-widthSetter"]=function(t,r){t&&(this.needsBox=!0),this["stroke-width"]=t,this.boxAttr(r,t)},i.prototype["text-alignSetter"]=function(t){this.textAlign=t},i.prototype.textSetter=function(t){typeof t<"u"&&this.text.attr({text:t}),this.updateTextPadding()},i.prototype.updateBoxSize=function(){var t=this.text.element.style,r={},o=this.padding,a=this.bBox=(!isNumber$L(this.widthSetting)||!isNumber$L(this.heightSetting)||this.textAlign)&&defined$S(this.text.textStr)?this.text.getBBox():i.emptyBBox,s;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||a.height||0)+2*o;var l=this.renderer.fontMetrics(t&&t.fontSize,this.text);if(this.baselineOffset=o+Math.min((this.text.firstLineMetrics||l).b,a.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-l.h)/2),this.needsBox){if(!this.box){var c=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();c.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),c.add(this)}s=this.getCrispAdjust(),r.x=s,r.y=(this.baseline?-this.baselineOffset:0)+s,r.width=Math.round(this.width),r.height=Math.round(this.height),this.box.attr(extend$1r(r,this.deferredAttr)),this.deferredAttr={}}},i.prototype.updateTextPadding=function(){var t=this.text;this.updateBoxSize();var r=this.baseline?0:this.baselineOffset,o=pick$1v(this.paddingLeft,this.padding);defined$S(this.widthSetting)&&this.bBox&&(this.textAlign==="center"||this.textAlign==="right")&&(o+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(o!==t.x||r!==t.y)&&(t.attr("x",o),t.hasBoxWidthChanged&&(this.bBox=t.getBBox(!0)),typeof r<"u"&&t.attr("y",r)),t.x=o,t.y=r},i.prototype.widthSetter=function(t){this.widthSetting=isNumber$L(t)?t:void 0},i.prototype.getPaddedWidth=function(){var t=this.padding,r=pick$1v(this.paddingLeft,t),o=pick$1v(this.paddingRight,t);return(this.widthSetting||this.bBox.width||0)+r+o},i.prototype.xSetter=function(t){this.x=t,this.alignFactor&&(t-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(t),this.attr("translateX",this.xSetting)},i.prototype.ySetter=function(t){this.ySetting=this.y=Math.round(t),this.attr("translateY",this.ySetting)},i.emptyBBox={width:0,height:0,x:0,y:0},i.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineHeight","textAlign","textDecoration","textOutline","textOverflow","width"],i}(SVGElement),defined$R=Utilities.defined,isNumber$K=Utilities.isNumber,pick$1u=Utilities.pick;function arc$1(n,i,t,r,o){var a=[];if(o){var s=o.start||0,l=pick$1u(o.r,t),c=pick$1u(o.r,r||t),h=.001,u=Math.abs((o.end||0)-s-2*Math.PI)<h,d=(o.end||0)-h,f=o.innerR,p=pick$1u(o.open,u),m=Math.cos(s),g=Math.sin(s),v=Math.cos(d),_=Math.sin(d),y=pick$1u(o.longArc,d-s-Math.PI<h?0:1);a.push(["M",n+l*m,i+c*g],["A",l,c,0,y,pick$1u(o.clockwise,1),n+l*v,i+c*_]),defined$R(f)&&a.push(p?["M",n+f*v,i+f*_]:["L",n+f*v,i+f*_],["A",f,f,0,y,defined$R(o.clockwise)?1-o.clockwise:0,n+f*m,i+f*g]),p||a.push(["Z"])}return a}function callout(n,i,t,r,o){var a=6,s=6,l=Math.min(o&&o.r||0,t,r),c=l+s,h=o&&o.anchorX,u=o&&o.anchorY||0,d=roundedRect(n,i,t,r,{r:l});return isNumber$K(h)&&(n+h>=t?u>i+c&&u<i+r-c?d.splice(3,1,["L",n+t,u-s],["L",n+t+a,u],["L",n+t,u+s],["L",n+t,i+r-l]):d.splice(3,1,["L",n+t,r/2],["L",h,u],["L",n+t,r/2],["L",n+t,i+r-l]):n+h<=0?u>i+c&&u<i+r-c?d.splice(7,1,["L",n,u+s],["L",n-a,u],["L",n,u-s],["L",n,i+l]):d.splice(7,1,["L",n,r/2],["L",h,u],["L",n,r/2],["L",n,i+l]):u&&u>r&&h>n+c&&h<n+t-c?d.splice(5,1,["L",h+s,i+r],["L",h,i+r+a],["L",h-s,i+r],["L",n+l,i+r]):u&&u<0&&h>n+c&&h<n+t-c&&d.splice(1,1,["L",h-s,i],["L",h,i-a],["L",h+s,i],["L",t-l,i])),d}function circle(n,i,t,r){return arc$1(n+t/2,i+r/2,t/2,r/2,{start:Math.PI*.5,end:Math.PI*2.5,open:!1})}function diamond(n,i,t,r){return[["M",n+t/2,i],["L",n+t,i+r/2],["L",n+t/2,i+r],["L",n,i+r/2],["Z"]]}function rect(n,i,t,r,o){return o&&o.r?roundedRect(n,i,t,r,o):[["M",n,i],["L",n+t,i],["L",n+t,i+r],["L",n,i+r],["Z"]]}function roundedRect(n,i,t,r,o){var a=o&&o.r||0;return[["M",n+a,i],["L",n+t-a,i],["C",n+t,i,n+t,i,n+t,i+a],["L",n+t,i+r-a],["C",n+t,i+r,n+t,i+r,n+t-a,i+r],["L",n+a,i+r],["C",n,i+r,n,i+r,n,i+r-a],["L",n,i+a],["C",n,i,n,i,n+a,i]]}function triangle(n,i,t,r){return[["M",n+t/2,i],["L",n+t,i+r],["L",n,i+r],["Z"]]}function triangleDown(n,i,t,r){return[["M",n,i],["L",n+t,i],["L",n+t/2,i+r],["Z"]]}var Symbols={arc:arc$1,callout,circle,diamond,rect,roundedRect,square:rect,triangle,"triangle-down":triangleDown},doc$k=H.doc,SVG_NS$1=H.SVG_NS,attr$5=Utilities.attr,isString$9=Utilities.isString,objectEach$v=Utilities.objectEach,pick$1t=Utilities.pick,TextBuilder=function(){function n(i){var t=i.styles;this.renderer=i.renderer,this.svgElement=i,this.width=i.textWidth,this.textLineHeight=t&&t.lineHeight,this.textOutline=t&&t.textOutline,this.ellipsis=!!(t&&t.textOverflow==="ellipsis"),this.noWrap=!!(t&&t.whiteSpace==="nowrap"),this.fontSize=t&&t.fontSize}return n.prototype.buildSVG=function(){var i=this.svgElement,t=i.element,r=i.renderer,o=pick$1t(i.textStr,"").toString(),a=o.indexOf("<")!==-1,s=t.childNodes,l=this.width&&!i.added&&r.box,c=/<br.*?>/g,h=[o,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,this.fontSize,this.width].join(",");if(h!==i.textCache){i.textCache=h,delete i.actualWidth;for(var u=s.length;u--;)t.removeChild(s[u]);if(!a&&!this.ellipsis&&!this.width&&(o.indexOf(" ")===-1||this.noWrap&&!c.test(o)))t.appendChild(doc$k.createTextNode(this.unescapeEntities(o)));else if(o!==""){l&&l.appendChild(t);var d=new AST(o);this.modifyTree(d.nodes),d.addToDOM(i.element),this.modifyDOM(),this.ellipsis&&(t.textContent||"").indexOf("…")!==-1&&i.attr("title",this.unescapeEntities(i.textStr||"",["&lt;","&gt;"])),l&&l.removeChild(t)}isString$9(this.textOutline)&&i.applyTextOutline&&i.applyTextOutline(this.textOutline)}},n.prototype.modifyDOM=function(){var i=this,t=this.svgElement,r=attr$5(t.element,"x");t.firstLineMetrics=void 0;for(var o;(o=t.element.firstChild)&&/^[\s\u200B]*$/.test(o.textContent||" ");)t.element.removeChild(o);[].forEach.call(t.element.querySelectorAll("tspan.highcharts-br"),function(c,h){c.nextSibling&&c.previousSibling&&(h===0&&c.previousSibling.nodeType===1&&(t.firstLineMetrics=t.renderer.fontMetrics(void 0,c.previousSibling)),attr$5(c,{dy:i.getLineHeight(c.nextSibling),x:r}))});var a=this.width||0;if(a){var s=function(c,h){var u=c.textContent||"",d=u.replace(/([^\^])-/g,"$1- ").split(" "),f=!i.noWrap&&(d.length>1||t.element.childNodes.length>1),p=i.getLineHeight(h),m=0,g=t.actualWidth;if(i.ellipsis)u&&i.truncate(c,u,void 0,0,Math.max(0,a-parseInt(i.fontSize||12,10)),function(y,b){return y.substring(0,b)+"…"});else if(f){for(var v=[],_=[];h.firstChild&&h.firstChild!==c;)_.push(h.firstChild),h.removeChild(h.firstChild);for(;d.length;)d.length&&!i.noWrap&&m>0&&(v.push(c.textContent||""),c.textContent=d.join(" ").replace(/- /g,"-")),i.truncate(c,void 0,d,m===0&&g||0,a,function(y,b){return d.slice(0,b).join(" ").replace(/- /g,"-")}),g=t.actualWidth,m++;_.forEach(function(y){h.insertBefore(y,c)}),v.forEach(function(y){h.insertBefore(doc$k.createTextNode(y),c);var b=doc$k.createElementNS(SVG_NS$1,"tspan");b.textContent="​",attr$5(b,{dy:p,x:r}),h.insertBefore(b,c)})}},l=function(c){var h=[].slice.call(c.childNodes);h.forEach(function(u){u.nodeType===Node.TEXT_NODE?s(u,c):(u.className.baseVal.indexOf("highcharts-br")!==-1&&(t.actualWidth=0),l(u))})};l(t.element)}},n.prototype.getLineHeight=function(i){var t,r=i.nodeType===Node.TEXT_NODE?i.parentElement:i;return this.renderer.styledMode||(t=r&&/(px|em)$/.test(r.style.fontSize)?r.style.fontSize:this.fontSize||this.renderer.style.fontSize||12),this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(t,r||this.svgElement.element).h},n.prototype.modifyTree=function(i){var t=this,r=function(o,a){var s=o.tagName,l=t.renderer.styledMode,c=o.attributes||{};if(s==="b"||s==="strong"?l?c.class="highcharts-strong":c.style="font-weight:bold;"+(c.style||""):(s==="i"||s==="em")&&(l?c.class="highcharts-emphasized":c.style="font-style:italic;"+(c.style||"")),isString$9(c.style)&&(c.style=c.style.replace(/(;| |^)color([ :])/,"$1fill$2")),s==="br"){c.class="highcharts-br",o.textContent="​";var h=i[a+1];h&&h.textContent&&(h.textContent=h.textContent.replace(/^ +/gm,""))}s!=="#text"&&s!=="a"&&(o.tagName="tspan"),o.attributes=c,o.children&&o.children.filter(function(u){return u.tagName!=="#text"}).forEach(r)};i.forEach(r)},n.prototype.truncate=function(i,t,r,o,a,s){var l=this.svgElement,c=l.renderer,h=l.rotation,u=[],d=r?1:0,f=(t||r||"").length,p=f,m,g,v=function(_,y){var b=y||_,x=i.parentNode;if(x&&typeof u[b]>"u")if(x.getSubStringLength)try{u[b]=o+x.getSubStringLength(0,r?b+1:b)}catch{}else c.getSpanWidth&&(i.textContent=s(t||r,_),u[b]=o+c.getSpanWidth(l,i));return u[b]};if(l.rotation=0,g=v(i.textContent.length),o+g>a){for(;d<=f;)p=Math.ceil((d+f)/2),r&&(m=s(r,p)),g=v(p,m&&m.length-1),d===f?d=f+1:g>a?f=p-1:d=p;f===0?i.textContent="":t&&f===t.length-1||(i.textContent=m||s(t||r,p))}r&&r.splice(0,p),l.actualWidth=g,l.rotation=h},n.prototype.unescapeEntities=function(i,t){return objectEach$v(this.renderer.escapes,function(r,o){(!t||t.indexOf(r)===-1)&&(i=i.toString().replace(new RegExp(r,"g"),o))}),i},n}(),charts$4=H.charts,deg2rad$7=H.deg2rad,doc$j=H.doc,isFirefox$3=H.isFirefox,isMS$2=H.isMS,isWebKit$1=H.isWebKit,noop$k=H.noop,SVG_NS=H.SVG_NS,symbolSizes=H.symbolSizes,win$c=H.win,addEvent$10=Utilities.addEvent,attr$4=Utilities.attr,createElement$8=Utilities.createElement,css$b=Utilities.css,defined$Q=Utilities.defined,destroyObjectProperties$9=Utilities.destroyObjectProperties,extend$1q=Utilities.extend,isArray$k=Utilities.isArray,isNumber$J=Utilities.isNumber,isObject$c=Utilities.isObject,isString$8=Utilities.isString,merge$1i=Utilities.merge,pick$1s=Utilities.pick,pInt$6=Utilities.pInt,uniqueKey$6=Utilities.uniqueKey,hasInternalReferenceBug,SVGRenderer=function(){function n(i,t,r,o,a,s,l){this.alignedObjects=void 0,this.box=void 0,this.boxWrapper=void 0,this.cache=void 0,this.cacheKeys=void 0,this.chartIndex=void 0,this.defs=void 0,this.globalAnimation=void 0,this.gradients=void 0,this.height=void 0,this.imgCount=void 0,this.isSVG=void 0,this.style=void 0,this.url=void 0,this.width=void 0,this.init(i,t,r,o,a,s,l)}return n.prototype.init=function(i,t,r,o,a,s,l){var c=this,h=c.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),u=h.element;l||h.css(this.getStyle(o)),i.appendChild(u),attr$4(i,"dir","ltr"),i.innerHTML.indexOf("xmlns")===-1&&attr$4(u,"xmlns",this.SVG_NS),c.isSVG=!0,this.box=u,this.boxWrapper=h,c.alignedObjects=[],this.url=this.getReferenceURL();var d=this.createElement("desc").add();d.element.appendChild(doc$j.createTextNode("Created with Highcharts 9.2.2")),c.defs=this.createElement("defs").add(),c.allowHTML=s,c.forExport=a,c.styledMode=l,c.gradients={},c.cache={},c.cacheKeys=[],c.imgCount=0,c.setSize(t,r,!1);var f,p;isFirefox$3&&i.getBoundingClientRect&&(f=function(){css$b(i,{left:0,top:0}),p=i.getBoundingClientRect(),css$b(i,{left:Math.ceil(p.left)-p.left+"px",top:Math.ceil(p.top)-p.top+"px"})},f(),c.unSubPixelFix=addEvent$10(win$c,"resize",f))},n.prototype.definition=function(i){var t=new AST([i]);return t.addToDOM(this.defs.element)},n.prototype.getReferenceURL=function(){if((isFirefox$3||isWebKit$1)&&doc$j.getElementsByTagName("base").length){if(!defined$Q(hasInternalReferenceBug)){var i=uniqueKey$6(),t=new AST([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:i},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":"url(#"+i+")",fill:"rgba(0,0,0,0.001)"}}]}]),r=t.addToDOM(doc$j.body);css$b(r,{position:"fixed",top:0,left:0,zIndex:9e5});var o=doc$j.elementFromPoint(6,6);hasInternalReferenceBug=(o&&o.id)==="hitme",doc$j.body.removeChild(r)}if(hasInternalReferenceBug)return win$c.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""},n.prototype.getStyle=function(i){return this.style=extend$1q({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},i),this.style},n.prototype.setStyle=function(i){this.boxWrapper.css(this.getStyle(i))},n.prototype.isHidden=function(){return!this.boxWrapper.getBBox().width},n.prototype.destroy=function(){var i=this,t=i.defs;return i.box=null,i.boxWrapper=i.boxWrapper.destroy(),destroyObjectProperties$9(i.gradients||{}),i.gradients=null,t&&(i.defs=t.destroy()),i.unSubPixelFix&&i.unSubPixelFix(),i.alignedObjects=null,null},n.prototype.createElement=function(i){var t=new this.Element;return t.init(this,i),t},n.prototype.getRadialAttr=function(i,t){return{cx:i[0]-i[2]/2+(t.cx||0)*i[2],cy:i[1]-i[2]/2+(t.cy||0)*i[2],r:(t.r||0)*i[2]}},n.prototype.buildText=function(i){new TextBuilder(i).buildSVG()},n.prototype.getContrast=function(i){return i=Color.parse(i).rgba,i[0]*=1,i[1]*=1.2,i[2]*=.5,i[0]+i[1]+i[2]>1.8*255?"#000000":"#FFFFFF"},n.prototype.button=function(i,t,r,o,a,s,l,c,h,u){var d=this.label(i,t,r,h,void 0,void 0,u,void 0,"button"),f=this.styledMode,p=0,m=a?merge$1i(a):{},g=m&&m.style||{};m=AST.filterUserAttributes(m),d.attr(merge$1i({padding:8,r:2},m));var v,_,y,b;return f||(m=merge$1i({fill:palette.neutralColor3,stroke:palette.neutralColor20,"stroke-width":1,style:{color:palette.neutralColor80,cursor:"pointer",fontWeight:"normal"}},{style:g},m),v=m.style,delete m.style,s=merge$1i(m,{fill:palette.neutralColor10},AST.filterUserAttributes(s||{})),_=s.style,delete s.style,l=merge$1i(m,{fill:palette.highlightColor10,style:{color:palette.neutralColor100,fontWeight:"bold"}},AST.filterUserAttributes(l||{})),y=l.style,delete l.style,c=merge$1i(m,{style:{color:palette.neutralColor20}},AST.filterUserAttributes(c||{})),b=c.style,delete c.style),addEvent$10(d.element,isMS$2?"mouseover":"mouseenter",function(){p!==3&&d.setState(1)}),addEvent$10(d.element,isMS$2?"mouseout":"mouseleave",function(){p!==3&&d.setState(p)}),d.setState=function(x){x!==1&&(d.state=p=x),d.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][x||0]),f||d.attr([m,s,l,c][x||0]).css([v,_,y,b][x||0])},f||d.attr(m).css(extend$1q({cursor:"default"},v)),d.on("touchstart",function(x){return x.stopPropagation()}).on("click",function(x){p!==3&&o.call(d,x)})},n.prototype.crispLine=function(i,t,r){r===void 0&&(r="round");var o=i[0],a=i[1];return defined$Q(o[1])&&o[1]===a[1]&&(o[1]=a[1]=Math[r](o[1])-t%2/2),defined$Q(o[2])&&o[2]===a[2]&&(o[2]=a[2]=Math[r](o[2])+t%2/2),i},n.prototype.path=function(i){var t=this.styledMode?{}:{fill:"none"};return isArray$k(i)?t.d=i:isObject$c(i)&&extend$1q(t,i),this.createElement("path").attr(t)},n.prototype.circle=function(i,t,r){var o=isObject$c(i)?i:typeof i>"u"?{}:{x:i,y:t,r},a=this.createElement("circle");return a.xSetter=a.ySetter=function(s,l,c){c.setAttribute("c"+l,s)},a.attr(o)},n.prototype.arc=function(i,t,r,o,a,s){var l;isObject$c(i)?(l=i,t=l.y,r=l.r,o=l.innerR,a=l.start,s=l.end,i=l.x):l={innerR:o,start:a,end:s};var c=this.symbol("arc",i,t,r,r,l);return c.r=r,c},n.prototype.rect=function(i,t,r,o,a,s){a=isObject$c(i)?i.r:a;var l=this.createElement("rect"),c=isObject$c(i)?i:typeof i>"u"?{}:{x:i,y:t,width:Math.max(r,0),height:Math.max(o,0)};return this.styledMode||(typeof s<"u"&&(c["stroke-width"]=s,c=l.crisp(c)),c.fill="none"),a&&(c.r=a),l.rSetter=function(h,u,d){l.r=h,attr$4(d,{rx:h,ry:h})},l.rGetter=function(){return l.r||0},l.attr(c)},n.prototype.setSize=function(i,t,r){var o=this;o.width=i,o.height=t,o.boxWrapper.animate({width:i,height:t},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:pick$1s(r,!0)?void 0:0}),o.alignElements()},n.prototype.g=function(i){var t=this.createElement("g");return i?t.attr({class:"highcharts-"+i}):t},n.prototype.image=function(i,t,r,o,a,s){var l={preserveAspectRatio:"none"},c=function(f,p){f.setAttributeNS?f.setAttributeNS("http://www.w3.org/1999/xlink","href",p):f.setAttribute("hc-svg-href",p)};arguments.length>1&&extend$1q(l,{x:t,y:r,width:o,height:a});var h=this.createElement("image").attr(l),u=function(f){c(h.element,i),s.call(h,f)};if(s){c(h.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==");var d=new win$c.Image;addEvent$10(d,"load",u),d.src=i,d.complete&&u({})}else c(h.element,i);return h},n.prototype.symbol=function(i,t,r,o,a,s){var l=this,c=/^url\((.*?)\)$/,h=c.test(i),u=!h&&(this.symbols[i]?i:"circle"),d=u&&this.symbols[u],f,p,m,g;if(d)typeof t=="number"&&(p=d.call(this.symbols,Math.round(t||0),Math.round(r||0),o||0,a||0,s)),f=this.path(p),l.styledMode||f.attr("fill","none"),extend$1q(f,{symbolName:u||void 0,x:t,y:r,width:o,height:a}),s&&extend$1q(f,s);else if(h){m=i.match(c)[1];var v=f=this.image(m);v.imgwidth=pick$1s(symbolSizes[m]&&symbolSizes[m].width,s&&s.width),v.imgheight=pick$1s(symbolSizes[m]&&symbolSizes[m].height,s&&s.height),g=function(_){return _.attr({width:_.width,height:_.height})},["width","height"].forEach(function(_){v[_+"Setter"]=function(y,b){var x=this["img"+b];if(this[b]=y,defined$Q(x)&&(s&&s.backgroundSize==="within"&&this.width&&this.height&&(x=Math.round(x*Math.min(this.width/this.imgwidth,this.height/this.imgheight))),this.element&&this.element.setAttribute(b,x),!this.alignByTranslate)){var E=((this[b]||0)-x)/2,C=b==="width"?{translateX:E}:{translateY:E};this.attr(C)}}}),defined$Q(t)&&v.attr({x:t,y:r}),v.isImg=!0,defined$Q(v.imgwidth)&&defined$Q(v.imgheight)?g(v):(v.attr({width:0,height:0}),createElement$8("img",{onload:function(){var _=charts$4[l.chartIndex];this.width===0&&(css$b(this,{position:"absolute",top:"-999em"}),doc$j.body.appendChild(this)),symbolSizes[m]={width:this.width,height:this.height},v.imgwidth=this.width,v.imgheight=this.height,v.element&&g(v),this.parentNode&&this.parentNode.removeChild(this),l.imgCount--,!l.imgCount&&_&&!_.hasLoaded&&_.onload()},src:m}),this.imgCount++)}return f},n.prototype.clipRect=function(i,t,r,o){var a=uniqueKey$6()+"-",s=this.createElement("clipPath").attr({id:a}).add(this.defs),l=this.rect(i,t,r,o,0).add(s);return l.id=a,l.clipPath=s,l.count=0,l},n.prototype.text=function(i,t,r,o){var a=this,s={};if(o&&(a.allowHTML||!a.forExport))return a.html(i,t,r);s.x=Math.round(t||0),r&&(s.y=Math.round(r)),defined$Q(i)&&(s.text=i);var l=a.createElement("text").attr(s);return(!o||a.forExport&&!a.allowHTML)&&(l.xSetter=function(c,h,u){for(var d=u.getElementsByTagName("tspan"),f=u.getAttribute(h),p=0,m=void 0;p<d.length;p++)m=d[p],m.getAttribute(h)===f&&m.setAttribute(h,c);u.setAttribute(h,c)}),l},n.prototype.fontMetrics=function(i,t){(this.styledMode||!/px/.test(i))&&win$c.getComputedStyle?i=t&&SVGElement.prototype.getStyle.call(t,"font-size"):i=i||t&&t.style&&t.style.fontSize||this.style&&this.style.fontSize,/px/.test(i)?i=pInt$6(i):i=12;var r=i<24?i+3:Math.round(i*1.2),o=Math.round(r*.8);return{h:r,b:o,f:i}},n.prototype.rotCorr=function(i,t,r){var o=i;return t&&r&&(o=Math.max(o*Math.cos(t*deg2rad$7),4)),{x:-i/3*Math.sin(t*deg2rad$7),y:o}},n.prototype.pathToSegments=function(i){for(var t=[],r=[],o={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2},a=0;a<i.length;a++)isString$8(r[0])&&isNumber$J(i[a])&&r.length===o[r[0].toUpperCase()]&&i.splice(a,0,r[0].replace("M","L").replace("m","l")),typeof i[a]=="string"&&(r.length&&t.push(r.slice(0)),r.length=0),r.push(i[a]);return t.push(r.slice(0)),t},n.prototype.label=function(i,t,r,o,a,s,l,c,h){return new SVGLabel(this,i,t,r,o,a,s,l,c,h)},n.prototype.alignElements=function(){this.alignedObjects.forEach(function(i){return i.align()})},n}();extend$1q(SVGRenderer.prototype,{Element:SVGElement,SVG_NS,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:Symbols,draw:noop$k});RendererRegistry$1.registerRendererType("svg",SVGRenderer,!0);var __extends$2d=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),isFirefox$2=H.isFirefox,isMS$1=H.isMS,isWebKit=H.isWebKit,win$b=H.win,css$a=Utilities.css,defined$P=Utilities.defined,extend$1p=Utilities.extend,pick$1r=Utilities.pick,pInt$5=Utilities.pInt,HTMLElement$1=function(n){__extends$2d(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i.compose=function(t){if(i.composedClasses.indexOf(t)===-1){i.composedClasses.push(t);var r=i.prototype,o=t.prototype;o.getSpanCorrection=r.getSpanCorrection,o.htmlCss=r.htmlCss,o.htmlGetBBox=r.htmlGetBBox,o.htmlUpdateTransform=r.htmlUpdateTransform,o.setSpanRotation=r.setSpanRotation}return t},i.prototype.getSpanCorrection=function(t,r,o){this.xCorr=-t*o,this.yCorr=-r},i.prototype.htmlCss=function(t){var r=this,o=r.element,a=o.tagName==="SPAN"&&t&&"width"in t,s=pick$1r(a&&t.width,void 0),l;return a&&(delete t.width,r.textWidth=s,l=!0),t&&t.textOverflow==="ellipsis"&&(t.whiteSpace="nowrap",t.overflow="hidden"),r.styles=extend$1p(r.styles,t),css$a(r.element,t),l&&r.htmlUpdateTransform(),r},i.prototype.htmlGetBBox=function(){var t=this,r=t.element;return{x:r.offsetLeft,y:r.offsetTop,width:r.offsetWidth,height:r.offsetHeight}},i.prototype.htmlUpdateTransform=function(){if(!this.added){this.alignOnAdd=!0;return}var t=this,r=t.renderer,o=t.element,a=t.translateX||0,s=t.translateY||0,l=t.x||0,c=t.y||0,h=t.textAlign||"left",u={left:0,center:.5,right:1}[h],d=t.styles,f=d&&d.whiteSpace;function p(){return css$a(o,{width:"",whiteSpace:f||"nowrap"}),o.offsetWidth}if(css$a(o,{marginLeft:a,marginTop:s}),!r.styledMode&&t.shadows&&t.shadows.forEach(function(y){css$a(y,{marginLeft:a+1,marginTop:s+1})}),t.inverted&&[].forEach.call(o.childNodes,function(y){r.invertChild(y,o)}),o.tagName==="SPAN"){var m=t.rotation,g=t.textWidth&&pInt$5(t.textWidth),v=[m,h,o.innerHTML,t.textWidth,t.textAlign].join(","),_=void 0;g!==t.oldTextWidth&&(g>t.oldTextWidth||(t.textPxLength||p())>g)&&(/[ \-]/.test(o.textContent||o.innerText)||o.style.textOverflow==="ellipsis")?(css$a(o,{width:g+"px",display:"block",whiteSpace:f||"normal"}),t.oldTextWidth=g,t.hasBoxWidthChanged=!0):t.hasBoxWidthChanged=!1,v!==t.cTT&&(_=r.fontMetrics(o.style.fontSize,o).b,defined$P(m)&&(m!==(t.oldRotation||0)||h!==t.oldAlign)&&t.setSpanRotation(m,u,_),t.getSpanCorrection(!defined$P(m)&&t.textPxLength||o.offsetWidth,_,u,m,h)),css$a(o,{left:l+(t.xCorr||0)+"px",top:c+(t.yCorr||0)+"px"}),t.cTT=v,t.oldRotation=m,t.oldAlign=h}},i.prototype.setSpanRotation=function(t,r,o){var a=function(){return isMS$1&&!/Edge/.test(win$b.navigator.userAgent)?"-ms-transform":isWebKit?"-webkit-transform":isFirefox$2?"MozTransform":win$b.opera?"-o-transform":void 0},s={},l=a();l&&(s[l]=s.transform="rotate("+t+"deg)",s[l+(isFirefox$2?"Origin":"-origin")]=s.transformOrigin=r*100+"% "+o+"px",css$a(this.element,s))},i.composedClasses=[],i}(SVGElement),__extends$2c=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),attr$3=Utilities.attr,createElement$7=Utilities.createElement,extend$1o=Utilities.extend,pick$1q=Utilities.pick,HTMLRenderer=function(n){__extends$2c(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i.compose=function(t){if(i.composedClasses.indexOf(t)===-1){i.composedClasses.push(t);var r=i.prototype,o=t.prototype;o.html=r.html}return t},i.prototype.html=function(t,r,o){var a=this.createElement("span"),s=a.element,l=a.renderer,c=l.isSVG,h=function(u,d){["opacity","visibility"].forEach(function(f){u[f+"Setter"]=function(p,m,g){var v=u.div?u.div.style:d;SVGElement.prototype[f+"Setter"].call(this,p,m,g),v&&(v[m]=p)}}),u.addedSetters=!0};return a.textSetter=function(u){u!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,AST.setElementHTML(this.element,pick$1q(u,"")),this.textStr=u,a.doTransform=!0)},c&&h(a,a.element.style),a.xSetter=a.ySetter=a.alignSetter=a.rotationSetter=function(u,d){d==="align"?a.alignValue=a.textAlign=u:a[d]=u,a.doTransform=!0},a.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},a.attr({text:t,x:Math.round(r),y:Math.round(o)}).css({position:"absolute"}),l.styledMode||a.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),s.style.whiteSpace="nowrap",a.css=a.htmlCss,c&&(a.add=function(u){var d=l.box.parentNode,f=[],p,m;if(this.parentGroup=u,u){if(p=u.div,!p){for(m=u;m;)f.push(m),m=m.parentGroup;f.reverse().forEach(function(g){var v=attr$3(g.element,"class");function _(x,E){g[E]=x,E==="translateX"?b.left=x+"px":b.top=x+"px",g.doTransform=!0}var y=g.styles||{};p=g.div=g.div||createElement$7("div",v?{className:v}:void 0,{position:"absolute",left:(g.translateX||0)+"px",top:(g.translateY||0)+"px",display:g.display,opacity:g.opacity,cursor:y.cursor,pointerEvents:y.pointerEvents,visibility:g.visibility},p||d);var b=p.style;extend$1o(g,{classSetter:function(x){return function(E){this.element.setAttribute("class",E),x.className=E}}(p),on:function(){return f[0].div&&a.on.apply({element:f[0].div,onEvents:g.onEvents},arguments),g},translateXSetter:_,translateYSetter:_}),g.addedSetters||h(g)})}}else p=d;return p.appendChild(s),a.added=!0,a.alignOnAdd&&a.htmlUpdateTransform(),a}),a},i.composedClasses=[],i}(SVGRenderer),AxisDefaults;(function(n){n.defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:void 0,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,x:0,zIndex:7,style:{color:palette.neutralColor60,cursor:"default",fontSize:"11px"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:palette.neutralColor60}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:palette.neutralColor5,minorGridLineWidth:1,minorTickColor:palette.neutralColor40,lineColor:palette.highlightColor20,lineWidth:1,gridLineColor:palette.neutralColor10,gridLineWidth:void 0,tickColor:palette.highlightColor20},n.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){var i=this.axis.chart.numberFormatter;return i(this.total,-1)},style:{color:palette.neutralColor100,fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},n.defaultLeftAxisOptions={labels:{x:-15},title:{rotation:270}},n.defaultRightAxisOptions={labels:{x:15},title:{rotation:90}},n.defaultBottomAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},n.defaultTopAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}}})(AxisDefaults||(AxisDefaults={}));const AxisDefaults$1=AxisDefaults;var addEvent$$=Utilities.addEvent,isFunction$3=Utilities.isFunction,objectEach$u=Utilities.objectEach,removeEvent$a=Utilities.removeEvent,registerEventOptions$3=function(n,i){n.eventOptions=n.eventOptions||{},objectEach$u(i.events,function(t,r){n.eventOptions[r]!==t&&(n.eventOptions[r]&&(removeEvent$a(n,r,n.eventOptions[r]),delete n.eventOptions[r]),isFunction$3(t)&&(n.eventOptions[r]=t,addEvent$$(n,r,t)))})},exports$6={registerEventOptions:registerEventOptions$3},deg2rad$6=H.deg2rad,clamp$i=Utilities.clamp,correctFloat$c=Utilities.correctFloat,defined$O=Utilities.defined,destroyObjectProperties$8=Utilities.destroyObjectProperties,extend$1n=Utilities.extend,fireEvent$z=Utilities.fireEvent,isNumber$I=Utilities.isNumber,merge$1h=Utilities.merge,objectEach$t=Utilities.objectEach,pick$1p=Utilities.pick,Tick=function(){function n(i,t,r,o,a){this.isNew=!0,this.isNewLabel=!0,this.axis=i,this.pos=t,this.type=r||"",this.parameters=a||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,fireEvent$z(this,"init"),!r&&!o&&this.addLabel()}return n.prototype.addLabel=function(){var i=this,t=i.axis,r=t.options,o=t.chart,a=t.categories,s=t.logarithmic,l=t.names,c=i.pos,h=pick$1p(i.options&&i.options.labels,r.labels),u=t.tickPositions,d=c===u[0],f=c===u[u.length-1],p=(!h.step||h.step===1)&&t.tickInterval===1,m=u.info,g=i.label,v,_,y,b=this.parameters.category||(a?pick$1p(a[c],l[c],c):c);s&&isNumber$I(b)&&(b=correctFloat$c(s.lin2log(b))),t.dateTime&&(m?(_=o.time.resolveDTLFormat(r.dateTimeLabelFormats[!r.grid&&m.higherRanks[c]||m.unitName]),v=_.main):isNumber$I(b)&&(v=t.dateTime.getXDateFormat(b,r.dateTimeLabelFormats||{}))),i.isFirst=d,i.isLast=f;var x={axis:t,chart:o,dateTimeLabelFormat:v,isFirst:d,isLast:f,pos:c,tick:i,tickPositionInfo:m,value:b};fireEvent$z(this,"labelFormat",x);var E=function(S){return h.formatter?h.formatter.call(S,S):h.format?(S.text=t.defaultLabelFormatter.call(S),FormatUtilities.format(h.format,S,o)):t.defaultLabelFormatter.call(S,S)},C=E.call(x,x),$=_&&_.list;$?i.shortenLabel=function(){for(y=0;y<$.length;y++)if(extend$1n(x,{dateTimeLabelFormat:$[y]}),g.attr({text:E.call(x,x)}),g.getBBox().width<t.getSlotWidth(i)-2*h.padding)return;g.attr({text:""})}:i.shortenLabel=void 0,p&&t._addedPlotLB&&i.moveLabel(C,h),!defined$O(g)&&!i.movedLabel?(i.label=g=i.createLabel({x:0,y:0},C,h),i.rotation=0):g&&g.textStr!==C&&!p&&(g.textWidth&&!h.style.width&&!g.styles.width&&g.css({width:null}),g.attr({text:C}),g.textPxLength=g.getBBox().width)},n.prototype.createLabel=function(i,t,r){var o=this.axis,a=o.chart,s=defined$O(t)&&r.enabled?a.renderer.text(t,i.x,i.y,r.useHTML).add(o.labelGroup):null;return s&&(a.styledMode||s.css(merge$1h(r.style)),s.textPxLength=s.getBBox().width),s},n.prototype.destroy=function(){destroyObjectProperties$8(this,this.axis)},n.prototype.getPosition=function(i,t,r,o){var a=this.axis,s=a.chart,l=o&&s.oldChartHeight||s.chartHeight,c={x:i?correctFloat$c(a.translate(t+r,null,null,o)+a.transB):a.left+a.offset+(a.opposite?(o&&s.oldChartWidth||s.chartWidth)-a.right-a.left:0),y:i?l-a.bottom+a.offset-(a.opposite?a.height:0):correctFloat$c(l-a.translate(t+r,null,null,o)-a.transB)};return c.y=clamp$i(c.y,-1e5,1e5),fireEvent$z(this,"afterGetPosition",{pos:c}),c},n.prototype.getLabelPosition=function(i,t,r,o,a,s,l,c){var h=this.axis,u=h.transA,d=h.isLinked&&h.linkedParent?h.linkedParent.reversed:h.reversed,f=h.staggerLines,p=h.tickRotCorr||{x:0,y:0},m=!o&&!h.reserveSpaceDefault?-h.labelOffset*(h.labelAlign==="center"?.5:1):0,g={},v=a.y,_;return defined$O(v)||(h.side===0?v=r.rotation?-8:-r.getBBox().height:h.side===2?v=p.y+8:v=Math.cos(r.rotation*deg2rad$6)*(p.y-r.getBBox(!1,0).height/2)),i=i+a.x+m+p.x-(s&&o?s*u*(d?-1:1):0),t=t+v-(s&&!o?s*u*(d?1:-1):0),f&&(_=l/(c||1)%f,h.opposite&&(_=f-_-1),t+=_*(h.labelOffset/f)),g.x=i,g.y=Math.round(t),fireEvent$z(this,"afterGetLabelPosition",{pos:g,tickmarkOffset:s,index:l}),g},n.prototype.getLabelSize=function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},n.prototype.getMarkPath=function(i,t,r,o,a,s){return s.crispLine([["M",i,t],["L",i+(a?0:-r),t+(a?r:0)]],o)},n.prototype.handleOverflow=function(i){var t=this,r=this.axis,o=r.options.labels,a=i.x,s=r.chart.chartWidth,l=r.chart.spacing,c=pick$1p(r.labelLeft,Math.min(r.pos,l[3])),h=pick$1p(r.labelRight,Math.max(r.isRadial?0:r.pos+r.len,s-l[1])),u=this.label,d=this.rotation,f={left:0,center:.5,right:1}[r.labelAlign||u.attr("align")],p=u.getBBox().width,m=r.getSlotWidth(t),g=f,v={},_=m,y=1,b,x,E;!d&&o.overflow==="justify"?(b=a-f*p,x=a+(1-f)*p,b<c?_=i.x+_*(1-f)-c:x>h&&(_=h-i.x+_*f,y=-1),_=Math.min(m,_),_<m&&r.labelAlign==="center"&&(i.x+=y*(m-_-g*(m-Math.min(p,_)))),(p>_||r.autoRotation&&(u.styles||{}).width)&&(E=_)):d<0&&a-f*p<c?E=Math.round(a/Math.cos(d*deg2rad$6)-c):d>0&&a+f*p>h&&(E=Math.round((s-a)/Math.cos(d*deg2rad$6))),E&&(t.shortenLabel?t.shortenLabel():(v.width=Math.floor(E)+"px",(o.style||{}).textOverflow||(v.textOverflow="ellipsis"),u.css(v)))},n.prototype.moveLabel=function(i,t){var r=this,o=r.label,a=r.axis,s=a.reversed,l=!1,c,h,u;o&&o.textStr===i?(r.movedLabel=o,l=!0,delete r.label):objectEach$t(a.ticks,function(d){!l&&!d.isNew&&d!==r&&d.label&&d.label.textStr===i&&(r.movedLabel=d.label,l=!0,d.labelPos=r.movedLabel.xy,delete d.label)}),!l&&(r.labelPos||o)&&(c=r.labelPos||o.xy,h=a.horiz?s?0:a.width+a.left:c.x,u=a.horiz?c.y:s?a.width+a.left:0,r.movedLabel=r.createLabel({x:h,y:u},i,t),r.movedLabel&&r.movedLabel.attr({opacity:0}))},n.prototype.render=function(i,t,r){var o=this,a=o.axis,s=a.horiz,l=o.pos,c=pick$1p(o.tickmarkOffset,a.tickmarkOffset),h=o.getPosition(s,l,c,t),u=h.x,d=h.y,f=s&&u===a.pos+a.len||!s&&d===a.pos?-1:1,p=pick$1p(r,o.label&&o.label.newOpacity,1);r=pick$1p(r,1),this.isActive=!0,this.renderGridLine(t,r,f),this.renderMark(h,r,f),this.renderLabel(h,t,p,i),o.isNew=!1,fireEvent$z(this,"afterRender")},n.prototype.renderGridLine=function(i,t,r){var o=this,a=o.axis,s=a.options,l={},c=o.pos,h=o.type,u=pick$1p(o.tickmarkOffset,a.tickmarkOffset),d=a.chart.renderer,f=o.gridLine,p,m=s.gridLineWidth,g=s.gridLineColor,v=s.gridLineDashStyle;o.type==="minor"&&(m=s.minorGridLineWidth,g=s.minorGridLineColor,v=s.minorGridLineDashStyle),f||(a.chart.styledMode||(l.stroke=g,l["stroke-width"]=m||0,l.dashstyle=v),h||(l.zIndex=1),i&&(t=0),o.gridLine=f=d.path().attr(l).addClass("highcharts-"+(h?h+"-":"")+"grid-line").add(a.gridGroup)),f&&(p=a.getPlotLinePath({value:c+u,lineWidth:f.strokeWidth()*r,force:"pass",old:i}),p&&f[i||o.isNew?"attr":"animate"]({d:p,opacity:t}))},n.prototype.renderMark=function(i,t,r){var o=this,a=o.axis,s=a.options,l=a.chart.renderer,c=o.type,h=a.tickSize(c?c+"Tick":"tick"),u=i.x,d=i.y,f=pick$1p(s[c!=="minor"?"tickWidth":"minorTickWidth"],!c&&a.isXAxis?1:0),p=s[c!=="minor"?"tickColor":"minorTickColor"],m=o.mark,g=!m;h&&(a.opposite&&(h[0]=-h[0]),m||(o.mark=m=l.path().addClass("highcharts-"+(c?c+"-":"")+"tick").add(a.axisGroup),a.chart.styledMode||m.attr({stroke:p,"stroke-width":f})),m[g?"attr":"animate"]({d:o.getMarkPath(u,d,h[0],m.strokeWidth()*r,a.horiz,l),opacity:t}))},n.prototype.renderLabel=function(i,t,r,o){var a=this,s=a.axis,l=s.horiz,c=s.options,h=a.label,u=c.labels,d=u.step,f=pick$1p(a.tickmarkOffset,s.tickmarkOffset),p=i.x,m=i.y,g=!0;h&&isNumber$I(p)&&(h.xy=i=a.getLabelPosition(p,m,h,l,u,f,o,d),a.isFirst&&!a.isLast&&!c.showFirstLabel||a.isLast&&!a.isFirst&&!c.showLastLabel?g=!1:l&&!u.step&&!u.rotation&&!t&&r!==0&&a.handleOverflow(i),d&&o%d&&(g=!1),g&&isNumber$I(i.y)?(i.opacity=r,h[a.isNewLabel?"attr":"animate"](i),a.isNewLabel=!1):(h.attr("y",-9999),a.isNewLabel=!0))},n.prototype.replaceMovedLabel=function(){var i=this,t=i.label,r=i.axis,o=r.reversed,a,s;t&&!i.isNew&&(a=r.horiz?o?r.left:r.width+r.left:t.xy.x,s=r.horiz?t.xy.y:o?r.width+r.top:r.top,t.animate({x:a,y:s,opacity:0},void 0,t.destroy),delete i.label),r.isDirty=!0,i.label=i.movedLabel,delete i.movedLabel},n}(),animObject$a=animationExports.animObject,defaultOptions$e=DefaultOptions.defaultOptions,registerEventOptions$2=exports$6.registerEventOptions,deg2rad$5=H.deg2rad,arrayMax$9=Utilities.arrayMax,arrayMin$8=Utilities.arrayMin,clamp$h=Utilities.clamp,correctFloat$b=Utilities.correctFloat,defined$N=Utilities.defined,destroyObjectProperties$7=Utilities.destroyObjectProperties,erase$7=Utilities.erase,error$7=Utilities.error,extend$1m=Utilities.extend,fireEvent$y=Utilities.fireEvent,getMagnitude$2=Utilities.getMagnitude,isArray$j=Utilities.isArray,isNumber$H=Utilities.isNumber,isString$7=Utilities.isString,merge$1g=Utilities.merge,normalizeTickInterval$2=Utilities.normalizeTickInterval,objectEach$s=Utilities.objectEach,pick$1o=Utilities.pick,relativeLength$9=Utilities.relativeLength,removeEvent$9=Utilities.removeEvent,splat$g=Utilities.splat,syncTimeout$7=Utilities.syncTimeout,Axis=function(){function n(i,t){this.alternateBands=void 0,this.bottom=void 0,this.categories=void 0,this.chart=void 0,this.closestPointRange=void 0,this.coll=void 0,this.eventOptions=void 0,this.hasNames=void 0,this.hasVisibleSeries=void 0,this.height=void 0,this.isLinked=void 0,this.labelEdge=void 0,this.labelFormatter=void 0,this.left=void 0,this.len=void 0,this.max=void 0,this.maxLabelLength=void 0,this.min=void 0,this.minorTickInterval=void 0,this.minorTicks=void 0,this.minPixelPadding=void 0,this.names=void 0,this.offset=void 0,this.options=void 0,this.overlap=void 0,this.paddedTicks=void 0,this.plotLinesAndBands=void 0,this.plotLinesAndBandsGroups=void 0,this.pointRange=void 0,this.pointRangePadding=void 0,this.pos=void 0,this.positiveValuesOnly=void 0,this.right=void 0,this.series=void 0,this.side=void 0,this.tickAmount=void 0,this.tickInterval=void 0,this.tickmarkOffset=void 0,this.tickPositions=void 0,this.tickRotCorr=void 0,this.ticks=void 0,this.top=void 0,this.transA=void 0,this.transB=void 0,this.translationSlope=void 0,this.userOptions=void 0,this.visible=void 0,this.width=void 0,this.zoomEnabled=void 0,this.init(i,t)}return n.prototype.init=function(i,t){var r=t.isX,o=this;o.chart=i,o.horiz=i.inverted&&!o.isZAxis?!r:r,o.isXAxis=r,o.coll=o.coll||(r?"xAxis":"yAxis"),fireEvent$y(this,"init",{userOptions:t}),o.opposite=pick$1o(t.opposite,o.opposite),o.side=pick$1o(t.side,o.side,o.horiz?o.opposite?0:2:o.opposite?1:3),o.setOptions(t);var a=this.options,s=a.labels,l=a.type;o.userOptions=t,o.minPixelPadding=0,o.reversed=pick$1o(a.reversed,o.reversed),o.visible=a.visible,o.zoomEnabled=a.zoomEnabled,o.hasNames=l==="category"||a.categories===!0,o.categories=a.categories||o.hasNames,o.names||(o.names=[],o.names.keys={}),o.plotLinesAndBandsGroups={},o.positiveValuesOnly=!!o.logarithmic,o.isLinked=defined$N(a.linkedTo),o.ticks={},o.labelEdge=[],o.minorTicks={},o.plotLinesAndBands=[],o.alternateBands={},o.len=0,o.minRange=o.userMinRange=a.minRange||a.maxZoom,o.range=a.range,o.offset=a.offset||0,o.max=null,o.min=null;var c=pick$1o(a.crosshair,splat$g(i.options.tooltip.crosshairs)[r?0:1]);o.crosshair=c===!0?{}:c,i.axes.indexOf(o)===-1&&(r?i.axes.splice(i.xAxis.length,0,o):i.axes.push(o),i[o.coll].push(o)),o.series=o.series||[],i.inverted&&!o.isZAxis&&r&&typeof o.reversed>"u"&&(o.reversed=!0),o.labelRotation=isNumber$H(s.rotation)?s.rotation:void 0,registerEventOptions$2(o,a),fireEvent$y(this,"afterInit")},n.prototype.setOptions=function(i){this.options=merge$1g(AxisDefaults$1.defaultXAxisOptions,this.coll==="yAxis"&&AxisDefaults$1.defaultYAxisOptions,[AxisDefaults$1.defaultTopAxisOptions,AxisDefaults$1.defaultRightAxisOptions,AxisDefaults$1.defaultBottomAxisOptions,AxisDefaults$1.defaultLeftAxisOptions][this.side],merge$1g(defaultOptions$e[this.coll],i)),fireEvent$y(this,"afterSetOptions",{userOptions:i})},n.prototype.defaultLabelFormatter=function(i){var t=this.axis,r=this.chart,o=r.numberFormatter,a=isNumber$H(this.value)?this.value:NaN,s=t.chart.time,l=t.categories,c=this.dateTimeLabelFormat,h=defaultOptions$e.lang,u=h.numericSymbols,d=h.numericSymbolMagnitude||1e3,f=t.logarithmic?Math.abs(a):t.tickInterval,p=u&&u.length,m,g;if(l)g=""+this.value;else if(c)g=s.dateFormat(c,a);else if(p&&f>=1e3)for(;p--&&typeof g>"u";)m=Math.pow(d,p+1),f>=m&&a*10%m===0&&u[p]!==null&&a!==0&&(g=o(a/m,-1)+u[p]);return typeof g>"u"&&(Math.abs(a)>=1e4?g=o(a,-1):g=o(a,-1,void 0,"")),g},n.prototype.getSeriesExtremes=function(){var i=this,t=i.chart,r;fireEvent$y(this,"getSeriesExtremes",null,function(){i.hasVisibleSeries=!1,i.dataMin=i.dataMax=i.threshold=null,i.softThreshold=!i.isXAxis,i.stacking&&i.stacking.buildStacks(),i.series.forEach(function(o){if(o.visible||!t.options.chart.ignoreHiddenSeries){var a=o.options,s=void 0,l=a.threshold,c=void 0,h=void 0;if(i.hasVisibleSeries=!0,i.positiveValuesOnly&&l<=0&&(l=null),i.isXAxis)s=o.xData,s.length&&(s=i.logarithmic?s.filter(i.validatePositiveValue):s,r=o.getXExtremes(s),c=r.min,h=r.max,!isNumber$H(c)&&!(c instanceof Date)&&(s=s.filter(isNumber$H),r=o.getXExtremes(s),c=r.min,h=r.max),s.length&&(i.dataMin=Math.min(pick$1o(i.dataMin,c),c),i.dataMax=Math.max(pick$1o(i.dataMax,h),h)));else{var u=o.applyExtremes();isNumber$H(u.dataMin)&&(c=u.dataMin,i.dataMin=Math.min(pick$1o(i.dataMin,c),c)),isNumber$H(u.dataMax)&&(h=u.dataMax,i.dataMax=Math.max(pick$1o(i.dataMax,h),h)),defined$N(l)&&(i.threshold=l),(!a.softThreshold||i.positiveValuesOnly)&&(i.softThreshold=!1)}}})}),fireEvent$y(this,"afterGetSeriesExtremes")},n.prototype.translate=function(i,t,r,o,a,s){var l=this.linkedParent||this,c=o&&l.old?l.old.min:l.min,h=l.minPixelPadding,u=(l.isOrdinal||l.brokenAxis&&l.brokenAxis.hasBreaks||l.logarithmic&&a)&&l.lin2val,d=1,f=0,p=o&&l.old?l.old.transA:l.transA,m=0;return p||(p=l.transA),r&&(d*=-1,f=l.len),l.reversed&&(d*=-1,f-=d*(l.sector||l.len)),t?(i=i*d+f,i-=h,m=i/p+c,u&&(m=l.lin2val(m))):(u&&(i=l.val2lin(i)),m=isNumber$H(c)?d*(i-c)*p+f+d*h+(isNumber$H(s)?p*s:0):void 0),m},n.prototype.toPixels=function(i,t){return this.translate(i,!1,!this.horiz,null,!0)+(t?0:this.pos)},n.prototype.toValue=function(i,t){return this.translate(i-(t?0:this.pos),!0,!this.horiz,null,!0)},n.prototype.getPlotLinePath=function(i){var t=this,r=t.chart,o=t.left,a=t.top,s=i.old,l=i.value,c=i.lineWidth,h=s&&r.oldChartHeight||r.chartHeight,u=s&&r.oldChartWidth||r.chartWidth,d=t.transB,f=i.translatedValue,p=i.force,m,g,v,_,y;function b(E,C,$){return(p!=="pass"&&E<C||E>$)&&(p?E=clamp$h(E,C,$):y=!0),E}var x={value:l,lineWidth:c,old:s,force:p,acrossPanes:i.acrossPanes,translatedValue:f};return fireEvent$y(this,"getPlotLinePath",x,function(E){f=pick$1o(f,t.translate(l,null,null,s)),f=clamp$h(f,-1e5,1e5),m=v=Math.round(f+d),g=_=Math.round(h-f-d),isNumber$H(f)?t.horiz?(g=a,_=h-t.bottom,m=v=b(m,o,o+t.width)):(m=o,v=u-t.right,g=_=b(g,a,a+t.height)):(y=!0,p=!1),E.path=y&&!p?null:r.renderer.crispLine([["M",m,g],["L",v,_]],c||1)}),x.path},n.prototype.getLinearTickPositions=function(i,t,r){var o=correctFloat$b(Math.floor(t/i)*i),a=correctFloat$b(Math.ceil(r/i)*i),s=[],l,c,h;if(correctFloat$b(o+i)===o&&(h=20),this.single)return[t];for(l=o;l<=a&&(s.push(l),l=correctFloat$b(l+i,h),l!==c);)c=l;return s},n.prototype.getMinorTickInterval=function(){var i=this.options;return i.minorTicks===!0?pick$1o(i.minorTickInterval,"auto"):i.minorTicks===!1?null:i.minorTickInterval},n.prototype.getMinorTickPositions=function(){var i=this,t=i.options,r=i.tickPositions,o=i.minorTickInterval,a=i.pointRangePadding||0,s=i.min-a,l=i.max+a,c=l-s,h=[],u;if(c&&c/o<i.len/3){var d=i.logarithmic;if(d)this.paddedTicks.forEach(function(f,p,m){p&&h.push.apply(h,d.getLogTickPositions(o,m[p-1],m[p],!0))});else if(i.dateTime&&this.getMinorTickInterval()==="auto")h=h.concat(i.getTimeTicks(i.dateTime.normalizeTimeTickInterval(o),s,l,t.startOfWeek));else for(u=s+(r[0]-s)%o;u<=l&&u!==h[0];u+=o)h.push(u)}return h.length!==0&&i.trimTicks(h),h},n.prototype.adjustForMinRange=function(){var i=this,t=i.options,r=i.logarithmic,o=i.min,a=i.max,s,l,c=0,h,u,d,f,p,m,g;i.isXAxis&&typeof i.minRange>"u"&&!r&&(defined$N(t.min)||defined$N(t.max)?i.minRange=null:(i.series.forEach(function(v){if(d=v.xData,f=v.xIncrement?1:d.length-1,d.length>1)for(h=f;h>0;h--)u=d[h]-d[h-1],(!c||u<c)&&(c=u)}),i.minRange=Math.min(c*5,i.dataMax-i.dataMin))),a-o<i.minRange&&(l=i.dataMax-i.dataMin>=i.minRange,g=i.minRange,s=(g-a+o)/2,p=[o-s,pick$1o(t.min,o-s)],l&&(p[2]=i.logarithmic?i.logarithmic.log2lin(i.dataMin):i.dataMin),o=arrayMax$9(p),m=[o+g,pick$1o(t.max,o+g)],l&&(m[2]=r?r.log2lin(i.dataMax):i.dataMax),a=arrayMin$8(m),a-o<g&&(p[0]=a-g,p[1]=pick$1o(t.min,a-g),o=arrayMax$9(p))),i.min=o,i.max=a},n.prototype.getClosest=function(){var i;return this.categories?i=1:this.series.forEach(function(t){var r=t.closestPointRange,o=t.visible||!t.chart.options.chart.ignoreHiddenSeries;!t.noSharedTooltip&&defined$N(r)&&o&&(i=defined$N(i)?Math.min(i,r):r)}),i},n.prototype.nameToX=function(i){var t=isArray$j(this.categories),r=t?this.categories:this.names,o=i.options.x,a;return i.series.requireSorting=!1,defined$N(o)||(o=this.options.uniqueNames?t?r.indexOf(i.name):pick$1o(r.keys[i.name],-1):i.series.autoIncrement()),o===-1?t||(a=r.length):a=o,typeof a<"u"&&(this.names[a]=i.name,this.names.keys[i.name]=a),a},n.prototype.updateNames=function(){var i=this,t=this.names,r=t.length;r>0&&(Object.keys(t.keys).forEach(function(o){delete t.keys[o]}),t.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(o){o.xIncrement=null,(!o.points||o.isDirtyData)&&(i.max=Math.max(i.max,o.xData.length-1),o.processData(),o.generatePoints()),o.data.forEach(function(a,s){var l;a&&a.options&&typeof a.name<"u"&&(l=i.nameToX(a),typeof l<"u"&&l!==a.x&&(a.x=l,o.xData[s]=l))})}))},n.prototype.setAxisTranslation=function(){var i=this,t=i.max-i.min,r=i.linkedParent,o=!!i.categories,a=i.isXAxis,s=i.axisPointRange||0,l,c=0,h=0,u,d=i.transA;(a||o||s)&&(l=i.getClosest(),r?(c=r.minPointOffset,h=r.pointRangePadding):i.series.forEach(function(f){var p=o?1:a?pick$1o(f.options.pointRange,l,0):i.axisPointRange||0,m=f.options.pointPlacement;if(s=Math.max(s,p),!i.single||o){var g=f.is("xrange")?!a:a;c=Math.max(c,g&&isString$7(m)?0:p/2),h=Math.max(h,g&&m==="on"?0:p)}}),u=i.ordinal&&i.ordinal.slope&&l?i.ordinal.slope/l:1,i.minPointOffset=c=c*u,i.pointRangePadding=h=h*u,i.pointRange=Math.min(s,i.single&&o?1:t),a&&(i.closestPointRange=l)),i.translationSlope=i.transA=d=i.staticScale||i.len/(t+h||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=d*c,fireEvent$y(this,"afterSetAxisTranslation")},n.prototype.minFromRange=function(){var i=this;return i.max-i.range},n.prototype.setTickInterval=function(i){var t=this,r=t.chart,o=t.logarithmic,a=t.options,s=t.isXAxis,l=t.isLinked,c=a.tickPixelInterval,h=t.categories,u=t.softThreshold,d=a.maxPadding,f=a.minPadding,p,m,g=a.tickInterval,v=isNumber$H(t.threshold)?t.threshold:null,_,y,b,x;!t.dateTime&&!h&&!l&&this.getTickAmount(),b=pick$1o(t.userMin,a.min),x=pick$1o(t.userMax,a.max),l?(t.linkedParent=r[t.coll][a.linkedTo],m=t.linkedParent.getExtremes(),t.min=pick$1o(m.min,m.dataMin),t.max=pick$1o(m.max,m.dataMax),a.type!==t.linkedParent.options.type&&error$7(11,1,r)):(u&&defined$N(v)&&(t.dataMin>=v?(_=v,f=0):t.dataMax<=v&&(y=v,d=0)),t.min=pick$1o(b,_,t.dataMin),t.max=pick$1o(x,y,t.dataMax)),o&&(t.positiveValuesOnly&&!i&&Math.min(t.min,pick$1o(t.dataMin,t.min))<=0&&error$7(10,1,r),t.min=correctFloat$b(o.log2lin(t.min),16),t.max=correctFloat$b(o.log2lin(t.max),16)),t.range&&defined$N(t.max)&&(t.userMin=t.min=b=Math.max(t.dataMin,t.minFromRange()),t.userMax=x=t.max,t.range=null),fireEvent$y(t,"foundExtremes"),t.beforePadding&&t.beforePadding(),t.adjustForMinRange(),!h&&!t.axisPointRange&&!(t.stacking&&t.stacking.usePercentage)&&!l&&defined$N(t.min)&&defined$N(t.max)&&(p=t.max-t.min,p&&(!defined$N(b)&&f&&(t.min-=p*f),!defined$N(x)&&d&&(t.max+=p*d))),isNumber$H(t.userMin)||(isNumber$H(a.softMin)&&a.softMin<t.min&&(t.min=b=a.softMin),isNumber$H(a.floor)&&(t.min=Math.max(t.min,a.floor))),isNumber$H(t.userMax)||(isNumber$H(a.softMax)&&a.softMax>t.max&&(t.max=x=a.softMax),isNumber$H(a.ceiling)&&(t.max=Math.min(t.max,a.ceiling))),u&&defined$N(t.dataMin)&&(v=v||0,!defined$N(b)&&t.min<v&&t.dataMin>=v?t.min=t.options.minRange?Math.min(v,t.max-t.minRange):v:!defined$N(x)&&t.max>v&&t.dataMax<=v&&(t.max=t.options.minRange?Math.max(v,t.min+t.minRange):v)),isNumber$H(t.min)&&isNumber$H(t.max)&&!this.chart.polar&&t.min>t.max&&(defined$N(t.options.min)?t.max=t.min:defined$N(t.options.max)&&(t.min=t.max)),t.min===t.max||typeof t.min>"u"||typeof t.max>"u"?t.tickInterval=1:l&&t.linkedParent&&!g&&c===t.linkedParent.options.tickPixelInterval?t.tickInterval=g=t.linkedParent.tickInterval:t.tickInterval=pick$1o(g,this.tickAmount?(t.max-t.min)/Math.max(this.tickAmount-1,1):void 0,h?1:(t.max-t.min)*c/Math.max(t.len,c)),s&&!i&&(t.series.forEach(function(C){C.forceCrop=C.forceCropping&&C.forceCropping(),C.processData(t.min!==(t.old&&t.old.min)||t.max!==(t.old&&t.old.max))}),fireEvent$y(this,"postProcessData")),t.setAxisTranslation(),fireEvent$y(this,"initialAxisTranslation"),t.pointRange&&!g&&(t.tickInterval=Math.max(t.pointRange,t.tickInterval));var E=pick$1o(a.minTickInterval,t.dateTime&&!t.series.some(function(C){return C.noSharedTooltip})?t.closestPointRange:0);!g&&t.tickInterval<E&&(t.tickInterval=E),!t.dateTime&&!t.logarithmic&&!g&&(t.tickInterval=normalizeTickInterval$2(t.tickInterval,void 0,getMagnitude$2(t.tickInterval),pick$1o(a.allowDecimals,t.tickInterval<.5||this.tickAmount!==void 0),!!this.tickAmount)),this.tickAmount||(t.tickInterval=t.unsquish()),this.setTickPositions()},n.prototype.setTickPositions=function(){var i=this,t=this.options,r=t.tickPositions,o=this.getMinorTickInterval(),a=this.hasVerticalPanning(),s=this.coll==="colorAxis",l=(s||!a)&&t.startOnTick,c=(s||!a)&&t.endOnTick,h,u=t.tickPositioner;this.tickmarkOffset=this.categories&&t.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.minorTickInterval=o==="auto"&&this.tickInterval?this.tickInterval/5:o,this.single=this.min===this.max&&defined$N(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||t.allowDecimals!==!1),this.tickPositions=h=r&&r.slice(),h||((!i.ordinal||!i.ordinal.positions)&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)?(h=[this.min,this.max],error$7(19,!1,this.chart)):i.dateTime?h=i.getTimeTicks(i.dateTime.normalizeTimeTickInterval(this.tickInterval,t.units),this.min,this.max,t.startOfWeek,i.ordinal&&i.ordinal.positions,this.closestPointRange,!0):i.logarithmic?h=i.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max):h=this.getLinearTickPositions(this.tickInterval,this.min,this.max),h.length>this.len&&(h=[h[0],h.pop()],h[0]===h[1]&&(h.length=1)),this.tickPositions=h,u&&(u=u.apply(i,[this.min,this.max]),u&&(this.tickPositions=h=u))),this.paddedTicks=h.slice(0),this.trimTicks(h,l,c),this.isLinked||(this.single&&h.length<2&&!this.categories&&!this.series.some(function(d){return d.is("heatmap")&&d.options.pointPlacement==="between"})&&(this.min-=.5,this.max+=.5),!r&&!u&&this.adjustTickAmount()),fireEvent$y(this,"afterSetTickPositions")},n.prototype.trimTicks=function(i,t,r){var o=i[0],a=i[i.length-1],s=!this.isOrdinal&&this.minPointOffset||0;if(fireEvent$y(this,"trimTicks"),!this.isLinked){if(t&&o!==-1/0)this.min=o;else for(;this.min-s>i[0];)i.shift();if(r)this.max=a;else for(;this.max+s<i[i.length-1];)i.pop();i.length===0&&defined$N(o)&&!this.options.tickPositions&&i.push((a+o)/2)}},n.prototype.alignToOthers=function(){var i=this,t={},r=i.options,o;return this.chart.options.chart.alignTicks!==!1&&r.alignTicks&&r.startOnTick!==!1&&r.endOnTick!==!1&&!i.logarithmic&&this.chart[this.coll].forEach(function(a){var s=a.options,l=a.horiz,c=[l?s.left:s.top,s.width,s.height,s.pane].join(",");a.series.length&&(t[c]?o=!0:t[c]=1)}),o},n.prototype.getTickAmount=function(){var i=this,t=this.options,r=t.tickPixelInterval,o=t.tickAmount;!defined$N(t.tickInterval)&&!o&&this.len<r&&!this.isRadial&&!i.logarithmic&&t.startOnTick&&t.endOnTick&&(o=2),!o&&this.alignToOthers()&&(o=Math.ceil(this.len/r)+1),o<4&&(this.finalTickAmt=o,o=5),this.tickAmount=o},n.prototype.adjustTickAmount=function(){var i=this,t=i.options,r=i.tickInterval,o=i.tickPositions,a=i.tickAmount,s=i.finalTickAmt,l=o&&o.length,c=pick$1o(i.threshold,i.softThreshold?0:null),h,u;if(i.hasData()&&isNumber$H(i.min)&&isNumber$H(i.max)){if(l<a){for(;o.length<a;)o.length%2||i.min===c?o.push(correctFloat$b(o[o.length-1]+r)):o.unshift(correctFloat$b(o[0]-r));i.transA*=(l-1)/(a-1),i.min=t.startOnTick?o[0]:Math.min(i.min,o[0]),i.max=t.endOnTick?o[o.length-1]:Math.max(i.max,o[o.length-1])}else l>a&&(i.tickInterval*=2,i.setTickPositions());if(defined$N(s)){for(u=h=o.length;u--;)(s===3&&u%2===1||s<=2&&u>0&&u<h-1)&&o.splice(u,1);i.finalTickAmt=void 0}}},n.prototype.setScale=function(){var i=this,t=!1,r=!1;i.series.forEach(function(a){t=t||a.isDirtyData||a.isDirty,r=r||a.xAxis&&a.xAxis.isDirty||!1}),i.setAxisSize();var o=i.len!==(i.old&&i.old.len);o||t||r||i.isLinked||i.forceRedraw||i.userMin!==(i.old&&i.old.userMin)||i.userMax!==(i.old&&i.old.userMax)||i.alignToOthers()?(i.stacking&&i.stacking.resetStacks(),i.forceRedraw=!1,i.getSeriesExtremes(),i.setTickInterval(),i.isDirty||(i.isDirty=o||i.min!==(i.old&&i.old.min)||i.max!==(i.old&&i.old.max))):i.stacking&&i.stacking.cleanStacks(),t&&i.panningState&&(i.panningState.isDirty=!0),fireEvent$y(this,"afterSetScale")},n.prototype.setExtremes=function(i,t,r,o,a){var s=this,l=s.chart;r=pick$1o(r,!0),s.series.forEach(function(c){delete c.kdTree}),a=extend$1m(a,{min:i,max:t}),fireEvent$y(s,"setExtremes",a,function(){s.userMin=i,s.userMax=t,s.eventArgs=a,r&&l.redraw(o)})},n.prototype.zoom=function(i,t){var r=this,o=this.dataMin,a=this.dataMax,s=this.options,l=Math.min(o,pick$1o(s.min,o)),c=Math.max(a,pick$1o(s.max,a)),h={newMin:i,newMax:t};return fireEvent$y(this,"zoom",h,function(u){var d=u.newMin,f=u.newMax;(d!==r.min||f!==r.max)&&(r.allowZoomOutside||(defined$N(o)&&(d<l&&(d=l),d>c&&(d=c)),defined$N(a)&&(f<l&&(f=l),f>c&&(f=c))),r.displayBtn=typeof d<"u"||typeof f<"u",r.setExtremes(d,f,!1,void 0,{trigger:"zoom"})),u.zoomed=!0}),h.zoomed},n.prototype.setAxisSize=function(){var i=this.chart,t=this.options,r=t.offsets||[0,0,0,0],o=this.horiz,a=this.width=Math.round(relativeLength$9(pick$1o(t.width,i.plotWidth-r[3]+r[1]),i.plotWidth)),s=this.height=Math.round(relativeLength$9(pick$1o(t.height,i.plotHeight-r[0]+r[2]),i.plotHeight)),l=this.top=Math.round(relativeLength$9(pick$1o(t.top,i.plotTop+r[0]),i.plotHeight,i.plotTop)),c=this.left=Math.round(relativeLength$9(pick$1o(t.left,i.plotLeft+r[3]),i.plotWidth,i.plotLeft));this.bottom=i.chartHeight-s-l,this.right=i.chartWidth-a-c,this.len=Math.max(o?a:s,0),this.pos=o?c:l},n.prototype.getExtremes=function(){var i=this,t=i.logarithmic;return{min:t?correctFloat$b(t.lin2log(i.min)):i.min,max:t?correctFloat$b(t.lin2log(i.max)):i.max,dataMin:i.dataMin,dataMax:i.dataMax,userMin:i.userMin,userMax:i.userMax}},n.prototype.getThreshold=function(i){var t=this,r=t.logarithmic,o=r?r.lin2log(t.min):t.min,a=r?r.lin2log(t.max):t.max;return i===null||i===-1/0?i=o:i===1/0?i=a:o>i?i=o:a<i&&(i=a),t.translate(i,0,1,0,1)},n.prototype.autoLabelAlign=function(i){var t=(pick$1o(i,0)-this.side*90+720)%360,r={align:"center"};return fireEvent$y(this,"autoLabelAlign",r,function(o){t>15&&t<165?o.align="right":t>195&&t<345&&(o.align="left")}),r.align},n.prototype.tickSize=function(i){var t=this.options,r=pick$1o(t[i==="tick"?"tickWidth":"minorTickWidth"],i==="tick"&&this.isXAxis&&!this.categories?1:0),o=t[i==="tick"?"tickLength":"minorTickLength"],a;r&&o&&(t[i+"Position"]==="inside"&&(o=-o),a=[o,r]);var s={tickSize:a};return fireEvent$y(this,"afterTickSize",s),s.tickSize},n.prototype.labelMetrics=function(){var i=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[i]&&this.ticks[i].label)},n.prototype.unsquish=function(){var i=this.options.labels,t=this.horiz,r=this.tickInterval,o=this.len/(((this.categories?1:0)+this.max-this.min)/r),a=i.rotation,s=this.labelMetrics(),l=Math.max(this.max-this.min,0),c=function(m){var g=m/(o||1);return g=g>1?Math.ceil(g):1,g*r>l&&m!==1/0&&o!==1/0&&l&&(g=Math.ceil(l/r)),correctFloat$b(g*r)},h=r,u,d,f=Number.MAX_VALUE,p;return t?(!i.staggerLines&&!i.step&&(isNumber$H(a)?p=[a]:o<i.autoRotationLimit&&(p=i.autoRotation)),p&&p.forEach(function(m){var g;(m===a||m&&m>=-90&&m<=90)&&(d=c(Math.abs(s.h/Math.sin(deg2rad$5*m))),g=d+Math.abs(m/360),g<f&&(f=g,u=m,h=d))})):i.step||(h=c(s.h)),this.autoRotation=p,this.labelRotation=pick$1o(u,isNumber$H(a)?a:0),h},n.prototype.getSlotWidth=function(i){var t=this.chart,r=this.horiz,o=this.options.labels,a=Math.max(this.tickPositions.length-(this.categories?0:1),1),s=t.margin[3];if(i&&isNumber$H(i.slotWidth))return i.slotWidth;if(r&&o.step<2)return o.rotation?0:(this.staggerLines||1)*this.len/a;if(!r){var l=o.style.width;if(l!==void 0)return parseInt(String(l),10);if(s)return s-t.spacing[3]}return t.chartWidth*.33},n.prototype.renderUnsquish=function(){var i=this.chart,t=i.renderer,r=this.tickPositions,o=this.ticks,a=this.options.labels,s=a.style,l=this.horiz,c=this.getSlotWidth(),h=Math.max(1,Math.round(c-2*a.padding)),u={},d=this.labelMetrics(),f=s.textOverflow,p,m,g=0,v,_,y;if(isString$7(a.rotation)||(u.rotation=a.rotation||0),r.forEach(function(b){var x=o[b];x.movedLabel&&x.replaceMovedLabel(),x&&x.label&&x.label.textPxLength>g&&(g=x.label.textPxLength)}),this.maxLabelLength=g,this.autoRotation)g>h&&g>d.h?u.rotation=this.labelRotation:this.labelRotation=0;else if(c&&(p=h,!f))for(m="clip",_=r.length;!l&&_--;)y=r[_],v=o[y].label,v&&(v.styles&&v.styles.textOverflow==="ellipsis"?v.css({textOverflow:"clip"}):v.textPxLength>c&&v.css({width:c+"px"}),v.getBBox().height>this.len/r.length-(d.h-d.f)&&(v.specificTextOverflow="ellipsis"));u.rotation&&(p=g>i.chartHeight*.5?i.chartHeight*.33:g,f||(m="ellipsis")),this.labelAlign=a.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(u.align=this.labelAlign),r.forEach(function(b){var x=o[b],E=x&&x.label,C=s.width,$={};E&&(E.attr(u),x.shortenLabel?x.shortenLabel():p&&!C&&s.whiteSpace!=="nowrap"&&(p<E.textPxLength||E.element.tagName==="SPAN")?($.width=p+"px",f||($.textOverflow=E.specificTextOverflow||m),E.css($)):E.styles&&E.styles.width&&!$.width&&!C&&E.css({width:null}),delete E.specificTextOverflow,x.rotation=u.rotation)},this),this.tickRotCorr=t.rotCorr(d.b,this.labelRotation||0,this.side!==0)},n.prototype.hasData=function(){return this.series.some(function(i){return i.hasData()})||this.options.showEmpty&&defined$N(this.min)&&defined$N(this.max)},n.prototype.addTitle=function(i){var t=this,r=t.chart.renderer,o=t.horiz,a=t.opposite,s=t.options,l=s.title,c=t.chart.styledMode,h;t.axisTitle||(h=l.textAlign,h||(h=(o?{low:"left",middle:"center",high:"right"}:{low:a?"right":"left",middle:"center",high:a?"left":"right"})[l.align]),t.axisTitle=r.text(l.text||"",0,0,l.useHTML).attr({zIndex:7,rotation:l.rotation,align:h}).addClass("highcharts-axis-title"),c||t.axisTitle.css(merge$1g(l.style)),t.axisTitle.add(t.axisGroup),t.axisTitle.isNew=!0),!c&&!l.style.width&&!t.isRadial&&t.axisTitle.css({width:t.len+"px"}),t.axisTitle[i?"show":"hide"](i)},n.prototype.generateTick=function(i){var t=this,r=t.ticks;r[i]?r[i].addLabel():r[i]=new Tick(t,i)},n.prototype.getOffset=function(){var i=this,t=this,r=t.chart,o=r.renderer,a=t.options,s=t.tickPositions,l=t.ticks,c=t.horiz,h=t.side,u=r.inverted&&!t.isZAxis?[1,0,3,2][h]:h,d=t.hasData(),f=a.title,p=a.labels,m=r.axisOffset,g=r.clipOffset,v=[-1,1,1,-1][h],_=a.className,y=t.axisParent,b,x=0,E,C=0,$=0,S,P;if(t.showAxis=b=d||a.showEmpty,t.staggerLines=t.horiz&&p.staggerLines||void 0,!t.axisGroup){var T=function(N,z,B){return o.g(N).attr({zIndex:B}).addClass("highcharts-"+i.coll.toLowerCase()+z+" "+(i.isRadial?"highcharts-radial-axis"+z+" ":"")+(_||"")).add(y)};t.gridGroup=T("grid","-grid",a.gridZIndex),t.axisGroup=T("axis","",a.zIndex),t.labelGroup=T("axis-labels","-labels",p.zIndex)}d||t.isLinked?(s.forEach(function(N){t.generateTick(N)}),t.renderUnsquish(),t.reserveSpaceDefault=h===0||h===2||{1:"left",3:"right"}[h]===t.labelAlign,pick$1o(p.reserveSpace,t.labelAlign==="center"?!0:null,t.reserveSpaceDefault)&&s.forEach(function(N){$=Math.max(l[N].getLabelSize(),$)}),t.staggerLines&&($*=t.staggerLines),t.labelOffset=$*(t.opposite?-1:1)):objectEach$s(l,function(N,z){N.destroy(),delete l[z]}),f&&f.text&&f.enabled!==!1&&(t.addTitle(b),b&&f.reserveSpace!==!1&&(t.titleOffset=x=t.axisTitle.getBBox()[c?"height":"width"],E=f.offset,C=defined$N(E)?0:pick$1o(f.margin,c?5:10))),t.renderLine(),t.offset=v*pick$1o(a.offset,m[h]?m[h]+(a.margin||0):0),t.tickRotCorr=t.tickRotCorr||{x:0,y:0},h===0?P=-t.labelMetrics().h:h===2?P=t.tickRotCorr.y:P=0,S=Math.abs($)+C,$&&(S-=P,S+=v*(c?pick$1o(p.y,t.tickRotCorr.y+v*8):p.x)),t.axisTitleMargin=pick$1o(E,S),t.getMaxLabelDimensions&&(t.maxLabelDimensions=t.getMaxLabelDimensions(l,s));var k=this.tickSize("tick");m[h]=Math.max(m[h],(t.axisTitleMargin||0)+x+v*t.offset,S,s&&s.length&&k?k[0]+v*t.offset:0);var L=a.offset?0:Math.floor(t.axisLine.strokeWidth()/2)*2;g[u]=Math.max(g[u],L),fireEvent$y(this,"afterGetOffset")},n.prototype.getLinePath=function(i){var t=this.chart,r=this.opposite,o=this.offset,a=this.horiz,s=this.left+(r?this.width:0)+o,l=t.chartHeight-this.bottom-(r?this.height:0)+o;return r&&(i*=-1),t.renderer.crispLine([["M",a?this.left:s,a?l:this.top],["L",a?t.chartWidth-this.right:s,a?l:t.chartHeight-this.bottom]],i)},n.prototype.renderLine=function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},n.prototype.getTitlePosition=function(){var i=this.horiz,t=this.left,r=this.top,o=this.len,a=this.options.title,s=i?t:r,l=this.opposite,c=this.offset,h=a.x,u=a.y,d=this.axisTitle,f=this.chart.renderer.fontMetrics(a.style.fontSize,d),p=Math.max(d.getBBox(null,0).height-f.h-1,0),m={low:s+(i?0:o),middle:s+o/2,high:s+(i?o:0)}[a.align],g=(i?r+this.height:t)+(i?1:-1)*(l?-1:1)*this.axisTitleMargin+[-p,p,f.f,-p][this.side],v={x:i?m+h:g+(l?this.width:0)+c+h,y:i?g+u-(l?this.height:0)+c:m+u};return fireEvent$y(this,"afterGetTitlePosition",{titlePosition:v}),v},n.prototype.renderMinorTick=function(i,t){var r=this,o=r.minorTicks;o[i]||(o[i]=new Tick(r,i,"minor")),t&&o[i].isNew&&o[i].render(null,!0),o[i].render(null,!1,1)},n.prototype.renderTick=function(i,t,r){var o=this,a=o.isLinked,s=o.ticks;(!a||i>=o.min&&i<=o.max||o.grid&&o.grid.isColumn)&&(s[i]||(s[i]=new Tick(o,i)),r&&s[i].isNew&&s[i].render(t,!0,-1),s[i].render(t))},n.prototype.render=function(){var i=this,t=i.chart,r=i.logarithmic,o=t.renderer,a=i.options,s=i.isLinked,l=i.tickPositions,c=i.axisTitle,h=i.ticks,u=i.minorTicks,d=i.alternateBands,f=a.stackLabels,p=a.alternateGridColor,m=i.tickmarkOffset,g=i.axisLine,v=i.showAxis,_=animObject$a(o.globalAnimation),y,b;if(i.labelEdge.length=0,i.overlap=!1,[h,u,d].forEach(function(C){objectEach$s(C,function($){$.isActive=!1})}),i.hasData()||s){var x=i.chart.hasRendered&&i.old&&isNumber$H(i.old.min);i.minorTickInterval&&!i.categories&&i.getMinorTickPositions().forEach(function(C){i.renderMinorTick(C,x)}),l.length&&(l.forEach(function(C,$){i.renderTick(C,$,x)}),m&&(i.min===0||i.single)&&(h[-1]||(h[-1]=new Tick(i,-1,null,!0)),h[-1].render(-1))),p&&l.forEach(function(C,$){b=typeof l[$+1]<"u"?l[$+1]+m:i.max-m,$%2===0&&C<i.max&&b<=i.max+(t.polar?-m:m)&&(d[C]||(d[C]=new H.PlotLineOrBand(i)),y=C+m,d[C].options={from:r?r.lin2log(y):y,to:r?r.lin2log(b):b,color:p,className:"highcharts-alternate-grid"},d[C].render(),d[C].isActive=!0)}),i._addedPlotLB||(i._addedPlotLB=!0,(a.plotLines||[]).concat(a.plotBands||[]).forEach(function(C){i.addPlotBandOrLine(C)}))}if([h,u,d].forEach(function(C){var $=[],S=_.duration,P=function(){for(var T=$.length;T--;)C[$[T]]&&!C[$[T]].isActive&&(C[$[T]].destroy(),delete C[$[T]])};objectEach$s(C,function(T,k){T.isActive||(T.render(k,!1,0),T.isActive=!1,$.push(k))}),syncTimeout$7(P,C===d||!t.hasRendered||!S?0:S)}),g&&(g[g.isPlaced?"animate":"attr"]({d:this.getLinePath(g.strokeWidth())}),g.isPlaced=!0,g[v?"show":"hide"](v)),c&&v){var E=i.getTitlePosition();isNumber$H(E.y)?(c[c.isNew?"attr":"animate"](E),c.isNew=!1):(c.attr("y",-9999),c.isNew=!0)}f&&f.enabled&&i.stacking&&i.stacking.renderStackTotals(),i.old={len:i.len,max:i.max,min:i.min,transA:i.transA,userMax:i.userMax,userMin:i.userMin},i.isDirty=!1,fireEvent$y(this,"afterRender")},n.prototype.redraw=function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(i){i.render()})),this.series.forEach(function(i){i.isDirty=!0})},n.prototype.getKeepProps=function(){return this.keepProps||n.keepProps},n.prototype.destroy=function(i){var t=this,r=t.plotLinesAndBands,o=this.eventOptions;if(fireEvent$y(this,"destroy",{keepEvents:i}),i||removeEvent$9(t),[t.ticks,t.minorTicks,t.alternateBands].forEach(function(l){destroyObjectProperties$7(l)}),r)for(var a=r.length;a--;)r[a].destroy();["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(l){t[l]&&(t[l]=t[l].destroy())});for(var s in t.plotLinesAndBandsGroups)t.plotLinesAndBandsGroups[s]=t.plotLinesAndBandsGroups[s].destroy();objectEach$s(t,function(l,c){t.getKeepProps().indexOf(c)===-1&&delete t[c]}),this.eventOptions=o},n.prototype.drawCrosshair=function(i,t){var r=this.crosshair,o=pick$1o(r&&r.snap,!0),a=this.chart,s,l,c,h=this.cross,u;if(fireEvent$y(this,"drawCrosshair",{e:i,point:t}),i||(i=this.cross&&this.cross.e),!r||(defined$N(t)||!o)===!1)this.hideCrosshair();else{if(o?defined$N(t)&&(l=pick$1o(this.coll!=="colorAxis"?t.crosshairPos:null,this.isXAxis?t.plotX:this.len-t.plotY)):l=i&&(this.horiz?i.chartX-this.pos:this.len-i.chartY+this.pos),defined$N(l)&&(u={value:t&&(this.isXAxis?t.x:pick$1o(t.stackY,t.y)),translatedValue:l},a.polar&&extend$1m(u,{isCrosshair:!0,chartX:i&&i.chartX,chartY:i&&i.chartY,point:t}),s=this.getPlotLinePath(u)||null),!defined$N(s)){this.hideCrosshair();return}c=this.categories&&!this.isRadial,h||(this.cross=h=a.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(c?"category ":"thin ")+(r.className||"")).attr({zIndex:pick$1o(r.zIndex,2)}).add(),a.styledMode||(h.attr({stroke:r.color||(c?Color.parse(palette.highlightColor20).setOpacity(.25).get():palette.neutralColor20),"stroke-width":pick$1o(r.width,1)}).css({"pointer-events":"none"}),r.dashStyle&&h.attr({dashstyle:r.dashStyle}))),h.show().attr({d:s}),c&&!r.width&&h.attr({"stroke-width":this.transA}),this.cross.e=i}fireEvent$y(this,"afterDrawCrosshair",{e:i,point:t})},n.prototype.hideCrosshair=function(){this.cross&&this.cross.hide(),fireEvent$y(this,"afterHideCrosshair")},n.prototype.hasVerticalPanning=function(){var i=this.chart.options.chart.panning;return!!(i&&i.enabled&&/y/.test(i.type))},n.prototype.validatePositiveValue=function(i){return isNumber$H(i)&&i>0},n.prototype.update=function(i,t){var r=this.chart;i=merge$1g(this.userOptions,i),this.destroy(!0),this.init(r,i),r.isDirtyBox=!0,pick$1o(t,!0)&&r.redraw()},n.prototype.remove=function(i){for(var t=this.chart,r=this.coll,o=this.series,a=o.length;a--;)o[a]&&o[a].remove(!1);erase$7(t.axes,this),erase$7(t[r],this),t[r].forEach(function(s,l){s.options.index=s.userOptions.index=l}),this.destroy(),t.isDirtyBox=!0,pick$1o(i,!0)&&t.redraw()},n.prototype.setTitle=function(i,t){this.update({title:i},t)},n.prototype.setCategories=function(i,t){this.update({categories:i},t)},n.defaultOptions=AxisDefaults$1.defaultXAxisOptions,n.keepProps=["extKey","hcEvents","names","series","userMax","userMin"],n}(),addEvent$_=Utilities.addEvent,getMagnitude$1=Utilities.getMagnitude,normalizeTickInterval$1=Utilities.normalizeTickInterval,timeUnits$1=Utilities.timeUnits,DateTimeAxis;(function(n){var i=[];function t(s){if(i.indexOf(s)===-1){i.push(s),s.keepProps.push("dateTime");var l=s.prototype;l.getTimeTicks=r,addEvent$_(s,"init",o)}return s}n.compose=t;function r(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function o(s){var l=this,c=s.userOptions;if(c.type!=="datetime"){l.dateTime=void 0;return}l.dateTime||(l.dateTime=new a(l))}var a=function(){function s(l){this.axis=l}return s.prototype.normalizeTimeTickInterval=function(l,c){var h=c||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],u=h[h.length-1],d=timeUnits$1[u[0]],f=u[1],p;for(p=0;p<h.length;p++)if(u=h[p],d=timeUnits$1[u[0]],f=u[1],h[p+1]){var m=(d*f[f.length-1]+timeUnits$1[h[p+1][0]])/2;if(l<=m)break}d===timeUnits$1.year&&l<5*d&&(f=[1,2,5]);var g=normalizeTickInterval$1(l/d,f,u[0]==="year"?Math.max(getMagnitude$1(l/d),1):1);return{unitRange:d,count:g,unitName:u[0]}},s.prototype.getXDateFormat=function(l,c){var h=this.axis;return h.closestPointRange?h.chart.time.getDateFormat(h.closestPointRange,l,h.options.startOfWeek,c)||c.year:c.day},s}();n.Additions=a})(DateTimeAxis||(DateTimeAxis={}));const DateTimeAxis$1=DateTimeAxis;var addEvent$Z=Utilities.addEvent,getMagnitude=Utilities.getMagnitude,normalizeTickInterval=Utilities.normalizeTickInterval,pick$1n=Utilities.pick,LogarithmicAxis;(function(n){var i=[];function t(s){return i.indexOf(s)===-1&&(i.push(s),s.keepProps.push("logarithmic"),addEvent$Z(s,"init",r),addEvent$Z(s,"afterInit",o)),s}n.compose=t;function r(s){var l=this,c=s.userOptions,h=l.logarithmic;c.type!=="logarithmic"?l.logarithmic=void 0:h||(h=l.logarithmic=new a(l))}function o(){var s=this,l=s.logarithmic;l&&(s.lin2val=function(c){return l.lin2log(c)},s.val2lin=function(c){return l.log2lin(c)})}var a=function(){function s(l){this.axis=l}return s.prototype.getLogTickPositions=function(l,c,h,u){var d=this,f=d.axis,p=f.len,m=f.options,g=[];if(u||(d.minorAutoInterval=void 0),l>=.5)l=Math.round(l),g=f.getLinearTickPositions(l,c,h);else if(l>=.08){var v=Math.floor(c),_=void 0,y=void 0,b=void 0,x=void 0,E=void 0,C=void 0,$=void 0;for(l>.3?_=[1,2,4]:l>.15?_=[1,2,4,6,8]:_=[1,2,3,4,5,6,7,8,9],y=v;y<h+1&&!$;y++)for(x=_.length,b=0;b<x&&!$;b++)E=d.log2lin(d.lin2log(y)*_[b]),E>c&&(!u||C<=h)&&typeof C<"u"&&g.push(C),C>h&&($=!0),C=E}else{var S=d.lin2log(c),P=d.lin2log(h),T=u?f.getMinorTickInterval():m.tickInterval,k=T==="auto"?null:T,L=m.tickPixelInterval/(u?5:1),N=u?p/f.tickPositions.length:p;l=pick$1n(k,d.minorAutoInterval,(P-S)*L/(N||1)),l=normalizeTickInterval(l,void 0,getMagnitude(l)),g=f.getLinearTickPositions(l,S,P).map(d.log2lin),u||(d.minorAutoInterval=l/5)}return u||(f.tickInterval=l),g},s.prototype.lin2log=function(l){return Math.pow(10,l)},s.prototype.log2lin=function(l){return Math.log(l)/Math.LN10},s}();n.Additions=a})(LogarithmicAxis||(LogarithmicAxis={}));const LogarithmicAxis$1=LogarithmicAxis;var erase$6=Utilities.erase,extend$1l=Utilities.extend,isNumber$G=Utilities.isNumber,PlotLineOrBandAxis;(function(n){var i=[],t;function r(a,s){return t||(t=a),i.indexOf(s)===-1&&(i.push(s),extend$1l(s.prototype,o.prototype)),s}n.compose=r;var o=function(){function a(){}return a.prototype.getPlotBandPath=function(s,l,c){c===void 0&&(c=this.options);var h=this.getPlotLinePath({value:l,force:!0,acrossPanes:c.acrossPanes}),u=[],d=this.horiz,f=!isNumber$G(this.min)||!isNumber$G(this.max)||s<this.min&&l<this.min||s>this.max&&l>this.max,p=this.getPlotLinePath({value:s,force:!0,acrossPanes:c.acrossPanes}),m,g=1,v;if(p&&h)for(f&&(v=p.toString()===h.toString(),g=0),m=0;m<p.length;m+=2){var _=p[m],y=p[m+1],b=h[m],x=h[m+1];(_[0]==="M"||_[0]==="L")&&(y[0]==="M"||y[0]==="L")&&(b[0]==="M"||b[0]==="L")&&(x[0]==="M"||x[0]==="L")&&(d&&b[1]===_[1]?(b[1]+=g,x[1]+=g):!d&&b[2]===_[2]&&(b[2]+=g,x[2]+=g),u.push(["M",_[1],_[2]],["L",y[1],y[2]],["L",x[1],x[2]],["L",b[1],b[2]],["Z"])),u.isFlat=v}else p=null;return u},a.prototype.addPlotBand=function(s){return this.addPlotBandOrLine(s,"plotBands")},a.prototype.addPlotLine=function(s){return this.addPlotBandOrLine(s,"plotLines")},a.prototype.addPlotBandOrLine=function(s,l){var c=this,h=this.userOptions,u=new t(this,s);if(this.visible&&(u=u.render()),u){if(this._addedPlotLB||(this._addedPlotLB=!0,(h.plotLines||[]).concat(h.plotBands||[]).forEach(function(f){c.addPlotBandOrLine(f)})),l){var d=h[l]||[];d.push(s),h[l]=d}this.plotLinesAndBands.push(u)}return u},a.prototype.removePlotBandOrLine=function(s){var l=this.plotLinesAndBands,c=this.options,h=this.userOptions;if(l){for(var u=l.length;u--;)l[u].id===s&&l[u].destroy();[c.plotLines||[],h.plotLines||[],c.plotBands||[],h.plotBands||[]].forEach(function(d){for(u=d.length;u--;)(d[u]||{}).id===s&&erase$6(d,d[u])})}},a.prototype.removePlotBand=function(s){this.removePlotBandOrLine(s)},a.prototype.removePlotLine=function(s){this.removePlotBandOrLine(s)},a}()})(PlotLineOrBandAxis||(PlotLineOrBandAxis={}));const PlotLineOrBandAxis$1=PlotLineOrBandAxis;var arrayMax$8=Utilities.arrayMax,arrayMin$7=Utilities.arrayMin,defined$M=Utilities.defined,destroyObjectProperties$6=Utilities.destroyObjectProperties,erase$5=Utilities.erase,fireEvent$x=Utilities.fireEvent,merge$1f=Utilities.merge,objectEach$r=Utilities.objectEach,pick$1m=Utilities.pick,PlotLineOrBand=function(){function n(i,t){this.axis=i,t&&(this.options=t,this.id=t.id)}return n.compose=function(i){return PlotLineOrBandAxis$1.compose(n,i)},n.prototype.render=function(){fireEvent$x(this,"render");var i=this,t=i.axis,r=t.horiz,o=t.logarithmic,a=i.options,s=a.color,l=pick$1m(a.zIndex,0),c=a.events,h={},u=t.chart.renderer,d=a.label,f=i.label,p=a.to,m=a.from,g=a.value,v=i.svgElem,_=[],y,b=defined$M(m)&&defined$M(p),x=defined$M(g),E=!v,C={class:"highcharts-plot-"+(b?"band ":"line ")+(a.className||"")},$=b?"bands":"lines";if(o&&(m=o.log2lin(m),p=o.log2lin(p),g=o.log2lin(g)),t.chart.styledMode||(x?(C.stroke=s||palette.neutralColor40,C["stroke-width"]=pick$1m(a.width,1),a.dashStyle&&(C.dashstyle=a.dashStyle)):b&&(C.fill=s||palette.highlightColor10,a.borderWidth&&(C.stroke=a.borderColor,C["stroke-width"]=a.borderWidth))),h.zIndex=l,$+="-"+l,y=t.plotLinesAndBandsGroups[$],y||(t.plotLinesAndBandsGroups[$]=y=u.g("plot-"+$).attr(h).add()),E&&(i.svgElem=v=u.path().attr(C).add(y)),x)_=t.getPlotLinePath({value:g,lineWidth:v.strokeWidth(),acrossPanes:a.acrossPanes});else if(b)_=t.getPlotBandPath(m,p,a);else return;return!i.eventsAdded&&c&&(objectEach$r(c,function(S,P){v.on(P,function(T){c[P].apply(i,[T])})}),i.eventsAdded=!0),(E||!v.d)&&_&&_.length?v.attr({d:_}):v&&(_?(v.show(!0),v.animate({d:_})):v.d&&(v.hide(),f&&(i.label=f=f.destroy()))),d&&(defined$M(d.text)||defined$M(d.formatter))&&_&&_.length&&t.width>0&&t.height>0&&!_.isFlat?(d=merge$1f({align:r&&b&&"center",x:r?!b&&4:10,verticalAlign:!r&&b&&"middle",y:r?b?16:10:b?6:-4,rotation:r&&!b&&90},d),this.renderLabel(d,_,b,l)):f&&f.hide(),i},n.prototype.renderLabel=function(i,t,r,o){var a=this,s=a.axis,l=s.chart.renderer,c=a.label;c||(a.label=c=l.text(this.getLabelText(i),0,0,i.useHTML).attr({align:i.textAlign||i.align,rotation:i.rotation,class:"highcharts-plot-"+(r?"band":"line")+"-label "+(i.className||""),zIndex:o}).add(),s.chart.styledMode||c.css(merge$1f({textOverflow:"ellipsis"},i.style)));var h=t.xBounds||[t[0][1],t[1][1],r?t[2][1]:t[0][1]],u=t.yBounds||[t[0][2],t[1][2],r?t[2][2]:t[0][2]],d=arrayMin$7(h),f=arrayMin$7(u);c.align(i,!1,{x:d,y:f,width:arrayMax$8(h)-d,height:arrayMax$8(u)-f}),(!c.alignValue||c.alignValue==="left")&&c.css({width:(c.rotation===90?s.height-(c.alignAttr.y-s.top):s.width-(c.alignAttr.x-s.left))+"px"}),c.show(!0)},n.prototype.getLabelText=function(i){return defined$M(i.formatter)?i.formatter.call(this):i.text},n.prototype.destroy=function(){erase$5(this.axis.plotLinesAndBands,this),delete this.axis,destroyObjectProperties$6(this)},n}(),format$d=FormatUtilities.format,doc$i=H.doc,distribute$3=R.distribute,addEvent$Y=Utilities.addEvent,clamp$g=Utilities.clamp,css$9=Utilities.css,defined$L=Utilities.defined,discardElement$5=Utilities.discardElement,extend$1k=Utilities.extend,fireEvent$w=Utilities.fireEvent,isArray$i=Utilities.isArray,isNumber$F=Utilities.isNumber,isString$6=Utilities.isString,merge$1e=Utilities.merge,pick$1l=Utilities.pick,splat$f=Utilities.splat,syncTimeout$6=Utilities.syncTimeout,Tooltip=function(){function n(i,t){this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=i,this.init(i,t)}return n.prototype.applyFilter=function(){var i=this.chart;i.renderer.definition({tagName:"filter",attributes:{id:"drop-shadow-"+i.index,opacity:.5},children:[{tagName:"feGaussianBlur",attributes:{in:"SourceAlpha",stdDeviation:1}},{tagName:"feOffset",attributes:{dx:1,dy:1}},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",attributes:{type:"linear",slope:.3}}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",attributes:{in:"SourceGraphic"}}]}]})},n.prototype.bodyFormatter=function(i){return i.map(function(t){var r=t.series.tooltipOptions;return(r[(t.point.formatPrefix||"point")+"Formatter"]||t.point.tooltipFormatter).call(t.point,r[(t.point.formatPrefix||"point")+"Format"]||"")})},n.prototype.cleanSplit=function(i){this.chart.series.forEach(function(t){var r=t&&t.tt;r&&(!r.isActive||i?t.tt=r.destroy():r.isActive=!1)})},n.prototype.defaultFormatter=function(i){var t=this.points||splat$f(this),r;return r=[i.tooltipFooterHeaderFormatter(t[0])],r=r.concat(i.bodyFormatter(t)),r.push(i.tooltipFooterHeaderFormatter(t[0],!0)),r},n.prototype.destroy=function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),discardElement$5(this.container)),Utilities.clearTimeout(this.hideTimer),Utilities.clearTimeout(this.tooltipTimeout)},n.prototype.getAnchor=function(i,t){var r=this.chart,o=r.pointer,a=r.inverted,s=r.plotTop,l=r.plotLeft,c,h,u,d=0,f=0;return i=splat$f(i),this.followPointer&&t?(typeof t.chartX>"u"&&(t=o.normalize(t)),c=[t.chartX-l,t.chartY-s]):i[0].tooltipPos?c=i[0].tooltipPos:(i.forEach(function(p){h=p.series.yAxis,u=p.series.xAxis,d+=p.plotX||0,f+=p.plotLow?(p.plotLow+(p.plotHigh||0))/2:p.plotY||0,u&&h&&(a?(d+=s+r.plotHeight-u.len-u.pos,f+=l+r.plotWidth-h.len-h.pos):(d+=u.pos-l,f+=h.pos-s))}),d/=i.length,f/=i.length,c=[a?r.plotWidth-f:d,a?r.plotHeight-d:f],this.shared&&i.length>1&&t&&(a?c[0]=t.chartX-l:c[1]=t.chartY-s)),c.map(Math.round)},n.prototype.getLabel=function(){var i=this,t=this.chart.styledMode,r=this.options,o="tooltip"+(defined$L(r.className)?" "+r.className:""),a=r.style.pointerEvents||(!this.followPointer&&r.stickOnContact?"auto":"none"),s=function(){i.inContact=!0},l=function(g){var v=i.chart.hoverSeries;i.inContact=i.shouldStickOnContact()&&i.chart.pointer.inClass(g.relatedTarget,"highcharts-tooltip"),!i.inContact&&v&&v.onMouseOut&&v.onMouseOut()},c,h=this.chart.renderer;if(!this.label){if(this.outside){var u=this.chart.options.chart.style,d=RendererRegistry$1.getRendererType();this.container=c=H.doc.createElement("div"),c.className="highcharts-tooltip-container",css$9(c,{position:"absolute",top:"1px",pointerEvents:a,zIndex:Math.max(this.options.style.zIndex||0,(u&&u.zIndex||0)+3)}),addEvent$Y(c,"mouseenter",s),addEvent$Y(c,"mouseleave",l),H.doc.body.appendChild(c),this.renderer=h=new d(c,0,0,u,void 0,void 0,h.styledMode)}if(this.split?this.label=h.g(o):(this.label=h.label("",0,0,r.shape,void 0,void 0,r.useHTML,void 0,o).attr({padding:r.padding,r:r.borderRadius}),t||this.label.attr({fill:r.backgroundColor,"stroke-width":r.borderWidth}).css(r.style).css({pointerEvents:a}).shadow(r.shadow)),t&&r.shadow&&(this.applyFilter(),this.label.attr({filter:"url(#drop-shadow-"+this.chart.index+")"})),i.outside&&!i.split){var f=this.label,p=f.xSetter,m=f.ySetter;f.xSetter=function(g){p.call(f,i.distance),c.style.left=g+"px"},f.ySetter=function(g){m.call(f,i.distance),c.style.top=g+"px"}}this.label.on("mouseenter",s).on("mouseleave",l).attr({zIndex:8}).add()}return this.label},n.prototype.getPosition=function(i,t,r){var o=this.chart,a=this.distance,s={},l=o.inverted&&r.h||0,c=this.outside,h=c?doc$i.documentElement.clientWidth-2*a:o.chartWidth,u=c?Math.max(doc$i.body.scrollHeight,doc$i.documentElement.scrollHeight,doc$i.body.offsetHeight,doc$i.documentElement.offsetHeight,doc$i.documentElement.clientHeight):o.chartHeight,d=o.pointer.getChartPosition(),f=function($){return $*d.scaleX},p=function($){return $*d.scaleY},m=function($){var S=$==="x";return[$,S?h:u,S?i:t].concat(c?[S?f(i):p(t),S?d.left-a+f(r.plotX+o.plotLeft):d.top-a+p(r.plotY+o.plotTop),0,S?h:u]:[S?i:t,S?r.plotX+o.plotLeft:r.plotY+o.plotTop,S?o.plotLeft:o.plotTop,S?o.plotLeft+o.plotWidth:o.plotTop+o.plotHeight])},g=m("y"),v=m("x"),_,y=!this.followPointer&&pick$1l(r.ttBelow,!o.inverted==!!r.negative),b=function($,S,P,T,k,L,N){var z=c?$==="y"?p(a):f(a):a,B=(P-T)/2,U=T<k-a,D=k+a+T<S,M=k-z-P+B,F=k+z-B;if(y&&D)s[$]=F;else if(!y&&U)s[$]=M;else if(U)s[$]=Math.min(N-T,M-l<0?M:M-l);else if(D)s[$]=Math.max(L,F+l+P>S?F:F+l);else return!1},x=function($,S,P,T,k){var L;return k<a||k>S-a?L=!1:k<P/2?s[$]=1:k>S-T/2?s[$]=S-T-2:s[$]=k-P/2,L},E=function($){var S=g;g=v,v=S,_=$},C=function(){b.apply(0,g)!==!1?x.apply(0,v)===!1&&!_&&(E(!0),C()):_?s.x=s.y=0:(E(!0),C())};return(o.inverted||this.len>1)&&E(),C(),s},n.prototype.hide=function(i){var t=this;Utilities.clearTimeout(this.hideTimer),i=pick$1l(i,this.options.hideDelay),this.isHidden||(this.hideTimer=syncTimeout$6(function(){t.getLabel().fadeOut(i&&void 0),t.isHidden=!0},i))},n.prototype.init=function(i,t){this.chart=i,this.options=t,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=t.split&&!i.inverted&&!i.polar,this.shared=t.shared||this.split,this.outside=pick$1l(t.outside,!!(i.scrollablePixelsX||i.scrollablePixelsY))},n.prototype.shouldStickOnContact=function(){return!!(!this.followPointer&&this.options.stickOnContact)},n.prototype.isStickyOnContact=function(){return!!(this.shouldStickOnContact()&&this.inContact)},n.prototype.move=function(i,t,r,o){var a=this,s=a.now,l=a.options.animation!==!1&&!a.isHidden&&(Math.abs(i-s.x)>1||Math.abs(t-s.y)>1),c=a.followPointer||a.len>1;extend$1k(s,{x:l?(2*s.x+i)/3:i,y:l?(s.y+t)/2:t,anchorX:c?void 0:l?(2*s.anchorX+r)/3:r,anchorY:c?void 0:l?(s.anchorY+o)/2:o}),a.getLabel().attr(s),a.drawTracker(),l&&(Utilities.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){a&&a.move(i,t,r,o)},32))},n.prototype.refresh=function(i,t){var r=this,o=this.chart,a=r.options,s=splat$f(i),l=s[0],c=[],h=a.formatter||r.defaultFormatter,u=r.shared,d=o.styledMode,f={};if(a.enabled){Utilities.clearTimeout(this.hideTimer),r.followPointer=!r.split&&l.series.tooltipOptions.followPointer;var p=r.getAnchor(i,t),m=p[0],g=p[1];u&&!(!isArray$i(i)&&i.series&&i.series.noSharedTooltip)?(o.pointer.applyInactiveState(s),s.forEach(function(E){E.setState("hover"),c.push(E.getLabelConfig())}),f={x:l.category,y:l.y},f.points=c):f=l.getLabelConfig(),this.len=c.length;var v=h.call(f,r),_=l.series;if(this.distance=pick$1l(_.tooltipOptions.distance,16),v===!1)this.hide();else{if(r.split)this.renderSplit(v,s);else{var y=m,b=g;if(t&&o.pointer.isDirectTouch&&(y=t.chartX-o.plotLeft,b=t.chartY-o.plotTop),o.polar||_.options.clip===!1||_.shouldShowTooltip(y,b)){var x=r.getLabel();(!a.style.width||d)&&x.css({width:this.chart.spacingBox.width+"px"}),x.attr({text:v&&v.join?v.join(""):v}),x.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+pick$1l(l.colorIndex,_.colorIndex)),d||x.attr({stroke:a.borderColor||l.color||_.color||palette.neutralColor60}),r.updatePosition({plotX:m,plotY:g,negative:l.negative,ttBelow:l.ttBelow,h:p[2]||0})}else{r.hide();return}}r.isHidden&&r.label&&r.label.attr({opacity:1}).show(),r.isHidden=!1}fireEvent$w(this,"refresh")}},n.prototype.renderSplit=function(i,t){var r=this,o=r.chart,a=r.chart,s=a.chartWidth,l=a.chartHeight,c=a.plotHeight,h=a.plotLeft,u=a.plotTop,d=a.pointer,f=a.scrollablePixelsY,p=f===void 0?0:f,m=a.scrollablePixelsX,g=a.scrollingContainer,v=g===void 0?{scrollLeft:0,scrollTop:0}:g,_=v.scrollLeft,y=v.scrollTop,b=a.styledMode,x=r.distance,E=r.options,C=r.options.positioner,$=r.outside&&typeof m!="number"?doc$i.documentElement.getBoundingClientRect():{left:_,right:_+s,top:y,bottom:y+l},S=r.getLabel(),P=this.renderer||o.renderer,T=!!(o.xAxis[0]&&o.xAxis[0].opposite),k=d.getChartPosition(),L=k.left,N=k.top,z=u+y,B=0,U=c-p;function D(nt){var at=nt.isHeader,ct=nt.plotX,ht=ct===void 0?0:ct,ut=nt.plotY,tt=ut===void 0?0:ut,it=nt.series,ot,st;if(at)ot=h+ht,st=u+c/2;else{var lt=it.xAxis,dt=it.yAxis;ot=lt.pos+clamp$g(ht,-x,lt.len+x),it.shouldShowTooltip(0,dt.pos-u+tt,{ignoreX:!0})&&(st=dt.pos+tt)}return ot=clamp$g(ot,$.left-x,$.right+x),{anchorX:ot,anchorY:st}}function M(nt,at,ct,ht,ut){ut===void 0&&(ut=!0);var tt,it;return ct?(tt=T?0:U,it=clamp$g(nt-ht/2,$.left,$.right-ht-(r.outside?L:0))):(tt=at-z,it=ut?nt-ht-x:nt+x,it=clamp$g(it,ut?it:$.left,$.right)),{x:it,y:tt}}function F(nt,at,ct){var ht=nt,ut=at.isHeader,tt=at.series,it="highcharts-color-"+pick$1l(at.colorIndex,tt.colorIndex,"none");if(!ht){var ot={padding:E.padding,r:E.borderRadius};b||(ot.fill=E.backgroundColor,ot["stroke-width"]=E.borderWidth),ht=P.label("",0,0,E[ut?"headerShape":"shape"],void 0,void 0,E.useHTML).addClass((ut?"highcharts-tooltip-header ":"")+"highcharts-tooltip-box "+it).attr(ot).add(S)}return ht.isActive=!0,ht.attr({text:ct}),b||ht.css(E.style).shadow(E.shadow).attr({stroke:E.borderColor||at.color||tt.color||palette.neutralColor80}),ht}isString$6(i)&&(i=[!1,i]);var j=i.slice(0,t.length+1).reduce(function(nt,at,ct){if(at!==!1&&at!==""){var ht=t[ct-1]||{isHeader:!0,plotX:t[0].plotX,plotY:c,series:{}},ut=ht.isHeader,tt=ut?r:ht.series,it=tt.tt=F(tt.tt,ht,at.toString()),ot=it.getBBox(),st=ot.width+it.strokeWidth();ut&&(B=ot.height,U+=B,T&&(z-=B));var lt=D(ht),dt=lt.anchorX,pt=lt.anchorY;if(typeof pt=="number"){var ft=ot.height+1,mt=C?C.call(r,st,ft,ht):M(dt,pt,ut,st);nt.push({align:C?0:void 0,anchorX:dt,anchorY:pt,boxWidth:st,point:ht,rank:pick$1l(mt.rank,ut?1:0),size:ft,target:mt.y,tt:it,x:mt.x})}else it.isActive=!1}return nt},[]);!C&&j.some(function(nt){var at=r.outside,ct=(at?L:0)+nt.anchorX;return ct<$.left&&ct+nt.boxWidth<$.right?!0:ct<L-$.left+nt.boxWidth&&$.right-ct>ct})&&(j=j.map(function(nt){var at=M(nt.anchorX,nt.anchorY,nt.point.isHeader,nt.boxWidth,!1),ct=at.x,ht=at.y;return extend$1k(nt,{target:ht,x:ct})})),r.cleanSplit(),distribute$3(j,U);var Y={left:L,right:L};j.forEach(function(nt){var at=nt.x,ct=nt.boxWidth,ht=nt.isHeader;ht||(r.outside&&L+at<Y.left&&(Y.left=L+at),!ht&&r.outside&&Y.left+ct>Y.right&&(Y.right=L+at))}),j.forEach(function(nt){var at=nt.x,ct=nt.anchorX,ht=nt.anchorY,ut=nt.pos,tt=nt.point.isHeader,it={visibility:typeof ut>"u"?"hidden":"inherit",x:at,y:ut+z,anchorX:ct,anchorY:ht};if(r.outside&&at<ct){var ot=L-Y.left;ot>0&&(tt||(it.x=at+ot,it.anchorX=ct+ot),tt&&(it.x=(Y.right-Y.left)/2,it.anchorX=ct+ot))}nt.tt.attr(it)});var W=r.container,q=r.outside,X=r.renderer;if(q&&W&&X){var K=S.getBBox(),Q=K.width,rt=K.height,J=K.x,et=K.y;X.setSize(Q+J,rt+et,!1),W.style.left=Y.left+"px",W.style.top=N+"px"}},n.prototype.drawTracker=function(){var i=this;if(i.followPointer||!i.options.stickOnContact){i.tracker&&i.tracker.destroy();return}var t=i.chart,r=i.label,o=i.shared?t.hoverPoints:t.hoverPoint;if(!(!r||!o)){var a={x:0,y:0,width:0,height:0},s=this.getAnchor(o),l=r.getBBox();s[0]+=t.plotLeft-r.translateX,s[1]+=t.plotTop-r.translateY,a.x=Math.min(0,s[0]),a.y=Math.min(0,s[1]),a.width=s[0]<0?Math.max(Math.abs(s[0]),l.width-s[0]):Math.max(Math.abs(s[0]),l.width),a.height=s[1]<0?Math.max(Math.abs(s[1]),l.height-Math.abs(s[1])):Math.max(Math.abs(s[1]),l.height),i.tracker?i.tracker.attr(a):(i.tracker=r.renderer.rect(a).addClass("highcharts-tracker").add(r),t.styledMode||i.tracker.attr({fill:"rgba(0,0,0,0)"}))}},n.prototype.styledModeFormat=function(i){return i.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex}"')},n.prototype.tooltipFooterHeaderFormatter=function(i,t){var r=i.series,o=r.tooltipOptions,a=r.xAxis,s=a&&a.dateTime,l={isFooter:t,labelConfig:i},c=o.xDateFormat,h=o[t?"footerFormat":"headerFormat"];return fireEvent$w(this,"headerFormatter",l,function(u){s&&!c&&isNumber$F(i.key)&&(c=s.getXDateFormat(i.key,o.dateTimeLabelFormats)),s&&c&&(i.point&&i.point.tooltipDateKeys||["key"]).forEach(function(d){h=h.replace("{point."+d+"}","{point."+d+":"+c+"}")}),r.chart.styledMode&&(h=this.styledModeFormat(h)),u.text=format$d(h,{point:i,series:r},this.chart)}),l.text},n.prototype.update=function(i){this.destroy(),merge$1e(!0,this.chart.options.tooltip.userOptions,i),this.init(this.chart,merge$1e(!0,this.options,i))},n.prototype.updatePosition=function(i){var t=this.chart,r=this.options,o=t.pointer,a=this.getLabel(),s=o.getChartPosition(),l=(r.positioner||this.getPosition).call(this,a.width,a.height,i),c=i.plotX+t.plotLeft,h=i.plotY+t.plotTop,u;this.outside&&(u=r.borderWidth+2*this.distance,this.renderer.setSize(a.width+u,a.height+u,!1),(s.scaleX!==1||s.scaleY!==1)&&(css$9(this.container,{transform:"scale("+s.scaleX+", "+s.scaleY+")"}),c*=s.scaleX,h*=s.scaleY),c+=s.left-l.x,h+=s.top-l.y),this.move(Math.round(l.x),Math.round(l.y||0),c,h)},n}(),animObject$9=animationExports.animObject,defaultOptions$d=DefaultOptions.defaultOptions,format$c=FormatUtilities.format,addEvent$X=Utilities.addEvent,defined$K=Utilities.defined,erase$4=Utilities.erase,extend$1j=Utilities.extend,fireEvent$v=Utilities.fireEvent,getNestedProperty$1=Utilities.getNestedProperty,isArray$h=Utilities.isArray,isFunction$2=Utilities.isFunction,isNumber$E=Utilities.isNumber,isObject$b=Utilities.isObject,merge$1d=Utilities.merge,objectEach$q=Utilities.objectEach,pick$1k=Utilities.pick,syncTimeout$5=Utilities.syncTimeout,removeEvent$8=Utilities.removeEvent,uniqueKey$5=Utilities.uniqueKey,Point$5=function(){function n(){this.category=void 0,this.colorIndex=void 0,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.name=void 0,this.options=void 0,this.percentage=void 0,this.selected=!1,this.series=void 0,this.total=void 0,this.visible=!0,this.x=void 0}return n.prototype.animateBeforeDestroy=function(){var i=this,t={x:i.startXPos,opacity:0},r=i.getGraphicalProps();r.singular.forEach(function(o){var a=o==="dataLabel";i[o]=i[o].animate(a?{x:i[o].startXPos,y:i[o].startYPos,opacity:0}:t)}),r.plural.forEach(function(o){i[o].forEach(function(a){a.element&&a.animate(extend$1j({x:i.startXPos},a.startYPos?{x:a.startXPos,y:a.startYPos}:{}))})})},n.prototype.applyOptions=function(i,t){var r=this,o=r.series,a=o.options.pointValKey||o.pointValKey;return i=n.prototype.optionsToObject.call(this,i),extend$1j(r,i),r.options=r.options?extend$1j(r.options,i):i,i.group&&delete r.group,i.dataLabels&&delete r.dataLabels,a&&(r.y=n.prototype.getNestedProperty.call(r,a)),r.isNull=pick$1k(r.isValid&&!r.isValid(),r.x===null||!isNumber$E(r.y)),r.formatPrefix=r.isNull?"null":"point",r.selected&&(r.state="select"),"name"in r&&typeof t>"u"&&o.xAxis&&o.xAxis.hasNames&&(r.x=o.xAxis.nameToX(r)),typeof r.x>"u"&&o?typeof t>"u"?r.x=o.autoIncrement():r.x=t:isNumber$E(i.x)&&o.options.relativeXValue&&(r.x=o.autoIncrement(i.x)),r},n.prototype.destroy=function(){var i=this,t=i.series,r=t.chart,o=t.options.dataSorting,a=r.hoverPoints,s=i.series.chart.renderer.globalAnimation,l=animObject$9(s),c;function h(){(i.graphic||i.dataLabel||i.dataLabels)&&(removeEvent$8(i),i.destroyElements());for(c in i)i[c]=null}i.legendItem&&r.legend.destroyItem(i),a&&(i.setState(),erase$4(a,i),a.length||(r.hoverPoints=null)),i===r.hoverPoint&&i.onMouseOut(),!o||!o.enabled?h():(this.animateBeforeDestroy(),syncTimeout$5(h,l.duration)),r.pointCount--},n.prototype.destroyElements=function(i){var t=this,r=t.getGraphicalProps(i);r.singular.forEach(function(o){t[o]=t[o].destroy()}),r.plural.forEach(function(o){t[o].forEach(function(a){a.element&&a.destroy()}),delete t[o]})},n.prototype.firePointEvent=function(i,t,r){var o=this,a=this.series,s=a.options;(s.point.events[i]||o.options&&o.options.events&&o.options.events[i])&&o.importEvents(),i==="click"&&s.allowPointSelect&&(r=function(l){o.select&&o.select(null,l.ctrlKey||l.metaKey||l.shiftKey)}),fireEvent$v(o,i,t,r)},n.prototype.getClassName=function(){var i=this;return"highcharts-point"+(i.selected?" highcharts-point-select":"")+(i.negative?" highcharts-negative":"")+(i.isNull?" highcharts-null-point":"")+(typeof i.colorIndex<"u"?" highcharts-color-"+i.colorIndex:"")+(i.options.className?" "+i.options.className:"")+(i.zone&&i.zone.className?" "+i.zone.className.replace("highcharts-negative",""):"")},n.prototype.getGraphicalProps=function(i){var t=this,r=[],o={singular:[],plural:[]},a,s;for(i=i||{graphic:1,dataLabel:1},i.graphic&&r.push("graphic","upperGraphic","shadowGroup"),i.dataLabel&&r.push("dataLabel","dataLabelUpper","connector"),s=r.length;s--;)a=r[s],t[a]&&o.singular.push(a);return["dataLabel","connector"].forEach(function(l){var c=l+"s";i[l]&&t[c]&&o.plural.push(c)}),o},n.prototype.getLabelConfig=function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},n.prototype.getNestedProperty=function(i){if(i)return i.indexOf("custom.")===0?getNestedProperty$1(i,this.options):this[i]},n.prototype.getZone=function(){var i=this.series,t=i.zones,r=i.zoneAxis||"y",o,a=0;for(o=t[a];this[r]>=o.value;)o=t[++a];return this.nonZonedColor||(this.nonZonedColor=this.color),o&&o.color&&!this.options.color?this.color=o.color:this.color=this.nonZonedColor,o},n.prototype.hasNewShapeType=function(){var i=this,t=i.graphic&&(i.graphic.symbolName||i.graphic.element.nodeName);return t!==this.shapeType},n.prototype.init=function(i,t,r){return this.series=i,this.applyOptions(t,r),this.id=defined$K(this.id)?this.id:uniqueKey$5(),this.resolveColor(),i.chart.pointCount++,fireEvent$v(this,"afterInit"),this},n.prototype.optionsToObject=function(i){var t=this.series,r=t.options.keys,o=r||t.pointArrayMap||["y"],a=o.length,s={},l,c=0,h=0;if(isNumber$E(i)||i===null)s[o[0]]=i;else if(isArray$h(i))for(!r&&i.length>a&&(l=typeof i[0],l==="string"?s.name=i[0]:l==="number"&&(s.x=i[0]),c++);h<a;)(!r||typeof i[c]<"u")&&(o[h].indexOf(".")>0?n.prototype.setNestedProperty(s,i[c],o[h]):s[o[h]]=i[c]),c++,h++;else typeof i=="object"&&(s=i,i.dataLabels&&(t._hasPointLabels=!0),i.marker&&(t._hasPointMarkers=!0));return s},n.prototype.resolveColor=function(){var i=this.series,t=i.chart.options.chart,r=i.chart.styledMode,o,a,s=t.colorCount,l;delete this.nonZonedColor,i.options.colorByPoint?(r||(a=i.options.colors||i.chart.options.colors,o=a[i.colorCounter],s=a.length),l=i.colorCounter,i.colorCounter++,i.colorCounter===s&&(i.colorCounter=0)):(r||(o=i.color),l=i.colorIndex),this.colorIndex=pick$1k(this.options.colorIndex,l),this.color=pick$1k(this.options.color,o)},n.prototype.setNestedProperty=function(i,t,r){var o=r.split(".");return o.reduce(function(a,s,l,c){var h=c.length-1===l;return a[s]=h?t:isObject$b(a[s],!0)?a[s]:{},a[s]},i),i},n.prototype.tooltipFormatter=function(i){var t=this.series,r=t.tooltipOptions,o=pick$1k(r.valueDecimals,""),a=r.valuePrefix||"",s=r.valueSuffix||"";return t.chart.styledMode&&(i=t.chart.tooltip.styledModeFormat(i)),(t.pointArrayMap||["y"]).forEach(function(l){l="{point."+l,(a||s)&&(i=i.replace(RegExp(l+"}","g"),a+l+"}"+s)),i=i.replace(RegExp(l+"}","g"),l+":,."+o+"f}")}),format$c(i,{point:this,series:this.series},t.chart)},n.prototype.update=function(i,t,r,o){var a=this,s=a.series,l=a.graphic,c=s.chart,h=s.options,u;t=pick$1k(t,!0);function d(){a.applyOptions(i);var f=l&&a.hasDummyGraphic,p=a.y===null?!f:f;l&&p&&(a.graphic=l.destroy(),delete a.hasDummyGraphic),isObject$b(i,!0)&&(l&&l.element&&i&&i.marker&&typeof i.marker.symbol<"u"&&(a.graphic=l.destroy()),i&&i.dataLabels&&a.dataLabel&&(a.dataLabel=a.dataLabel.destroy()),a.connector&&(a.connector=a.connector.destroy())),u=a.index,s.updateParallelArrays(a,u),h.data[u]=isObject$b(h.data[u],!0)||isObject$b(i,!0)?a.options:pick$1k(i,h.data[u]),s.isDirty=s.isDirtyData=!0,!s.fixedBox&&s.hasCartesianSeries&&(c.isDirtyBox=!0),h.legendType==="point"&&(c.isDirtyLegend=!0),t&&c.redraw(r)}o===!1?d():a.firePointEvent("update",{options:i},d)},n.prototype.remove=function(i,t){this.series.removePoint(this.series.data.indexOf(this),i,t)},n.prototype.select=function(i,t){var r=this,o=r.series,a=o.chart;i=pick$1k(i,!r.selected),this.selectedStaging=i,r.firePointEvent(i?"select":"unselect",{accumulate:t},function(){r.selected=r.options.selected=i,o.options.data[o.data.indexOf(r)]=r.options,r.setState(i&&"select"),t||a.getSelectedPoints().forEach(function(s){var l=s.series;s.selected&&s!==r&&(s.selected=s.options.selected=!1,l.options.data[l.data.indexOf(s)]=s.options,s.setState(a.hoverPoints&&l.options.inactiveOtherPoints?"inactive":""),s.firePointEvent("unselect"))})}),delete this.selectedStaging},n.prototype.onMouseOver=function(i){var t=this,r=t.series,o=r.chart,a=o.pointer;i=i?a.normalize(i):a.getChartCoordinatesFromPoint(t,o.inverted),a.runPointActions(i,t)},n.prototype.onMouseOut=function(){var i=this,t=i.series.chart;i.firePointEvent("mouseOut"),i.series.options.inactiveOtherPoints||(t.hoverPoints||[]).forEach(function(r){r.setState()}),t.hoverPoints=t.hoverPoint=null},n.prototype.importEvents=function(){if(!this.hasImportedEvents){var i=this,t=merge$1d(i.series.options.point,i.options),r=t.events;i.events=r,objectEach$q(r,function(o,a){isFunction$2(o)&&addEvent$X(i,a,o)}),this.hasImportedEvents=!0}},n.prototype.setState=function(i,t){var r=this,o=r.series,a=r.state,s=o.options.states[i||"normal"]||{},l=defaultOptions$d.plotOptions[o.type].marker&&o.options.marker,c=l&&l.enabled===!1,h=l&&l.states&&l.states[i||"normal"]||{},u=h.enabled===!1,d=r.marker||{},f=o.chart,p=l&&o.markerAttribs,m=o.halo,g,v,_,y=o.stateMarkerGraphic,b;if(i=i||"",!(i===r.state&&!t||r.selected&&i!=="select"||s.enabled===!1||i&&(u||c&&h.enabled===!1)||i&&d.states&&d.states[i]&&d.states[i].enabled===!1)){r.state=i,p&&(g=o.markerAttribs(r,i)),r.graphic&&!r.hasDummyGraphic?(a&&r.graphic.removeClass("highcharts-point-"+a),i&&r.graphic.addClass("highcharts-point-"+i),f.styledMode||(v=o.pointAttribs(r,i),_=pick$1k(f.options.chart.animation,s.animation),o.options.inactiveOtherPoints&&isNumber$E(v.opacity)&&((r.dataLabels||[]).forEach(function($){$&&$.animate({opacity:v.opacity},_)}),r.connector&&r.connector.animate({opacity:v.opacity},_)),r.graphic.animate(v,_)),g&&r.graphic.animate(g,pick$1k(f.options.chart.animation,h.animation,l.animation)),y&&y.hide()):(i&&h&&(b=d.symbol||o.symbol,y&&y.currentSymbol!==b&&(y=y.destroy()),g&&(y?y[t?"animate":"attr"]({x:g.x,y:g.y}):b&&(o.stateMarkerGraphic=y=f.renderer.symbol(b,g.x,g.y,g.width,g.height).add(o.markerGroup),y.currentSymbol=b)),!f.styledMode&&y&&y.attr(o.pointAttribs(r,i))),y&&(y[i&&r.isInside?"show":"hide"](),y.element.point=r,y.addClass(r.getClassName(),!0)));var x=s.halo,E=r.graphic||y,C=E&&E.visibility||"inherit";x&&x.size&&E&&C!=="hidden"&&!r.isCluster?(m||(o.halo=m=f.renderer.path().add(E.parentGroup)),m.show()[t?"animate":"attr"]({d:r.haloPath(x.size)}),m.attr({class:"highcharts-halo highcharts-color-"+pick$1k(r.colorIndex,o.colorIndex)+(r.className?" "+r.className:""),visibility:C,zIndex:-1}),m.point=r,f.styledMode||m.attr(extend$1j({fill:r.color||o.color,"fill-opacity":x.opacity},AST.filterUserAttributes(x.attributes||{})))):m&&m.point&&m.point.haloPath&&m.animate({d:m.point.haloPath(0)},null,m.hide),fireEvent$v(r,"afterSetState",{state:i})}},n.prototype.haloPath=function(i){var t=this.series,r=t.chart;return r.renderer.symbols.circle(Math.floor(this.plotX)-i,this.plotY-i,i*2,i*2)},n}(),color$e=Color.parse,charts$3=H.charts,noop$j=H.noop,addEvent$W=Utilities.addEvent,attr$2=Utilities.attr,css$8=Utilities.css,defined$J=Utilities.defined,extend$1i=Utilities.extend,find$i=Utilities.find,fireEvent$u=Utilities.fireEvent,isNumber$D=Utilities.isNumber,isObject$a=Utilities.isObject,objectEach$p=Utilities.objectEach,offset=Utilities.offset,pick$1j=Utilities.pick,splat$e=Utilities.splat,Pointer=function(){function n(i,t){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=i,this.hasDragged=!1,this.options=t,this.init(i,t)}return n.prototype.applyInactiveState=function(i){var t=[],r;(i||[]).forEach(function(o){r=o.series,t.push(r),r.linkedParent&&t.push(r.linkedParent),r.linkedSeries&&(t=t.concat(r.linkedSeries)),r.navigatorSeries&&t.push(r.navigatorSeries)}),this.chart.series.forEach(function(o){t.indexOf(o)===-1?o.setState("inactive",!0):o.options.inactiveOtherPoints&&o.setAllPointsToState("inactive")})},n.prototype.destroy=function(){var i=this;this.eventsToUnbind.forEach(function(t){return t()}),this.eventsToUnbind=[],H.chartCount||(n.unbindDocumentMouseUp&&(n.unbindDocumentMouseUp=n.unbindDocumentMouseUp()),n.unbindDocumentTouchEnd&&(n.unbindDocumentTouchEnd=n.unbindDocumentTouchEnd())),clearInterval(i.tooltipTimeout),objectEach$p(i,function(t,r){i[r]=void 0})},n.prototype.drag=function(i){var t=this.chart,r=t.options.chart,o=this.zoomHor,a=this.zoomVert,s=t.plotLeft,l=t.plotTop,c=t.plotWidth,h=t.plotHeight,u=this.mouseDownX||0,d=this.mouseDownY||0,f=isObject$a(r.panning)?r.panning&&r.panning.enabled:r.panning,p=r.panKey&&i[r.panKey+"Key"],m=i.chartX,g=i.chartY,v,_,y=this.selectionMarker;y&&y.touch||(m<s?m=s:m>s+c&&(m=s+c),g<l?g=l:g>l+h&&(g=l+h),this.hasDragged=Math.sqrt(Math.pow(u-m,2)+Math.pow(d-g,2)),this.hasDragged>10&&(v=t.isInsidePlot(u-s,d-l,{visiblePlotOnly:!0}),t.hasCartesianSeries&&(this.zoomX||this.zoomY)&&v&&!p&&(y||(this.selectionMarker=y=t.renderer.rect(s,l,o?1:c,a?1:h,0).attr({class:"highcharts-selection-marker",zIndex:7}).add(),t.styledMode||y.attr({fill:r.selectionMarkerFill||color$e(palette.highlightColor80).setOpacity(.25).get()}))),y&&o&&(_=m-u,y.attr({width:Math.abs(_),x:(_>0?0:_)+u})),y&&a&&(_=g-d,y.attr({height:Math.abs(_),y:(_>0?0:_)+d})),v&&!y&&f&&t.pan(i,r.panning)))},n.prototype.dragStart=function(i){var t=this.chart;t.mouseIsDown=i.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=i.chartX,t.mouseDownY=this.mouseDownY=i.chartY},n.prototype.drop=function(i){var t=this,r=this.chart,o=this.hasPinched;if(this.selectionMarker){var a={originalEvent:i,xAxis:[],yAxis:[]},s=this.selectionMarker,l=s.attr?s.attr("x"):s.x,c=s.attr?s.attr("y"):s.y,h=s.attr?s.attr("width"):s.width,u=s.attr?s.attr("height"):s.height,d;(this.hasDragged||o)&&(r.axes.forEach(function(f){if(f.zoomEnabled&&defined$J(f.min)&&(o||t[{xAxis:"zoomX",yAxis:"zoomY"}[f.coll]])&&isNumber$D(l)&&isNumber$D(c)){var p=f.horiz,m=i.type==="touchend"?f.minPixelPadding:0,g=f.toValue((p?l:c)+m),v=f.toValue((p?l+h:c+u)-m);a[f.coll].push({axis:f,min:Math.min(g,v),max:Math.max(g,v)}),d=!0}}),d&&fireEvent$u(r,"selection",a,function(f){r.zoom(extend$1i(f,o?{animation:!1}:null))})),isNumber$D(r.index)&&(this.selectionMarker=this.selectionMarker.destroy()),o&&this.scaleGroups()}r&&isNumber$D(r.index)&&(css$8(r.container,{cursor:r._cursor}),r.cancelClick=this.hasDragged>10,r.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},n.prototype.findNearestKDPoint=function(i,t,r){var o=this.chart,a=o.hoverPoint,s=o.tooltip;if(a&&s&&s.isStickyOnContact())return a;var l;function c(h,u){var d=h.distX-u.distX,f=h.dist-u.dist,p=(u.series.group&&u.series.group.zIndex)-(h.series.group&&h.series.group.zIndex),m;return d!==0&&t?m=d:f!==0?m=f:p!==0?m=p:m=h.series.index>u.series.index?-1:1,m}return i.forEach(function(h){var u=h.noSharedTooltip&&t,d=!u&&h.options.findNearestPointBy.indexOf("y")<0,f=h.searchPoint(r,d);isObject$a(f,!0)&&f.series&&(!isObject$a(l,!0)||c(l,f)>0)&&(l=f)}),l},n.prototype.getChartCoordinatesFromPoint=function(i,t){var r=i.series,o=r.xAxis,a=r.yAxis,s=i.shapeArgs;if(o&&a){var l=pick$1j(i.clientX,i.plotX),c=i.plotY||0;return i.isNode&&s&&isNumber$D(s.x)&&isNumber$D(s.y)&&(l=s.x,c=s.y),t?{chartX:a.len+a.pos-c,chartY:o.len+o.pos-l}:{chartX:l+o.pos,chartY:c+a.pos}}if(s&&s.x&&s.y)return{chartX:s.x,chartY:s.y}},n.prototype.getChartPosition=function(){if(this.chartPosition)return this.chartPosition;var i=this.chart.container,t=offset(i);this.chartPosition={left:t.left,top:t.top,scaleX:1,scaleY:1};var r=i.offsetWidth,o=i.offsetHeight;return r>2&&o>2&&(this.chartPosition.scaleX=t.width/r,this.chartPosition.scaleY=t.height/o),this.chartPosition},n.prototype.getCoordinates=function(i){var t={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(r){t[r.isXAxis?"xAxis":"yAxis"].push({axis:r,value:r.toValue(i[r.horiz?"chartX":"chartY"])})}),t},n.prototype.getHoverData=function(i,t,r,o,a,s){var l=[],c=!!(o&&i),h=function(g){return g.visible&&!(!a&&g.directTouch)&&pick$1j(g.options.enableMouseTracking,!0)},u=t,d,f={chartX:s?s.chartX:void 0,chartY:s?s.chartY:void 0,shared:a};fireEvent$u(this,"beforeGetHoverData",f);var p=u&&!u.stickyTracking;d=p?[u]:r.filter(function(g){return f.filter?f.filter(g):h(g)&&g.stickyTracking});var m=c||!s?i:this.findNearestKDPoint(d,a,s);return u=m&&m.series,m&&(a&&!u.noSharedTooltip?(d=r.filter(function(g){return f.filter?f.filter(g):h(g)&&!g.noSharedTooltip}),d.forEach(function(g){var v=find$i(g.points,function(_){return _.x===m.x&&!_.isNull});isObject$a(v)&&(g.chart.isBoosting&&(v=g.getPoint(v)),l.push(v))})):l.push(m)),f={hoverPoint:m},fireEvent$u(this,"afterGetHoverData",f),{hoverPoint:f.hoverPoint,hoverSeries:u,hoverPoints:l}},n.prototype.getPointFromEvent=function(i){for(var t=i.target,r;t&&!r;)r=t.point,t=t.parentNode;return r},n.prototype.onTrackerMouseOut=function(i){var t=this.chart,r=i.relatedTarget||i.toElement,o=t.hoverSeries;this.isDirectTouch=!1,o&&r&&!o.stickyTracking&&!this.inClass(r,"highcharts-tooltip")&&(!this.inClass(r,"highcharts-series-"+o.index)||!this.inClass(r,"highcharts-tracker"))&&o.onMouseOut()},n.prototype.inClass=function(i,t){for(var r;i;){if(r=attr$2(i,"class"),r){if(r.indexOf(t)!==-1)return!0;if(r.indexOf("highcharts-container")!==-1)return!1}i=i.parentNode}},n.prototype.init=function(i,t){this.options=t,this.chart=i,this.runChartClick=!!(t.chart.events&&t.chart.events.click),this.pinchDown=[],this.lastValidTouch={},Tooltip&&(i.tooltip=new Tooltip(i,t.tooltip),this.followTouchMove=pick$1j(t.tooltip.followTouchMove,!0)),this.setDOMEvents()},n.prototype.normalize=function(i,t){var r=i.touches,o=r?r.length?r.item(0):pick$1j(r.changedTouches,i.changedTouches)[0]:i;t||(t=this.getChartPosition());var a=o.pageX-t.left,s=o.pageY-t.top;return a/=t.scaleX,s/=t.scaleY,extend$1i(i,{chartX:Math.round(a),chartY:Math.round(s)})},n.prototype.onContainerClick=function(i){var t=this.chart,r=t.hoverPoint,o=this.normalize(i),a=t.plotLeft,s=t.plotTop;t.cancelClick||(r&&this.inClass(o.target,"highcharts-tracker")?(fireEvent$u(r.series,"click",extend$1i(o,{point:r})),t.hoverPoint&&r.firePointEvent("click",o)):(extend$1i(o,this.getCoordinates(o)),t.isInsidePlot(o.chartX-a,o.chartY-s,{visiblePlotOnly:!0})&&fireEvent$u(t,"click",o)))},n.prototype.onContainerMouseDown=function(i){var t=((i.buttons||i.button)&1)===1;i=this.normalize(i),H.isFirefox&&i.button!==0&&this.onContainerMouseMove(i),(typeof i.button>"u"||t)&&(this.zoomOption(i),t&&i.preventDefault&&i.preventDefault(),this.dragStart(i))},n.prototype.onContainerMouseLeave=function(i){var t=charts$3[pick$1j(n.hoverChartIndex,-1)],r=this.chart.tooltip;r&&r.shouldStickOnContact()&&this.inClass(i.relatedTarget,"highcharts-tooltip-container")||(i=this.normalize(i),t&&(i.relatedTarget||i.toElement)&&(t.pointer.reset(),t.pointer.chartPosition=void 0),r&&!r.isHidden&&this.reset())},n.prototype.onContainerMouseEnter=function(i){delete this.chartPosition},n.prototype.onContainerMouseMove=function(i){var t=this.chart,r=this.normalize(i);this.setHoverChartIndex(),r.preventDefault||(r.returnValue=!1),(t.mouseIsDown==="mousedown"||this.touchSelect(r))&&this.drag(r),!t.openMenu&&(this.inClass(r.target,"highcharts-tracker")||t.isInsidePlot(r.chartX-t.plotLeft,r.chartY-t.plotTop,{visiblePlotOnly:!0}))&&(this.inClass(r.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(r))},n.prototype.onDocumentTouchEnd=function(i){var t=charts$3[pick$1j(n.hoverChartIndex,-1)];t&&t.pointer.drop(i)},n.prototype.onContainerTouchMove=function(i){this.touchSelect(i)?this.onContainerMouseMove(i):this.touch(i)},n.prototype.onContainerTouchStart=function(i){this.touchSelect(i)?this.onContainerMouseDown(i):(this.zoomOption(i),this.touch(i,!0))},n.prototype.onDocumentMouseMove=function(i){var t=this.chart,r=this.chartPosition,o=this.normalize(i,r),a=t.tooltip;r&&(!a||!a.isStickyOnContact())&&!t.isInsidePlot(o.chartX-t.plotLeft,o.chartY-t.plotTop,{visiblePlotOnly:!0})&&!this.inClass(o.target,"highcharts-tracker")&&this.reset()},n.prototype.onDocumentMouseUp=function(i){var t=charts$3[pick$1j(n.hoverChartIndex,-1)];t&&t.pointer.drop(i)},n.prototype.pinch=function(i){var t=this,r=t.chart,o=t.pinchDown,a=i.touches||[],s=a.length,l=t.lastValidTouch,c=t.hasZoom,h={},u=s===1&&(t.inClass(i.target,"highcharts-tracker")&&r.runTrackerClick||t.runChartClick),d={},f=t.selectionMarker;s>1?t.initiated=!0:s===1&&this.followTouchMove&&(t.initiated=!1),c&&t.initiated&&!u&&i.cancelable!==!1&&i.preventDefault(),[].map.call(a,function(p){return t.normalize(p)}),i.type==="touchstart"?([].forEach.call(a,function(p,m){o[m]={chartX:p.chartX,chartY:p.chartY}}),l.x=[o[0].chartX,o[1]&&o[1].chartX],l.y=[o[0].chartY,o[1]&&o[1].chartY],r.axes.forEach(function(p){if(p.zoomEnabled){var m=r.bounds[p.horiz?"h":"v"],g=p.minPixelPadding,v=p.toPixels(Math.min(pick$1j(p.options.min,p.dataMin),p.dataMin)),_=p.toPixels(Math.max(pick$1j(p.options.max,p.dataMax),p.dataMax)),y=Math.min(v,_),b=Math.max(v,_);m.min=Math.min(p.pos,y-g),m.max=Math.max(p.pos+p.len,b+g)}}),t.res=!0):t.followTouchMove&&s===1?this.runPointActions(t.normalize(i)):o.length&&(f||(t.selectionMarker=f=extend$1i({destroy:noop$j,touch:!0},r.plotBox)),t.pinchTranslate(o,a,h,f,d,l),t.hasPinched=c,t.scaleGroups(h,d),t.res&&(t.res=!1,this.reset(!1,0)))},n.prototype.pinchTranslate=function(i,t,r,o,a,s){this.zoomHor&&this.pinchTranslateDirection(!0,i,t,r,o,a,s),this.zoomVert&&this.pinchTranslateDirection(!1,i,t,r,o,a,s)},n.prototype.pinchTranslateDirection=function(i,t,r,o,a,s,l,c){var h=this.chart,u=i?"x":"y",d=i?"X":"Y",f="chart"+d,p=i?"width":"height",m=h["plot"+(i?"Left":"Top")],g=h.inverted,v=h.bounds[i?"h":"v"],_=t.length===1,y=t[0][f],b=!_&&t[1][f],x=function(){typeof T=="number"&&Math.abs(y-b)>20&&(S=c||Math.abs(P-T)/Math.abs(y-b)),$=(m-P)/S+y,E=h["plot"+(i?"Width":"Height")]/S},E,C,$,S=c||1,P=r[0][f],T=!_&&r[1][f],k;x(),C=$,C<v.min?(C=v.min,k=!0):C+E>v.max&&(C=v.max-E,k=!0),k?(P-=.8*(P-l[u][0]),typeof T=="number"&&(T-=.8*(T-l[u][1])),x()):l[u]=[P,T],g||(s[u]=$-m,s[p]=E);var L=g?i?"scaleY":"scaleX":"scale"+d,N=g?1/S:S;a[p]=E,a[u]=C,o[L]=S,o["translate"+d]=N*m+(P-N*y)},n.prototype.reset=function(i,t){var r=this,o=r.chart,a=o.hoverSeries,s=o.hoverPoint,l=o.hoverPoints,c=o.tooltip,h=c&&c.shared?l:s;i&&h&&splat$e(h).forEach(function(u){u.series.isCartesian&&typeof u.plotX>"u"&&(i=!1)}),i?c&&h&&splat$e(h).length&&(c.refresh(h),c.shared&&l?l.forEach(function(u){u.setState(u.state,!0),u.series.isCartesian&&(u.series.xAxis.crosshair&&u.series.xAxis.drawCrosshair(null,u),u.series.yAxis.crosshair&&u.series.yAxis.drawCrosshair(null,u))}):s&&(s.setState(s.state,!0),o.axes.forEach(function(u){u.crosshair&&s.series[u.coll]===u&&u.drawCrosshair(null,s)}))):(s&&s.onMouseOut(),l&&l.forEach(function(u){u.setState()}),a&&a.onMouseOut(),c&&c.hide(t),r.unDocMouseMove&&(r.unDocMouseMove=r.unDocMouseMove()),o.axes.forEach(function(u){u.hideCrosshair()}),r.hoverX=o.hoverPoints=o.hoverPoint=null)},n.prototype.runPointActions=function(i,t){var r=this,o=r.chart,a=o.series,s=o.tooltip&&o.tooltip.options.enabled?o.tooltip:void 0,l=s?s.shared:!1,c=t||o.hoverPoint,h=c&&c.series||o.hoverSeries,u=(!i||i.type!=="touchmove")&&(!!t||h&&h.directTouch&&r.isDirectTouch),d=this.getHoverData(c,h,a,u,l,i);c=d.hoverPoint,h=d.hoverSeries;var f=d.hoverPoints,p=h&&h.tooltipOptions.followPointer&&!h.tooltipOptions.split,m=l&&h&&!h.noSharedTooltip;if(c&&(c!==o.hoverPoint||s&&s.isHidden)){if((o.hoverPoints||[]).forEach(function(v){f.indexOf(v)===-1&&v.setState()}),o.hoverSeries!==h&&h.onMouseOver(),r.applyInactiveState(f),(f||[]).forEach(function(v){v.setState("hover")}),o.hoverPoint&&o.hoverPoint.firePointEvent("mouseOut"),!c.series)return;o.hoverPoints=f,o.hoverPoint=c,c.firePointEvent("mouseOver"),s&&s.refresh(m?f:c,i)}else if(p&&s&&!s.isHidden){var g=s.getAnchor([{}],i);o.isInsidePlot(g[0],g[1],{visiblePlotOnly:!0})&&s.updatePosition({plotX:g[0],plotY:g[1]})}r.unDocMouseMove||(r.unDocMouseMove=addEvent$W(o.container.ownerDocument,"mousemove",function(v){var _=charts$3[n.hoverChartIndex];_&&_.pointer.onDocumentMouseMove(v)}),r.eventsToUnbind.push(r.unDocMouseMove)),o.axes.forEach(function(_){var y=pick$1j((_.crosshair||{}).snap,!0),b;y&&(b=o.hoverPoint,(!b||b.series[_.coll]!==_)&&(b=find$i(f,function(x){return x.series[_.coll]===_}))),b||!y?_.drawCrosshair(i,b):_.hideCrosshair()})},n.prototype.scaleGroups=function(i,t){var r=this.chart;r.series.forEach(function(o){var a=i||o.getPlotBox();o.xAxis&&o.xAxis.zoomEnabled&&o.group&&(o.group.attr(a),o.markerGroup&&(o.markerGroup.attr(a),o.markerGroup.clip(t?r.clipRect:null)),o.dataLabelsGroup&&o.dataLabelsGroup.attr(a))}),r.clipRect.attr(t||r.clipBox)},n.prototype.setDOMEvents=function(){var i=this,t=this.chart.container,r=t.ownerDocument;t.onmousedown=this.onContainerMouseDown.bind(this),t.onmousemove=this.onContainerMouseMove.bind(this),t.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(addEvent$W(t,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(addEvent$W(t,"mouseleave",this.onContainerMouseLeave.bind(this))),n.unbindDocumentMouseUp||(n.unbindDocumentMouseUp=addEvent$W(r,"mouseup",this.onDocumentMouseUp.bind(this)));for(var o=this.chart.renderTo.parentElement;o&&o.tagName!=="BODY";)this.eventsToUnbind.push(addEvent$W(o,"scroll",function(){delete i.chartPosition})),o=o.parentElement;H.hasTouch&&(this.eventsToUnbind.push(addEvent$W(t,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(addEvent$W(t,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),n.unbindDocumentTouchEnd||(n.unbindDocumentTouchEnd=addEvent$W(r,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))},n.prototype.setHoverChartIndex=function(){var i=this.chart,t=H.charts[pick$1j(n.hoverChartIndex,-1)];t&&t!==i&&t.pointer.onContainerMouseLeave({relatedTarget:!0}),(!t||!t.mouseIsDown)&&(n.hoverChartIndex=i.index)},n.prototype.touch=function(i,t){var r=this.chart,o,a,s;this.setHoverChartIndex(),i.touches.length===1?(i=this.normalize(i),s=r.isInsidePlot(i.chartX-r.plotLeft,i.chartY-r.plotTop,{visiblePlotOnly:!0}),s&&!r.openMenu?(t&&this.runPointActions(i),i.type==="touchmove"&&(a=this.pinchDown,o=a[0]?Math.sqrt(Math.pow(a[0].chartX-i.chartX,2)+Math.pow(a[0].chartY-i.chartY,2))>=4:!1),pick$1j(o,!0)&&this.pinch(i)):t&&this.reset()):i.touches.length===2&&this.pinch(i)},n.prototype.touchSelect=function(i){return!!(this.chart.options.chart.zoomBySingleTouch&&i.touches&&i.touches.length===1)},n.prototype.zoomOption=function(i){var t=this.chart,r=t.options.chart,o=t.inverted,a=r.zoomType||"",s,l;/touch/.test(i.type)&&(a=pick$1j(r.pinchType,a)),this.zoomX=s=/x/.test(a),this.zoomY=l=/y/.test(a),this.zoomHor=s&&!o||l&&o,this.zoomVert=l&&!o||s&&o,this.hasZoom=s||l},n}(),__extends$2b=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),charts$2=H.charts,doc$h=H.doc,noop$i=H.noop,win$a=H.win,addEvent$V=Utilities.addEvent,css$7=Utilities.css,objectEach$o=Utilities.objectEach,removeEvent$7=Utilities.removeEvent,touches={},hasPointerEvent=!!win$a.PointerEvent;function getWebkitTouches(){var n=[];return n.item=function(i){return this[i]},objectEach$o(touches,function(i){n.push({pageX:i.pageX,pageY:i.pageY,target:i.target})}),n}function translateMSPointer(n,i,t,r){var o=charts$2[Pointer.hoverChartIndex||NaN];if((n.pointerType==="touch"||n.pointerType===n.MSPOINTER_TYPE_TOUCH)&&o){var a=o.pointer;r(n),a[i]({type:t,target:n.currentTarget,preventDefault:noop$i,touches:getWebkitTouches()})}}var MSPointer=function(n){__extends$2b(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i.isRequired=function(){return!!(!H.hasTouch&&(win$a.PointerEvent||win$a.MSPointerEvent))},i.prototype.batchMSEvents=function(t){t(this.chart.container,hasPointerEvent?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,hasPointerEvent?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(doc$h,hasPointerEvent?"pointerup":"MSPointerUp",this.onDocumentPointerUp)},i.prototype.destroy=function(){this.batchMSEvents(removeEvent$7),n.prototype.destroy.call(this)},i.prototype.init=function(t,r){n.prototype.init.call(this,t,r),this.hasZoom&&css$7(t.container,{"-ms-touch-action":"none","touch-action":"none"})},i.prototype.onContainerPointerDown=function(t){translateMSPointer(t,"onContainerTouchStart","touchstart",function(r){touches[r.pointerId]={pageX:r.pageX,pageY:r.pageY,target:r.currentTarget}})},i.prototype.onContainerPointerMove=function(t){translateMSPointer(t,"onContainerTouchMove","touchmove",function(r){touches[r.pointerId]={pageX:r.pageX,pageY:r.pageY},touches[r.pointerId].target||(touches[r.pointerId].target=r.currentTarget)})},i.prototype.onDocumentPointerUp=function(t){translateMSPointer(t,"onDocumentTouchEnd","touchend",function(r){delete touches[r.pointerId]})},i.prototype.setDOMEvents=function(){n.prototype.setDOMEvents.call(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(addEvent$V)},i}(Pointer),animObject$8=animationExports.animObject,setAnimation$4=animationExports.setAnimation,format$b=FormatUtilities.format,isFirefox$1=H.isFirefox,marginNames$1=H.marginNames,win$9=H.win,distribute$2=R.distribute,addEvent$U=Utilities.addEvent,createElement$6=Utilities.createElement,css$6=Utilities.css,defined$I=Utilities.defined,discardElement$4=Utilities.discardElement,find$h=Utilities.find,fireEvent$t=Utilities.fireEvent,isNumber$C=Utilities.isNumber,merge$1c=Utilities.merge,pick$1i=Utilities.pick,relativeLength$8=Utilities.relativeLength,stableSort$5=Utilities.stableSort,syncTimeout$4=Utilities.syncTimeout,wrap$c=Utilities.wrap,Legend=function(){function n(i,t){this.allItems=[],this.box=void 0,this.contentGroup=void 0,this.display=!1,this.group=void 0,this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.options={},this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=i,this.init(i,t)}return n.prototype.init=function(i,t){this.chart=i,this.setOptions(t),t.enabled&&(this.render(),addEvent$U(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=addEvent$U(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},n.prototype.setOptions=function(i){var t=pick$1i(i.padding,8);this.options=i,this.chart.styledMode||(this.itemStyle=i.itemStyle,this.itemHiddenStyle=merge$1c(this.itemStyle,i.itemHiddenStyle)),this.itemMarginTop=i.itemMarginTop||0,this.itemMarginBottom=i.itemMarginBottom||0,this.padding=t,this.initialItemY=t-5,this.symbolWidth=pick$1i(i.symbolWidth,16),this.pages=[],this.proximate=i.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0},n.prototype.update=function(i,t){var r=this.chart;this.setOptions(merge$1c(!0,this.options,i)),this.destroy(),r.isDirtyLegend=r.isDirtyBox=!0,pick$1i(t,!0)&&r.redraw(),fireEvent$t(this,"afterUpdate")},n.prototype.colorizeItem=function(i,t){if(i.legendGroup[t?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var r=this,o=r.options,a=i.legendItem,s=i.legendLine,l=i.legendSymbol,c=r.itemHiddenStyle.color,h=t?o.itemStyle.color:c,u=t&&i.color||c,d=i.options&&i.options.marker,f={fill:u};a&&a.css({fill:h,color:h}),s&&s.attr({stroke:u}),l&&(d&&l.isMarker&&(f=i.pointAttribs(),t||(f.stroke=f.fill=c)),l.attr(f))}fireEvent$t(this,"afterColorizeItem",{item:i,visible:t})},n.prototype.positionItems=function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},n.prototype.positionItem=function(i){var t=this,r=this,o=r.options,a=o.symbolPadding,s=!o.rtl,l=i._legendItemPos,c=l[0],h=l[1],u=i.checkbox,d=i.legendGroup;if(d&&d.element){var f={translateX:s?c:r.legendWidth-c-2*a-4,translateY:h},p=function(){fireEvent$t(t,"afterPositionItem",{item:i})};defined$I(d.translateY)?d.animate(f,void 0,p):(d.attr(f),p())}u&&(u.x=c,u.y=h)},n.prototype.destroyItem=function(i){var t=i.checkbox;["legendItem","legendLine","legendSymbol","legendGroup"].forEach(function(r){i[r]&&(i[r]=i[r].destroy())}),t&&discardElement$4(i.checkbox)},n.prototype.destroy=function(){function i(t){this[t]&&(this[t]=this[t].destroy())}this.getAllItems().forEach(function(t){["legendItem","legendGroup"].forEach(i,t)}),["clipRect","up","down","pager","nav","box","title","group"].forEach(i,this),this.display=null},n.prototype.positionCheckboxes=function(){var i=this.group&&this.group.alignAttr,t=this.clipHeight||this.legendHeight,r=this.titleHeight,o;i&&(o=i.translateY,this.allItems.forEach(function(a){var s=a.checkbox,l;s&&(l=o+r+s.y+(this.scrollOffset||0)+3,css$6(s,{left:i.translateX+a.checkboxOffset+s.x-20+"px",top:l+"px",display:this.proximate||l>o-6&&l<o+t-6?"":"none"}))},this))},n.prototype.renderTitle=function(){var i=this.options,t=this.padding,r=i.title,o,a=0;r.text&&(this.title||(this.title=this.chart.renderer.label(r.text,t-3,t-4,null,null,null,i.useHTML,null,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(r.style),this.title.add(this.group)),r.width||this.title.css({width:this.maxLegendWidth+"px"}),o=this.title.getBBox(),a=o.height,this.offsetWidth=o.width,this.contentGroup.attr({translateY:a})),this.titleHeight=a},n.prototype.setText=function(i){var t=this.options;i.legendItem.attr({text:t.labelFormat?format$b(t.labelFormat,i,this.chart):t.labelFormatter.call(i)})},n.prototype.renderItem=function(i){var t=this,r=t.chart,o=r.renderer,a=t.options,s=a.layout==="horizontal",l=t.symbolWidth,c=a.symbolPadding||0,h=t.itemStyle,u=t.itemHiddenStyle,d=s?pick$1i(a.itemDistance,20):0,f=!a.rtl,p=!i.series,m=!p&&i.series.drawLegendSymbol?i.series:i,g=m.options,v=t.createCheckboxForItem&&g&&g.showCheckbox,_=a.useHTML,y=i.options.className,b=i.legendItem,x=l+c+d+(v?20:0);b||(i.legendGroup=o.g("legend-item").addClass("highcharts-"+m.type+"-series highcharts-color-"+i.colorIndex+(y?" "+y:"")+(p?" highcharts-series-"+i.index:"")).attr({zIndex:1}).add(t.scrollGroup),i.legendItem=b=o.text("",f?l+c:-c,t.baseline||0,_),r.styledMode||b.css(merge$1c(i.visible?h:u)),b.attr({align:f?"left":"right",zIndex:2}).add(i.legendGroup),t.baseline||(t.fontMetrics=o.fontMetrics(r.styledMode?12:h.fontSize,b),t.baseline=t.fontMetrics.f+3+t.itemMarginTop,b.attr("y",t.baseline),t.symbolHeight=a.symbolHeight||t.fontMetrics.f,a.squareSymbol&&(t.symbolWidth=pick$1i(a.symbolWidth,Math.max(t.symbolHeight,16)),x=t.symbolWidth+c+d+(v?20:0),f&&b.attr("x",t.symbolWidth+c))),m.drawLegendSymbol(t,i),t.setItemEvents&&t.setItemEvents(i,b,_)),v&&!i.checkbox&&t.createCheckboxForItem&&t.createCheckboxForItem(i),t.colorizeItem(i,i.visible),(r.styledMode||!h.width)&&b.css({width:(a.itemWidth||t.widthOption||r.spacingBox.width)-x+"px"}),t.setText(i);var E=b.getBBox();i.itemWidth=i.checkboxOffset=a.itemWidth||i.legendItemWidth||E.width+x,t.maxItemWidth=Math.max(t.maxItemWidth,i.itemWidth),t.totalItemWidth+=i.itemWidth,t.itemHeight=i.itemHeight=Math.round(i.legendItemHeight||E.height||t.symbolHeight)},n.prototype.layoutItem=function(i){var t=this.options,r=this.padding,o=t.layout==="horizontal",a=i.itemHeight,s=this.itemMarginBottom,l=this.itemMarginTop,c=o?pick$1i(t.itemDistance,20):0,h=this.maxLegendWidth,u=t.alignColumns&&this.totalItemWidth>h?this.maxItemWidth:i.itemWidth;o&&this.itemX-r+u>h&&(this.itemX=r,this.lastLineHeight&&(this.itemY+=l+this.lastLineHeight+s),this.lastLineHeight=0),this.lastItemY=l+this.itemY+s,this.lastLineHeight=Math.max(a,this.lastLineHeight),i._legendItemPos=[this.itemX,this.itemY],o?this.itemX+=u:(this.itemY+=l+a+s,this.lastLineHeight=a),this.offsetWidth=this.widthOption||Math.max((o?this.itemX-r-(i.checkbox?0:c):u)+r,this.offsetWidth)},n.prototype.getAllItems=function(){var i=[];return this.chart.series.forEach(function(t){var r=t&&t.options;t&&pick$1i(r.showInLegend,defined$I(r.linkedTo)?!1:void 0,!0)&&(i=i.concat(t.legendItems||(r.legendType==="point"?t.data:t)))}),fireEvent$t(this,"afterGetAllItems",{allItems:i}),i},n.prototype.getAlignment=function(){var i=this.options;return this.proximate?i.align.charAt(0)+"tv":i.floating?"":i.align.charAt(0)+i.verticalAlign.charAt(0)+i.layout.charAt(0)},n.prototype.adjustMargins=function(i,t){var r=this.chart,o=this.options,a=this.getAlignment();a&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(s,l){s.test(a)&&!defined$I(i[l])&&(r[marginNames$1[l]]=Math.max(r[marginNames$1[l]],r.legend[(l+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][l]*o[l%2?"x":"y"]+pick$1i(o.margin,12)+t[l]+(r.titleOffset[l]||0)))})},n.prototype.proximatePositions=function(){var i=this.chart,t=[],r=this.options.align==="left";this.allItems.forEach(function(o){var a,s,l=r,c,h;o.yAxis&&(o.xAxis.options.reversed&&(l=!l),o.points&&(a=find$h(l?o.points:o.points.slice(0).reverse(),function(u){return isNumber$C(u.plotY)})),s=this.itemMarginTop+o.legendItem.getBBox().height+this.itemMarginBottom,h=o.yAxis.top-i.plotTop,o.visible?(c=a?a.plotY:o.yAxis.height,c+=h-.3*s):c=h+o.yAxis.height,t.push({target:c,size:s,item:o}))},this),distribute$2(t,i.plotHeight).forEach(function(o){o.item._legendItemPos&&(o.item._legendItemPos[1]=i.plotTop-i.spacing[0]+o.pos)})},n.prototype.render=function(){var i=this,t=i.chart,r=t.renderer,o=i.options,a=i.padding,s=i.getAllItems(),l,c,h,u=i.group,d,f=i.box;i.itemX=a,i.itemY=i.initialItemY,i.offsetWidth=0,i.lastItemY=0,i.widthOption=relativeLength$8(o.width,t.spacingBox.width-a),d=t.spacingBox.width-2*a-o.x,["rm","lm"].indexOf(i.getAlignment().substring(0,2))>-1&&(d/=2),i.maxLegendWidth=i.widthOption||d,u||(i.group=u=r.g("legend").addClass(o.className||"").attr({zIndex:7}).add(),i.contentGroup=r.g().attr({zIndex:1}).add(u),i.scrollGroup=r.g().add(i.contentGroup)),i.renderTitle(),stableSort$5(s,function(p,m){return(p.options&&p.options.legendIndex||0)-(m.options&&m.options.legendIndex||0)}),o.reversed&&s.reverse(),i.allItems=s,i.display=l=!!s.length,i.lastLineHeight=0,i.maxItemWidth=0,i.totalItemWidth=0,i.itemHeight=0,s.forEach(i.renderItem,i),s.forEach(i.layoutItem,i),c=(i.widthOption||i.offsetWidth)+a,h=i.lastItemY+i.lastLineHeight+i.titleHeight,h=i.handleOverflow(h),h+=a,f||(i.box=f=r.rect().addClass("highcharts-legend-box").attr({r:o.borderRadius}).add(u),f.isNew=!0),t.styledMode||f.attr({stroke:o.borderColor,"stroke-width":o.borderWidth||0,fill:o.backgroundColor||"none"}).shadow(o.shadow),c>0&&h>0&&(f[f.isNew?"attr":"animate"](f.crisp.call({},{x:0,y:0,width:c,height:h},f.strokeWidth())),f.isNew=!1),f[l?"show":"hide"](),t.styledMode&&u.getStyle("display")==="none"&&(c=h=0),i.legendWidth=c,i.legendHeight=h,l&&i.align(),this.proximate||this.positionItems(),fireEvent$t(this,"afterRender")},n.prototype.align=function(i){i===void 0&&(i=this.chart.spacingBox);var t=this.chart,r=this.options,o=i.y;/(lth|ct|rth)/.test(this.getAlignment())&&t.titleOffset[0]>0?o+=t.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&t.titleOffset[2]>0&&(o-=t.titleOffset[2]),o!==i.y&&(i=merge$1c(i,{y:o})),this.group.align(merge$1c(r,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":r.verticalAlign}),!0,i)},n.prototype.handleOverflow=function(i){var t=this,r=this.chart,o=r.renderer,a=this.options,s=a.y,l=a.verticalAlign==="top",c=this.padding,h=a.maxHeight,u=a.navigation,d=pick$1i(u.animation,!0),f=u.arrowSize||12,p=this.pages,m=this.allItems,g=function(C){typeof C=="number"?E.attr({height:C}):E&&(t.clipRect=E.destroy(),t.contentGroup.clip()),t.contentGroup.div&&(t.contentGroup.div.style.clip=C?"rect("+c+"px,9999px,"+(c+C)+"px,0)":"auto")},v=function(C){return t[C]=o.circle(0,0,f*1.3).translate(f/2,f/2).add(x),r.styledMode||t[C].attr("fill","rgba(0,0,0,0.0001)"),t[C]},_,y,b=r.spacingBox.height+(l?-s:s)-c,x=this.nav,E=this.clipRect;return a.layout==="horizontal"&&a.verticalAlign!=="middle"&&!a.floating&&(b/=2),h&&(b=Math.min(b,h)),p.length=0,i&&b>0&&i>b&&u.enabled!==!1?(this.clipHeight=_=Math.max(b-20-this.titleHeight-c,0),this.currentPage=pick$1i(this.currentPage,1),this.fullHeight=i,m.forEach(function(C,$){var S=C._legendItemPos[1],P=Math.round(C.legendItem.getBBox().height),T=p.length;(!T||S-p[T-1]>_&&(y||S)!==p[T-1])&&(p.push(y||S),T++),C.pageIx=T-1,y&&(m[$-1].pageIx=T-1),$===m.length-1&&S+P-p[T-1]>_&&S!==y&&(p.push(S),C.pageIx=T),S!==y&&(y=S)}),E||(E=t.clipRect=o.clipRect(0,c,9999,0),t.contentGroup.clip(E)),g(_),x||(this.nav=x=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,f,f).add(x),v("upTracker").on("click",function(){t.scroll(-1,d)}),this.pager=o.text("",15,10).addClass("highcharts-legend-navigation"),r.styledMode||this.pager.css(u.style),this.pager.add(x),this.down=o.symbol("triangle-down",0,0,f,f).add(x),v("downTracker").on("click",function(){t.scroll(1,d)})),t.scroll(0),i=b):x&&(g(),this.nav=x.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),i},n.prototype.scroll=function(i,t){var r=this,o=this.chart,a=this.pages,s=a.length,l=this.clipHeight,c=this.options.navigation,h=this.pager,u=this.padding,d=this.currentPage+i;if(d>s&&(d=s),d>0){typeof t<"u"&&setAnimation$4(t,o),this.nav.attr({translateX:u,translateY:l+this.padding+7+this.titleHeight,visibility:"visible"}),[this.up,this.upTracker].forEach(function(p){p.attr({class:d===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),h.attr({text:d+"/"+s}),[this.down,this.downTracker].forEach(function(p){p.attr({x:18+this.pager.getBBox().width,class:d===s?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),o.styledMode||(this.up.attr({fill:d===1?c.inactiveColor:c.activeColor}),this.upTracker.css({cursor:d===1?"default":"pointer"}),this.down.attr({fill:d===s?c.inactiveColor:c.activeColor}),this.downTracker.css({cursor:d===s?"default":"pointer"})),this.scrollOffset=-a[d-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=d,this.positionCheckboxes();var f=animObject$8(pick$1i(t,o.renderer.globalAnimation,!0));syncTimeout$4(function(){fireEvent$t(r,"afterScroll",{currentPage:d})},f.duration)}},n.prototype.setItemEvents=function(i,t,r){var o=this,a=o.chart.renderer.boxWrapper,s=i instanceof Point$5,l="highcharts-legend-"+(s?"point":"series")+"-active",c=o.chart.styledMode,h=r?[t,i.legendSymbol]:[i.legendGroup],u=function(d){o.allItems.forEach(function(f){i!==f&&[f].concat(f.linkedSeries||[]).forEach(function(p){p.setState(d,!s)})})};h.forEach(function(d){d&&d.on("mouseover",function(){i.visible&&u("inactive"),i.setState("hover"),i.visible&&a.addClass(l),c||t.css(o.options.itemHoverStyle)}).on("mouseout",function(){o.chart.styledMode||t.css(merge$1c(i.visible?o.itemStyle:o.itemHiddenStyle)),u(""),a.removeClass(l),i.setState()}).on("click",function(f){var p="legendItemClick",m=function(){i.setVisible&&i.setVisible(),u(i.visible?"inactive":"")};a.removeClass(l),f={browserEvent:f},i.firePointEvent?i.firePointEvent(p,f,m):fireEvent$t(i,p,f,m)})})},n.prototype.createCheckboxForItem=function(i){var t=this;i.checkbox=createElement$6("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:i.selected,defaultChecked:i.selected},t.options.itemCheckboxStyle,t.chart.container),addEvent$U(i.checkbox,"click",function(r){var o=r.target;fireEvent$t(i.series||i,"checkboxClick",{checked:o.checked,item:i},function(){i.select()})})},n}();(/Trident\/7\.0/.test(win$9.navigator&&win$9.navigator.userAgent)||isFirefox$1)&&wrap$c(Legend.prototype,"positionItem",function(n,i){var t=this,r=function(){i._legendItemPos&&n.call(t,i)};r(),t.bubbleLegend||setTimeout(r)});var defaultOptions$c=DefaultOptions.defaultOptions,error$6=Utilities.error,extendClass$1=Utilities.extendClass,merge$1b=Utilities.merge,SeriesRegistry;(function(n){n.seriesTypes=H.seriesTypes;function i(o,a){a===void 0&&(a={});var s=o.options.chart,l=a.type||s.type||s.defaultSeriesType||"",c=n.seriesTypes[l];n||error$6(17,!0,o,{missingModuleFor:l});var h=new c;return typeof h.init=="function"&&h.init(o,a),h}n.getSeries=i;function t(o,a){var s=defaultOptions$c.plotOptions||{},l=a.defaultOptions;a.prototype.pointClass||(a.prototype.pointClass=Point$5),a.prototype.type=o,l&&(s[o]=l),n.seriesTypes[o]=a}n.registerSeriesType=t;function r(o,a,s,l,c){var h=defaultOptions$c.plotOptions||{};return a=a||"",h[o]=merge$1b(h[a],s),t(o,extendClass$1(n.seriesTypes[a]||function(){},l)),n.seriesTypes[o].prototype.type=o,c&&(n.seriesTypes[o].prototype.pointClass=extendClass$1(Point$5,c)),n.seriesTypes[o]}n.seriesType=r})(SeriesRegistry||(SeriesRegistry={}));const SeriesRegistry$1=SeriesRegistry;var animate=animationExports.animate,animObject$7=animationExports.animObject,setAnimation$3=animationExports.setAnimation,numberFormat$1=FormatUtilities.numberFormat,registerEventOptions$1=exports$6.registerEventOptions,charts$1=H.charts,doc$g=H.doc,marginNames=H.marginNames,svg$3=H.svg,win$8=H.win,defaultOptions$b=DefaultOptions.defaultOptions,defaultTime=DefaultOptions.defaultTime,seriesTypes$7=SeriesRegistry$1.seriesTypes,addEvent$T=Utilities.addEvent,attr$1=Utilities.attr,cleanRecursively$1=Utilities.cleanRecursively,createElement$5=Utilities.createElement,css$5=Utilities.css,defined$H=Utilities.defined,discardElement$3=Utilities.discardElement,erase$3=Utilities.erase,error$5=Utilities.error,extend$1h=Utilities.extend,find$g=Utilities.find,fireEvent$s=Utilities.fireEvent,getStyle=Utilities.getStyle,isArray$g=Utilities.isArray,isNumber$B=Utilities.isNumber,isObject$9=Utilities.isObject,isString$5=Utilities.isString,merge$1a=Utilities.merge,objectEach$n=Utilities.objectEach,pick$1h=Utilities.pick,pInt$4=Utilities.pInt,relativeLength$7=Utilities.relativeLength,removeEvent$6=Utilities.removeEvent,splat$d=Utilities.splat,syncTimeout$3=Utilities.syncTimeout,uniqueKey$4=Utilities.uniqueKey,Chart$1=function(){function n(i,t,r){this.axes=void 0,this.axisOffset=void 0,this.bounds=void 0,this.chartHeight=void 0,this.chartWidth=void 0,this.clipBox=void 0,this.colorCounter=void 0,this.container=void 0,this.eventOptions=void 0,this.index=void 0,this.isResizing=void 0,this.labelCollectors=void 0,this.legend=void 0,this.margin=void 0,this.numberFormatter=void 0,this.options=void 0,this.plotBox=void 0,this.plotHeight=void 0,this.plotLeft=void 0,this.plotTop=void 0,this.plotWidth=void 0,this.pointCount=void 0,this.pointer=void 0,this.renderer=void 0,this.renderTo=void 0,this.series=void 0,this.sharedClips={},this.spacing=void 0,this.spacingBox=void 0,this.symbolCounter=void 0,this.time=void 0,this.titleOffset=void 0,this.userOptions=void 0,this.xAxis=void 0,this.yAxis=void 0,this.getArgs(i,t,r)}return n.chart=function(i,t,r){return new n(i,t,r)},n.prototype.getArgs=function(i,t,r){isString$5(i)||i.nodeName?(this.renderTo=i,this.init(t,r)):this.init(i,t)},n.prototype.init=function(i,t){var r=i.plotOptions||{};fireEvent$s(this,"init",{args:arguments},function(){var o=merge$1a(defaultOptions$b,i),a=o.chart;objectEach$n(o.plotOptions,function(l,c){isObject$9(l)&&(l.tooltip=r[c]&&merge$1a(r[c].tooltip)||void 0)}),o.tooltip.userOptions=i.chart&&i.chart.forExport&&i.tooltip.userOptions||i.tooltip,this.userOptions=i,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=t,this.isResizing=0,this.options=o,this.axes=[],this.series=[],this.time=i.time&&Object.keys(i.time).length?new Time(i.time):H.time,this.numberFormatter=a.numberFormatter||numberFormat$1,this.styledMode=a.styledMode,this.hasCartesianSeries=a.showAxes;var s=this;s.index=charts$1.length,charts$1.push(s),H.chartCount++,registerEventOptions$1(this,a),s.xAxis=[],s.yAxis=[],s.pointCount=s.colorCounter=s.symbolCounter=0,fireEvent$s(s,"afterInit"),s.firstRender()})},n.prototype.initSeries=function(i){var t=this,r=t.options.chart,o=i.type||r.type||r.defaultSeriesType,a=seriesTypes$7[o];a||error$5(17,!0,t,{missingModuleFor:o});var s=new a;return typeof s.init=="function"&&s.init(t,i),s},n.prototype.setSeriesData=function(){this.getSeriesOrderByLinks().forEach(function(i){!i.points&&!i.data&&i.enabledDataSorting&&i.setData(i.options.data,!1)})},n.prototype.getSeriesOrderByLinks=function(){return this.series.concat().sort(function(i,t){return i.linkedSeries.length||t.linkedSeries.length?t.linkedSeries.length-i.linkedSeries.length:0})},n.prototype.orderSeries=function(i){for(var t=this.series,r=i||0,o=t.length;r<o;++r)t[r]&&(t[r].index=r,t[r].name=t[r].getName())},n.prototype.isInsidePlot=function(i,t,r){var o;r===void 0&&(r={});var a=this,s=a.inverted,l=a.plotBox,c=a.plotLeft,h=a.plotTop,u=a.scrollablePlotBox,d=0,f=0;r.visiblePlotOnly&&this.scrollingContainer&&(o=this.scrollingContainer,d=o.scrollLeft,f=o.scrollTop);var p=r.series,m=r.visiblePlotOnly&&u||l,g=r.inverted?t:i,v=r.inverted?i:t,_={x:g,y:v,isInsidePlot:!0};if(!r.ignoreX){var y=p&&(s?p.yAxis:p.xAxis)||{pos:c,len:1/0},b=r.paneCoordinates?y.pos+g:c+g;b>=Math.max(d+c,y.pos)&&b<=Math.min(d+c+m.width,y.pos+y.len)||(_.isInsidePlot=!1)}if(!r.ignoreY&&_.isInsidePlot){var x=p&&(s?p.xAxis:p.yAxis)||{pos:h,len:1/0},E=r.paneCoordinates?x.pos+v:h+v;E>=Math.max(f+h,x.pos)&&E<=Math.min(f+h+m.height,x.pos+x.len)||(_.isInsidePlot=!1)}return fireEvent$s(this,"afterIsInsidePlot",_),_.isInsidePlot},n.prototype.redraw=function(i){fireEvent$s(this,"beforeRedraw");var t=this,r=t.hasCartesianSeries?t.axes:t.colorAxis||[],o=t.series,a=t.pointer,s=t.legend,l=t.userOptions.legend,c=t.renderer,h=c.isHidden(),u=[],d,f,p,m=t.isDirtyBox,g=t.isDirtyLegend,v;for(t.setResponsive&&t.setResponsive(!1),setAnimation$3(t.hasRendered?i:!1,t),h&&t.temporaryDisplay(),t.layOutTitles(),p=o.length;p--;)if(v=o[p],(v.options.stacking||v.options.centerInCategory)&&(f=!0,v.isDirty)){d=!0;break}if(d)for(p=o.length;p--;)v=o[p],v.options.stacking&&(v.isDirty=!0);o.forEach(function(_){_.isDirty&&(_.options.legendType==="point"?(typeof _.updateTotals=="function"&&_.updateTotals(),g=!0):l&&(l.labelFormatter||l.labelFormat)&&(g=!0)),_.isDirtyData&&fireEvent$s(_,"updatedData")}),g&&s&&s.options.enabled&&(s.render(),t.isDirtyLegend=!1),f&&t.getStacks(),r.forEach(function(_){_.updateNames(),_.setScale()}),t.getMargins(),r.forEach(function(_){_.isDirty&&(m=!0)}),r.forEach(function(_){var y=_.min+","+_.max;_.extKey!==y&&(_.extKey=y,u.push(function(){fireEvent$s(_,"afterSetExtremes",extend$1h(_.eventArgs,_.getExtremes())),delete _.eventArgs})),(m||f)&&_.redraw()}),m&&t.drawChartBox(),fireEvent$s(t,"predraw"),o.forEach(function(_){(m||_.isDirty)&&_.visible&&_.redraw(),_.isDirtyData=!1}),a&&a.reset(!0),c.draw(),fireEvent$s(t,"redraw"),fireEvent$s(t,"render"),h&&t.temporaryDisplay(!0),u.forEach(function(_){_.call()})},n.prototype.get=function(i){var t=this.series;function r(s){return s.id===i||s.options&&s.options.id===i}for(var o=find$g(this.axes,r)||find$g(this.series,r),a=0;!o&&a<t.length;a++)o=find$g(t[a].points||[],r);return o},n.prototype.getAxes=function(){var i=this,t=this.options,r=t.xAxis=splat$d(t.xAxis||{}),o=t.yAxis=splat$d(t.yAxis||{});fireEvent$s(this,"getAxes"),r.forEach(function(s,l){s.index=l,s.isX=!0}),o.forEach(function(s,l){s.index=l});var a=r.concat(o);a.forEach(function(s){new Axis(i,s)}),fireEvent$s(this,"afterGetAxes")},n.prototype.getSelectedPoints=function(){return this.series.reduce(function(i,t){return t.getPointsCollection().forEach(function(r){pick$1h(r.selectedStaging,r.selected)&&i.push(r)}),i},[])},n.prototype.getSelectedSeries=function(){return this.series.filter(function(i){return i.selected})},n.prototype.setTitle=function(i,t,r){this.applyDescription("title",i),this.applyDescription("subtitle",t),this.applyDescription("caption",void 0),this.layOutTitles(r)},n.prototype.applyDescription=function(i,t){var r=this,o=i==="title"?{color:palette.neutralColor80,fontSize:this.options.isStock?"16px":"18px"}:{color:palette.neutralColor60},a=this.options[i]=merge$1a(!this.styledMode&&{style:o},this.options[i],t),s=this[i];s&&t&&(this[i]=s=s.destroy()),a&&!s&&(s=this.renderer.text(a.text,0,0,a.useHTML).attr({align:a.align,class:"highcharts-"+i,zIndex:a.zIndex||4}).add(),s.update=function(l){var c={title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[i];r[c](l)},this.styledMode||s.css(a.style),this[i]=s)},n.prototype.layOutTitles=function(i){var t=[0,0,0],r=this.renderer,o=this.spacingBox;["title","subtitle","caption"].forEach(function(s){var l=this[s],c=this.options[s],h=c.verticalAlign||"top",u=s==="title"?h==="top"?-3:0:h==="top"?t[0]+2:0,d,f;l&&(this.styledMode||(d=c.style&&c.style.fontSize),d=r.fontMetrics(d,l).b,l.css({width:(c.width||o.width+(c.widthAdjust||0))+"px"}),f=Math.round(l.getBBox(c.useHTML).height),l.align(extend$1h({y:h==="bottom"?d:u+d,height:f},c),!1,"spacingBox"),c.floating||(h==="top"?t[0]=Math.ceil(t[0]+f):h==="bottom"&&(t[2]=Math.ceil(t[2]+f))))},this),t[0]&&(this.options.title.verticalAlign||"top")==="top"&&(t[0]+=this.options.title.margin),t[2]&&this.options.caption.verticalAlign==="bottom"&&(t[2]+=this.options.caption.margin);var a=!this.titleOffset||this.titleOffset.join(",")!==t.join(",");this.titleOffset=t,fireEvent$s(this,"afterLayOutTitles"),!this.isDirtyBox&&a&&(this.isDirtyBox=this.isDirtyLegend=a,this.hasRendered&&pick$1h(i,!0)&&this.isDirtyBox&&this.redraw())},n.prototype.getChartSize=function(){var i=this,t=i.options.chart,r=t.width,o=t.height,a=i.renderTo;defined$H(r)||(i.containerWidth=getStyle(a,"width")),defined$H(o)||(i.containerHeight=getStyle(a,"height")),i.chartWidth=Math.max(0,r||i.containerWidth||600),i.chartHeight=Math.max(0,relativeLength$7(o,i.chartWidth)||(i.containerHeight>1?i.containerHeight:400))},n.prototype.temporaryDisplay=function(i){var t=this.renderTo,r;if(i)for(;t&&t.style;)t.hcOrigStyle&&(css$5(t,t.hcOrigStyle),delete t.hcOrigStyle),t.hcOrigDetached&&(doc$g.body.removeChild(t),t.hcOrigDetached=!1),t=t.parentNode;else for(;t&&t.style&&(!doc$g.body.contains(t)&&!t.parentNode&&(t.hcOrigDetached=!0,doc$g.body.appendChild(t)),(getStyle(t,"display",!1)==="none"||t.hcOricDetached)&&(t.hcOrigStyle={display:t.style.display,height:t.style.height,overflow:t.style.overflow},r={display:"block",overflow:"hidden"},t!==this.renderTo&&(r.height=0),css$5(t,r),t.offsetWidth||t.style.setProperty("display","block","important")),t=t.parentNode,t!==doc$g.body););},n.prototype.setClassName=function(i){this.container.className="highcharts-container "+(i||"")},n.prototype.getContainer=function(){var i=this,t=i.options,r=t.chart,o="data-highcharts-chart",a=uniqueKey$4(),s,l=i.renderTo;l||(i.renderTo=l=r.renderTo),isString$5(l)&&(i.renderTo=l=doc$g.getElementById(l)),l||error$5(13,!0,i);var c=pInt$4(attr$1(l,o));isNumber$B(c)&&charts$1[c]&&charts$1[c].hasRendered&&charts$1[c].destroy(),attr$1(l,o,i.index),l.innerHTML="",!r.skipClone&&!l.offsetWidth&&i.temporaryDisplay(),i.getChartSize();var h=i.chartWidth,u=i.chartHeight;css$5(l,{overflow:"hidden"}),i.styledMode||(s=extend$1h({position:"relative",overflow:"hidden",width:h+"px",height:u+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},r.style||{}));var d=createElement$5("div",{id:a},s,l);i.container=d,i._cursor=d.style.cursor;var f=r.renderer||!svg$3?RendererRegistry$1.getRendererType(r.renderer):SVGRenderer;if(i.renderer=new f(d,h,u,void 0,r.forExport,t.exporting&&t.exporting.allowHTML,i.styledMode),setAnimation$3(void 0,i),i.setClassName(r.className),!i.styledMode)i.renderer.setStyle(r.style);else for(var p in t.defs)this.renderer.definition(t.defs[p]);i.renderer.chartIndex=i.index,fireEvent$s(this,"afterGetContainer")},n.prototype.getMargins=function(i){var t=this,r=t.spacing,o=t.margin,a=t.titleOffset;this.resetMargins(),a[0]&&!defined$H(o[0])&&(this.plotTop=Math.max(this.plotTop,a[0]+r[0])),a[2]&&!defined$H(o[2])&&(this.marginBottom=Math.max(this.marginBottom,a[2]+r[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(o,r),fireEvent$s(this,"getMargins"),i||this.getAxisMargins()},n.prototype.getAxisMargins=function(){var i=this,t=i.axisOffset=[0,0,0,0],r=i.colorAxis,o=i.margin,a=function(s){s.forEach(function(l){l.visible&&l.getOffset()})};i.hasCartesianSeries?a(i.axes):r&&r.length&&a(r),marginNames.forEach(function(s,l){defined$H(o[l])||(i[s]+=t[l])}),i.setChartSize()},n.prototype.reflow=function(i){var t=this,r=t.options.chart,o=t.renderTo,a=defined$H(r.width)&&defined$H(r.height),s=r.width||getStyle(o,"width"),l=r.height||getStyle(o,"height"),c=i?i.target:win$8;delete t.pointer.chartPosition,!a&&!t.isPrinting&&s&&l&&(c===win$8||c===doc$g)&&((s!==t.containerWidth||l!==t.containerHeight)&&(Utilities.clearTimeout(t.reflowTimeout),t.reflowTimeout=syncTimeout$3(function(){t.container&&t.setSize(void 0,void 0,!1)},i?100:0)),t.containerWidth=s,t.containerHeight=l)},n.prototype.setReflow=function(i){var t=this;i!==!1&&!this.unbindReflow?(this.unbindReflow=addEvent$T(win$8,"resize",function(r){t.options&&t.reflow(r)}),addEvent$T(this,"destroy",this.unbindReflow)):i===!1&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow())},n.prototype.setSize=function(i,t,r){var o=this,a=o.renderer;o.isResizing+=1,setAnimation$3(r,o);var s=a.globalAnimation;o.oldChartHeight=o.chartHeight,o.oldChartWidth=o.chartWidth,typeof i<"u"&&(o.options.chart.width=i),typeof t<"u"&&(o.options.chart.height=t),o.getChartSize(),o.styledMode||(s?animate:css$5)(o.container,{width:o.chartWidth+"px",height:o.chartHeight+"px"},s),o.setChartSize(!0),a.setSize(o.chartWidth,o.chartHeight,s),o.axes.forEach(function(l){l.isDirty=!0,l.setScale()}),o.isDirtyLegend=!0,o.isDirtyBox=!0,o.layOutTitles(),o.getMargins(),o.redraw(s),o.oldChartHeight=null,fireEvent$s(o,"resize"),syncTimeout$3(function(){o&&fireEvent$s(o,"endResize",null,function(){o.isResizing-=1})},animObject$7(s).duration)},n.prototype.setChartSize=function(i){var t=this,r=t.inverted,o=t.renderer,a=t.chartWidth,s=t.chartHeight,l=t.options.chart,c=t.spacing,h=t.clipOffset,u,d,f,p;t.plotLeft=u=Math.round(t.plotLeft),t.plotTop=d=Math.round(t.plotTop),t.plotWidth=f=Math.max(0,Math.round(a-u-t.marginRight)),t.plotHeight=p=Math.max(0,Math.round(s-d-t.marginBottom)),t.plotSizeX=r?p:f,t.plotSizeY=r?f:p,t.plotBorderWidth=l.plotBorderWidth||0,t.spacingBox=o.spacingBox={x:c[3],y:c[0],width:a-c[3]-c[1],height:s-c[0]-c[2]},t.plotBox=o.plotBox={x:u,y:d,width:f,height:p};var m=2*Math.floor(t.plotBorderWidth/2),g=Math.ceil(Math.max(m,h[3])/2),v=Math.ceil(Math.max(m,h[0])/2);t.clipBox={x:g,y:v,width:Math.floor(t.plotSizeX-Math.max(m,h[1])/2-g),height:Math.max(0,Math.floor(t.plotSizeY-Math.max(m,h[2])/2-v))},i||(t.axes.forEach(function(_){_.setAxisSize(),_.setAxisTranslation()}),o.alignElements()),fireEvent$s(t,"afterSetChartSize",{skipAxes:i})},n.prototype.resetMargins=function(){fireEvent$s(this,"resetMargins");var i=this,t=i.options.chart;["margin","spacing"].forEach(function(o){var a=t[o],s=isObject$9(a)?a:[a,a,a,a];["Top","Right","Bottom","Left"].forEach(function(l,c){i[o][c]=pick$1h(t[o+l],s[c])})}),marginNames.forEach(function(r,o){i[r]=pick$1h(i.margin[o],i.spacing[o])}),i.axisOffset=[0,0,0,0],i.clipOffset=[0,0,0,0]},n.prototype.drawChartBox=function(){var i=this,t=i.options.chart,r=i.renderer,o=i.chartWidth,a=i.chartHeight,s=i.styledMode,l=i.plotBGImage,c=t.backgroundColor,h=t.plotBackgroundColor,u=t.plotBackgroundImage,d=i.plotLeft,f=i.plotTop,p=i.plotWidth,m=i.plotHeight,g=i.plotBox,v=i.clipRect,_=i.clipBox,y=i.chartBackground,b=i.plotBackground,x=i.plotBorder,E,C,$,S="animate";y||(i.chartBackground=y=r.rect().addClass("highcharts-background").add(),S="attr"),s?E=C=y.strokeWidth():(E=t.borderWidth||0,C=E+(t.shadow?8:0),$={fill:c||"none"},(E||y["stroke-width"])&&($.stroke=t.borderColor,$["stroke-width"]=E),y.attr($).shadow(t.shadow)),y[S]({x:C/2,y:C/2,width:o-C-E%2,height:a-C-E%2,r:t.borderRadius}),S="animate",b||(S="attr",i.plotBackground=b=r.rect().addClass("highcharts-plot-background").add()),b[S](g),s||(b.attr({fill:h||"none"}).shadow(t.plotShadow),u&&(l?(u!==l.attr("href")&&l.attr("href",u),l.animate(g)):i.plotBGImage=r.image(u,d,f,p,m).add())),v?v.animate({width:_.width,height:_.height}):i.clipRect=r.clipRect(_),S="animate",x||(S="attr",i.plotBorder=x=r.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),s||x.attr({stroke:t.plotBorderColor,"stroke-width":t.plotBorderWidth||0,fill:"none"}),x[S](x.crisp({x:d,y:f,width:p,height:m},-x.strokeWidth())),i.isDirtyBox=!1,fireEvent$s(this,"afterDrawChartBox")},n.prototype.propFromSeries=function(){var i=this,t=i.options.chart,r=i.options.series,o,a,s;["inverted","angular","polar"].forEach(function(l){for(a=seriesTypes$7[t.type||t.defaultSeriesType],s=t[l]||a&&a.prototype[l],o=r&&r.length;!s&&o--;)a=seriesTypes$7[r[o].type],a&&a.prototype[l]&&(s=!0);i[l]=s})},n.prototype.linkSeries=function(){var i=this,t=i.series;t.forEach(function(r){r.linkedSeries.length=0}),t.forEach(function(r){var o=r.options.linkedTo;isString$5(o)&&(o===":previous"?o=i.series[r.index-1]:o=i.get(o),o&&o.linkedParent!==r&&(o.linkedSeries.push(r),r.linkedParent=o,o.enabledDataSorting&&r.setDataSortingOptions(),r.visible=pick$1h(r.options.visible,o.options.visible,r.visible)))}),fireEvent$s(this,"afterLinkSeries")},n.prototype.renderSeries=function(){this.series.forEach(function(i){i.translate(),i.render()})},n.prototype.renderLabels=function(){var i=this,t=i.options.labels;t.items&&t.items.forEach(function(r){var o=extend$1h(t.style,r.style),a=pInt$4(o.left)+i.plotLeft,s=pInt$4(o.top)+i.plotTop+12;delete o.left,delete o.top,i.renderer.text(r.html,a,s).attr({zIndex:2}).css(o).add()})},n.prototype.render=function(){var i=this,t=i.axes,r=i.colorAxis,o=i.renderer,a=i.options,s=function(f){f.forEach(function(p){p.visible&&p.render()})},l=0;i.setTitle(),i.legend=new Legend(i,a.legend),i.getStacks&&i.getStacks(),i.getMargins(!0),i.setChartSize();var c=i.plotWidth;t.some(function(f){if(f.horiz&&f.visible&&f.options.labels.enabled&&f.series.length)return l=21,!0}),i.plotHeight=Math.max(i.plotHeight-l,0);var h=i.plotHeight;t.forEach(function(f){f.setScale()}),i.getAxisMargins();var u=c/i.plotWidth>1.1,d=h/i.plotHeight>1.05;(u||d)&&(t.forEach(function(f){(f.horiz&&u||!f.horiz&&d)&&f.setTickInterval(!0)}),i.getMargins()),i.drawChartBox(),i.hasCartesianSeries?s(t):r&&r.length&&s(r),i.seriesGroup||(i.seriesGroup=o.g("series-group").attr({zIndex:3}).add()),i.renderSeries(),i.renderLabels(),i.addCredits(),i.setResponsive&&i.setResponsive(),i.hasRendered=!0},n.prototype.addCredits=function(i){var t=this,r=merge$1a(!0,this.options.credits,i);r.enabled&&!this.credits&&(this.credits=this.renderer.text(r.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){r.href&&(win$8.location.href=r.href)}).attr({align:r.position.align,zIndex:8}),t.styledMode||this.credits.css(r.style),this.credits.add().align(r.position),this.credits.update=function(o){t.credits=t.credits.destroy(),t.addCredits(o)})},n.prototype.destroy=function(){var i=this,t=i.axes,r=i.series,o=i.container,a=o&&o.parentNode,s;for(fireEvent$s(i,"destroy"),i.renderer.forExport?erase$3(charts$1,i):charts$1[i.index]=void 0,H.chartCount--,i.renderTo.removeAttribute("data-highcharts-chart"),removeEvent$6(i),s=t.length;s--;)t[s]=t[s].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),s=r.length;s--;)r[s]=r[s].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(function(l){var c=i[l];c&&c.destroy&&(i[l]=c.destroy())}),o&&(o.innerHTML="",removeEvent$6(o),a&&discardElement$3(o)),objectEach$n(i,function(l,c){delete i[c]})},n.prototype.firstRender=function(){var i=this,t=i.options;i.isReadyToRender&&!i.isReadyToRender()||(i.getContainer(),i.resetMargins(),i.setChartSize(),i.propFromSeries(),i.getAxes(),(isArray$g(t.series)?t.series:[]).forEach(function(r){i.initSeries(r)}),i.linkSeries(),i.setSeriesData(),fireEvent$s(i,"beforeRender"),Pointer&&(MSPointer.isRequired()?i.pointer=new MSPointer(i,t):i.pointer=new Pointer(i,t)),i.render(),i.pointer.getChartPosition(),!i.renderer.imgCount&&!i.hasLoaded&&i.onload(),i.temporaryDisplay(!0))},n.prototype.onload=function(){this.callbacks.concat([this.callback]).forEach(function(i){i&&typeof this.index<"u"&&i.apply(this,[this])},this),fireEvent$s(this,"load"),fireEvent$s(this,"render"),defined$H(this.index)&&this.setReflow(this.options.chart.reflow),this.hasLoaded=!0},n.prototype.addSeries=function(i,t,r){var o=this,a;return i&&(t=pick$1h(t,!0),fireEvent$s(o,"addSeries",{options:i},function(){a=o.initSeries(i),o.isDirtyLegend=!0,o.linkSeries(),a.enabledDataSorting&&a.setData(i.data,!1),fireEvent$s(o,"afterAddSeries",{series:a}),t&&o.redraw(r)})),a},n.prototype.addAxis=function(i,t,r,o){return this.createAxis(t?"xAxis":"yAxis",{axis:i,redraw:r,animation:o})},n.prototype.addColorAxis=function(i,t,r){return this.createAxis("colorAxis",{axis:i,redraw:t,animation:r})},n.prototype.createAxis=function(i,t){var r=new Axis(this,merge$1a(t.axis,{index:this[i].length,isX:i==="xAxis"}));return pick$1h(t.redraw,!0)&&this.redraw(t.animation),r},n.prototype.showLoading=function(i){var t=this,r=t.options,o=r.loading,a=function(){s&&css$5(s,{left:t.plotLeft+"px",top:t.plotTop+"px",width:t.plotWidth+"px",height:t.plotHeight+"px"})},s=t.loadingDiv,l=t.loadingSpan;s||(t.loadingDiv=s=createElement$5("div",{className:"highcharts-loading highcharts-loading-hidden"},null,t.container)),l||(t.loadingSpan=l=createElement$5("span",{className:"highcharts-loading-inner"},null,s),addEvent$T(t,"redraw",a)),s.className="highcharts-loading",AST.setElementHTML(l,pick$1h(i,r.lang.loading,"")),t.styledMode||(css$5(s,extend$1h(o.style,{zIndex:10})),css$5(l,o.labelStyle),t.loadingShown||(css$5(s,{opacity:0,display:""}),animate(s,{opacity:o.style.opacity||.5},{duration:o.showDuration||0}))),t.loadingShown=!0,a()},n.prototype.hideLoading=function(){var i=this.options,t=this.loadingDiv;t&&(t.className="highcharts-loading highcharts-loading-hidden",this.styledMode||animate(t,{opacity:0},{duration:i.loading.hideDuration||100,complete:function(){css$5(t,{display:"none"})}})),this.loadingShown=!1},n.prototype.update=function(i,t,r,o){var a=this,s={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},l=i.isResponsiveOptions,c=[],h,u,d;fireEvent$s(a,"update",{options:i}),l||a.setResponsive(!1,!0),i=cleanRecursively$1(i,a.options),a.userOptions=merge$1a(a.userOptions,i);var f=i.chart;f&&(merge$1a(!0,a.options.chart,f),"className"in f&&a.setClassName(f.className),"reflow"in f&&a.setReflow(f.reflow),("inverted"in f||"polar"in f||"type"in f)&&(a.propFromSeries(),h=!0),"alignTicks"in f&&(h=!0),"events"in f&&registerEventOptions$1(this,f),objectEach$n(f,function(g,v){a.propsRequireUpdateSeries.indexOf("chart."+v)!==-1&&(u=!0),a.propsRequireDirtyBox.indexOf(v)!==-1&&(a.isDirtyBox=!0),a.propsRequireReflow.indexOf(v)!==-1&&(l?a.isDirtyBox=!0:d=!0)}),!a.styledMode&&f.style&&a.renderer.setStyle(a.options.chart.style||{})),!a.styledMode&&i.colors&&(this.options.colors=i.colors),i.time&&(this.time===defaultTime&&(this.time=new Time(i.time)),merge$1a(!0,a.options.time,i.time)),objectEach$n(i,function(g,v){a[v]&&typeof a[v].update=="function"?a[v].update(g,!1):typeof a[s[v]]=="function"?a[s[v]](g):v!=="colors"&&a.collectionsWithUpdate.indexOf(v)===-1&&merge$1a(!0,a.options[v],i[v]),v!=="chart"&&a.propsRequireUpdateSeries.indexOf(v)!==-1&&(u=!0)}),this.collectionsWithUpdate.forEach(function(g){var v;i[g]&&(v=[],a[g].forEach(function(_,y){_.options.isInternal||v.push(pick$1h(_.options.index,y))}),splat$d(i[g]).forEach(function(_,y){var b=defined$H(_.id),x;b&&(x=a.get(_.id)),!x&&a[g]&&(x=a[g][v?v[y]:y],x&&b&&defined$H(x.options.id)&&(x=void 0)),x&&x.coll===g&&(x.update(_,!1),r&&(x.touched=!0)),!x&&r&&a.collectionsWithInit[g]&&(a.collectionsWithInit[g][0].apply(a,[_].concat(a.collectionsWithInit[g][1]||[]).concat([!1])).touched=!0)}),r&&a[g].forEach(function(_){!_.touched&&!_.options.isInternal?c.push(_):delete _.touched}))}),c.forEach(function(g){g.chart&&g.remove&&g.remove(!1)}),h&&a.axes.forEach(function(g){g.update({},!1)}),u&&a.getSeriesOrderByLinks().forEach(function(g){g.chart&&g.update({},!1)},this);var p=f&&f.width,m=f&&(isString$5(f.height)?relativeLength$7(f.height,p||a.chartWidth):f.height);d||isNumber$B(p)&&p!==a.chartWidth||isNumber$B(m)&&m!==a.chartHeight?a.setSize(p,m,o):pick$1h(t,!0)&&a.redraw(o),fireEvent$s(a,"afterUpdate",{options:i,redraw:t,animation:o})},n.prototype.setSubtitle=function(i,t){this.applyDescription("subtitle",i),this.layOutTitles(t)},n.prototype.setCaption=function(i,t){this.applyDescription("caption",i),this.layOutTitles(t)},n.prototype.showResetZoom=function(){var i=this,t=defaultOptions$b.lang,r=i.options.chart.resetZoomButton,o=r.theme,a=o.states,s=r.relativeTo==="chart"||r.relativeTo==="spacingBox"?null:"scrollablePlotBox";function l(){i.zoomOut()}fireEvent$s(this,"beforeShowResetZoom",null,function(){i.resetZoomButton=i.renderer.button(t.resetZoom,null,null,l,o,a&&a.hover).attr({align:r.position.align,title:t.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(r.position,!1,s)}),fireEvent$s(this,"afterShowResetZoom")},n.prototype.zoomOut=function(){fireEvent$s(this,"selection",{resetSelection:!0},this.zoom)},n.prototype.zoom=function(i){var t=this,r=t.pointer,o=t.inverted?r.mouseDownX:r.mouseDownY,a=!1,s;!i||i.resetSelection?(t.axes.forEach(function(c){s=c.zoom()}),r.initiated=!1):i.xAxis.concat(i.yAxis).forEach(function(c){var h=c.axis,u=t.inverted?h.left:h.top,d=t.inverted?u+h.width:u+h.height,f=h.isXAxis,p=!1;(!f&&o>=u&&o<=d||f||!defined$H(o))&&(p=!0),r[f?"zoomX":"zoomY"]&&p&&(s=h.zoom(c.min,c.max),h.displayBtn&&(a=!0))});var l=t.resetZoomButton;a&&!l?t.showResetZoom():!a&&isObject$9(l)&&(t.resetZoomButton=l.destroy()),s&&t.redraw(pick$1h(t.options.chart.animation,i&&i.animation,t.pointCount<100))},n.prototype.pan=function(i,t){var r=this,o=r.hoverPoints,a=typeof t=="object"?t:{enabled:t,type:"x"},s=r.options.chart,l=r.options.mapNavigation&&r.options.mapNavigation.enabled;s&&s.panning&&(s.panning=a);var c=a.type,h;fireEvent$s(this,"pan",{originalEvent:i},function(){o&&o.forEach(function(f){f.setState()});var u=r.xAxis;c==="xy"?u=u.concat(r.yAxis):c==="y"&&(u=r.yAxis);var d={};u.forEach(function(f){if(!(!f.options.panningEnabled||f.options.isInternal)){var p=f.horiz,m=i[p?"chartX":"chartY"],g=p?"mouseDownX":"mouseDownY",v=r[g],_=f.minPointOffset||0,y=f.reversed&&!r.inverted||!f.reversed&&r.inverted?-1:1,b=f.getExtremes(),x=f.toValue(v-m,!0)+_*y,E=f.toValue(v+f.len-m,!0)-(_*y||f.isXAxis&&f.pointRangePadding||0),C=E<x,$=f.hasVerticalPanning(),S=C?E:x,P=C?x:E,T=f.panningState,k;$&&!f.isXAxis&&(!T||T.isDirty)&&f.series.forEach(function(z){var B=z.getProcessedData(!0),U=z.getExtremes(B.yData,!0);T||(T={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),isNumber$B(U.dataMin)&&isNumber$B(U.dataMax)&&(T.startMin=Math.min(pick$1h(z.options.threshold,1/0),U.dataMin,T.startMin),T.startMax=Math.max(pick$1h(z.options.threshold,-1/0),U.dataMax,T.startMax))});var L=Math.min(pick$1h(T&&T.startMin,b.dataMin),_?b.min:f.toValue(f.toPixels(b.min)-f.minPixelPadding)),N=Math.max(pick$1h(T&&T.startMax,b.dataMax),_?b.max:f.toValue(f.toPixels(b.max)+f.minPixelPadding));f.panningState=T,f.isOrdinal||(k=L-S,k>0&&(P+=k,S=L),k=P-N,k>0&&(P=N,S-=k),f.series.length&&S!==b.min&&P!==b.max&&S>=L&&P<=N&&(f.setExtremes(S,P,!1,!1,{trigger:"pan"}),!r.resetZoomButton&&!l&&S!==L&&P!==N&&c.match("y")&&(r.showResetZoom(),f.displayBtn=!1),h=!0),d[g]=m)}}),objectEach$n(d,function(f,p){r[p]=f}),h&&r.redraw(!1),css$5(r.container,{cursor:"move"})})},n}();extend$1h(Chart$1.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Chart$1.prototype.addAxis,[!0]],yAxis:[Chart$1.prototype.addAxis,[!1]],series:[Chart$1.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});var merge$19=Utilities.merge,pick$1g=Utilities.pick,LegendSymbol;(function(n){function i(r){var o=this.options,a=r.symbolWidth,s=r.symbolHeight,l=s/2,c=this.chart.renderer,h=this.legendGroup,u=r.baseline-Math.round(r.fontMetrics.b*.3),d={},f,p=o.marker;if(this.chart.styledMode||(d={"stroke-width":o.lineWidth||0},o.dashStyle&&(d.dashstyle=o.dashStyle)),this.legendLine=c.path([["M",0,u],["L",a,u]]).addClass("highcharts-graph").attr(d).add(h),p&&p.enabled!==!1&&a){var m=Math.min(pick$1g(p.radius,l),l);this.symbol.indexOf("url")===0&&(p=merge$19(p,{width:s,height:s}),m=0),this.legendSymbol=f=c.symbol(this.symbol,a/2-m,u-m,2*m,2*m,p).addClass("highcharts-point").add(h),f.isMarker=!0}}n.drawLineMarker=i;function t(r,o){var a=r.options,s=r.symbolHeight,l=a.squareSymbol,c=l?s:r.symbolWidth;o.legendSymbol=this.chart.renderer.rect(l?(r.symbolWidth-s)/2:0,r.baseline-s+1,c,s,pick$1g(r.options.symbolRadius,s/2)).addClass("highcharts-point").attr({zIndex:3}).add(o.legendGroup)}n.drawRectangle=t})(LegendSymbol||(LegendSymbol={}));const LegendSymbol$1=LegendSymbol;var seriesDefaults={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:palette.backgroundColor,lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:palette.neutralColor20,lineColor:palette.neutralColor100,lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",defer:!0,formatter:function(){var n=this.series.chart.numberFormatter;return typeof this.y!="number"?"":n(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},animObject$6=animationExports.animObject,setAnimation$2=animationExports.setAnimation,defaultOptions$a=DefaultOptions.defaultOptions,registerEventOptions=exports$6.registerEventOptions,hasTouch$2=H.hasTouch,svg$2=H.svg,win$7=H.win,seriesTypes$6=SeriesRegistry$1.seriesTypes,addEvent$S=Utilities.addEvent,arrayMax$7=Utilities.arrayMax,arrayMin$6=Utilities.arrayMin,clamp$f=Utilities.clamp,cleanRecursively=Utilities.cleanRecursively,correctFloat$a=Utilities.correctFloat,defined$G=Utilities.defined,erase$2=Utilities.erase,error$4=Utilities.error,extend$1g=Utilities.extend,find$f=Utilities.find,fireEvent$r=Utilities.fireEvent,getNestedProperty=Utilities.getNestedProperty,isArray$f=Utilities.isArray,isNumber$A=Utilities.isNumber,isString$4=Utilities.isString,merge$18=Utilities.merge,objectEach$m=Utilities.objectEach,pick$1f=Utilities.pick,removeEvent$5=Utilities.removeEvent,splat$c=Utilities.splat,syncTimeout$2=Utilities.syncTimeout,Series$e=function(){function n(){this._i=void 0,this.chart=void 0,this.data=void 0,this.eventOptions=void 0,this.eventsToUnbind=void 0,this.index=void 0,this.linkedSeries=void 0,this.options=void 0,this.points=void 0,this.processedXData=void 0,this.processedYData=void 0,this.tooltipOptions=void 0,this.userOptions=void 0,this.xAxis=void 0,this.yAxis=void 0,this.zones=void 0}return n.prototype.init=function(i,t){fireEvent$r(this,"init",{options:t});var r=this,o=i.series;this.eventsToUnbind=[],r.chart=i,r.options=r.setOptions(t);var a=r.options;r.linkedSeries=[],r.bindAxes(),extend$1g(r,{name:a.name,state:"",visible:a.visible!==!1,selected:a.selected===!0}),registerEventOptions(this,a);var s=a.events;(s&&s.click||a.point&&a.point.events&&a.point.events.click||a.allowPointSelect)&&(i.runTrackerClick=!0),r.getColor(),r.getSymbol(),r.parallelArrays.forEach(function(c){r[c+"Data"]||(r[c+"Data"]=[])}),r.isCartesian&&(i.hasCartesianSeries=!0);var l;o.length&&(l=o[o.length-1]),r._i=pick$1f(l&&l._i,-1)+1,r.opacity=r.options.opacity,i.orderSeries(this.insert(o)),a.dataSorting&&a.dataSorting.enabled?r.setDataSortingOptions():!r.points&&!r.data&&r.setData(a.data,!1),fireEvent$r(this,"afterInit")},n.prototype.is=function(i){return seriesTypes$6[i]&&this instanceof seriesTypes$6[i]},n.prototype.insert=function(i){var t=this.options.index,r;if(isNumber$A(t)){for(r=i.length;r--;)if(t>=pick$1f(i[r].options.index,i[r]._i)){i.splice(r+1,0,this);break}r===-1&&i.unshift(this),r=r+1}else i.push(this);return pick$1f(r,i.length-1)},n.prototype.bindAxes=function(){var i=this,t=i.options,r=i.chart,o;fireEvent$r(this,"bindAxes",null,function(){(i.axisTypes||[]).forEach(function(a){var s=0;r[a].forEach(function(l){o=l.options,(t[a]===s&&!o.isInternal||typeof t[a]<"u"&&t[a]===o.id||typeof t[a]>"u"&&o.index===0)&&(i.insert(l.series),i[a]=l,l.isDirty=!0),o.isInternal||s++}),!i[a]&&i.optionalAxis!==a&&error$4(18,!0,r)})}),fireEvent$r(this,"afterBindAxes")},n.prototype.updateParallelArrays=function(i,t){var r=i.series,o=arguments,a=isNumber$A(t)?function(s){var l=s==="y"&&r.toYData?r.toYData(i):i[s];r[s+"Data"][t]=l}:function(s){Array.prototype[t].apply(r[s+"Data"],Array.prototype.slice.call(o,2))};r.parallelArrays.forEach(a)},n.prototype.hasData=function(){return this.visible&&typeof this.dataMax<"u"&&typeof this.dataMin<"u"||this.visible&&this.yData&&this.yData.length>0},n.prototype.autoIncrement=function(i){var t=this.options,r=t.pointIntervalUnit,o=t.relativeXValue,a=this.chart.time,s=this.xIncrement,l,c;return s=pick$1f(s,t.pointStart,0),this.pointInterval=c=pick$1f(this.pointInterval,t.pointInterval,1),o&&isNumber$A(i)&&(c*=i),r&&(l=new a.Date(s),r==="day"?a.set("Date",l,a.get("Date",l)+c):r==="month"?a.set("Month",l,a.get("Month",l)+c):r==="year"&&a.set("FullYear",l,a.get("FullYear",l)+c),c=l.getTime()-s),o&&isNumber$A(i)?s+c:(this.xIncrement=s+c,s)},n.prototype.setDataSortingOptions=function(){var i=this.options;extend$1g(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),defined$G(i.pointRange)||(i.pointRange=1)},n.prototype.setOptions=function(i){var t=this.chart,r=t.options,o=r.plotOptions,a=t.userOptions||{},s=merge$18(i),l=t.styledMode,c={plotOptions:o,userOptions:s},h;fireEvent$r(this,"setOptions",c);var u=c.plotOptions[this.type],d=a.plotOptions||{};this.userOptions=c.userOptions;var f=merge$18(u,o.series,a.plotOptions&&a.plotOptions[this.type],s);this.tooltipOptions=merge$18(defaultOptions$a.tooltip,defaultOptions$a.plotOptions.series&&defaultOptions$a.plotOptions.series.tooltip,defaultOptions$a.plotOptions[this.type].tooltip,r.tooltip.userOptions,o.series&&o.series.tooltip,o[this.type].tooltip,s.tooltip),this.stickyTracking=pick$1f(s.stickyTracking,d[this.type]&&d[this.type].stickyTracking,d.series&&d.series.stickyTracking,this.tooltipOptions.shared&&!this.noSharedTooltip?!0:f.stickyTracking),u.marker===null&&delete f.marker,this.zoneAxis=f.zoneAxis;var p=this.zones=(f.zones||[]).slice();return(f.negativeColor||f.negativeFillColor)&&!f.zones&&(h={value:f[this.zoneAxis+"Threshold"]||f.threshold||0,className:"highcharts-negative"},l||(h.color=f.negativeColor,h.fillColor=f.negativeFillColor),p.push(h)),p.length&&defined$G(p[p.length-1].value)&&p.push(l?{}:{color:this.color,fillColor:this.fillColor}),fireEvent$r(this,"afterSetOptions",{options:f}),f},n.prototype.getName=function(){return pick$1f(this.options.name,"Series "+(this.index+1))},n.prototype.getCyclic=function(i,t,r){var o=this.chart,a=this.userOptions,s=i+"Index",l=i+"Counter",c=r?r.length:pick$1f(o.options.chart[i+"Count"],o[i+"Count"]),h,u;t||(u=pick$1f(a[s],a["_"+s]),defined$G(u)?h=u:(o.series.length||(o[l]=0),a["_"+s]=h=o[l]%c,o[l]+=1),r&&(t=r[h])),typeof h<"u"&&(this[s]=h),this[i]=t},n.prototype.getColor=function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color=palette.neutralColor20:this.getCyclic("color",this.options.color||defaultOptions$a.plotOptions[this.type].color,this.chart.options.colors)},n.prototype.getPointsCollection=function(){return(this.hasGroupedData?this.points:this.data)||[]},n.prototype.getSymbol=function(){var i=this.options.marker;this.getCyclic("symbol",i.symbol,this.chart.options.symbols)},n.prototype.findPointIndex=function(i,t){var r=i.id,o=i.x,a=this.points,s=this.options.dataSorting,l,c,h;if(r){var u=this.chart.get(r);u instanceof Point$5&&(l=u)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){var d=function(f){return!f.touched&&f.index===i.index};if(s&&s.matchByName?d=function(f){return!f.touched&&f.name===i.name}:this.options.relativeXValue&&(d=function(f){return!f.touched&&f.options.x===i.x}),l=find$f(a,d),!l)return}return l&&(h=l&&l.index,typeof h<"u"&&(c=!0)),typeof h>"u"&&isNumber$A(o)&&(h=this.xData.indexOf(o,t)),h!==-1&&typeof h<"u"&&this.cropped&&(h=h>=this.cropStart?h-this.cropStart:h),!c&&isNumber$A(h)&&a[h]&&a[h].touched&&(h=void 0),h},n.prototype.updateData=function(i,t){var r=this.options,o=r.dataSorting,a=this.points,s=[],l=this.requireSorting,c=i.length===a.length,h,u,d,f,p=!0;if(this.xIncrement=null,i.forEach(function(m,g){var v=defined$G(m)&&this.pointClass.prototype.optionsToObject.call({series:this},m)||{},_,y=v.x,b=v.id;b||isNumber$A(y)?(_=this.findPointIndex(v,f),_===-1||typeof _>"u"?s.push(m):a[_]&&m!==r.data[_]?(a[_].update(m,!1,null,!1),a[_].touched=!0,l&&(f=_+1)):a[_]&&(a[_].touched=!0),(!c||g!==_||o&&o.enabled||this.hasDerivedData)&&(h=!0)):s.push(m)},this),h)for(u=a.length;u--;)d=a[u],d&&!d.touched&&d.remove&&d.remove(!1,t);else c&&(!o||!o.enabled)?(i.forEach(function(m,g){m!==a[g].y&&a[g].update&&a[g].update(m,!1,null,!1)}),s.length=0):p=!1;return a.forEach(function(m){m&&(m.touched=!1)}),p?(s.forEach(function(m){this.addPoint(m,!1,null,null,!1)},this),this.xIncrement===null&&this.xData&&this.xData.length&&(this.xIncrement=arrayMax$7(this.xData),this.autoIncrement()),!0):!1},n.prototype.setData=function(i,t,r,o){var a=this,s=a.points,l=s&&s.length||0,c=a.options,h=a.chart,u=c.dataSorting,d=a.xAxis,f=c.turboThreshold,p=this.xData,m=this.yData,g=a.pointArrayMap,v=g&&g.length,_=c.keys,y,b,x,E=0,C=1,$=null;i=i||[];var S=i.length;if(t=pick$1f(t,!0),u&&u.enabled&&(i=this.sortData(i)),o!==!1&&S&&l&&!a.cropped&&!a.hasGroupedData&&a.visible&&!a.isSeriesBoosting&&(x=this.updateData(i,r)),!x){if(a.xIncrement=null,a.colorCounter=0,this.parallelArrays.forEach(function(P){a[P+"Data"].length=0}),f&&S>f)if($=a.getFirstValidPoint(i),isNumber$A($))for(y=0;y<S;y++)p[y]=this.autoIncrement(),m[y]=i[y];else if(isArray$f($))if(v)for(y=0;y<S;y++)b=i[y],p[y]=b[0],m[y]=b.slice(1,v+1);else for(_&&(E=_.indexOf("x"),C=_.indexOf("y"),E=E>=0?E:0,C=C>=0?C:1),y=0;y<S;y++)b=i[y],p[y]=b[E],m[y]=b[C];else error$4(12,!1,h);else for(y=0;y<S;y++)typeof i[y]<"u"&&(b={series:a},a.pointClass.prototype.applyOptions.apply(b,[i[y]]),a.updateParallelArrays(b,y));for(m&&isString$4(m[0])&&error$4(14,!0,h),a.data=[],a.options.data=a.userOptions.data=i,y=l;y--;)s[y]&&s[y].destroy&&s[y].destroy();d&&(d.minRange=d.userMinRange),a.isDirty=h.isDirtyBox=!0,a.isDirtyData=!!s,r=!1}c.legendType==="point"&&(this.processData(),this.generatePoints()),t&&h.redraw(r)},n.prototype.sortData=function(i){var t=this,r=t.options,o=r.dataSorting,a=o.sortKey||"y",s=function(c,h){return defined$G(h)&&c.pointClass.prototype.optionsToObject.call({series:c},h)||{}};i.forEach(function(c,h){i[h]=s(t,c),i[h].index=h},this);var l=i.concat().sort(function(c,h){var u=getNestedProperty(a,c),d=getNestedProperty(a,h);return d<u?-1:d>u?1:0});return l.forEach(function(c,h){c.x=h},this),t.linkedSeries&&t.linkedSeries.forEach(function(c){var h=c.options,u=h.data;(!h.dataSorting||!h.dataSorting.enabled)&&u&&(u.forEach(function(d,f){u[f]=s(c,d),i[f]&&(u[f].x=i[f].x,u[f].index=f)}),c.setData(u,!1))}),i},n.prototype.getProcessedData=function(i){var t=this,r=t.xAxis,o=t.options,a=o.cropThreshold,s=i||t.getExtremesFromAll||o.getExtremesFromAll,l=t.isCartesian,c=r&&r.val2lin,h=!!(r&&r.logarithmic),u,d,f=0,p,m,g,v,_,y,b=t.xData,x=t.yData,E=t.requireSorting,C=!1,$=b.length;for(r&&(v=r.getExtremes(),_=v.min,y=v.max,C=r.categories&&!r.names.length),l&&t.sorted&&!s&&(!a||$>a||t.forceCrop)&&(b[$-1]<_||b[0]>y?(b=[],x=[]):t.yData&&(b[0]<_||b[$-1]>y)&&(u=this.cropData(t.xData,t.yData,_,y),b=u.xData,x=u.yData,f=u.start,d=!0)),g=b.length||1;--g;)p=h?c(b[g])-c(b[g-1]):b[g]-b[g-1],p>0&&(typeof m>"u"||p<m)?m=p:p<0&&E&&!C&&(error$4(15,!1,t.chart),E=!1);return{xData:b,yData:x,cropped:d,cropStart:f,closestPointRange:m}},n.prototype.processData=function(i){var t=this,r=t.xAxis;if(t.isCartesian&&!t.isDirty&&!r.isDirty&&!t.yAxis.isDirty&&!i)return!1;var o=t.getProcessedData();t.cropped=o.cropped,t.cropStart=o.cropStart,t.processedXData=o.xData,t.processedYData=o.yData,t.closestPointRange=t.basePointRange=o.closestPointRange},n.prototype.cropData=function(i,t,r,o,a){var s=i.length,l,c,h=0,u=s;for(a=pick$1f(a,this.cropShoulder),l=0;l<s;l++)if(i[l]>=r){h=Math.max(0,l-a);break}for(c=l;c<s;c++)if(i[c]>o){u=c+a;break}return{xData:i.slice(h,u),yData:t.slice(h,u),start:h,end:u}},n.prototype.generatePoints=function(){var i=this,t=i.options,r=t.data,o=i.processedXData,a=i.processedYData,s=i.pointClass,l=o.length,c=i.cropStart||0,h=i.hasGroupedData,u=t.keys,d=[],f=t.dataGrouping&&t.dataGrouping.groupAll?c:0,p,m,g,v,_=i.data;if(!_&&!h){var y=[];y.length=r.length,_=i.data=y}for(u&&h&&(i.options.keys=!1),v=0;v<l;v++)m=c+v,h?(g=new s().init(i,[o[v]].concat(splat$c(a[v]))),g.dataGroup=i.groupMap[f+v],g.dataGroup.options&&(g.options=g.dataGroup.options,extend$1g(g,g.dataGroup.options),delete g.dataLabels)):(g=_[m],!g&&typeof r[m]<"u"&&(_[m]=g=new s().init(i,r[m],o[v]))),g&&(g.index=h?f+v:m,d[v]=g);if(i.options.keys=u,_&&(l!==(p=_.length)||h))for(v=0;v<p;v++)v===c&&!h&&(v+=l),_[v]&&(_[v].destroyElements(),_[v].plotX=void 0);i.data=_,i.points=d,fireEvent$r(this,"afterGeneratePoints")},n.prototype.getXExtremes=function(i){return{min:arrayMin$6(i),max:arrayMax$7(i)}},n.prototype.getExtremes=function(i,t){var r=this.xAxis,o=this.yAxis,a=this.processedXData||this.xData,s=[],l=this.requireSorting?this.cropShoulder:0,c=o?o.positiveValuesOnly:!1,h,u,d,f,p,m,g,v=0,_=0,y=0;i=i||this.stackedYData||this.processedYData||[];var b=i.length;for(r&&(h=r.getExtremes(),v=h.min,_=h.max),m=0;m<b;m++)if(f=a[m],p=i[m],u=(isNumber$A(p)||isArray$f(p))&&(p.length||p>0||!c),d=t||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!r||(a[m+l]||f)>=v&&(a[m-l]||f)<=_,u&&d)if(g=p.length,g)for(;g--;)isNumber$A(p[g])&&(s[y++]=p[g]);else s[y++]=p;var x={dataMin:arrayMin$6(s),dataMax:arrayMax$7(s)};return fireEvent$r(this,"afterGetExtremes",{dataExtremes:x}),x},n.prototype.applyExtremes=function(){var i=this.getExtremes();return this.dataMin=i.dataMin,this.dataMax=i.dataMax,i},n.prototype.getFirstValidPoint=function(i){for(var t=i.length,r=0,o=null;o===null&&r<t;)o=i[r],r++;return o},n.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints();var i=this,t=i.options,r=t.stacking,o=i.xAxis,a=o.categories,s=i.enabledDataSorting,l=i.yAxis,c=i.points,h=c.length,u=!!i.modifyValue,d=i.pointPlacementToXValue(),f=!!d,p=t.threshold,m=t.startFromThreshold?p:0,g=this.zoneAxis||"y",v,_,y,b,x=Number.MAX_VALUE;function E(z){return clamp$f(z,-1e5,1e5)}for(v=0;v<h;v++){var C=c[v],$=C.x,S=void 0,P=void 0,T=C.y,k=C.low,L=r&&l.stacking&&l.stacking.stacks[(i.negStacks&&T<(m?0:p)?"-":"")+i.stackKey];if((l.positiveValuesOnly&&!l.validatePositiveValue(T)||o.positiveValuesOnly&&!o.validatePositiveValue($))&&(C.isNull=!0),C.plotX=_=correctFloat$a(E(o.translate($,0,0,0,1,d,this.type==="flags"))),r&&i.visible&&L&&L[$]&&(b=i.getStackIndicator(b,$,i.index),C.isNull||(S=L[$],P=S.points[b.key])),isArray$f(P)&&(k=P[0],T=P[1],k===m&&b.key===L[$].base&&(k=pick$1f(isNumber$A(p)&&p,l.min)),l.positiveValuesOnly&&k<=0&&(k=null),C.total=C.stackTotal=S.total,C.percentage=S.total&&C.y/S.total*100,C.stackY=T,i.irregularWidths||S.setOffset(i.pointXOffset||0,i.barW||0)),C.yBottom=defined$G(k)?E(l.translate(k,0,1,0,1)):null,u&&(T=i.modifyValue(T,C)),C.plotY=void 0,isNumber$A(T)){var N=l.translate(T,!1,!0,!1,!0);typeof N<"u"&&(C.plotY=E(N))}C.isInside=this.isPointInside(C),C.clientX=f?correctFloat$a(o.translate($,0,0,0,1,d)):_,C.negative=C[g]<(t[g+"Threshold"]||p||0),C.category=a&&typeof a[C.x]<"u"?a[C.x]:C.x,!C.isNull&&C.visible!==!1&&(typeof y<"u"&&(x=Math.min(x,Math.abs(_-y))),y=_),C.zone=this.zones.length&&C.getZone(),!C.graphic&&i.group&&s&&(C.isNew=!0)}i.closestPointRangePx=x,fireEvent$r(this,"afterTranslate")},n.prototype.getValidPoints=function(i,t,r){var o=this.chart;return(i||this.points||[]).filter(function(a){return t&&!o.isInsidePlot(a.plotX,a.plotY,{inverted:o.inverted})?!1:a.visible!==!1&&(r||!a.isNull)})},n.prototype.getClipBox=function(i,t){var r=this,o=r.options,a=r.chart,s=a.inverted,l=r.xAxis,c=l&&r.yAxis,h=a.options.chart.scrollablePlotArea||{},u;return i&&o.clip===!1&&c?u=s?{y:-a.chartWidth+c.len+c.pos,height:a.chartWidth,width:a.chartHeight,x:-a.chartHeight+l.len+l.pos}:{y:-c.pos,height:a.chartHeight,width:a.chartWidth,x:-l.pos}:(u=r.clipBox||a.clipBox,t&&(u.width=a.plotSizeX,u.x=(a.scrollablePixelsX||0)*(h.scrollPositionX||0))),t?{width:u.width,x:u.x}:u},n.prototype.getSharedClipKey=function(i){if(this.sharedClipKey)return this.sharedClipKey;var t=[i&&i.duration,i&&i.easing,i&&i.defer,this.getClipBox(i).height,this.options.xAxis,this.options.yAxis].join(",");return(this.options.clip!==!1||i)&&(this.sharedClipKey=t),t},n.prototype.setClip=function(i){var t=this.chart,r=this.options,o=t.renderer,a=t.inverted,s=this.clipBox,l=this.getClipBox(i),c=this.getSharedClipKey(i),h=t.sharedClips[c],u=t.sharedClips[c+"m"];i&&(l.width=0,a&&(l.x=t.plotHeight+(r.clip!==!1?0:t.plotTop))),h?t.hasLoaded||h.attr(l):(i&&(t.sharedClips[c+"m"]=u=o.clipRect(a?(t.plotSizeX||0)+99:-99,a?-t.plotLeft:-t.plotTop,99,a?t.chartWidth:t.chartHeight)),t.sharedClips[c]=h=o.clipRect(l),h.count={length:0}),i&&(h.count[this.index]||(h.count[this.index]=!0,h.count.length+=1)),(r.clip!==!1||i)&&(this.group.clip(i||s?h:t.clipRect),this.markerGroup.clip(u)),i||(h.count[this.index]&&(delete h.count[this.index],h.count.length-=1),h.count.length===0&&(s||(t.sharedClips[c]=h.destroy()),u&&(t.sharedClips[c+"m"]=u.destroy())))},n.prototype.animate=function(i){var t=this,r=t.chart,o=animObject$6(t.options.animation),a=this.sharedClipKey;if(i)t.setClip(o);else if(a){var s=r.sharedClips[a],l=r.sharedClips[a+"m"],c=t.getClipBox(o,!0);s&&s.animate(c,o),l&&l.animate({width:c.width+99,x:c.x-(r.inverted?0:99)},o)}},n.prototype.afterAnimate=function(){this.setClip(),fireEvent$r(this,"afterAnimate"),this.finishedAnimating=!0},n.prototype.drawPoints=function(){var i=this,t=i.points,r=i.chart,o=i.options,a=o.marker,s=i[i.specialGroup]||i.markerGroup,l=i.xAxis,c=pick$1f(a.enabled,!l||l.isRadial?!0:null,i.closestPointRangePx>=a.enabledThreshold*a.radius),h,u,d,f,p,m,g;if(a.enabled!==!1||i._hasPointMarkers)for(h=0;h<t.length;h++){u=t[h],d=u.graphic,f=d?"animate":"attr",p=u.marker||{},m=!!u.marker;var v=(c&&typeof p.enabled>"u"||p.enabled)&&!u.isNull&&u.visible!==!1;if(v){var _=pick$1f(p.symbol,i.symbol,"rect");g=i.markerAttribs(u,u.selected&&"select"),i.enabledDataSorting&&(u.startXPos=l.reversed?-(g.width||0):l.width);var y=u.isInside!==!1;d?d[y?"show":"hide"](y).animate(g):y&&((g.width||0)>0||u.hasImage)&&(u.graphic=d=r.renderer.symbol(_,g.x,g.y,g.width,g.height,m?p:a).add(s),i.enabledDataSorting&&r.hasRendered&&(d.attr({x:u.startXPos}),f="animate")),d&&f==="animate"&&d[y?"show":"hide"](y).animate(g),d&&!r.styledMode&&d[f](i.pointAttribs(u,u.selected&&"select")),d&&d.addClass(u.getClassName(),!0)}else d&&(u.graphic=d.destroy())}},n.prototype.markerAttribs=function(i,t){var r=this.options,o=r.marker,a=i.marker||{},s=a.symbol||o.symbol,l,c,h=pick$1f(a.radius,o.radius);t&&(l=o.states[t],c=a.states&&a.states[t],h=pick$1f(c&&c.radius,l&&l.radius,h+(l&&l.radiusPlus||0))),i.hasImage=s&&s.indexOf("url")===0,i.hasImage&&(h=0);var u={x:r.crisp?Math.floor(i.plotX-h):i.plotX-h,y:i.plotY-h};return h&&(u.width=u.height=2*h),u},n.prototype.pointAttribs=function(i,t){var r=this.options.marker,o=i&&i.options,a=o&&o.marker||{},s=o&&o.color,l=i&&i.color,c=i&&i.zone&&i.zone.color,h,u,d=this.color,f,p,m=pick$1f(a.lineWidth,r.lineWidth),g=1;return d=s||c||l||d,f=a.fillColor||r.fillColor||d,p=a.lineColor||r.lineColor||d,t=t||"normal",t&&(h=r.states[t],u=a.states&&a.states[t]||{},m=pick$1f(u.lineWidth,h.lineWidth,m+pick$1f(u.lineWidthPlus,h.lineWidthPlus,0)),f=u.fillColor||h.fillColor||f,p=u.lineColor||h.lineColor||p,g=pick$1f(u.opacity,h.opacity,g)),{stroke:p,"stroke-width":m,fill:f,opacity:g}},n.prototype.destroy=function(i){var t=this,r=t.chart,o=/AppleWebKit\/533/.test(win$7.navigator.userAgent),a=t.data||[],s,l,c,h;for(fireEvent$r(t,"destroy"),this.removeEvents(i),(t.axisTypes||[]).forEach(function(u){h=t[u],h&&h.series&&(erase$2(h.series,t),h.isDirty=h.forceRedraw=!0)}),t.legendItem&&t.chart.legend.destroyItem(t),l=a.length;l--;)c=a[l],c&&c.destroy&&c.destroy();t.clips&&t.clips.forEach(function(u){return u.destroy()}),Utilities.clearTimeout(t.animationTimeout),objectEach$m(t,function(u,d){u instanceof SVGElement&&!u.survive&&(s=o&&d==="group"?"hide":"destroy",u[s]())}),r.hoverSeries===t&&(r.hoverSeries=void 0),erase$2(r.series,t),r.orderSeries(),objectEach$m(t,function(u,d){(!i||d!=="hcEvents")&&delete t[d]})},n.prototype.applyZones=function(){var i=this,t=this.chart,r=t.renderer,o=this.zones,a=this.clips||[],s=this.graph,l=this.area,c=Math.max(t.chartWidth,t.chartHeight),h=this[(this.zoneAxis||"y")+"Axis"],u=t.inverted,d,f,p,m,g,v,_,y,b,x,E,C=!1;o.length&&(s||l)&&h&&typeof h.min<"u"?(g=h.reversed,v=h.horiz,s&&!this.showLine&&s.hide(),l&&l.hide(),m=h.getExtremes(),o.forEach(function($,S){d=g?v?t.plotWidth:0:v?0:h.toPixels(m.min)||0,d=clamp$f(pick$1f(f,d),0,c),f=clamp$f(Math.round(h.toPixels(pick$1f($.value,m.max),!0)||0),0,c),C&&(d=f=h.toPixels(m.max)),_=Math.abs(d-f),y=Math.min(d,f),b=Math.max(d,f),h.isXAxis?(p={x:u?b:y,y:0,width:_,height:c},v||(p.x=t.plotHeight-p.x)):(p={x:0,y:u?b:y,width:c,height:_},v&&(p.y=t.plotWidth-p.y)),u&&r.isVML&&(h.isXAxis?p={x:0,y:g?y:b,height:p.width,width:t.chartWidth}:p={x:p.y-t.plotLeft-t.spacingBox.x,y:0,width:p.height,height:t.chartHeight}),a[S]?a[S].animate(p):a[S]=r.clipRect(p),x=i["zone-area-"+S],E=i["zone-graph-"+S],s&&E&&E.clip(a[S]),l&&x&&x.clip(a[S]),C=$.value>m.max,i.resetZones&&f===0&&(f=void 0)}),this.clips=a):i.visible&&(s&&s.show(!0),l&&l.show(!0))},n.prototype.invertGroups=function(i){var t=this,r=t.chart;function o(){["group","markerGroup"].forEach(function(a){t[a]&&(r.renderer.isVML&&t[a].attr({width:t.yAxis.len,height:t.xAxis.len}),t[a].width=t.yAxis.len,t[a].height=t.xAxis.len,t[a].invert(t.isRadialSeries?!1:i))})}t.xAxis&&(t.eventsToUnbind.push(addEvent$S(r,"resize",o)),o(),t.invertGroups=o)},n.prototype.plotGroup=function(i,t,r,o,a){var s=this[i],l=!s,c={visibility:r,zIndex:o||.1};return typeof this.opacity<"u"&&!this.chart.styledMode&&this.state!=="inactive"&&(c.opacity=this.opacity),l&&(this[i]=s=this.chart.renderer.g().add(a)),s.addClass("highcharts-"+t+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(defined$G(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(s.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),s.attr(c)[l?"attr":"animate"](this.getPlotBox()),s},n.prototype.getPlotBox=function(){var i=this.chart,t=this.xAxis,r=this.yAxis;return i.inverted&&(t=r,r=this.xAxis),{translateX:t?t.left:i.plotLeft,translateY:r?r.top:i.plotTop,scaleX:1,scaleY:1}},n.prototype.removeEvents=function(i){var t=this;i||removeEvent$5(t),t.eventsToUnbind.length&&(t.eventsToUnbind.forEach(function(r){r()}),t.eventsToUnbind.length=0)},n.prototype.render=function(){var i=this,t=i.chart,r=i.options,o=animObject$6(r.animation),a=i.visible?"inherit":"hidden",s=r.zIndex,l=i.hasRendered,c=t.seriesGroup,h=t.inverted,u=!i.finishedAnimating&&t.renderer.isSVG&&o.duration;fireEvent$r(this,"render");var d=i.plotGroup("group","series",a,s,c);i.markerGroup=i.plotGroup("markerGroup","markers",a,s,c),u&&i.animate&&i.animate(!0),d.inverted=pick$1f(i.invertible,i.isCartesian)?h:!1,i.drawGraph&&(i.drawGraph(),i.applyZones()),i.visible&&i.drawPoints(),i.drawDataLabels&&i.drawDataLabels(),i.redrawPoints&&i.redrawPoints(),i.drawTracker&&i.options.enableMouseTracking!==!1&&i.drawTracker(),i.invertGroups(h),r.clip!==!1&&!i.sharedClipKey&&!l&&d.clip(t.clipRect),u&&i.animate&&i.animate(),l||(u&&o.defer&&(u+=o.defer),i.animationTimeout=syncTimeout$2(function(){i.afterAnimate()},u||0)),i.isDirty=!1,i.hasRendered=!0,fireEvent$r(i,"afterRender")},n.prototype.redraw=function(){var i=this,t=i.chart,r=i.isDirty||i.isDirtyData,o=i.group,a=i.xAxis,s=i.yAxis;o&&(t.inverted&&o.attr({width:t.plotWidth,height:t.plotHeight}),o.animate({translateX:pick$1f(a&&a.left,t.plotLeft),translateY:pick$1f(s&&s.top,t.plotTop)})),i.translate(),i.render(),r&&delete this.kdTree},n.prototype.searchPoint=function(i,t){var r=this,o=r.xAxis,a=r.yAxis,s=r.chart.inverted;return this.searchKDTree({clientX:s?o.len-i.chartY+o.pos:i.chartX-o.pos,plotY:s?a.len-i.chartX+a.pos:i.chartY-a.pos},t,i)},n.prototype.buildKDTree=function(i){this.buildingKdTree=!0;var t=this,r=t.options.findNearestPointBy.indexOf("y")>-1?2:1;function o(s,l,c){var h=s&&s.length,u,d;if(h)return u=t.kdAxisArray[l%c],s.sort(function(f,p){return f[u]-p[u]}),d=Math.floor(h/2),{point:s[d],left:o(s.slice(0,d),l+1,c),right:o(s.slice(d+1),l+1,c)}}function a(){t.kdTree=o(t.getValidPoints(null,!t.directTouch),r,r),t.buildingKdTree=!1}delete t.kdTree,syncTimeout$2(a,t.options.kdNow||i&&i.type==="touchstart"?0:1)},n.prototype.searchKDTree=function(i,t,r){var o=this,a=this.kdAxisArray[0],s=this.kdAxisArray[1],l=t?"distX":"dist",c=o.options.findNearestPointBy.indexOf("y")>-1?2:1;function h(d,f){var p=defined$G(d[a])&&defined$G(f[a])?Math.pow(d[a]-f[a],2):null,m=defined$G(d[s])&&defined$G(f[s])?Math.pow(d[s]-f[s],2):null,g=(p||0)+(m||0);f.dist=defined$G(g)?Math.sqrt(g):Number.MAX_VALUE,f.distX=defined$G(p)?Math.sqrt(p):Number.MAX_VALUE}function u(d,f,p,m){var g=f.point,v=o.kdAxisArray[p%m],_,y,b=g;h(d,g);var x=d[v]-g[v],E=x<0?"left":"right",C=x<0?"right":"left";return f[E]&&(_=u(d,f[E],p+1,m),b=_[l]<b[l]?_:g),f[C]&&Math.sqrt(x*x)<b[l]&&(y=u(d,f[C],p+1,m),b=y[l]<b[l]?y:b),b}if(!this.kdTree&&!this.buildingKdTree&&this.buildKDTree(r),this.kdTree)return u(i,this.kdTree,c,c)},n.prototype.pointPlacementToXValue=function(){var i=this,t=i.options,r=t.pointPlacement,o=t.pointRange,a=i.xAxis,s=r;return s==="between"&&(s=a.reversed?-.5:.5),isNumber$A(s)?s*(o||a.pointRange):0},n.prototype.isPointInside=function(i){var t=typeof i.plotY<"u"&&typeof i.plotX<"u"&&i.plotY>=0&&i.plotY<=this.yAxis.len&&i.plotX>=0&&i.plotX<=this.xAxis.len;return t},n.prototype.drawTracker=function(){var i=this,t=i.options,r=t.trackByArea,o=[].concat(r?i.areaPath:i.graphPath),a=i.chart,s=a.pointer,l=a.renderer,c=a.options.tooltip.snap,h=i.tracker,u=function(f){a.hoverSeries!==i&&i.onMouseOver()},d="rgba(192,192,192,"+(svg$2?1e-4:.002)+")";h?h.attr({d:o}):i.graph&&(i.tracker=l.path(o).attr({visibility:i.visible?"visible":"hidden",zIndex:2}).addClass(r?"highcharts-tracker-area":"highcharts-tracker-line").add(i.group),a.styledMode||i.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:d,fill:r?d:"none","stroke-width":i.graph.strokeWidth()+(r?0:2*c)}),[i.tracker,i.markerGroup,i.dataLabelsGroup].forEach(function(f){f&&(f.addClass("highcharts-tracker").on("mouseover",u).on("mouseout",function(p){s.onTrackerMouseOut(p)}),t.cursor&&!a.styledMode&&f.css({cursor:t.cursor}),hasTouch$2&&f.on("touchstart",u))})),fireEvent$r(this,"afterDrawTracker")},n.prototype.addPoint=function(i,t,r,o,a){var s=this,l=s.options,c=s.data,h=s.chart,u=s.xAxis,d=u&&u.hasNames&&u.names,f=l.data,p=s.xData,m,g;t=pick$1f(t,!0);var v={series:s};s.pointClass.prototype.applyOptions.apply(v,[i]);var _=v.x;if(g=p.length,s.requireSorting&&_<p[g-1])for(m=!0;g&&p[g-1]>_;)g--;s.updateParallelArrays(v,"splice",g,0,0),s.updateParallelArrays(v,g),d&&v.name&&(d[_]=v.name),f.splice(g,0,i),m&&(s.data.splice(g,0,null),s.processData()),l.legendType==="point"&&s.generatePoints(),r&&(c[0]&&c[0].remove?c[0].remove(!1):(c.shift(),s.updateParallelArrays(v,"shift"),f.shift())),a!==!1&&fireEvent$r(s,"addPoint",{point:v}),s.isDirty=!0,s.isDirtyData=!0,t&&h.redraw(o)},n.prototype.removePoint=function(i,t,r){var o=this,a=o.data,s=a[i],l=o.points,c=o.chart,h=function(){l&&l.length===a.length&&l.splice(i,1),a.splice(i,1),o.options.data.splice(i,1),o.updateParallelArrays(s||{series:o},"splice",i,1),s&&s.destroy(),o.isDirty=!0,o.isDirtyData=!0,t&&c.redraw()};setAnimation$2(r,c),t=pick$1f(t,!0),s?s.firePointEvent("remove",null,h):h()},n.prototype.remove=function(i,t,r,o){var a=this,s=a.chart;function l(){a.destroy(o),s.isDirtyLegend=s.isDirtyBox=!0,s.linkSeries(),pick$1f(i,!0)&&s.redraw(t)}r!==!1?fireEvent$r(a,"remove",null,l):l()},n.prototype.update=function(i,t){i=cleanRecursively(i,this.userOptions),fireEvent$r(this,"update",{options:i});var r=this,o=r.chart,a=r.userOptions,s=r.initialType||r.type,l=o.options.plotOptions,c=seriesTypes$6[s].prototype,h=["group","markerGroup","dataLabelsGroup","transformGroup"],u=r.finishedAnimating&&{animation:!1},d={},f,p,m=["eventOptions","navigatorSeries","baseSeries"],g=i.type||a.type||o.options.chart.type,v=!(this.hasDerivedData||g&&g!==this.type||typeof i.pointStart<"u"||typeof i.pointInterval<"u"||typeof i.relativeXValue<"u"||r.hasOptionChanged("dataGrouping")||r.hasOptionChanged("pointStart")||r.hasOptionChanged("pointInterval")||r.hasOptionChanged("pointIntervalUnit")||r.hasOptionChanged("keys"));g=g||s,v&&(m.push("data","isDirtyData","points","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","mapMap","mapData","minY","maxY","minX","maxX"),i.visible!==!1&&m.push("area","graph"),r.parallelArrays.forEach(function(E){m.push(E+"Data")}),i.data&&(i.dataSorting&&extend$1g(r.options.dataSorting,i.dataSorting),this.setData(i.data,!1))),i=merge$18(a,u,{index:typeof a.index>"u"?r.index:a.index,pointStart:pick$1f(l&&l.series&&l.series.pointStart,a.pointStart,r.xData[0])},!v&&{data:r.options.data},i),v&&i.data&&(i.data=r.options.data),m=h.concat(m),m.forEach(function(E){m[E]=r[E],delete r[E]});var _=!1;if(seriesTypes$6[g]){if(_=g!==r.type,r.remove(!1,!1,!1,!0),_)if(Object.setPrototypeOf)Object.setPrototypeOf(r,seriesTypes$6[g].prototype);else{var y=Object.hasOwnProperty.call(r,"hcEvents")&&r.hcEvents;for(p in c)r[p]=void 0;extend$1g(r,seriesTypes$6[g].prototype),y?r.hcEvents=y:delete r.hcEvents}}else error$4(17,!0,o,{missingModuleFor:g});if(m.forEach(function(E){r[E]=m[E]}),r.init(o,i),v&&this.points){if(f=r.options,f.visible===!1)d.graphic=1,d.dataLabel=1;else if(!r._hasPointLabels){var b=f.marker,x=f.dataLabels;b&&(b.enabled===!1||(a.marker&&a.marker.symbol)!==b.symbol)&&(d.graphic=1),x&&x.enabled===!1&&(d.dataLabel=1)}this.points.forEach(function(E){E&&E.series&&(E.resolveColor(),Object.keys(d).length&&E.destroyElements(d),f.showInLegend===!1&&E.legendItem&&o.legend.destroyItem(E))},this)}r.initialType=s,o.linkSeries(),_&&r.linkedSeries.length&&(r.isDirtyData=!0),fireEvent$r(this,"afterUpdate"),pick$1f(t,!0)&&o.redraw(v?void 0:!1)},n.prototype.setName=function(i){this.name=this.options.name=this.userOptions.name=i,this.chart.isDirtyLegend=!0},n.prototype.hasOptionChanged=function(i){var t=this.chart,r=this.options[i],o=t.options.plotOptions,a=this.userOptions[i];return a?r!==a:r!==pick$1f(o&&o[this.type]&&o[this.type][i],o&&o.series&&o.series[i],r)},n.prototype.onMouseOver=function(){var i=this,t=i.chart,r=t.hoverSeries,o=t.pointer;o.setHoverChartIndex(),r&&r!==i&&r.onMouseOut(),i.options.events.mouseOver&&fireEvent$r(i,"mouseOver"),i.setState("hover"),t.hoverSeries=i},n.prototype.onMouseOut=function(){var i=this,t=i.options,r=i.chart,o=r.tooltip,a=r.hoverPoint;r.hoverSeries=null,a&&a.onMouseOut(),i&&t.events.mouseOut&&fireEvent$r(i,"mouseOut"),o&&!i.stickyTracking&&(!o.shared||i.noSharedTooltip)&&o.hide(),r.series.forEach(function(s){s.setState("",!0)})},n.prototype.setState=function(i,t){var r=this,o=r.options,a=r.graph,s=o.inactiveOtherPoints,l=o.states,c=pick$1f(l[i||"normal"]&&l[i||"normal"].animation,r.chart.options.chart.animation),h,u=o.lineWidth,d=0,f=o.opacity;if(i=i||"",r.state!==i&&([r.group,r.markerGroup,r.dataLabelsGroup].forEach(function(p){p&&(r.state&&p.removeClass("highcharts-series-"+r.state),i&&p.addClass("highcharts-series-"+i))}),r.state=i,!r.chart.styledMode)){if(l[i]&&l[i].enabled===!1)return;if(i&&(u=l[i].lineWidth||u+(l[i].lineWidthPlus||0),f=pick$1f(l[i].opacity,f)),a&&!a.dashstyle)for(h={"stroke-width":u},a.animate(h,c);r["zone-graph-"+d];)r["zone-graph-"+d].animate(h,c),d=d+1;s||[r.group,r.markerGroup,r.dataLabelsGroup,r.labelBySeries].forEach(function(p){p&&p.animate({opacity:f},c)})}t&&s&&r.points&&r.setAllPointsToState(i||void 0)},n.prototype.setAllPointsToState=function(i){this.points.forEach(function(t){t.setState&&t.setState(i)})},n.prototype.setVisible=function(i,t){var r=this,o=r.chart,a=r.legendItem,s=o.options.chart.ignoreHiddenSeries,l=r.visible;r.visible=i=r.options.visible=r.userOptions.visible=typeof i>"u"?!l:i;var c=i?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(h){r[h]&&r[h][c]()}),(o.hoverSeries===r||(o.hoverPoint&&o.hoverPoint.series)===r)&&r.onMouseOut(),a&&o.legend.colorizeItem(r,i),r.isDirty=!0,r.options.stacking&&o.series.forEach(function(h){h.options.stacking&&h.visible&&(h.isDirty=!0)}),r.linkedSeries.forEach(function(h){h.setVisible(i,!1)}),s&&(o.isDirtyBox=!0),fireEvent$r(r,c),t!==!1&&o.redraw()},n.prototype.show=function(){this.setVisible(!0)},n.prototype.hide=function(){this.setVisible(!1)},n.prototype.select=function(i){var t=this;t.selected=i=this.options.selected=typeof i>"u"?!t.selected:i,t.checkbox&&(t.checkbox.checked=i),fireEvent$r(t,i?"select":"unselect")},n.prototype.shouldShowTooltip=function(i,t,r){return r===void 0&&(r={}),r.series=this,r.visiblePlotOnly=!0,this.chart.isInsidePlot(i,t,r)},n.defaultOptions=seriesDefaults,n}();extend$1g(Series$e.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,drawLegendSymbol:LegendSymbol$1.drawLineMarker,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:Point$5,requireSorting:!0,sorted:!0});SeriesRegistry$1.series=Series$e;var stop=animationExports.stop,addEvent$R=Utilities.addEvent,createElement$4=Utilities.createElement,merge$17=Utilities.merge,pick$1e=Utilities.pick;addEvent$R(Chart$1,"afterSetChartSize",function(n){var i=this.options.chart.scrollablePlotArea,t=i&&i.minWidth,r=i&&i.minHeight,o,a,s;this.renderer.forExport||(t?(this.scrollablePixelsX=o=Math.max(0,t-this.chartWidth),o&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=merge$17(this.plotBox),this.plotBox.width=this.plotWidth+=o,this.inverted?this.clipBox.height+=o:this.clipBox.width+=o,s={1:{name:"right",value:o}})):r&&(this.scrollablePixelsY=a=Math.max(0,r-this.chartHeight),a&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=merge$17(this.plotBox),this.plotBox.height=this.plotHeight+=a,this.inverted?this.clipBox.width+=a:this.clipBox.height+=a,s={2:{name:"bottom",value:a}})),s&&!n.skipAxes&&this.axes.forEach(function(l){s[l.side]?l.getPlotLinePath=function(){var c=s[l.side].name,h=s[l.side].value,u=this[c],d;return this[c]=u-h,d=Axis.prototype.getPlotLinePath.apply(this,arguments),this[c]=u,d}:(l.setAxisSize(),l.setAxisTranslation())}))});addEvent$R(Chart$1,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()});Chart$1.prototype.setUpScrolling=function(){var n=this,i={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(i.overflowX="auto"),this.scrollablePixelsY&&(i.overflowY="auto"),this.scrollingParent=createElement$4("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=createElement$4("div",{className:"highcharts-scrolling"},i,this.scrollingParent),addEvent$R(this.scrollingContainer,"scroll",function(){n.pointer&&delete n.pointer.chartPosition}),this.innerContainer=createElement$4("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null};Chart$1.prototype.moveFixedElements=function(){var n=this.container,i=this.fixedRenderer,t=[".highcharts-contextbutton",".highcharts-credits",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-reset-zoom",".highcharts-drillup-button",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"],r;this.scrollablePixelsX&&!this.inverted?r=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?r=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(r=".highcharts-yaxis"),r&&t.push(r+":not(.highcharts-radial-axis)",r+"-labels:not(.highcharts-radial-axis-labels)"),t.forEach(function(o){[].forEach.call(n.querySelectorAll(o),function(a){(a.namespaceURI===i.SVG_NS?i.box:i.box.parentNode).appendChild(a),a.style.pointerEvents="auto"})})};Chart$1.prototype.applyFixed=function(){var n=!this.fixedDiv,i=this.options.chart,t=i.scrollablePlotArea,r=RendererRegistry$1.getRendererType(),o,a,s;n?(this.fixedDiv=createElement$4("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(i.style&&i.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=o=new r(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=o.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":pick$1e(t.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),addEvent$R(this,"afterShowResetZoom",this.moveFixedElements),addEvent$R(this,"afterDrilldown",this.moveFixedElements),addEvent$R(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||n)&&(this.scrollableDirty=!1,this.moveFixedElements()),a=this.chartWidth+(this.scrollablePixelsX||0),s=this.chartHeight+(this.scrollablePixelsY||0),stop(this.container),this.container.style.width=a+"px",this.container.style.height=s+"px",this.renderer.boxWrapper.attr({width:a,height:s,viewBox:[0,0,a,s].join(" ")}),this.chartBackground.attr({width:a,height:s}),this.scrollingContainer.style.height=this.chartHeight+"px",n&&(t.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*t.scrollPositionX),t.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*t.scrollPositionY));var l=this.axisOffset,c=this.plotTop-l[0]-1,h=this.plotLeft-l[3]-1,u=this.plotTop+this.plotHeight+l[2]+1,d=this.plotLeft+this.plotWidth+l[1]+1,f=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),p=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0),m;this.scrollablePixelsX?m=[["M",0,c],["L",this.plotLeft-1,c],["L",this.plotLeft-1,u],["L",0,u],["Z"],["M",f,c],["L",this.chartWidth,c],["L",this.chartWidth,u],["L",f,u],["Z"]]:this.scrollablePixelsY?m=[["M",h,0],["L",h,this.plotTop-1],["L",d,this.plotTop-1],["L",d,0],["Z"],["M",h,p],["L",h,this.chartHeight],["L",d,this.chartHeight],["L",d,p],["Z"]]:m=[["M",0,0]],this.redrawTrigger!=="adjustHeight"&&this.scrollableMask.attr({d:m})};addEvent$R(Axis,"afterInit",function(){this.chart.scrollableDirty=!0});addEvent$R(Series$e,"show",function(){this.chart.scrollableDirty=!0});var getDeferredAnimation$2=animationExports.getDeferredAnimation,addEvent$Q=Utilities.addEvent,destroyObjectProperties$5=Utilities.destroyObjectProperties,fireEvent$q=Utilities.fireEvent,isNumber$z=Utilities.isNumber,objectEach$l=Utilities.objectEach,StackingAxis;(function(n){var i=[];function t(s){return i.indexOf(s)===-1&&(i.push(s),addEvent$Q(s,"init",o),addEvent$Q(s,"destroy",r)),s}n.compose=t;function r(){var s=this.stacking;if(s){var l=s.stacks;objectEach$l(l,function(c,h){destroyObjectProperties$5(c),l[h]=null}),s&&s.stackTotalGroup&&s.stackTotalGroup.destroy()}}function o(){var s=this;s.stacking||(s.stacking=new a(s))}var a=function(){function s(l){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=l}return s.prototype.buildStacks=function(){var l=this,c=l.axis,h=c.series,u=c.options.reversedStacks,d=h.length,f,p;if(!c.isXAxis){for(l.usePercentage=!1,p=d;p--;)f=h[u?p:d-p-1],f.setStackedPoints(),f.setGroupedPoints();for(p=0;p<d;p++)h[p].modifyStacks();fireEvent$q(c,"afterBuildStacks")}},s.prototype.cleanStacks=function(){var l=this,c=l.axis,h;c.isXAxis||(l.oldStacks&&(h=l.stacks=l.oldStacks),objectEach$l(h,function(u){objectEach$l(u,function(d){d.cumulative=d.total})}))},s.prototype.resetStacks=function(){var l=this,c=l.axis,h=l.stacks;c.isXAxis||objectEach$l(h,function(u){objectEach$l(u,function(d,f){isNumber$z(d.touched)&&d.touched<l.stacksTouched?(d.destroy(),delete u[f]):(d.total=null,d.cumulative=null)})})},s.prototype.renderStackTotals=function(){var l=this,c=l.axis,h=c.chart,u=h.renderer,d=l.stacks,f=c.options.stackLabels&&c.options.stackLabels.animation,p=getDeferredAnimation$2(h,f||!1),m=l.stackTotalGroup=l.stackTotalGroup||u.g("stack-labels").attr({visibility:"visible",zIndex:6,opacity:0}).add();m.translate(h.plotLeft,h.plotTop),objectEach$l(d,function(g){objectEach$l(g,function(v){v.render(m)})}),m.animate({opacity:1},p)},s}();n.Additions=a})(StackingAxis||(StackingAxis={}));const StackingAxis$1=StackingAxis;var format$a=FormatUtilities.format,correctFloat$9=Utilities.correctFloat,defined$F=Utilities.defined,destroyObjectProperties$4=Utilities.destroyObjectProperties,isArray$e=Utilities.isArray,isNumber$y=Utilities.isNumber,objectEach$k=Utilities.objectEach,pick$1d=Utilities.pick,StackItem=function(){function n(i,t,r,o,a){var s=i.chart.inverted;this.axis=i,this.isNegative=r,this.options=t=t||{},this.x=o,this.total=null,this.points={},this.hasValidPoints=!1,this.stack=a,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:t.align||(s?r?"left":"right":"center"),verticalAlign:t.verticalAlign||(s?"middle":r?"bottom":"top"),y:t.y,x:t.x},this.textAlign=t.textAlign||(s?r?"right":"left":"center")}return n.prototype.destroy=function(){destroyObjectProperties$4(this,this.axis)},n.prototype.render=function(i){var t=this.axis.chart,r=this.options,o=r.format,a={},s=o?format$a(o,this,t):r.formatter.call(this);this.label?this.label.attr({text:s,visibility:"hidden"}):(this.label=t.renderer.label(s,null,null,r.shape,null,null,r.useHTML,!1,"stack-labels"),a={r:r.borderRadius||0,text:s,rotation:r.rotation,padding:pick$1d(r.padding,5),visibility:"hidden"},t.styledMode||(a.fill=r.backgroundColor,a.stroke=r.borderColor,a["stroke-width"]=r.borderWidth,this.label.css(r.style)),this.label.attr(a),this.label.added||this.label.add(i)),this.label.labelrank=t.plotSizeY},n.prototype.setOffset=function(i,t,r,o,a){var s=this,l=s.axis,c=l.chart,h=l.translate(l.stacking.usePercentage?100:o||s.total,0,0,0,1),u=l.translate(r||0),d=defined$F(h)&&Math.abs(h-u),f=pick$1d(a,c.xAxis[0].translate(s.x))+i,p=defined$F(h)&&s.getStackBox(c,s,f,h,t,d,l),m=s.label,g=s.isNegative,v=pick$1d(s.options.overflow,"justify")==="justify",_=s.textAlign,y;if(m&&p){var b=m.getBBox(),x=m.padding,E=void 0,C=void 0;_==="left"?E=c.inverted?-x:x:_==="right"?E=b.width:c.inverted&&_==="center"?E=b.width/2:E=c.inverted?g?b.width+x:-x:b.width/2,C=c.inverted?b.height/2:g?-x:b.height,s.alignOptions.x=pick$1d(s.options.x,0),s.alignOptions.y=pick$1d(s.options.y,0),p.x-=E,p.y-=C,m.align(s.alignOptions,null,p),c.isInsidePlot(m.alignAttr.x+E-s.alignOptions.x,m.alignAttr.y+C-s.alignOptions.y)?m.show():(m.alignAttr.y=-9999,v=!1),v&&Series$e.prototype.justifyDataLabel.call(this.axis,m,s.alignOptions,m.alignAttr,b,p),m.attr({x:m.alignAttr.x,y:m.alignAttr.y}),pick$1d(!v&&s.options.crop,!0)&&(y=isNumber$y(m.x)&&isNumber$y(m.y)&&c.isInsidePlot(m.x-x+m.width,m.y)&&c.isInsidePlot(m.x+x,m.y),y||m.hide())}},n.prototype.getStackBox=function(i,t,r,o,a,s,l){var c=t.axis.reversed,h=i.inverted,u=l.height+l.pos-(h?i.plotLeft:i.plotTop),d=t.isNegative&&!c||!t.isNegative&&c;return{x:h?d?o-l.right:o-s+l.pos-i.plotLeft:r+i.xAxis[0].transB-i.plotLeft,y:h?l.height-r-a:d?u-o-s:u-o,width:h?s:a,height:h?a:s}},n}();Chart$1.prototype.getStacks=function(){var n=this,i=n.inverted;n.yAxis.forEach(function(t){t.stacking&&t.stacking.stacks&&t.hasVisibleSeries&&(t.stacking.oldStacks=t.stacking.stacks)}),n.series.forEach(function(t){var r=t.xAxis&&t.xAxis.options||{};t.options.stacking&&(t.visible===!0||n.options.chart.ignoreHiddenSeries===!1)&&(t.stackKey=[t.type,pick$1d(t.options.stack,""),i?r.top:r.left,i?r.height:r.width].join(","))})};StackingAxis$1.compose(Axis);Series$e.prototype.setGroupedPoints=function(){var n=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&this.chart.series.length>1?Series$e.prototype.setStackedPoints.call(this,"group"):n&&objectEach$k(n.stacks,function(i,t){t.slice(-5)==="group"&&(objectEach$k(i,function(r){return r.destroy()}),delete n.stacks[t])})};Series$e.prototype.setStackedPoints=function(n){var i=n||this.options.stacking;if(!(!i||this.visible!==!0&&this.chart.options.chart.ignoreHiddenSeries!==!1)){var t=this,r=t.processedXData,o=t.processedYData,a=[],s=o.length,l=t.options,c=l.threshold,h=pick$1d(l.startFromThreshold&&c,0),u=l.stack,d=n?t.type+","+i:t.stackKey,f="-"+d,p=t.negStacks,m=t.yAxis,g=m.stacking.stacks,v=m.stacking.oldStacks,_,y,b,x,E,C,$,S,P;for(m.stacking.stacksTouched+=1,$=0;$<s;$++)S=r[$],P=o[$],_=t.getStackIndicator(_,S,t.index),C=_.key,y=p&&P<(h?0:c),E=y?f:d,g[E]||(g[E]={}),g[E][S]||(v[E]&&v[E][S]?(g[E][S]=v[E][S],g[E][S].total=null):g[E][S]=new StackItem(m,m.options.stackLabels,y,S,u)),b=g[E][S],P!==null?(b.points[C]=b.points[t.index]=[pick$1d(b.cumulative,h)],defined$F(b.cumulative)||(b.base=C),b.touched=m.stacking.stacksTouched,_.index>0&&t.singleStacks===!1&&(b.points[C][0]=b.points[t.index+","+S+",0"][0])):b.points[C]=b.points[t.index]=null,i==="percent"?(x=y?d:f,p&&g[x]&&g[x][S]?(x=g[x][S],b.total=x.total=Math.max(x.total,b.total)+Math.abs(P)||0):b.total=correctFloat$9(b.total+(Math.abs(P)||0))):i==="group"?(isArray$e(P)&&(P=P[0]),P!==null&&(b.total=(b.total||0)+1)):b.total=correctFloat$9(b.total+(P||0)),i==="group"?b.cumulative=(b.total||1)-1:b.cumulative=pick$1d(b.cumulative,h)+(P||0),P!==null&&(b.points[C].push(b.cumulative),a[$]=b.cumulative,b.hasValidPoints=!0);i==="percent"&&(m.stacking.usePercentage=!0),i!=="group"&&(this.stackedYData=a),m.stacking.oldStacks={}}};Series$e.prototype.modifyStacks=function(){var n=this,i=n.yAxis,t=n.stackKey,r=i.stacking.stacks,o=n.processedXData,a,s=n.options.stacking;n[s+"Stacker"]&&[t,"-"+t].forEach(function(l){for(var c=o.length,h,u,d;c--;)h=o[c],a=n.getStackIndicator(a,h,n.index,l),u=r[l]&&r[l][h],d=u&&u.points[a.key],d&&n[s+"Stacker"](d,u,c)})};Series$e.prototype.percentStacker=function(n,i,t){var r=i.total?100/i.total:0;n[0]=correctFloat$9(n[0]*r),n[1]=correctFloat$9(n[1]*r),this.stackedYData[t]=n[1]};Series$e.prototype.getStackIndicator=function(n,i,t,r){return!defined$F(n)||n.x!==i||r&&n.key!==r?n={x:i,index:0,key:r}:n.index++,n.key=[t,i,n.index].join(","),n};H.StackItem=StackItem;const StackItem$1=H.StackItem;var __extends$2a=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),defined$E=Utilities.defined,merge$16=Utilities.merge,LineSeries$5=function(n){__extends$2a(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return i.prototype.drawGraph=function(){var t=this,r=this.options,o=(this.gappedPath||this.getGraphPath).call(this),a=this.chart.styledMode,s=[["graph","highcharts-graph"]];a||s[0].push(r.lineColor||this.color||palette.neutralColor20,r.dashStyle),s=t.getZonesGraphs(s),s.forEach(function(l,c){var h=l[0],u,d=t[h],f=d?"animate":"attr";d?(d.endX=t.preventGraphAnimation?null:o.xMap,d.animate({d:o})):o.length&&(t[h]=d=t.chart.renderer.path(o).addClass(l[1]).attr({zIndex:1}).add(t.group)),d&&!a&&(u={stroke:l[2],"stroke-width":r.lineWidth,fill:t.fillGraph&&t.color||"none"},l[3]?u.dashstyle=l[3]:r.linecap!=="square"&&(u["stroke-linecap"]=u["stroke-linejoin"]="round"),d[f](u).shadow(c<2&&r.shadow)),d&&(d.startX=o.xMap,d.isArea=o.isArea)})},i.prototype.getGraphPath=function(t,r,o){var a=this,s=a.options,l=[],c=[],h,u=s.step;t=t||a.points;var d=t.reversed;return d&&t.reverse(),u={right:1,center:2}[u]||u&&3,u&&d&&(u=4-u),t=this.getValidPoints(t,!1,!(s.connectNulls&&!r&&!o)),t.forEach(function(f,p){var m=f.plotX,g=f.plotY,v=t[p-1],_;(f.leftCliff||v&&v.rightCliff)&&!o&&(h=!0),f.isNull&&!defined$E(r)&&p>0?h=!s.connectNulls:f.isNull&&!r?h=!0:(p===0||h?_=[["M",f.plotX,f.plotY]]:a.getPointSpline?_=[a.getPointSpline(t,f,p)]:u?(u===1?_=[["L",v.plotX,g]]:u===2?_=[["L",(v.plotX+m)/2,v.plotY],["L",(v.plotX+m)/2,g]]:_=[["L",m,v.plotY]],_.push(["L",m,g])):_=[["L",m,g]],c.push(f.x),u&&(c.push(f.x),u===2&&c.push(f.x)),l.push.apply(l,_),h=!1)}),l.xMap=c,a.graphPath=l,l},i.prototype.getZonesGraphs=function(t){return this.zones.forEach(function(r,o){var a=["zone-graph-"+o,"highcharts-graph highcharts-zone-graph-"+o+" "+(r.className||"")];this.chart.styledMode||a.push(r.color||this.color,r.dashStyle||this.options.dashStyle),t.push(a)},this),t},i.defaultOptions=merge$16(Series$e.defaultOptions,{}),i}(Series$e);SeriesRegistry$1.registerSeriesType("line",LineSeries$5);var __extends$29=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),color$d=Color.parse,LineSeries$4=SeriesRegistry$1.seriesTypes.line,extend$1f=Utilities.extend,merge$15=Utilities.merge,objectEach$j=Utilities.objectEach,pick$1c=Utilities.pick,AreaSeries$1=function(n){__extends$29(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return i.prototype.drawGraph=function(){this.areaPath=[],n.prototype.drawGraph.apply(this);var t=this,r=this.areaPath,o=this.options,a=this.zones,s=[["area","highcharts-area",this.color,o.fillColor]];a.forEach(function(l,c){s.push(["zone-area-"+c,"highcharts-area highcharts-zone-area-"+c+" "+l.className,l.color||t.color,l.fillColor||o.fillColor])}),s.forEach(function(l){var c=l[0],h=t[c],u=h?"animate":"attr",d={};h?(h.endX=t.preventGraphAnimation?null:r.xMap,h.animate({d:r})):(d.zIndex=0,h=t[c]=t.chart.renderer.path(r).addClass(l[1]).add(t.group),h.isArea=!0),t.chart.styledMode||(d.fill=pick$1c(l[3],color$d(l[2]).setOpacity(pick$1c(o.fillOpacity,.75)).get())),h[u](d),h.startX=r.xMap,h.shiftUnit=o.step?2:1})},i.prototype.getGraphPath=function(t){var r=LineSeries$4.prototype.getGraphPath,o,a=this.options,s=a.stacking,l=this.yAxis,c,h,u=[],d=[],f=this.index,p,m,g,v=l.stacking.stacks[this.stackKey],_=a.threshold,y=Math.round(l.getThreshold(a.threshold)),b,x,E=pick$1c(a.connectNulls,s==="percent"),C=function(S,P,T){var k=t[S],L=s&&v[k.x].points[f],N=k[T+"Null"]||0,z=k[T+"Cliff"]||0,B,U,D=!0;z||N?(B=(N?L[0]:L[1])+z,U=L[0]+z,D=!!N):!s&&t[P]&&t[P].isNull&&(B=U=_),typeof B<"u"&&(d.push({plotX:g,plotY:B===null?y:l.getThreshold(B),isNull:D,isCliff:!0}),u.push({plotX:g,plotY:U===null?y:l.getThreshold(U),doCurve:!1}))};for(t=t||this.points,s&&(t=this.getStackPoints(t)),p=0;p<t.length;p++)s||(t[p].leftCliff=t[p].rightCliff=t[p].leftNull=t[p].rightNull=void 0),b=t[p].isNull,g=pick$1c(t[p].rectPlotX,t[p].plotX),x=s?pick$1c(t[p].yBottom,y):y,(!b||E)&&(E||C(p,p-1,"left"),b&&!s&&E||(d.push(t[p]),u.push({x:p,plotX:g,plotY:x})),E||C(p,p+1,"right"));c=r.call(this,d,!0,!0),u.reversed=!0,h=r.call(this,u,!0,!0);var $=h[0];return $&&$[0]==="M"&&(h[0]=["L",$[1],$[2]]),m=c.concat(h),m.length&&m.push(["Z"]),o=r.call(this,d,!1,E),m.xMap=c.xMap,this.areaPath=m,o},i.prototype.getStackPoints=function(t){var r=this,o=[],a=[],s=this.xAxis,l=this.yAxis,c=l.stacking.stacks[this.stackKey],h={},u=l.series,d=u.length,f=l.options.reversedStacks?1:-1,p=u.indexOf(r);if(t=t||this.points,this.options.stacking){for(var m=0;m<t.length;m++)t[m].leftNull=t[m].rightNull=void 0,h[t[m].x]=t[m];objectEach$j(c,function(v,_){v.total!==null&&a.push(_)}),a.sort(function(v,_){return v-_});var g=u.map(function(v){return v.visible});a.forEach(function(v,_){var y=0,b,x;if(h[v]&&!h[v].isNull)o.push(h[v]),[-1,1].forEach(function($){var S=$===1?"rightNull":"leftNull",P=$===1?"rightCliff":"leftCliff",T=0,k=c[a[_+$]];if(k)for(var L=p;L>=0&&L<d;){var N=u[L].index;b=k.points[N],b||(N===r.index?h[v][S]=!0:g[L]&&(x=c[v].points[N],x&&(T-=x[1]-x[0]))),L+=f}h[v][P]=T});else{for(var E=p;E>=0&&E<d;){var C=u[E].index;if(b=c[v].points[C],b){y=b[1];break}E+=f}y=pick$1c(y,0),y=l.translate(y,0,1,0,1),o.push({isNull:!0,plotX:s.translate(v,0,0,0,1),x:v,plotY:y,yBottom:y})}})}return o},i.defaultOptions=merge$15(LineSeries$4.defaultOptions,{threshold:0}),i}(LineSeries$4);extend$1f(AreaSeries$1.prototype,{singleStacks:!1,drawLegendSymbol:LegendSymbol$1.drawRectangle});SeriesRegistry$1.registerSeriesType("area",AreaSeries$1);var __extends$28=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),LineSeries$3=SeriesRegistry$1.seriesTypes.line,merge$14=Utilities.merge,pick$1b=Utilities.pick,SplineSeries$1=function(n){__extends$28(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return i.prototype.getPointSpline=function(t,r,o){var a=1.5,s=a+1,l=r.plotX||0,c=r.plotY||0,h=t[o-1],u=t[o+1],d,f,p,m,g;function v(C){return C&&!C.isNull&&C.doCurve!==!1&&!r.isCliff}if(v(h)&&v(u)){var _=h.plotX||0,y=h.plotY||0,b=u.plotX||0,x=u.plotY||0,E=0;d=(a*l+_)/s,f=(a*c+y)/s,p=(a*l+b)/s,m=(a*c+x)/s,p!==d&&(E=(m-f)*(p-l)/(p-d)+c-m),f+=E,m+=E,f>y&&f>c?(f=Math.max(y,c),m=2*c-f):f<y&&f<c&&(f=Math.min(y,c),m=2*c-f),m>x&&m>c?(m=Math.max(x,c),f=2*c-m):m<x&&m<c&&(m=Math.min(x,c),f=2*c-m),r.rightContX=p,r.rightContY=m}return g=["C",pick$1b(h.rightContX,h.plotX,0),pick$1b(h.rightContY,h.plotY,0),pick$1b(d,l,0),pick$1b(f,c,0),l,c],h.rightContX=h.rightContY=void 0,g},i.defaultOptions=merge$14(LineSeries$3.defaultOptions),i}(LineSeries$3);SeriesRegistry$1.registerSeriesType("spline",SplineSeries$1);var __extends$27=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),areaProto$1=AreaSeries$1.prototype,extend$1e=Utilities.extend,merge$13=Utilities.merge,AreaSplineSeries=function(n){__extends$27(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.data=void 0,t.points=void 0,t.options=void 0,t}return i.defaultOptions=merge$13(SplineSeries$1.defaultOptions,AreaSeries$1.defaultOptions),i}(SplineSeries$1);extend$1e(AreaSplineSeries.prototype,{getGraphPath:areaProto$1.getGraphPath,getStackPoints:areaProto$1.getStackPoints,drawGraph:areaProto$1.drawGraph,drawLegendSymbol:LegendSymbol$1.drawRectangle});SeriesRegistry$1.registerSeriesType("areaspline",AreaSplineSeries);var __extends$26=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),animObject$5=animationExports.animObject,color$c=Color.parse,hasTouch$1=H.hasTouch,noop$h=H.noop,clamp$e=Utilities.clamp,css$4=Utilities.css,defined$D=Utilities.defined,extend$1d=Utilities.extend,fireEvent$p=Utilities.fireEvent,isArray$d=Utilities.isArray,isNumber$x=Utilities.isNumber,merge$12=Utilities.merge,pick$1a=Utilities.pick,objectEach$i=Utilities.objectEach,ColumnSeries$h=function(n){__extends$26(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.borderWidth=void 0,t.data=void 0,t.group=void 0,t.options=void 0,t.points=void 0,t}return i.prototype.animate=function(t){var r=this,o=this.yAxis,a=r.options,s=this.chart.inverted,l={},c=s?"translateX":"translateY",h,u;t?(l.scaleY=.001,u=clamp$e(o.toPixels(a.threshold),o.pos,o.pos+o.len),s?l.translateX=u-o.len:l.translateY=u,r.clipBox&&r.setClip(),r.group.attr(l)):(h=Number(r.group.attr(c)),r.group.animate({scaleY:1},extend$1d(animObject$5(r.options.animation),{step:function(d,f){r.group&&(l[c]=h+f.pos*(o.pos-h),r.group.attr(l))}})))},i.prototype.init=function(t,r){n.prototype.init.apply(this,arguments);var o=this;t=o.chart,t.hasRendered&&t.series.forEach(function(a){a.type===o.type&&(a.isDirty=!0)})},i.prototype.getColumnMetrics=function(){var t=this,r=t.options,o=t.xAxis,a=t.yAxis,s=o.options.reversedStacks,l=o.reversed&&!s||!o.reversed&&s,c={},h,u=0;r.grouping===!1?u=1:t.chart.series.forEach(function(b){var x=b.yAxis,E=b.options,C;b.type===t.type&&(b.visible||!t.chart.options.chart.ignoreHiddenSeries)&&a.len===x.len&&a.pos===x.pos&&(E.stacking&&E.stacking!=="group"?(h=b.stackKey,typeof c[h]>"u"&&(c[h]=u++),C=c[h]):E.grouping!==!1&&(C=u++),b.columnIndex=C)});var d=Math.min(Math.abs(o.transA)*(o.ordinal&&o.ordinal.slope||r.pointRange||o.closestPointRange||o.tickInterval||1),o.len),f=d*r.groupPadding,p=d-2*f,m=p/(u||1),g=Math.min(r.maxPointWidth||o.len,pick$1a(r.pointWidth,m*(1-2*r.pointPadding))),v=(m-g)/2,_=(t.columnIndex||0)+(l?1:0),y=v+(f+_*m-d/2)*(l?-1:1);return t.columnMetrics={width:g,offset:y,paddedWidth:m,columnCount:u},t.columnMetrics},i.prototype.crispCol=function(t,r,o,a){var s=this.chart,l=this.borderWidth,c=-(l%2?.5:0),h,u=l%2?.5:1;s.inverted&&s.renderer.isVML&&(u+=1),this.options.crisp&&(h=Math.round(t+o)+c,t=Math.round(t)+c,o=h-t);var d=Math.round(r+a)+u,f=Math.abs(r)<=.5&&d>.5;return r=Math.round(r)+u,a=d-r,f&&a&&(r-=1,a+=1),{x:t,y:r,width:o,height:a}},i.prototype.adjustForMissingColumns=function(t,r,o,a){var s=this,l=this.options.stacking;if(!o.isNull&&a.columnCount>1){var c=0,h=0;objectEach$i(this.yAxis.stacking&&this.yAxis.stacking.stacks,function(d){if(typeof o.x=="number"){var f=d[o.x.toString()];if(f){var p=f.points[s.index],m=f.total;l?(p&&(c=h),f.hasValidPoints&&h++):isArray$d(p)&&(c=p[1],h=m||0)}}});var u=(h-1)*a.paddedWidth+r;t=(o.plotX||0)+u/2-r-c*a.paddedWidth}return t},i.prototype.translate=function(){var t=this,r=t.chart,o=t.options,a=t.dense=t.closestPointRange*t.xAxis.transA<2,s=t.borderWidth=pick$1a(o.borderWidth,a?0:1),l=t.xAxis,c=t.yAxis,h=o.threshold,u=t.translatedThreshold=c.getThreshold(h),d=pick$1a(o.minPointLength,5),f=t.getColumnMetrics(),p=f.width,m=t.pointXOffset=f.offset,g=t.dataMin,v=t.dataMax,_=t.barW=Math.max(p,1+2*s);r.inverted&&(u-=.5),o.pointPadding&&(_=Math.ceil(_)),Series$e.prototype.translate.apply(t),t.points.forEach(function(y){var b=pick$1a(y.yBottom,u),x=999+Math.abs(b),E=y.plotX||0,C=clamp$e(y.plotY,-x,c.len+x),$,S=Math.min(C,b),P=Math.max(C,b)-S,T=p,k=E+m,L=_;d&&Math.abs(P)<d&&(P=d,$=!c.reversed&&!y.negative||c.reversed&&y.negative,isNumber$x(h)&&isNumber$x(v)&&y.y===h&&v<=h&&(c.min||0)<h&&(g!==v||(c.max||0)<=h)&&($=!$),S=Math.abs(S-u)>d?b-d:u-($?d:0)),defined$D(y.options.pointWidth)&&(T=L=Math.ceil(y.options.pointWidth),k-=Math.round((T-p)/2)),o.centerInCategory&&(k=t.adjustForMissingColumns(k,T,y,f)),y.barX=k,y.pointWidth=T,y.tooltipPos=r.inverted?[clamp$e(c.len+c.pos-r.plotLeft-C,c.pos-r.plotLeft,c.len+c.pos-r.plotLeft),l.len+l.pos-r.plotTop-k-L/2,P]:[l.left-r.plotLeft+k+L/2,clamp$e(C+c.pos-r.plotTop,c.pos-r.plotTop,c.len+c.pos-r.plotTop),P],y.shapeType=t.pointClass.prototype.shapeType||"rect",y.shapeArgs=t.crispCol.apply(t,y.isNull?[k,u,L,0]:[k,S,L,P])})},i.prototype.drawGraph=function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},i.prototype.pointAttribs=function(t,r){var o=this.options,a=this.pointAttrToOptions||{},s=a.stroke||"borderColor",l=a["stroke-width"]||"borderWidth",c,h,u,d=t&&t.color||this.color,f=t&&t[s]||o[s]||d,p=t&&t.options.dashStyle||o.dashStyle,m=t&&t[l]||o[l]||this[l]||0,g=pick$1a(t&&t.opacity,o.opacity,1);t&&this.zones.length&&(h=t.getZone(),d=t.options.color||h&&(h.color||t.nonZonedColor)||this.color,h&&(f=h.borderColor||f,p=h.dashStyle||p,m=h.borderWidth||m)),r&&t&&(c=merge$12(o.states[r],t.options.states&&t.options.states[r]||{}),u=c.brightness,d=c.color||typeof u<"u"&&color$c(d).brighten(c.brightness).get()||d,f=c[s]||f,m=c[l]||m,p=c.dashStyle||p,g=pick$1a(c.opacity,g));var v={fill:d,stroke:f,"stroke-width":m,opacity:g};return p&&(v.dashstyle=p),v},i.prototype.drawPoints=function(){var t=this,r=this.chart,o=t.options,a=r.renderer,s=o.animationLimit||250,l;t.points.forEach(function(c){var h=c.plotY,u=c.graphic,d=!!u,f=u&&r.pointCount<s?"animate":"attr";isNumber$x(h)&&c.y!==null?(l=c.shapeArgs,u&&c.hasNewShapeType()&&(u=u.destroy()),t.enabledDataSorting&&(c.startXPos=t.xAxis.reversed?-(l&&l.width||0):t.xAxis.width),u||(c.graphic=u=a[c.shapeType](l).add(c.group||t.group),u&&t.enabledDataSorting&&r.hasRendered&&r.pointCount<s&&(u.attr({x:c.startXPos}),d=!0,f="animate")),u&&d&&u[f](merge$12(l)),o.borderRadius&&u[f]({r:o.borderRadius}),r.styledMode||u[f](t.pointAttribs(c,c.selected&&"select")).shadow(c.allowShadow!==!1&&o.shadow,null,o.stacking&&!o.borderRadius),u&&(u.addClass(c.getClassName(),!0),u.attr({visibility:c.visible?"inherit":"hidden"}))):u&&(c.graphic=u.destroy())})},i.prototype.drawTracker=function(){var t=this,r=t.chart,o=r.pointer,a=function(l){var c=o.getPointFromEvent(l);typeof c<"u"&&(o.isDirectTouch=!0,c.onMouseOver(l))},s;t.points.forEach(function(l){s=isArray$d(l.dataLabels)?l.dataLabels:l.dataLabel?[l.dataLabel]:[],l.graphic&&(l.graphic.element.point=l),s.forEach(function(c){c.div?c.div.point=l:c.element.point=l})}),t._hasTracking||(t.trackerGroups.forEach(function(l){t[l]&&(t[l].addClass("highcharts-tracker").on("mouseover",a).on("mouseout",function(c){o.onTrackerMouseOut(c)}),hasTouch$1&&t[l].on("touchstart",a),!r.styledMode&&t.options.cursor&&t[l].css(css$4).css({cursor:t.options.cursor}))}),t._hasTracking=!0),fireEvent$p(this,"afterDrawTracker")},i.prototype.remove=function(){var t=this,r=t.chart;r.hasRendered&&r.series.forEach(function(o){o.type===t.type&&(o.isDirty=!0)}),Series$e.prototype.remove.apply(t,arguments)},i.defaultOptions=merge$12(Series$e.defaultOptions,{borderRadius:0,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:palette.neutralColor20,borderColor:palette.neutralColor100}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:palette.backgroundColor}),i}(Series$e);extend$1d(ColumnSeries$h.prototype,{cropShoulder:0,directTouch:!0,drawLegendSymbol:LegendSymbol$1.drawRectangle,getSymbol:noop$h,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]});SeriesRegistry$1.registerSeriesType("column",ColumnSeries$h);var getDeferredAnimation$1=animationExports.getDeferredAnimation,format$9=FormatUtilities.format,defined$C=Utilities.defined,extend$1c=Utilities.extend,fireEvent$o=Utilities.fireEvent,isArray$c=Utilities.isArray,merge$11=Utilities.merge,objectEach$h=Utilities.objectEach,pick$19=Utilities.pick,splat$b=Utilities.splat,DataLabel;(function(n){var i=[];function t(h,u,d,f,p){var m=this,g=this.chart,v=this.isCartesian&&g.inverted,_=this.enabledDataSorting,y=pick$19(h.dlBox&&h.dlBox.centerX,h.plotX,-9999),b=pick$19(h.plotY,-9999),x=u.getBBox(),E=d.rotation,C=d.align,$=g.isInsidePlot(y,Math.round(b),{inverted:v,paneCoordinates:!0,series:m}),S=function(U){_&&m.xAxis&&!z&&m.setDataLabelStartPos(h,u,p,$,U)},P,T,k,L,N,z=pick$19(d.overflow,_?"none":"justify")==="justify",B=this.visible&&h.visible!==!1&&(h.series.forceDL||_&&!z||$||pick$19(d.inside,!!this.options.stacking)&&f&&g.isInsidePlot(y,v?f.x+1:f.y+f.height-1,{inverted:v,paneCoordinates:!0,series:m}));B&&(P=g.renderer.fontMetrics(g.styledMode?void 0:d.style.fontSize,u).b,f=extend$1c({x:v?this.yAxis.len-b:y,y:Math.round(v?this.xAxis.len-y:b),width:0,height:0},f),extend$1c(d,{width:x.width,height:x.height}),E?(z=!1,L=g.renderer.rotCorr(P,E),N={x:f.x+(d.x||0)+f.width/2+L.x,y:f.y+(d.y||0)+{top:0,middle:.5,bottom:1}[d.verticalAlign]*f.height},S(N),u[p?"attr":"animate"](N).attr({align:C}),T=(E+720)%360,k=T>180&&T<360,C==="left"?N.y-=k?x.height:0:C==="center"?(N.x-=x.width/2,N.y-=x.height/2):C==="right"&&(N.x-=x.width,N.y-=k?0:x.height),u.placed=!0,u.alignAttr=N):(S(f),u.align(d,void 0,f),N=u.alignAttr),z&&f.height>=0?this.justifyDataLabel(u,d,N,x,f,p):pick$19(d.crop,!0)&&(B=g.isInsidePlot(N.x,N.y,{paneCoordinates:!0,series:m})&&g.isInsidePlot(N.x+x.width,N.y+x.height,{paneCoordinates:!0,series:m})),d.shape&&!E&&u[p?"attr":"animate"]({anchorX:v?g.plotWidth-h.plotY:h.plotX,anchorY:v?g.plotHeight-h.plotX:h.plotY})),p&&_&&(u.placed=!1),!B&&(!_||z)&&(u.hide(!0),u.placed=!1)}function r(h,u){var d=u.filter;if(d){var f=d.operator,p=h[d.property],m=d.value;return f===">"&&p>m||f==="<"&&p<m||f===">="&&p>=m||f==="<="&&p<=m||f==="=="&&p==m||f==="==="&&p===m}return!0}function o(h){if(i.indexOf(h)===-1){var u=h.prototype;i.push(h),u.alignDataLabel=t,u.drawDataLabels=a,u.justifyDataLabel=s,u.setDataLabelStartPos=c}}n.compose=o;function a(){var h=this,u=h.chart,d=h.options,f=h.points,p=h.hasRendered||0,m=u.renderer,g=d.dataLabels,v,_,y=g.animation,b=g.defer?getDeferredAnimation$1(u,y,h):{defer:0,duration:0};if(g=l(l(u.options.plotOptions&&u.options.plotOptions.series&&u.options.plotOptions.series.dataLabels,u.options.plotOptions&&u.options.plotOptions[h.type]&&u.options.plotOptions[h.type].dataLabels),g),fireEvent$o(this,"drawDataLabels"),isArray$c(g)||g.enabled||h._hasPointLabels){if(_=h.plotGroup("dataLabelsGroup","data-labels",p?"inherit":"hidden",g.zIndex||6),_.attr({opacity:+p}),!p){var x=h.dataLabelsGroup;x&&(h.visible&&_.show(!0),x[d.animation?"animate":"attr"]({opacity:1},b))}f.forEach(function(E){v=splat$b(l(g,E.dlOptions||E.options&&E.options.dataLabels)),v.forEach(function(C,$){var S=C.enabled&&(!E.isNull||E.dataLabelOnNull)&&r(E,C),P=E.connectors?E.connectors[$]:E.connector,T,k,L,N,z,B,U=E.dataLabels?E.dataLabels[$]:E.dataLabel,D=pick$19(C.distance,E.labelDistance),M=!U;S&&(T=E.getLabelConfig(),k=pick$19(C[E.formatPrefix+"Format"],C.format),L=defined$C(k)?format$9(k,T,u):(C[E.formatPrefix+"Formatter"]||C.formatter).call(T,C),N=C.style,z=C.rotation,u.styledMode||(N.color=pick$19(C.color,N.color,h.color,palette.neutralColor100),N.color==="contrast"?(E.contrastColor=m.getContrast(E.color||h.color),N.color=!defined$C(D)&&C.inside||D<0||d.stacking?E.contrastColor:palette.neutralColor100):delete E.contrastColor,d.cursor&&(N.cursor=d.cursor)),B={r:C.borderRadius||0,rotation:z,padding:C.padding,zIndex:1},u.styledMode||(B.fill=C.backgroundColor,B.stroke=C.borderColor,B["stroke-width"]=C.borderWidth),objectEach$h(B,function(F,j){typeof F>"u"&&delete B[j]})),U&&(!S||!defined$C(L))?(E.dataLabel=E.dataLabel&&E.dataLabel.destroy(),E.dataLabels&&(E.dataLabels.length===1?delete E.dataLabels:delete E.dataLabels[$]),$||delete E.dataLabel,P&&(E.connector=E.connector.destroy(),E.connectors&&(E.connectors.length===1?delete E.connectors:delete E.connectors[$]))):S&&defined$C(L)&&(U?B.text=L:(E.dataLabels=E.dataLabels||[],U=E.dataLabels[$]=z?m.text(L,0,-9999,C.useHTML).addClass("highcharts-data-label"):m.label(L,0,-9999,C.shape,null,null,C.useHTML,null,"data-label"),$||(E.dataLabel=U),U.addClass(" highcharts-data-label-color-"+E.colorIndex+" "+(C.className||"")+(C.useHTML?" highcharts-tracker":""))),U.options=C,U.attr(B),u.styledMode||U.css(N).shadow(C.shadow),U.added||U.add(_),C.textPath&&!C.useHTML&&(U.setTextPath(E.getDataLabelPath&&E.getDataLabelPath(U)||E.graphic,C.textPath),E.dataLabelPath&&!C.textPath.enabled&&(E.dataLabelPath=E.dataLabelPath.destroy())),h.alignDataLabel(E,U,C,null,M))})})}fireEvent$o(this,"afterDrawDataLabels")}function s(h,u,d,f,p,m){var g=this.chart,v=u.align,_=u.verticalAlign,y=h.box?0:h.padding||0,b=u.x,x=b===void 0?0:b,E=u.y,C=E===void 0?0:E,$,S;return $=(d.x||0)+y,$<0&&(v==="right"&&x>=0?(u.align="left",u.inside=!0):x-=$,S=!0),$=(d.x||0)+f.width-y,$>g.plotWidth&&(v==="left"&&x<=0?(u.align="right",u.inside=!0):x+=g.plotWidth-$,S=!0),$=d.y+y,$<0&&(_==="bottom"&&C>=0?(u.verticalAlign="top",u.inside=!0):C-=$,S=!0),$=(d.y||0)+f.height-y,$>g.plotHeight&&(_==="top"&&C<=0?(u.verticalAlign="bottom",u.inside=!0):C+=g.plotHeight-$,S=!0),S&&(u.x=x,u.y=C,h.placed=!m,h.align(u,void 0,p)),S}function l(h,u){var d=[],f;if(isArray$c(h)&&!isArray$c(u))d=h.map(function(p){return merge$11(p,u)});else if(isArray$c(u)&&!isArray$c(h))d=u.map(function(p){return merge$11(h,p)});else if(!isArray$c(h)&&!isArray$c(u))d=merge$11(h,u);else for(f=Math.max(h.length,u.length);f--;)d[f]=merge$11(h[f],u[f]);return d}function c(h,u,d,f,p){var m=this.chart,g=m.inverted,v=this.xAxis,_=v.reversed,y=g?u.height/2:u.width/2,b=h.pointWidth,x=b?b/2:0;u.startXPos=g?p.x:_?-y-x:v.width-y+x,u.startYPos=g?_?this.yAxis.height-y+x:-y-x:p.y,f?u.visibility==="hidden"&&(u.show(),u.attr({opacity:0}).animate({opacity:1})):u.attr({opacity:1}).animate({opacity:0},void 0,u.hide),m.hasRendered&&(d&&u.attr({x:u.startXPos,y:u.startYPos}),u.placed=!0)}})(DataLabel||(DataLabel={}));const DataLabel$1=DataLabel;var Series$d=SeriesRegistry$1.series,merge$10=Utilities.merge,pick$18=Utilities.pick,ColumnDataLabel$1;(function(n){var i=[];function t(o,a,s,l,c){var h=this.chart.inverted,u=o.series,d=o.dlBox||o.shapeArgs,f=pick$18(o.below,o.plotY>pick$18(this.translatedThreshold,u.yAxis.len)),p=pick$18(s.inside,!!this.options.stacking),m;d&&(l=merge$10(d),l.y<0&&(l.height+=l.y,l.y=0),m=l.y+l.height-u.yAxis.len,m>0&&m<l.height&&(l.height-=m),h&&(l={x:u.yAxis.len-l.y-l.height,y:u.xAxis.len-l.x-l.width,width:l.height,height:l.width}),p||(h?(l.x+=f?0:l.width,l.width=0):(l.y+=f?l.height:0,l.height=0))),s.align=pick$18(s.align,!h||p?"center":f?"right":"left"),s.verticalAlign=pick$18(s.verticalAlign,h||p?"middle":f?"top":"bottom"),Series$d.prototype.alignDataLabel.call(this,o,a,s,l,c),s.inside&&o.contrastColor&&a.css({color:o.contrastColor})}function r(o){DataLabel$1.compose(Series$d),i.indexOf(o)===-1&&(i.push(o),o.prototype.alignDataLabel=t)}n.compose=r})(ColumnDataLabel$1||(ColumnDataLabel$1={}));const ColumnDataLabel$2=ColumnDataLabel$1;var __extends$25=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),extend$1b=Utilities.extend,merge$$=Utilities.merge,BarSeries=function(n){__extends$25(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return i.defaultOptions=merge$$(ColumnSeries$h.defaultOptions,{}),i}(ColumnSeries$h);extend$1b(BarSeries.prototype,{inverted:!0});SeriesRegistry$1.registerSeriesType("bar",BarSeries);var __extends$24=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),addEvent$P=Utilities.addEvent,extend$1a=Utilities.extend,merge$_=Utilities.merge,ScatterSeries$4=function(n){__extends$24(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return i.prototype.applyJitter=function(){var t=this,r=this.options.jitter,o=this.points.length;function a(s){var l=Math.sin(s)*1e4;return l-Math.floor(l)}r&&this.points.forEach(function(s,l){["x","y"].forEach(function(c,h){var u,d="plot"+c.toUpperCase(),f,p,m;r[c]&&!s.isNull&&(u=t[c+"Axis"],m=r[c]*u.transA,u&&!u.isLog&&(f=Math.max(0,s[d]-m),p=Math.min(u.len,s[d]+m),s[d]=f+(p-f)*a(l+h*o),c==="x"&&(s.clientX=s.plotX)))})})},i.prototype.drawGraph=function(){this.options.lineWidth?n.prototype.drawGraph.call(this):this.graph&&(this.graph=this.graph.destroy())},i.defaultOptions=merge$_(LineSeries$5.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),i}(LineSeries$5);extend$1a(ScatterSeries$4.prototype,{drawTracker:ColumnSeries$h.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1});addEvent$P(ScatterSeries$4,"afterTranslate",function(){this.applyJitter()});SeriesRegistry$1.registerSeriesType("scatter",ScatterSeries$4);var isNumber$w=Utilities.isNumber,pick$17=Utilities.pick,relativeLength$6=Utilities.relativeLength,deg2rad$4=H.deg2rad,centeredSeriesMixin=H.CenteredSeriesMixin={getCenter:function(){var n=this.options,i=this.chart,t=2*(n.slicedOffset||0),r,o=i.plotWidth-2*t,a=i.plotHeight-2*t,s=n.center,l=Math.min(o,a),c=n.size,h=n.innerSize||0,u,d,f;for(typeof c=="string"&&(c=parseFloat(c)),typeof h=="string"&&(h=parseFloat(h)),u=[pick$17(s[0],"50%"),pick$17(s[1],"50%"),pick$17(c&&c<0?void 0:n.size,"100%"),pick$17(h&&h<0?void 0:n.innerSize||0,"0%")],i.angular&&!(this instanceof Series$e)&&(u[3]=0),d=0;d<4;++d)f=u[d],r=d<2||d===2&&/%$/.test(f),u[d]=relativeLength$6(f,[o,a,l,u[2]][d])+(r?t:0);return u[3]>u[2]&&(u[3]=u[2]),u},getStartAndEndRadians:function(n,i){var t=isNumber$w(n)?n:0,r=isNumber$w(i)&&i>t&&i-t<360?i:t+360,o=-90;return{start:deg2rad$4*(t+o),end:deg2rad$4*(r+o)}}},__extends$23=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),setAnimation$1=animationExports.setAnimation,addEvent$O=Utilities.addEvent,defined$B=Utilities.defined,extend$19=Utilities.extend,isNumber$v=Utilities.isNumber,pick$16=Utilities.pick,relativeLength$5=Utilities.relativeLength,PiePoint$3=function(n){__extends$23(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.labelDistance=void 0,t.options=void 0,t.series=void 0,t}return i.prototype.getConnectorPath=function(){var t=this.labelPosition,r=this.series.options.dataLabels,o=this.connectorShapes,a=r.connectorShape;return o[a]&&(a=o[a]),a.call(this,{x:t.final.x,y:t.final.y,alignment:t.alignment},t.connectorPosition,r)},i.prototype.getTranslate=function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},i.prototype.haloPath=function(t){var r=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(r.x,r.y,r.r+t,r.r+t,{innerR:r.r-1,start:r.start,end:r.end})},i.prototype.init=function(){var t=this;n.prototype.init.apply(this,arguments),this.name=pick$16(this.name,"Slice");var r=function(o){t.slice(o.type==="select")};return addEvent$O(this,"select",r),addEvent$O(this,"unselect",r),this},i.prototype.isValid=function(){return isNumber$v(this.y)&&this.y>=0},i.prototype.setVisible=function(t,r){var o=this,a=this.series,s=a.chart,l=a.options.ignoreHiddenPoint;r=pick$16(r,l),t!==this.visible&&(this.visible=this.options.visible=t=typeof t>"u"?!this.visible:t,a.options.data[a.data.indexOf(this)]=this.options,["graphic","dataLabel","connector","shadowGroup"].forEach(function(c){o[c]&&o[c][t?"show":"hide"](t)}),this.legendItem&&s.legend.colorizeItem(this,t),!t&&this.state==="hover"&&this.setState(""),l&&(a.isDirty=!0),r&&s.redraw())},i.prototype.slice=function(t,r,o){var a=this.series,s=a.chart;setAnimation$1(o,s),r=pick$16(r,!0),this.sliced=this.options.sliced=t=defined$B(t)?t:!this.sliced,a.options.data[a.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},i}(Point$5);extend$19(PiePoint$3.prototype,{connectorShapes:{fixedOffset:function(n,i,t){var r=i.breakAt,o=i.touchingSliceAt,a=t.softConnector?["C",n.x+(n.alignment==="left"?-5:5),n.y,2*r.x-o.x,2*r.y-o.y,r.x,r.y]:["L",r.x,r.y];return[["M",n.x,n.y],a,["L",o.x,o.y]]},straight:function(n,i){var t=i.touchingSliceAt;return[["M",n.x,n.y],["L",t.x,t.y]]},crookedLine:function(n,i,t){var r=i.touchingSliceAt,o=this.series,a=o.center[0],s=o.chart.plotWidth,l=o.chart.plotLeft,c=n.alignment,h=this.shapeArgs.r,u=relativeLength$5(t.crookDistance,1),d=c==="left"?a+h+(s+l-a-h)*(1-u):l+(a-h)*u,f=["L",d,n.y],p=!0;(c==="left"?d>n.x||d<r.x:d<n.x||d>r.x)&&(p=!1);var m=[["M",n.x,n.y]];return p&&m.push(f),m.push(["L",r.x,r.y]),m}}});var __extends$22=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),getStartAndEndRadians=centeredSeriesMixin.getStartAndEndRadians,noop$g=H.noop,clamp$d=Utilities.clamp,extend$18=Utilities.extend,fireEvent$n=Utilities.fireEvent,merge$Z=Utilities.merge,pick$15=Utilities.pick,relativeLength$4=Utilities.relativeLength,PieSeries$3=function(n){__extends$22(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.center=void 0,t.data=void 0,t.maxLabelDistance=void 0,t.options=void 0,t.points=void 0,t}return i.prototype.animate=function(t){var r=this,o=r.points,a=r.startAngleRad;t||o.forEach(function(s){var l=s.graphic,c=s.shapeArgs;l&&c&&(l.attr({r:pick$15(s.startR,r.center&&r.center[3]/2),start:a,end:a}),l.animate({r:c.r,start:c.start,end:c.end},r.options.animation))})},i.prototype.drawEmpty=function(){var t=this.startAngleRad,r=this.endAngleRad,o=this.options,a,s;this.total===0&&this.center?(a=this.center[0],s=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(a,s,this.center[1]/2,0,t,r).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:Symbols.arc(a,s,this.center[2]/2,0,{start:t,end:r,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":o.borderWidth,fill:o.fillColor||"none",stroke:o.color||palette.neutralColor20})):this.graph&&(this.graph=this.graph.destroy())},i.prototype.drawPoints=function(){var t=this.chart.renderer;this.points.forEach(function(r){r.graphic&&r.hasNewShapeType()&&(r.graphic=r.graphic.destroy()),r.graphic||(r.graphic=t[r.shapeType](r.shapeArgs).add(r.series.group),r.delayedRendering=!0)})},i.prototype.generatePoints=function(){n.prototype.generatePoints.call(this),this.updateTotals()},i.prototype.getX=function(t,r,o){var a=this.center,s=this.radii?this.radii[o.index]||0:a[2]/2,l=Math.asin(clamp$d((t-a[1])/(s+o.labelDistance),-1,1)),c=a[0]+(r?-1:1)*(Math.cos(l)*(s+o.labelDistance))+(o.labelDistance>0?(r?-1:1)*this.options.dataLabels.padding:0);return c},i.prototype.hasData=function(){return!!this.processedXData.length},i.prototype.redrawPoints=function(){var t=this,r=t.chart,o=r.renderer,a=t.options.shadow,s,l,c,h;this.drawEmpty(),a&&!t.shadowGroup&&!r.styledMode&&(t.shadowGroup=o.g("shadow").attr({zIndex:-1}).add(t.group)),t.points.forEach(function(u){var d={};if(l=u.graphic,!u.isNull&&l){var f=void 0;h=u.shapeArgs,s=u.getTranslate(),r.styledMode||(f=u.shadowGroup,a&&!f&&(f=u.shadowGroup=o.g("shadow").add(t.shadowGroup)),f&&f.attr(s),c=t.pointAttribs(u,u.selected&&"select")),u.delayedRendering?(l.setRadialReference(t.center).attr(h).attr(s),r.styledMode||l.attr(c).attr({"stroke-linejoin":"round"}).shadow(a,f),u.delayedRendering=!1):(l.setRadialReference(t.center),r.styledMode||merge$Z(!0,d,c),merge$Z(!0,d,h,s),l.animate(d)),l.attr({visibility:u.visible?"inherit":"hidden"}),l.addClass(u.getClassName(),!0)}else l&&(u.graphic=l.destroy())})},i.prototype.sortByAngle=function(t,r){t.sort(function(o,a){return typeof o.angle<"u"&&(a.angle-o.angle)*r})},i.prototype.translate=function(t){this.generatePoints();var r=this,o=1e3,a=r.options,s=a.slicedOffset,l=s+(a.borderWidth||0),c=getStartAndEndRadians(a.startAngle,a.endAngle),h=r.startAngleRad=c.start,u=r.endAngleRad=c.end,d=u-h,f=r.points,p=a.dataLabels.distance,m=a.ignoreHiddenPoint,g=f.length,v,_,y,b,x,E,C,$,S=0;for(t||(r.center=t=r.getCenter()),C=0;C<g;C++){$=f[C],_=h+S*d,$.isValid()&&(!m||$.visible)&&(S+=$.percentage/100),y=h+S*d;var P={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(_*o)/o,end:Math.round(y*o)/o};$.shapeType="arc",$.shapeArgs=P,$.labelDistance=pick$15($.options.dataLabels&&$.options.dataLabels.distance,p),$.labelDistance=relativeLength$4($.labelDistance,P.r),r.maxLabelDistance=Math.max(r.maxLabelDistance||0,$.labelDistance),b=(y+_)/2,b>1.5*Math.PI?b-=2*Math.PI:b<-Math.PI/2&&(b+=2*Math.PI),$.slicedTranslation={translateX:Math.round(Math.cos(b)*s),translateY:Math.round(Math.sin(b)*s)},x=Math.cos(b)*t[2]/2,E=Math.sin(b)*t[2]/2,$.tooltipPos=[t[0]+x*.7,t[1]+E*.7],$.half=b<-Math.PI/2||b>Math.PI/2?1:0,$.angle=b,v=Math.min(l,$.labelDistance/5),$.labelPosition={natural:{x:t[0]+x+Math.cos(b)*$.labelDistance,y:t[1]+E+Math.sin(b)*$.labelDistance},final:{},alignment:$.labelDistance<0?"center":$.half?"right":"left",connectorPosition:{breakAt:{x:t[0]+x+Math.cos(b)*v,y:t[1]+E+Math.sin(b)*v},touchingSliceAt:{x:t[0]+x,y:t[1]+E}}}}fireEvent$n(r,"afterTranslate")},i.prototype.updateTotals=function(){var t=this.points,r=t.length,o=this.options.ignoreHiddenPoint,a,s,l=0;for(a=0;a<r;a++)s=t[a],s.isValid()&&(!o||s.visible)&&(l+=s.y);for(this.total=l,a=0;a<r;a++)s=t[a],s.percentage=l>0&&(s.visible||!o)?s.y/l*100:0,s.total=l},i.defaultOptions=merge$Z(Series$e.defaultOptions,{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"fixedOffset",crookDistance:"70%",distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:palette.backgroundColor,borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),i}(Series$e);extend$18(PieSeries$3.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawLegendSymbol:LegendSymbol$1.drawRectangle,drawTracker:ColumnSeries$h.prototype.drawTracker,getCenter:centeredSeriesMixin.getCenter,getSymbol:noop$g,isCartesian:!1,noSharedTooltip:!0,pointAttribs:ColumnSeries$h.prototype.pointAttribs,pointClass:PiePoint$3,requireSorting:!1,searchPoint:noop$g,trackerGroups:["group","dataLabelsGroup"]});SeriesRegistry$1.registerSeriesType("pie",PieSeries$3);var noop$f=H.noop,distribute$1=R.distribute,Series$c=SeriesRegistry$1.series,arrayMax$6=Utilities.arrayMax,clamp$c=Utilities.clamp,defined$A=Utilities.defined,merge$Y=Utilities.merge,pick$14=Utilities.pick,relativeLength$3=Utilities.relativeLength,ColumnDataLabel;(function(n){var i=[],t={radialDistributionY:function(l){return l.top+l.distributeBox.pos},radialDistributionX:function(l,c,h,u){return l.getX(h<c.top+2||h>c.bottom-2?u:h,c.half,c)},justify:function(l,c,h){return h[0]+(l.half?-1:1)*(c+l.labelDistance)},alignToPlotEdges:function(l,c,h,u){var d=l.getBBox().width;return c?d+u:h-d-u},alignToConnectors:function(l,c,h,u){var d=0,f;return l.forEach(function(p){f=p.dataLabel.getBBox().width,f>d&&(d=f)}),c?d+u:h-d-u}};function r(l){if(DataLabel$1.compose(Series$c),i.indexOf(l)===-1){i.push(l);var c=l.prototype;c.dataLabelPositioners=t,c.alignDataLabel=noop$f,c.drawDataLabels=o,c.placeDataLabels=a,c.verifyDataLabelOverflow=s}}n.compose=r;function o(){var l=this,c=l.data,h=l.chart,u=l.options.dataLabels||{},d=u.connectorPadding,f=h.plotWidth,p=h.plotHeight,m=h.plotLeft,g=Math.round(h.chartWidth/3),v=l.center,_=v[2]/2,y=v[1],b=[[],[]],x=[0,0,0,0],E=l.dataLabelPositioners,C,$,S,P,T,k,L,N,z,B,U,D;!l.visible||!u.enabled&&!l._hasPointLabels||(c.forEach(function(M){M.dataLabel&&M.visible&&M.dataLabel.shortened&&(M.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),M.dataLabel.shortened=!1)}),Series$c.prototype.drawDataLabels.apply(l),c.forEach(function(M){M.dataLabel&&(M.visible?(b[M.half].push(M),M.dataLabel._pos=null,!defined$A(u.style.width)&&!defined$A(M.options.dataLabels&&M.options.dataLabels.style&&M.options.dataLabels.style.width)&&M.dataLabel.getBBox().width>g&&(M.dataLabel.css({width:Math.round(g*.7)+"px"}),M.dataLabel.shortened=!0)):(M.dataLabel=M.dataLabel.destroy(),M.dataLabels&&M.dataLabels.length===1&&delete M.dataLabels))}),b.forEach(function(M,F){var j=M.length,Y=[],W,q,X,K,Q,rt;if(j)for(l.sortByAngle(M,F-.5),l.maxLabelDistance>0&&(W=Math.max(0,y-_-l.maxLabelDistance),q=Math.min(y+_+l.maxLabelDistance,h.plotHeight),M.forEach(function(J){J.labelDistance>0&&J.dataLabel&&(J.top=Math.max(0,y-_-J.labelDistance),J.bottom=Math.min(y+_+J.labelDistance,h.plotHeight),Q=J.dataLabel.getBBox().height||21,J.distributeBox={target:J.labelPosition.natural.y-J.top+Q/2,size:Q,rank:J.y},Y.push(J.distributeBox))}),rt=q+Q-W,distribute$1(Y,rt,rt/5)),U=0;U<j;U++){if(C=M[U],k=C.labelPosition,P=C.dataLabel,B=C.visible===!1?"hidden":"inherit",X=k.natural.y,z=X,Y&&defined$A(C.distributeBox)&&(typeof C.distributeBox.pos>"u"?B="hidden":(L=C.distributeBox.size,z=E.radialDistributionY(C))),delete C.positionIndex,u.justify)N=E.justify(C,_,v);else switch(u.alignTo){case"connectors":N=E.alignToConnectors(M,F,f,m);break;case"plotEdges":N=E.alignToPlotEdges(P,F,f,m);break;default:N=E.radialDistributionX(l,C,z,X)}P._attr={visibility:B,align:k.alignment},D=C.options.dataLabels||{},P._pos={x:N+pick$14(D.x,u.x)+({left:d,right:-d}[k.alignment]||0),y:z+pick$14(D.y,u.y)-10},k.final.x=N,k.final.y=z,pick$14(u.crop,!0)&&(T=P.getBBox().width,K=null,N-T<d&&F===1?(K=Math.round(T-N+d),x[3]=Math.max(K,x[3])):N+T>f-d&&F===0&&(K=Math.round(N+T-f+d),x[1]=Math.max(K,x[1])),z-L/2<0?x[0]=Math.max(Math.round(-z+L/2),x[0]):z+L/2>p&&(x[2]=Math.max(Math.round(z+L/2-p),x[2])),P.sideOverflow=K)}}),(arrayMax$6(x)===0||this.verifyDataLabelOverflow(x))&&(this.placeDataLabels(),this.points.forEach(function(M){if(D=merge$Y(u,M.options.dataLabels),$=pick$14(D.connectorWidth,1),$){var F=void 0;S=M.connector,P=M.dataLabel,P&&P._pos&&M.visible&&M.labelDistance>0?(B=P._attr.visibility,F=!S,F&&(M.connector=S=h.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+M.colorIndex+(M.className?" "+M.className:"")).add(l.dataLabelsGroup),h.styledMode||S.attr({"stroke-width":$,stroke:D.connectorColor||M.color||palette.neutralColor60})),S[F?"attr":"animate"]({d:M.getConnectorPath()}),S.attr("visibility",B)):S&&(M.connector=S.destroy())}})))}function a(){this.points.forEach(function(l){var c=l.dataLabel,h;c&&l.visible&&(h=c._pos,h?(c.sideOverflow&&(c._attr.width=Math.max(c.getBBox().width-c.sideOverflow,0),c.css({width:c._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),c.shortened=!0),c.attr(c._attr),c[c.moved?"animate":"attr"](h),c.moved=!0):c&&c.attr({y:-9999})),delete l.distributeBox},this)}function s(l){var c=this.center,h=this.options,u=h.center,d=h.minSize||80,f=d,p=h.size!==null;return p||(u[0]!==null?f=Math.max(c[2]-Math.max(l[1],l[3]),d):(f=Math.max(c[2]-l[1]-l[3],d),c[0]+=(l[3]-l[1])/2),u[1]!==null?f=clamp$c(f,d,c[2]-Math.max(l[0],l[2])):(f=clamp$c(f,d,c[2]-l[0]-l[2]),c[1]+=(l[0]-l[2])/2),f<c[2]?(c[2]=f,c[3]=Math.min(relativeLength$3(h.innerSize||0,f),f),this.translate(c),this.drawDataLabels&&this.drawDataLabels()):p=!0),p}})(ColumnDataLabel||(ColumnDataLabel={}));const PieDataLabel=ColumnDataLabel;var addEvent$N=Utilities.addEvent,fireEvent$m=Utilities.fireEvent,isArray$b=Utilities.isArray,isNumber$u=Utilities.isNumber,objectEach$g=Utilities.objectEach,pick$13=Utilities.pick;addEvent$N(Chart$1,"render",function(){var i=this,t=[];(this.labelCollectors||[]).forEach(function(r){t=t.concat(r())}),(this.yAxis||[]).forEach(function(r){r.stacking&&r.options.stackLabels&&!r.options.stackLabels.allowOverlap&&objectEach$g(r.stacking.stacks,function(o){objectEach$g(o,function(a){a.label&&a.label.visibility!=="hidden"&&t.push(a.label)})})}),(this.series||[]).forEach(function(r){var o=r.options.dataLabels;if(r.visible&&!(o.enabled===!1&&!r._hasPointLabels)){var a=function(s){return s.forEach(function(l){if(l.visible){var c=isArray$b(l.dataLabels)?l.dataLabels:l.dataLabel?[l.dataLabel]:[];c.forEach(function(h){var u=h.options;h.labelrank=pick$13(u.labelrank,l.labelrank,l.shapeArgs&&l.shapeArgs.height),u.allowOverlap?(h.oldOpacity=h.opacity,h.newOpacity=1,hideOrShow(h,i)):t.push(h)})}})};a(r.nodes||[]),a(r.points)}}),this.hideOverlappingLabels(t)});Chart$1.prototype.hideOverlappingLabels=function(n){var i=this,t=n.length,r=i.renderer,o,a,s,l,c,h,u,d=!1,f=function(m,g){return!(g.x>=m.x+m.width||g.x+g.width<=m.x||g.y>=m.y+m.height||g.y+g.height<=m.y)},p=function(m){var g,v,_,y=m.box?0:m.padding||0,b=0,x=0,E,C;if(m&&(!m.alignAttr||m.placed))return g=m.alignAttr||{x:m.attr("x"),y:m.attr("y")},v=m.parentGroup,m.width||(_=m.getBBox(),m.width=_.width,m.height=_.height,b=r.fontMetrics(null,m.element).h),E=m.width-2*y,C={left:"0",center:"0.5",right:"1"}[m.alignValue],C?x=+C*E:isNumber$u(m.x)&&Math.round(m.x)!==m.translateX&&(x=m.x-m.translateX),{x:g.x+(v.translateX||0)+y-(x||0),y:g.y+(v.translateY||0)+y-b,width:m.width-2*y,height:m.height-2*y}};for(a=0;a<t;a++)o=n[a],o&&(o.oldOpacity=o.opacity,o.newOpacity=1,o.absoluteBox=p(o));for(n.sort(function(m,g){return(g.labelrank||0)-(m.labelrank||0)}),a=0;a<t;a++)for(l=n[a],h=l&&l.absoluteBox,s=a+1;s<t;++s)c=n[s],u=c&&c.absoluteBox,h&&u&&l!==c&&l.newOpacity!==0&&c.newOpacity!==0&&f(h,u)&&((l.labelrank<c.labelrank?l:c).newOpacity=0);n.forEach(function(m){hideOrShow(m,i)&&(d=!0)}),d&&fireEvent$m(i,"afterHideAllOverlappingLabels")};function hideOrShow(n,i){var t,r,o=!1;return n&&(r=n.newOpacity,n.oldOpacity!==r&&(n.alignAttr&&n.placed?(n[r?"removeClass":"addClass"]("highcharts-data-label-hidden"),t=function(){i.styledMode||n.css({pointerEvents:r?"auto":"none"})},o=!0,n.alignAttr.opacity=r,n[n.isOld?"animate":"attr"](n.alignAttr,null,t),fireEvent$m(i,"afterHideOverlappingLabel")):n.attr({opacity:r})),n.isOld=!0),o}var extend$17=Utilities.extend,find$e=Utilities.find,isArray$a=Utilities.isArray,isObject$8=Utilities.isObject,merge$X=Utilities.merge,objectEach$f=Utilities.objectEach,pick$12=Utilities.pick,splat$a=Utilities.splat,uniqueKey$3=Utilities.uniqueKey,Responsive;(function(n){var i=[];function t(o){return i.indexOf(o)===-1&&(i.push(o),extend$17(o.prototype,r.prototype)),o}n.compose=t;var r=function(){function o(){}return o.prototype.currentOptions=function(a){var s=this,l={};function c(h,u,d,f){var p;objectEach$f(h,function(m,g){if(!f&&s.collectionsWithUpdate.indexOf(g)>-1&&u[g])for(m=splat$a(m),d[g]=[],p=0;p<Math.max(m.length,u[g].length);p++)u[g][p]&&(m[p]===void 0?d[g][p]=u[g][p]:(d[g][p]={},c(m[p],u[g][p],d[g][p],f+1)));else isObject$8(m)?(d[g]=isArray$a(m)?[]:{},c(m,u[g]||{},d[g],f+1)):typeof u[g]>"u"?d[g]=null:d[g]=u[g]})}return c(a,this.options,l,0),l},o.prototype.matchResponsiveRule=function(a,s){var l=a.condition,c=l.callback||function(){return this.chartWidth<=pick$12(l.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=pick$12(l.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=pick$12(l.minWidth,0)&&this.chartHeight>=pick$12(l.minHeight,0)};c.call(this)&&s.push(a._id)},o.prototype.setResponsive=function(a,s){var l=this,c=this.options.responsive,h=this.currentResponsive,u=[],d;!s&&c&&c.rules&&c.rules.forEach(function(m){typeof m._id>"u"&&(m._id=uniqueKey$3()),l.matchResponsiveRule(m,u)},this);var f=merge$X.apply(void 0,u.map(function(m){return find$e((c||{}).rules||[],function(g){return g._id===m})}).map(function(m){return m&&m.chartOptions}));f.isResponsiveOptions=!0,u=u.toString()||void 0;var p=h&&h.ruleIds;u!==p&&(h&&this.update(h.undoOptions,a,!0),u?(d=this.currentOptions(f),d.isResponsiveOptions=!0,this.currentResponsive={ruleIds:u,mergedOptions:f,undoOptions:d},this.update(f,a,!0)):this.currentResponsive=void 0)},o}()})(Responsive||(Responsive={}));const Responsive$1=Responsive;/**
 * @license Highcharts JS v9.2.2 (2021-08-24)
 * @module highcharts/highcharts
 *
 * (c) 2009-2021 Torstein Honsi
 *
 * License: www.highcharts.com/license
 */var G$7=H;G$7.animate=animationExports.animate;G$7.animObject=animationExports.animObject;G$7.getDeferredAnimation=animationExports.getDeferredAnimation;G$7.setAnimation=animationExports.setAnimation;G$7.stop=animationExports.stop;G$7.timers=Fx.timers;G$7.AST=AST;G$7.Axis=Axis;G$7.Chart=Chart$1;G$7.chart=Chart$1.chart;G$7.Fx=Fx;G$7.Legend=Legend;G$7.PlotLineOrBand=PlotLineOrBand;G$7.Point=Point$5;G$7.Pointer=MSPointer.isRequired()?MSPointer:Pointer;G$7.Series=Series$e;G$7.SVGElement=SVGElement;G$7.SVGRenderer=SVGRenderer;G$7.Tick=Tick;G$7.Time=Time;G$7.Tooltip=Tooltip;G$7.Color=Color;G$7.color=Color.parse;HTMLRenderer.compose(SVGRenderer);HTMLElement$1.compose(SVGElement);G$7.defaultOptions=DefaultOptions.defaultOptions;G$7.getOptions=DefaultOptions.getOptions;G$7.time=DefaultOptions.defaultTime;G$7.setOptions=DefaultOptions.setOptions;G$7.dateFormat=FormatUtilities.dateFormat;G$7.format=FormatUtilities.format;G$7.numberFormat=FormatUtilities.numberFormat;G$7.addEvent=Utilities.addEvent;G$7.arrayMax=Utilities.arrayMax;G$7.arrayMin=Utilities.arrayMin;G$7.attr=Utilities.attr;G$7.clearTimeout=Utilities.clearTimeout;G$7.correctFloat=Utilities.correctFloat;G$7.createElement=Utilities.createElement;G$7.css=Utilities.css;G$7.defined=Utilities.defined;G$7.destroyObjectProperties=Utilities.destroyObjectProperties;G$7.discardElement=Utilities.discardElement;G$7.distribute=R.distribute;G$7.erase=Utilities.erase;G$7.error=Utilities.error;G$7.extend=Utilities.extend;G$7.extendClass=Utilities.extendClass;G$7.find=Utilities.find;G$7.fireEvent=Utilities.fireEvent;G$7.getMagnitude=Utilities.getMagnitude;G$7.getStyle=Utilities.getStyle;G$7.inArray=Utilities.inArray;G$7.isArray=Utilities.isArray;G$7.isClass=Utilities.isClass;G$7.isDOMElement=Utilities.isDOMElement;G$7.isFunction=Utilities.isFunction;G$7.isNumber=Utilities.isNumber;G$7.isObject=Utilities.isObject;G$7.isString=Utilities.isString;G$7.keys=Utilities.keys;G$7.merge=Utilities.merge;G$7.normalizeTickInterval=Utilities.normalizeTickInterval;G$7.objectEach=Utilities.objectEach;G$7.offset=Utilities.offset;G$7.pad=Utilities.pad;G$7.pick=Utilities.pick;G$7.pInt=Utilities.pInt;G$7.relativeLength=Utilities.relativeLength;G$7.removeEvent=Utilities.removeEvent;G$7.seriesType=SeriesRegistry$1.seriesType;G$7.splat=Utilities.splat;G$7.stableSort=Utilities.stableSort;G$7.syncTimeout=Utilities.syncTimeout;G$7.timeUnits=Utilities.timeUnits;G$7.uniqueKey=Utilities.uniqueKey;G$7.useSerialIds=Utilities.useSerialIds;G$7.wrap=Utilities.wrap;ColumnDataLabel$2.compose(ColumnSeries$h);DataLabel$1.compose(Series$e);DateTimeAxis$1.compose(Axis);LogarithmicAxis$1.compose(Axis);PieDataLabel.compose(PieSeries$3);PlotLineOrBand.compose(Axis);Responsive$1.compose(Chart$1);var addEvent$M=Utilities.addEvent,correctFloat$8=Utilities.correctFloat,css$3=Utilities.css,defined$z=Utilities.defined,error$3=Utilities.error,pick$11=Utilities.pick,timeUnits=Utilities.timeUnits,composedClasses=[],OrdinalAxis;(function(n){function i(m,g,v){if(composedClasses.indexOf(m)===-1){composedClasses.push(m);var _=m.prototype;_.getTimeTicks=t,_.index2val=r,_.lin2val=o,_.val2lin=f,_.ordinal2lin=_.val2lin,addEvent$M(m,"afterInit",s),addEvent$M(m,"foundExtremes",l),addEvent$M(m,"afterSetScale",c),addEvent$M(m,"initialAxisTranslation",h)}return composedClasses.indexOf(v)===-1&&(composedClasses.push(v),addEvent$M(v,"pan",u)),composedClasses.indexOf(g)===-1&&(composedClasses.push(g),addEvent$M(g,"updatedData",d)),m}n.compose=i;function t(m,g,v,_,y,b,x){y===void 0&&(y=[]),b===void 0&&(b=0);var E={},C=this.options.tickPixelInterval,$=this.chart.time,S=[],P,T,k,L,N,z=0,B=[],U=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!y||y.length<3||typeof g>"u")return $.getTimeTicks.apply($,arguments);var D=y.length;for(P=0;P<D;P++){if(N=P&&y[P-1]>v,y[P]<g&&(z=P),P===D-1||y[P+1]-y[P]>b*5||N){if(y[P]>U){for(T=$.getTimeTicks(m,y[z],y[P],_);T.length&&T[0]<=U;)T.shift();T.length&&(U=T[T.length-1]),S.push(B.length),B=B.concat(T)}z=P+1}if(N)break}if(T){if(L=T.info,x&&L.unitRange<=timeUnits.hour){for(P=B.length-1,z=1;z<P;z++)$.dateFormat("%d",B[z])!==$.dateFormat("%d",B[z-1])&&(E[B[z]]="day",k=!0);k&&(E[B[0]]="day"),L.higherRanks=E}L.segmentStarts=S,B.info=L}else error$3(12,!1,this.chart);if(x&&defined$z(C)){for(var M=B.length,F=[],j=[],Y=void 0,W=void 0,q=void 0,X=void 0,K=void 0,Q=M;Q--;)W=this.translate(B[Q]),q&&(j[Q]=q-W),F[Q]=q=W;for(j.sort(),X=j[Math.floor(j.length/2)],X<C*.6&&(X=null),Q=B[M-1]>v?M-1:M,q=void 0;Q--;)W=F[Q],K=Math.abs(q-W),q&&K<C*.8&&(X===null||K<X*.8)?(E[B[Q]]&&!E[B[Q+1]]?(Y=Q+1,q=W):Y=Q,B.splice(Y,1)):q=W}return B}function r(m){var g=this,v=g.ordinal,_=v.positions;if(!_)return m;var y=_.length-1,b;return m<0?m=_[0]:m>y?m=_[y]:(y=Math.floor(m),b=m-y),typeof b<"u"&&typeof _[y]<"u"?_[y]+(b?b*(_[y+1]-_[y]):0):m}function o(m){var g=this,v=g.ordinal,_=g.old?g.old.min:g.min,y=g.old?g.old.transA:g.transA,b=v.positions;if(!b)return m;var x=(m-_)*y+g.minPixelPadding,E=x>0&&x<g.left+g.len;if(E||(v.extendedOrdinalPositions||(v.extendedOrdinalPositions=v.getExtendedPositions()),b=v.extendedOrdinalPositions),b&&b.length){var C=v.getIndexOfPoint(x,b),$=correctFloat$8(C%1);if(C>=0&&C<b.length){var S=b[Math.floor(C)],P=b[Math.ceil(C)],T=P-S;return b[Math.floor(C)]+$*T}var k=b.length,L=b[0],N=b[k-1],z=(N-L)/(k-1);return C<0?L+z*C:N+z*(C-k)}return m}function a(m,g){var v=n.Additions.findIndexOf(m,g,!0);if(m[v]===g)return v;var _=(g-m[v])/(m[v+1]-m[v]);return v+_}function s(){var m=this;m.ordinal||(m.ordinal=new n.Additions(m))}function l(){var m=this;m.isXAxis&&defined$z(m.options.overscroll)&&m.max===m.dataMax&&(!m.chart.mouseIsDown||m.isInternal)&&(!m.eventArgs||m.eventArgs&&m.eventArgs.trigger!=="navigator")&&(m.max+=m.options.overscroll,!m.isInternal&&defined$z(m.userMin)&&(m.min+=m.options.overscroll))}function c(){var m=this;m.horiz&&!m.isDirty&&(m.isDirty=m.isOrdinal&&m.chart.navigator&&!m.chart.navigator.adaptToUpdatedData)}function h(){var m=this;m.ordinal&&(m.ordinal.beforeSetTickPositions(),m.tickInterval=m.ordinal.postProcessTickInterval(m.tickInterval))}function u(m){var g=this,v=g.xAxis[0],_=v.options.overscroll,y=m.originalEvent.chartX,b=g.options.chart.panning,x=!1;if(b&&b.type!=="y"&&v.options.ordinal&&v.series.length){var E=g.mouseDownX,C=v.getExtremes(),$=C.dataMax,S=C.min,P=C.max,T=g.hoverPoints,k=v.closestPointRange||v.ordinal&&v.ordinal.overscrollPointsRange,L=v.translationSlope*(v.ordinal.slope||k),N=(E-y)/L,z={ordinal:{positions:v.ordinal.getExtendedPositions()}},B=v.index2val,U=v.val2lin,D=void 0,M=void 0,F=void 0,j=void 0;z.ordinal.positions?Math.abs(N)>1&&(T&&T.forEach(function(Y){Y.setState()}),N<0?(F=z,j=v.ordinal.positions?v:z):(F=v.ordinal.positions?v:z,j=z),M=j.ordinal.positions,$>M[M.length-1]&&M.push($),g.fixedRange=P-S,D=v.navigatorAxis.toFixedRange(null,null,B.apply(F,[U.apply(F,[S,!0])+N]),B.apply(j,[U.apply(j,[P,!0])+N])),D.min>=Math.min(C.dataMin,S)&&D.max<=Math.max($,P)+_&&v.setExtremes(D.min,D.max,!0,!1,{trigger:"pan"}),g.mouseDownX=y,css$3(g.container,{cursor:"move"})):x=!0}else x=!0;x||b&&/y/.test(b.type)?_&&(v.max=v.dataMax+_):m.preventDefault()}function d(){var m=this.xAxis;m&&m.options.ordinal&&(delete m.ordinal.index,delete m.ordinal.extendedOrdinalPositions)}function f(m,g){var v=this,_=v.ordinal,y=_.positions,b=_.slope,x=_.extendedOrdinalPositions;if(!y)return m;var E=y.length,C;if(y[0]<=m&&y[E-1]>=m)C=a(y,m);else{if(x||(x=_.getExtendedPositions&&_.getExtendedPositions(),_.extendedOrdinalPositions=x),!(x&&x.length))return m;var $=x.length;b||(b=(x[$-1]-x[0])/$);var S=a(x,y[0]);if(m>=x[0]&&m<=x[$-1])C=a(x,m)-S;else if(m<x[0]){var P=x[0]-m,T=P/b;C=-S-T}else{var P=m-x[$-1],T=P/b;C=T+$-S}}return g?C:b*(C||0)+_.offset}var p=function(){function m(g){this.index={},this.axis=g}return m.prototype.beforeSetTickPositions=function(){var g=this.axis,v=g.ordinal,_=g.getExtremes(),y=_.min,b=_.max,x=g.isXAxis&&!!g.options.breaks,E=g.options.ordinal,C=g.chart.options.chart.ignoreHiddenSeries,$,S,P,T,k,L,N,z,B=[],U=Number.MAX_VALUE,D=!1;if(E||x){if(g.series.forEach(function(M,F){if(S=[],(!C||M.visible!==!1)&&(M.takeOrdinalPosition!==!1||x)&&(B=B.concat(M.processedXData),$=B.length,B.sort(function(j,Y){return j-Y}),U=Math.min(U,pick$11(M.closestPointRange,U)),$)){for(F=0;F<$-1;)B[F]!==B[F+1]&&S.push(B[F+1]),F++;S[0]!==B[0]&&S.unshift(B[0]),B=S}M.isSeriesBoosting&&(z=!0)}),z&&(B.length=0),$=B.length,$>2){for(P=B[1]-B[0],N=$-1;N--&&!D;)B[N+1]-B[N]!==P&&(D=!0);!g.options.keepOrdinalPadding&&(B[0]-y>P||b-B[B.length-1]>P)&&(D=!0)}else g.options.overscroll&&($===2?U=B[1]-B[0]:$===1?(U=g.options.overscroll,B=[B[0],B[0]+U]):U=v.overscrollPointsRange);D||g.forceOrdinal?(g.options.overscroll&&(v.overscrollPointsRange=U,B=B.concat(v.getOverscrollPositions())),v.positions=B,T=g.ordinal2lin(Math.max(y,B[0]),!0),k=Math.max(g.ordinal2lin(Math.min(b,B[B.length-1]),!0),1),v.slope=L=(b-y)/(k-T),v.offset=y-T*L):(v.overscrollPointsRange=pick$11(g.closestPointRange,v.overscrollPointsRange),v.positions=g.ordinal.slope=v.offset=void 0)}g.isOrdinal=E&&D,v.groupIntervalFactor=null},m.findIndexOf=function(g,v,_){for(var y=0,b=g.length-1,x;y<b;)x=Math.ceil((y+b)/2),g[x]<=v?y=x:b=x-1;return g[y]===v||_?y:-1},m.prototype.getExtendedPositions=function(){var g=this,v=g.axis,_=v.constructor.prototype,y=v.chart,b=v.series[0].currentDataGrouping,x=b?b.count+b.unitName:"raw",E=v.options.overscroll,C=v.getExtremes(),$,S=void 0,P=g.index;return P||(P=g.index={}),P[x]||($={series:[],chart:y,forceOrdinal:!1,getExtremes:function(){return{min:C.dataMin,max:C.dataMax+E}},getGroupPixelWidth:_.getGroupPixelWidth,getTimeTicks:_.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:_.ordinal2lin,getIndexOfPoint:_.getIndexOfPoint,val2lin:_.val2lin},$.ordinal.axis=$,v.series.forEach(function(T){S={xAxis:$,xData:T.xData.slice(),chart:y,destroyGroupedData:H.noop,getProcessedData:Series$e.prototype.getProcessedData,applyGrouping:Series$e.prototype.applyGrouping},S.xData=S.xData.concat(g.getOverscrollPositions()),S.options={dataGrouping:b?{firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",enabled:!0,forced:!0,approximation:"open",units:[[b.unitName,[b.count]]]}:{enabled:!1}},$.series.push(S),T.processData.apply(S)}),v.applyGrouping.call($),S.closestPointRange!==S.basePointRange&&S.currentDataGrouping&&($.forceOrdinal=!0),v.ordinal.beforeSetTickPositions.apply({axis:$}),P[x]=$.ordinal.positions),P[x]},m.prototype.getGroupIntervalFactor=function(g,v,_){var y=this;y.axis;var b=_.processedXData,x=b.length,E=[],C,$,S=y.groupIntervalFactor;if(!S){for($=0;$<x-1;$++)E[$]=b[$+1]-b[$];E.sort(function(P,T){return P-T}),C=E[Math.floor(x/2)],g=Math.max(g,b[0]),v=Math.min(v,b[x-1]),y.groupIntervalFactor=S=x*C/(v-g)}return S},m.prototype.getIndexOfPoint=function(g,v){var _=this,y=_.axis,b=_.positions?_.positions[0]:0,x=y.series[0].points&&y.series[0].points[0]&&y.series[0].points[0].plotX||y.minPixelPadding;y.series.length>1&&y.series.forEach(function($){defined$z($.points[0])&&defined$z($.points[0].plotX)&&$.points[0].plotX<x&&(x=$.points[0].plotX)});var E=y.translationSlope*(_.slope||y.closestPointRange||_.overscrollPointsRange),C=(g-x)/E;return m.findIndexOf(v,b)+C},m.prototype.getOverscrollPositions=function(){var g=this,v=g.axis,_=v.options.overscroll,y=g.overscrollPointsRange,b=[],x=v.dataMax;if(defined$z(y))for(;x<=v.dataMax+_;)x+=y,b.push(x);return b},m.prototype.postProcessTickInterval=function(g){var v=this,_=v.axis,y=v.slope,b;return y?_.options.breaks?b=_.closestPointRange||g:b=g/(y/_.closestPointRange):b=g,b},m}();n.Additions=p})(OrdinalAxis||(OrdinalAxis={}));const OrdinalAxis$1=OrdinalAxis;var addEvent$L=Utilities.addEvent,find$d=Utilities.find,fireEvent$l=Utilities.fireEvent,isArray$9=Utilities.isArray,isNumber$t=Utilities.isNumber,pick$10=Utilities.pick,BrokenAxis;(function(n){var i=[];function t(f,p){if(i.indexOf(f)===-1&&(i.push(f),f.keepProps.push("brokenAxis"),addEvent$L(f,"init",s),addEvent$L(f,"afterInit",r),addEvent$L(f,"afterSetTickPositions",a),addEvent$L(f,"afterSetOptions",o)),i.indexOf(p)===-1){i.push(p);var m=p.prototype;m.drawBreaks=h,m.gappedPath=u,addEvent$L(p,"afterGeneratePoints",l),addEvent$L(p,"afterRender",c)}return f}n.compose=t;function r(){typeof this.brokenAxis<"u"&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function o(){var f=this;f.brokenAxis&&f.brokenAxis.hasBreaks&&(f.options.ordinal=!1)}function a(){var f=this,p=f.brokenAxis;if(p&&p.hasBreaks){for(var m=f.tickPositions,g=f.tickPositions.info,v=[],_=0;_<m.length;_++)p.isInAnyBreak(m[_])||v.push(m[_]);f.tickPositions=v,f.tickPositions.info=g}}function s(){var f=this;f.brokenAxis||(f.brokenAxis=new d(f))}function l(){var f=this,p=f.isDirty,m=f.options.connectNulls,g=f.points,v=f.xAxis,_=f.yAxis;if(p)for(var y=g.length;y--;){var b=g[y],x=b.y===null&&m===!1,E=!x&&(v&&v.brokenAxis&&v.brokenAxis.isInAnyBreak(b.x,!0)||_&&_.brokenAxis&&_.brokenAxis.isInAnyBreak(b.y,!0));b.visible=E?!1:b.options.visible!==!1}}function c(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,pick$10(this.pointArrayMap,["y"]))}function h(f,p){var m=this,g=m.points,v,_,y,b;if(f&&f.brokenAxis&&f.brokenAxis.hasBreaks){var x=f.brokenAxis;p.forEach(function(E){v=x&&x.breakArray||[],_=f.isXAxis?f.min:pick$10(m.options.threshold,f.min),g.forEach(function(C){b=pick$10(C["stack"+E.toUpperCase()],C[E]),v.forEach(function($){isNumber$t(_)&&isNumber$t(b)&&(y=!1,_<$.from&&b>$.to||_>$.from&&b<$.from?y="pointBreak":(_<$.from&&b>$.from&&b<$.to||_>$.from&&b>$.to&&b<$.from)&&(y="pointInBreak"),y&&fireEvent$l(f,y,{point:C,brk:$}))})})})}}function u(){var f=this.currentDataGrouping,p=f&&f.gapSize,m=this.points.slice(),g=this.yAxis,v=this.options.gapSize,_=m.length-1,y;if(v&&_>0){this.options.gapUnit!=="value"&&(v*=this.basePointRange),p&&p>v&&p>=this.basePointRange&&(v=p);for(var b=void 0,x=void 0;_--;)if(x&&x.visible!==!1||(x=m[_+1]),b=m[_],!(x.visible===!1||b.visible===!1)){if(x.x-b.x>v){var E=(b.x+x.x)/2;m.splice(_+1,0,{isNull:!0,x:E}),g.stacking&&this.options.stacking&&(y=g.stacking.stacks[this.stackKey][E]=new StackItem$1(g,g.options.stackLabels,!1,E,this.stack),y.total=0)}x=b}}return this.getGraphPath(m)}var d=function(){function f(p){this.hasBreaks=!1,this.axis=p}return f.isInBreak=function(p,m){var g=p.repeat||1/0,v=p.from,_=p.to-p.from,y=m>=v?(m-v)%g:g-(v-m)%g,b;return p.inclusive?b=y<=_:b=y<_&&y!==0,b},f.lin2Val=function(p){var m=this,g=m.brokenAxis,v=g&&g.breakArray;if(!v||!isNumber$t(p))return p;var _=p,y,b;for(b=0;b<v.length&&(y=v[b],!(y.from>=_));b++)(y.to<_||f.isInBreak(y,_))&&(_+=y.len);return _},f.val2Lin=function(p){var m=this,g=m.brokenAxis,v=g&&g.breakArray;if(!v||!isNumber$t(p))return p;var _=p,y,b;for(b=0;b<v.length;b++)if(y=v[b],y.to<=p)_-=y.len;else{if(y.from>=p)break;if(f.isInBreak(y,p)){_-=p-y.from;break}}return _},f.prototype.findBreakAt=function(p,m){return find$d(m,function(g){return g.from<p&&p<g.to})},f.prototype.isInAnyBreak=function(p,m){var g=this,v=g.axis,_=v.options.breaks||[],y=_.length,b,x,E;if(y&&isNumber$t(p)){for(;y--;)f.isInBreak(_[y],p)&&(b=!0,x||(x=pick$10(_[y].showPoints,!v.isXAxis)));b&&m?E=b&&!x:E=b}return E},f.prototype.setBreaks=function(p,m){var g=this,v=g.axis,_=isArray$9(p)&&!!p.length;v.isDirty=g.hasBreaks!==_,g.hasBreaks=_,v.options.breaks=v.userOptions.breaks=p,v.forceRedraw=!0,v.series.forEach(function(y){y.isDirty=!0}),!_&&v.val2lin===f.val2Lin&&(delete v.val2lin,delete v.lin2val),_&&(v.userOptions.ordinal=!1,v.lin2val=f.lin2Val,v.val2lin=f.val2Lin,v.setExtremes=function(y,b,x,E,C){if(g.hasBreaks){for(var $=this.options.breaks||[],S=void 0;S=g.findBreakAt(y,$);)y=S.to;for(;S=g.findBreakAt(b,$);)b=S.from;b<y&&(b=y)}v.constructor.prototype.setExtremes.call(this,y,b,x,E,C)},v.setAxisTranslation=function(){if(v.constructor.prototype.setAxisTranslation.call(this),g.unitLength=void 0,g.hasBreaks){var y=v.options.breaks||[],b=[],x=[],E=pick$10(v.pointRangePadding,0),C=0,$,S,P=v.userMin||v.min,T=v.userMax||v.max,k,L;y.forEach(function(N){S=N.repeat||1/0,isNumber$t(P)&&isNumber$t(T)&&(f.isInBreak(N,P)&&(P+=N.to%S-P%S),f.isInBreak(N,T)&&(T-=T%S-N.from%S))}),y.forEach(function(N){if(k=N.from,S=N.repeat||1/0,isNumber$t(P)&&isNumber$t(T)){for(;k-S>P;)k-=S;for(;k<P;)k+=S;for(L=k;L<T;L+=S)b.push({value:L,move:"in"}),b.push({value:L+N.to-N.from,move:"out",size:N.breakSize})}}),b.sort(function(N,z){return N.value===z.value?(N.move==="in"?0:1)-(z.move==="in"?0:1):N.value-z.value}),$=0,k=P,b.forEach(function(N){$+=N.move==="in"?1:-1,$===1&&N.move==="in"&&(k=N.value),$===0&&isNumber$t(k)&&(x.push({from:k,to:N.value,len:N.value-k-(N.size||0)}),C+=N.value-k-(N.size||0))}),g.breakArray=x,isNumber$t(P)&&isNumber$t(T)&&isNumber$t(v.min)&&(g.unitLength=T-P-C+E,fireEvent$l(v,"afterBreaks"),v.staticScale?v.transA=v.staticScale:g.unitLength&&(v.transA*=(T-v.min+E)/g.unitLength),E&&(v.minPixelPadding=v.transA*(v.minPointOffset||0)),v.min=P,v.max=T)}}),pick$10(m,!0)&&v.chart.redraw()},f}();n.Additions=d})(BrokenAxis||(BrokenAxis={}));const BrokenAxis$1=BrokenAxis;/**
 * @license Highcharts JS v9.2.2 (2021-08-24)
 * @module highcharts/modules/broken-axis
 * @requires highcharts
 *
 * (c) 2009-2021 Torstein Honsi
 *
 * License: www.highcharts.com/license
 */var G$6=H;BrokenAxis$1.compose(G$6.Axis,G$6.Series);var format$8=FormatUtilities.format,seriesProto$3=Series$e.prototype,addEvent$K=Utilities.addEvent,arrayMax$5=Utilities.arrayMax,arrayMin$5=Utilities.arrayMin,correctFloat$7=Utilities.correctFloat,defined$y=Utilities.defined,error$2=Utilities.error,extend$16=Utilities.extend,isNumber$s=Utilities.isNumber,merge$W=Utilities.merge,pick$$=Utilities.pick,approximations=H.approximations={sum:function(n){var i=n.length,t;if(!i&&n.hasNulls)t=null;else if(i)for(t=0;i--;)t+=n[i];return t},average:function(n){var i=n.length,t=approximations.sum(n);return isNumber$s(t)&&i&&(t=correctFloat$7(t/i)),t},averages:function(){var n=[];return[].forEach.call(arguments,function(i){n.push(approximations.average(i))}),typeof n[0]>"u"?void 0:n},open:function(n){return n.length?n[0]:n.hasNulls?null:void 0},high:function(n){return n.length?arrayMax$5(n):n.hasNulls?null:void 0},low:function(n){return n.length?arrayMin$5(n):n.hasNulls?null:void 0},close:function(n){return n.length?n[n.length-1]:n.hasNulls?null:void 0},ohlc:function(n,i,t,r){if(n=approximations.open(n),i=approximations.high(i),t=approximations.low(t),r=approximations.close(r),isNumber$s(n)||isNumber$s(i)||isNumber$s(t)||isNumber$s(r))return[n,i,t,r]},range:function(n,i){if(n=approximations.low(n),i=approximations.high(i),isNumber$s(n)||isNumber$s(i))return[n,i];if(n===null&&i===null)return null}},applyGrouping=function(){var n=this,i=n.chart,t=n.options,r=t.dataGrouping,o=n.allowDG!==!1&&r&&pick$$(r.enabled,i.options.isStock),a=n.visible||!i.options.chart.ignoreHiddenSeries,s,l,c=this.currentDataGrouping,h,u,d=!1;if(o&&!n.requireSorting&&(n.requireSorting=d=!0),l=skipDataGrouping(n)||!o,d&&(n.requireSorting=!1),!l){n.destroyGroupedData();var f=void 0,p=r.groupAll?n.xData:n.processedXData,m=r.groupAll?n.yData:n.processedYData,g=i.plotSizeX,v=n.xAxis,_=v.options.ordinal,y=n.groupPixelWidth;if(y&&p&&p.length){s=!0,n.isDirty=!0,n.points=null;var b=v.getExtremes(),x=b.min,E=b.max,C=_&&v.ordinal&&v.ordinal.getGroupIntervalFactor(x,E,n)||1,$=y*(E-x)/g*C,S=v.getTimeTicks(DateTimeAxis$1.Additions.prototype.normalizeTimeTickInterval($,r.units||defaultDataGroupingUnits),Math.min(x,p[0]),Math.max(E,p[p.length-1]),v.options.startOfWeek,p,n.closestPointRange),P=seriesProto$3.groupData.apply(n,[p,m,S,r.approximation]),T=P.groupedXData,k=P.groupedYData,L=0;for(r&&r.smoothed&&T.length&&(r.firstAnchor="firstPoint",r.anchor="middle",r.lastAnchor="lastPoint",error$2(32,!1,i,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),anchorPoints(n,T,E),f=1;f<S.length;f++)(!S.info.segmentStarts||S.info.segmentStarts.indexOf(f)===-1)&&(L=Math.max(S[f]-S[f-1],L));h=S.info,h.gapSize=L,n.closestPointRange=S.info.totalRange,n.groupMap=P.groupMap,a&&adjustExtremes(v,T),r.groupAll&&(n.allGroupedData=k,u=n.cropData(T,k,v.min,v.max,1),T=u.xData,k=u.yData,n.cropStart=u.start),n.processedXData=T,n.processedYData=k}else n.groupMap=null;n.hasGroupedData=s,n.currentDataGrouping=h,n.preventGraphAnimation=(c&&c.totalRange)!==(h&&h.totalRange)}},skipDataGrouping=function(n){if(n.isCartesian&&!n.isDirty&&!n.xAxis.isDirty&&!n.yAxis.isDirty)return!1},groupData=function(n,i,t,r){var o=this,a=o.data,s=o.options&&o.options.data,l=[],c=[],h=[],u=n.length,d,f,p,m=!!i,g=[],v,_=o.pointArrayMap,y=_&&_.length,b=["x"].concat(_||["y"]),x=this.options.dataGrouping&&this.options.dataGrouping.groupAll,E=0,C=0,$,S,P;function T(z){return typeof z=="function"?z:approximations[z]?approximations[z]:approximations[o.getDGApproximation&&o.getDGApproximation()||"average"]}for(v=T(r),y?_.forEach(function(){g.push([])}):g.push([]),$=y||1,S=0;S<=u&&!(n[S]>=t[0]);S++);for(S;S<=u;S++){for(;typeof t[E+1]<"u"&&n[S]>=t[E+1]||S===u;){for(d=t[E],o.dataGroupInfo={start:x?C:o.cropStart+C,length:g[0].length},p=v.apply(o,g),o.pointClass&&!defined$y(o.dataGroupInfo.options)&&(o.dataGroupInfo.options=merge$W(o.pointClass.prototype.optionsToObject.call({series:o},o.options.data[o.cropStart+C])),b.forEach(function(z){delete o.dataGroupInfo.options[z]})),typeof p<"u"&&(l.push(d),c.push(p),h.push(o.dataGroupInfo)),C=S,P=0;P<$;P++)g[P].length=0,g[P].hasNulls=!1;if(E+=1,S===u)break}if(S===u)break;if(_){var k=o.options.dataGrouping&&o.options.dataGrouping.groupAll?S:o.cropStart+S,L=a&&a[k]||o.pointClass.prototype.applyOptions.apply({series:o},[s[k]]),N=void 0;for(P=0;P<y;P++)N=L[_[P]],isNumber$s(N)?g[P].push(N):N===null&&(g[P].hasNulls=!0)}else f=m?i[S]:null,isNumber$s(f)?g[0].push(f):f===null&&(g[0].hasNulls=!0)}return{groupedXData:l,groupedYData:c,groupMap:h}},anchorPoints=function(n,i,t){var r=n.options,o=r.dataGrouping,a=n.currentDataGrouping&&n.currentDataGrouping.gapSize,s;if(o&&n.xData&&a&&n.groupMap){var l=i.length-1,c=o.anchor,h=pick$$(o.firstAnchor,c),u=pick$$(o.lastAnchor,c);if(c&&c!=="start"){var d=a*{middle:.5,end:1}[c];for(s=i.length-1;s--&&s>0;)i[s]+=d}if(h&&h!=="start"&&n.xData[0]>=i[0]){var f=n.groupMap[0].start,p=n.groupMap[0].length,m=void 0;isNumber$s(f)&&isNumber$s(p)&&(m=f+(p-1)),i[0]={middle:i[0]+.5*a,end:i[0]+a,firstPoint:n.xData[0],lastPoint:m&&n.xData[m]}[h]}if(u&&u!=="start"&&a&&i[l]>=t-a){var g=n.groupMap[n.groupMap.length-1].start;i[l]={middle:i[l]+.5*a,end:i[l]+a,firstPoint:g&&n.xData[g],lastPoint:n.xData[n.xData.length-1]}[u]}}},adjustExtremes=function(n,i){defined$y(i[0])&&isNumber$s(n.min)&&isNumber$s(n.dataMin)&&i[0]<n.min&&((!defined$y(n.options.min)&&n.min<=n.dataMin||n.min===n.dataMin)&&(n.min=Math.min(i[0],n.min)),n.dataMin=Math.min(i[0],n.dataMin)),defined$y(i[i.length-1])&&isNumber$s(n.max)&&isNumber$s(n.dataMax)&&i[i.length-1]>n.max&&((!defined$y(n.options.max)&&isNumber$s(n.dataMax)&&n.max>=n.dataMax||n.max===n.dataMax)&&(n.max=Math.max(i[i.length-1],n.max)),n.dataMax=Math.max(i[i.length-1],n.dataMax))},dataGrouping={approximations,groupData};seriesProto$3.processData;var baseGeneratePoints=seriesProto$3.generatePoints,commonOptions={groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},specificOptions={line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},defaultDataGroupingUnits=H.defaultDataGroupingUnits=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]];seriesProto$3.getDGApproximation=function(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("column")?"sum":"average"};seriesProto$3.groupData=groupData;seriesProto$3.applyGrouping=applyGrouping;seriesProto$3.destroyGroupedData=function(){this.groupedData&&(this.groupedData.forEach(function(n,i){n&&(this.groupedData[i]=n.destroy?n.destroy():null)},this),this.groupedData.length=0)};seriesProto$3.generatePoints=function(){baseGeneratePoints.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null};Axis.prototype.applyGrouping=function(){var n=this,i=n.series;i.forEach(function(t){t.groupPixelWidth=void 0,t.groupPixelWidth=n.getGroupPixelWidth&&n.getGroupPixelWidth(),t.groupPixelWidth&&(t.hasProcessed=!0),t.applyGrouping()})};Axis.prototype.getGroupPixelWidth=function(){var n=this.series,i=n.length,t,r=0,o=!1,a,s;for(t=i;t--;)s=n[t].options.dataGrouping,s&&(r=Math.max(r,pick$$(s.groupPixelWidth,commonOptions.groupPixelWidth)));for(t=i;t--;)s=n[t].options.dataGrouping,s&&(a=(n[t].processedXData||n[t].data).length,(n[t].groupPixelWidth||a>this.chart.plotSizeX/r||a&&s.forced)&&(o=!0));return o?r:0};Axis.prototype.setDataGrouping=function(n,i){var t=this,r;if(i=pick$$(i,!0),n||(n={forced:!1,units:null}),this instanceof Axis)for(r=this.series.length;r--;)this.series[r].update({dataGrouping:n},!1);else this.chart.options.series.forEach(function(o){o.dataGrouping=n},!1);t.ordinal&&(t.ordinal.slope=void 0),i&&this.chart.redraw()};addEvent$K(Axis,"postProcessData",Axis.prototype.applyGrouping);addEvent$K(Point$5,"update",function(){if(this.dataGroup)return error$2(24,!1,this.series.chart),!1});addEvent$K(Tooltip,"headerFormatter",function(n){var i=this.chart,t=i.time,r=n.labelConfig,o=r.series,a=o.options,s=o.tooltipOptions,l=a.dataGrouping,c=s.xDateFormat,h,u=o.xAxis,d,f,p,m,g=s[n.isFooter?"footerFormat":"headerFormat"];u&&u.options.type==="datetime"&&l&&isNumber$s(r.key)&&(d=o.currentDataGrouping,f=l.dateTimeLabelFormats||commonOptions.dateTimeLabelFormats,d?(p=f[d.unitName],d.count===1?c=p[0]:(c=p[1],h=p[2])):!c&&f&&u.dateTime&&(c=u.dateTime.getXDateFormat(r.x,s.dateTimeLabelFormats)),m=t.dateFormat(c,r.key),h&&(m+=t.dateFormat(h,r.key+d.totalRange-1)),o.chart.styledMode&&(g=this.styledModeFormat(g)),n.text=format$8(g,{point:extend$16(r.point,{key:m}),series:o},i),n.preventDefault())});addEvent$K(Series$e,"destroy",seriesProto$3.destroyGroupedData);addEvent$K(Series$e,"afterSetOptions",function(n){var i=n.options,t=this.type,r=this.chart.options.plotOptions,o=DefaultOptions.defaultOptions.plotOptions[t].dataGrouping,a=this.useCommonDataGrouping&&commonOptions;if(specificOptions[t]||a){o||(o=merge$W(commonOptions,specificOptions[t]));var s=this.chart.rangeSelector;i.dataGrouping=merge$W(a,o,r.series&&r.series.dataGrouping,r[t].dataGrouping,this.userOptions.dataGrouping,!i.isInternal&&s&&isNumber$s(s.selected)&&s.buttonOptions[s.selected].dataGrouping)}});addEvent$K(Axis,"afterSetScale",function(){this.series.forEach(function(n){n.hasProcessed=!1})});H.dataGrouping=dataGrouping;var __extends$21=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ColumnSeries$g=SeriesRegistry$1.seriesTypes.column,OHLCPoint=function(n){__extends$21(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.close=void 0,t.high=void 0,t.low=void 0,t.open=void 0,t.options=void 0,t.plotClose=void 0,t.plotOpen=void 0,t.series=void 0,t}return i.prototype.getClassName=function(){return n.prototype.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")},i.prototype.resolveUpColor=function(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)},i.prototype.resolveColor=function(){n.prototype.resolveColor.call(this),this.resolveUpColor()},i.prototype.getZone=function(){var t=n.prototype.getZone.call(this);return this.resolveUpColor(),t},i.prototype.applyOptions=function(){return n.prototype.applyOptions.apply(this,arguments),this.resolveColor&&this.resolveColor(),this},i}(ColumnSeries$g.prototype.pointClass),__extends$20=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ColumnSeries$f=SeriesRegistry$1.seriesTypes.column,extend$15=Utilities.extend,merge$V=Utilities.merge,OHLCSeries$1=function(n){__extends$20(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t.yData=void 0,t}return i.prototype.drawPoints=function(){var t=this,r=t.points,o=t.chart,a=function(s,l,c){var h=s[0],u=s[1];typeof h[2]=="number"&&(h[2]=Math.max(c+l,h[2])),typeof u[2]=="number"&&(u[2]=Math.min(c-l,u[2]))};r.forEach(function(s){var l,c,h,u,d,f=s.graphic,p,m=!f,g;typeof s.plotY<"u"&&(f||(s.graphic=f=o.renderer.path().add(t.group)),o.styledMode||f.attr(t.pointAttribs(s,s.selected&&"select")),g=f.strokeWidth(),h=g%2/2,p=Math.round(s.plotX)-h,u=Math.round(s.shapeArgs.width/2),d=[["M",p,Math.round(s.yBottom)],["L",p,Math.round(s.plotHigh)]],s.open!==null&&(l=Math.round(s.plotOpen)+h,d.push(["M",p,l],["L",p-u,l]),a(d,g/2,l)),s.close!==null&&(c=Math.round(s.plotClose)+h,d.push(["M",p,c],["L",p+u,c]),a(d,g/2,c)),f[m?"attr":"animate"]({d}).addClass(s.getClassName(),!0))})},i.prototype.init=function(){n.prototype.init.apply(this,arguments),this.options.stacking=void 0},i.prototype.pointAttribs=function(t,r){var o=n.prototype.pointAttribs.call(this,t,r),a=this.options;return delete o.fill,!t.options.color&&a.upColor&&t.open<t.close&&(o.stroke=a.upColor),o},i.prototype.toYData=function(t){return[t.open,t.high,t.low,t.close]},i.prototype.translate=function(){var t=this,r=t.yAxis,o=!!t.modifyValue,a=["plotOpen","plotHigh","plotLow","plotClose","yBottom"];n.prototype.translate.apply(t),t.points.forEach(function(s){[s.open,s.high,s.low,s.close,s.low].forEach(function(l,c){l!==null&&(o&&(l=t.modifyValue(l)),s[a[c]]=r.toPixels(l,!0))}),s.tooltipPos[1]=s.plotHigh+r.pos-t.chart.plotTop})},i.defaultOptions=merge$V(ColumnSeries$f.defaultOptions,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}),i}(ColumnSeries$f);extend$15(OHLCSeries$1.prototype,{animate:null,directTouch:!1,pointArrayMap:["open","high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"});OHLCSeries$1.prototype.pointClass=OHLCPoint;SeriesRegistry$1.registerSeriesType("ohlc",OHLCSeries$1);var __extends$1$=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),defaultOptions$9=DefaultOptions.defaultOptions,_a$d=SeriesRegistry$1.seriesTypes,ColumnSeries$e=_a$d.column,OHLCSeries=_a$d.ohlc,merge$U=Utilities.merge,CandlestickSeries=function(n){__extends$1$(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return i.prototype.pointAttribs=function(t,r){var o=ColumnSeries$e.prototype.pointAttribs.call(this,t,r),a=this.options,s=t.open<t.close,l=a.lineColor||this.color,c=t.color||this.color,h;return o["stroke-width"]=a.lineWidth,o.fill=t.options.color||s&&a.upColor||c,o.stroke=t.options.lineColor||s&&a.upLineColor||l,r&&(h=a.states[r],o.fill=h.color||o.fill,o.stroke=h.lineColor||o.stroke,o["stroke-width"]=h.lineWidth||o["stroke-width"]),o},i.prototype.drawPoints=function(){var t=this,r=t.points,o=t.chart,a=t.yAxis.reversed;r.forEach(function(s){var l=s.graphic,c,h,u,d,f,p,m,g,v,_,y=!l;typeof s.plotY<"u"&&(l||(s.graphic=l=o.renderer.path().add(t.group)),t.chart.styledMode||l.attr(t.pointAttribs(s,s.selected&&"select")).shadow(t.options.shadow),m=l.strokeWidth()%2/2,g=Math.round(s.plotX)-m,c=s.plotOpen,h=s.plotClose,u=Math.min(c,h),d=Math.max(c,h),_=Math.round(s.shapeArgs.width/2),f=a?d!==s.yBottom:Math.round(u)!==Math.round(s.plotHigh),p=a?Math.round(u)!==Math.round(s.plotHigh):d!==s.yBottom,u=Math.round(u)+m,d=Math.round(d)+m,v=[],v.push(["M",g-_,d],["L",g-_,u],["L",g+_,u],["L",g+_,d],["Z"],["M",g,u],["L",g,f?Math.round(a?s.yBottom:s.plotHigh):u],["M",g,d],["L",g,p?Math.round(a?s.plotHigh:s.yBottom):d]),l[y?"attr":"animate"]({d:v}).addClass(s.getClassName(),!0))})},i.defaultOptions=merge$U(OHLCSeries.defaultOptions,defaultOptions$9.plotOptions,{states:{hover:{lineWidth:2}},tooltip:defaultOptions$9.plotOptions.ohlc.tooltip,threshold:null,lineColor:palette.neutralColor100,lineWidth:1,upColor:palette.backgroundColor,stickyTracking:!0}),i}(OHLCSeries);SeriesRegistry$1.registerSeriesType("candlestick",CandlestickSeries);var __extends$1_=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ColumnSeries$d=SeriesRegistry$1.seriesTypes.column,isNumber$r=Utilities.isNumber,FlagsPoint=function(n){__extends$1_(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t}return i.prototype.isValid=function(){return isNumber$r(this.y)||typeof this.y>"u"},i.prototype.hasNewShapeType=function(){var t=this.options.shape||this.series.options.shape;return this.graphic&&t&&t!==this.graphic.symbolKey},i}(ColumnSeries$d.prototype.pointClass),columnProto$5=ColumnSeries$h.prototype,seriesProto$2=Series$e.prototype,defined$x=Utilities.defined,stableSort$4=Utilities.stableSort,onSeriesMixin={getPlotBox:function(){return seriesProto$2.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this)},translate:function(){columnProto$5.translate.apply(this);var n=this,i=n.options,t=n.chart,r=n.points,o=r.length-1,a,s,l=i.onSeries,c=l&&t.get(l),h=i.onKey||"y",u=c&&c.options.step,d=c&&c.points,f=d&&d.length,p=t.inverted,m=n.xAxis,g=n.yAxis,v=0,_,y,b,x,E;if(c&&c.visible&&f)for(v=(c.pointXOffset||0)+(c.barW||0)/2,x=c.currentDataGrouping,y=d[f-1].x+(x?x.totalRange:0),stableSort$4(r,function(C,$){return C.x-$.x}),h="plot"+h[0].toUpperCase()+h.substr(1);f--&&r[o]&&(_=d[f],a=r[o],a.y=_.y,!(_.x<=a.x&&typeof _[h]<"u"&&(a.x<=y&&(a.plotY=_[h],_.x<a.x&&!u&&(b=d[f+1],b&&typeof b[h]<"u"&&(E=(a.x-_.x)/(b.x-_.x),a.plotY+=E*(b[h]-_[h]),a.y+=E*(b.y-_.y)))),o--,f++,o<0))););r.forEach(function(C,$){var S;C.plotX+=v,(typeof C.plotY>"u"||p)&&(C.plotX>=0&&C.plotX<=m.len?p?(C.plotY=m.translate(C.x,0,1,0,1),C.plotX=defined$x(C.y)?g.translate(C.y,0,0,0,1):0):C.plotY=(m.opposite?0:n.yAxis.len)+m.offset:C.shapeArgs={}),s=r[$-1],s&&s.plotX===C.plotX&&(typeof s.stackIndex>"u"&&(s.stackIndex=0),S=s.stackIndex+1),C.stackIndex=S}),this.onSeries=c}},symbols$3=SVGRenderer.prototype.symbols;symbols$3.flag=function(n,i,t,r,o){var a=o&&o.anchorX||n,s=o&&o.anchorY||i,l=symbols$3.circle(a-1,s-1,2,2);return l.push(["M",a,s],["L",n,i+r],["L",n,i],["L",n+t,i],["L",n+t,i+r],["L",n,i+r],["Z"]),l};function createPinSymbol(n){symbols$3[n+"pin"]=function(i,t,r,o,a){var s=a&&a.anchorX,l=a&&a.anchorY,c;if(n==="circle"&&o>r&&(i-=Math.round((o-r)/2),r=o),c=symbols$3[n](i,t,r,o),s&&l){var h=s;if(n==="circle")h=i+r/2;else{var u=c[0],d=c[1];u[0]==="M"&&d[0]==="L"&&(h=(u[1]+d[1])/2)}var f=t>l?t:t+o;c.push(["M",h,f],["L",s,l]),c=c.concat(symbols$3.circle(s-1,l-1,2,2))}return c}}createPinSymbol("circle");createPinSymbol("square");var Renderer=RendererRegistry$1.getRendererType();Renderer!==SVGRenderer&&(Renderer.prototype.symbols.circlepin=symbols$3.circlepin,Renderer.prototype.symbols.flag=symbols$3.flag,Renderer.prototype.symbols.squarepin=symbols$3.squarepin);var __extends$1Z=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),noop$e=H.noop,distribute=R.distribute,Series$b=SeriesRegistry$1.series,ColumnSeries$c=SeriesRegistry$1.seriesTypes.column,addEvent$J=Utilities.addEvent,defined$w=Utilities.defined,extend$14=Utilities.extend,merge$T=Utilities.merge,objectEach$e=Utilities.objectEach,wrap$b=Utilities.wrap,FlagsSeries=function(n){__extends$1Z(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return i.prototype.animate=function(t){t&&this.setClip()},i.prototype.drawPoints=function(){var t=this,r=t.points,o=t.chart,a=o.renderer,s,l,c=o.inverted,h=t.options,u=h.y,d,f,p,m,g,v,_,y,b=t.yAxis,x={},E=[],C;for(f=r.length;f--;)p=r[f],y=(c?p.plotY:p.plotX)>t.xAxis.len,s=p.plotX,g=p.stackIndex,d=p.options.shape||h.shape,l=p.plotY,typeof l<"u"&&(l=p.plotY+u-(typeof g<"u"&&g*h.stackDistance)),p.anchorX=g?void 0:p.plotX,v=g?void 0:p.plotY,C=d!=="flag",m=p.graphic,typeof l<"u"&&s>=0&&!y?(m&&p.hasNewShapeType()&&(m=m.destroy()),m||(m=p.graphic=a.label("",null,null,d,null,null,h.useHTML).addClass("highcharts-point").add(t.markerGroup),p.graphic.div&&(p.graphic.div.point=p),m.isNew=!0),m.attr({align:C?"center":"left",width:h.width,height:h.height,"text-align":h.textAlign}),o.styledMode||m.attr(t.pointAttribs(p)).css(merge$T(h.style,p.style)).shadow(h.shadow),s>0&&(s-=m.strokeWidth()%2),_={y:l,anchorY:v},h.allowOverlapX&&(_.x=s,_.anchorX=p.anchorX),m.attr({text:p.options.title||h.title||"A"})[m.isNew?"attr":"animate"](_),h.allowOverlapX||(x[p.plotX]?x[p.plotX].size=Math.max(x[p.plotX].size,m.width):x[p.plotX]={align:C?.5:0,size:m.width,target:s,anchorX:s}),p.tooltipPos=[s,l+b.pos-o.plotTop]):m&&(p.graphic=m.destroy());h.allowOverlapX||(objectEach$e(x,function($){$.plotX=$.anchorX,E.push($)}),distribute(E,c?b.len:this.xAxis.len,100),r.forEach(function($){var S=$.graphic&&x[$.plotX];S&&($.graphic[$.graphic.isNew?"attr":"animate"]({x:S.pos+S.align*S.size,anchorX:$.anchorX}),defined$w(S.pos)?$.graphic.isNew=!1:($.graphic.attr({x:-9999,anchorX:-9999}),$.graphic.isNew=!0))})),h.useHTML&&wrap$b(t.markerGroup,"on",function($){return SVGElement.prototype.on.apply($.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})},i.prototype.drawTracker=function(){var t=this,r=t.points;n.prototype.drawTracker.call(this),r.forEach(function(o){var a=o.graphic;a&&(o.unbindMouseOver&&o.unbindMouseOver(),o.unbindMouseOver=addEvent$J(a.element,"mouseover",function(){o.stackIndex>0&&!o.raised&&(o._y=a.y,a.attr({y:o._y-8}),o.raised=!0),r.forEach(function(s){s!==o&&s.raised&&s.graphic&&(s.graphic.attr({y:s._y}),s.raised=!1)})}))})},i.prototype.pointAttribs=function(t,r){var o=this.options,a=t&&t.color||this.color,s=o.lineColor,l=t&&t.lineWidth,c=t&&t.fillColor||o.fillColor;return r&&(c=o.states[r].fillColor,s=o.states[r].lineColor,l=o.states[r].lineWidth),{fill:c||a,stroke:s||a,"stroke-width":l||o.lineWidth||0}},i.prototype.setClip=function(){Series$b.prototype.setClip.apply(this,arguments),this.options.clip!==!1&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])},i.defaultOptions=merge$T(ColumnSeries$c.defaultOptions,{pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:palette.backgroundColor,lineWidth:1,states:{hover:{lineColor:palette.neutralColor100,fillColor:palette.highlightColor20}},style:{fontSize:"11px",fontWeight:"bold"}}),i}(ColumnSeries$c);extend$14(FlagsSeries.prototype,{allowDG:!1,buildKDTree:noop$e,forceCrop:!0,getPlotBox:onSeriesMixin.getPlotBox,init:Series$b.prototype.init,invertGroups:noop$e,invertible:!1,noSharedTooltip:!0,pointClass:FlagsPoint,sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],translate:onSeriesMixin.translate});SeriesRegistry$1.registerSeriesType("flags",FlagsSeries);var addEvent$I=Utilities.addEvent,defined$v=Utilities.defined,pick$_=Utilities.pick,ScrollbarAxis=function(){function n(){}return n.compose=function(i,t){if(n.composed.indexOf(i)===-1)n.composed.push(i);else return i;var r=function(o){var a=pick$_(o.options&&o.options.min,o.min),s=pick$_(o.options&&o.options.max,o.max);return{axisMin:a,axisMax:s,scrollMin:defined$v(o.dataMin)?Math.min(a,o.min,o.dataMin,pick$_(o.threshold,1/0)):a,scrollMax:defined$v(o.dataMax)?Math.max(s,o.max,o.dataMax,pick$_(o.threshold,-1/0)):s}};return addEvent$I(i,"afterInit",function(){var o=this;o.options&&o.options.scrollbar&&o.options.scrollbar.enabled&&(o.options.scrollbar.vertical=!o.horiz,o.options.startOnTick=o.options.endOnTick=!1,o.scrollbar=new t(o.chart.renderer,o.options.scrollbar,o.chart),addEvent$I(o.scrollbar,"changed",function(a){var s=r(o),l=s.axisMin,c=s.axisMax,h=s.scrollMin,u=s.scrollMax,d=u-h,f,p;!defined$v(l)||!defined$v(c)||(o.horiz&&!o.reversed||!o.horiz&&o.reversed?(f=h+d*this.to,p=h+d*this.from):(f=h+d*(1-this.from),p=h+d*(1-this.to)),this.shouldUpdateExtremes(a.DOMType)?o.setExtremes(p,f,!0,a.DOMType!=="mousemove"&&a.DOMType!=="touchmove",a):this.setRange(this.from,this.to))}))}),addEvent$I(i,"afterRender",function(){var o=this,a=r(o),s=a.scrollMin,l=a.scrollMax,c=o.scrollbar,h=o.axisTitleMargin+(o.titleOffset||0),u=o.chart.scrollbarsOffsets,d=o.options.margin||0,f,p,m;c&&(o.horiz?(o.opposite||(u[1]+=h),c.position(o.left,o.top+o.height+2+u[1]-(o.opposite?d:0),o.width,o.height),o.opposite||(u[1]+=d),f=1):(o.opposite&&(u[0]+=h),c.position(o.left+o.width+2+u[0]-(o.opposite?0:d),o.top,o.width,o.height),o.opposite&&(u[0]+=d),f=0),u[f]+=c.size+c.options.margin,isNaN(s)||isNaN(l)||!defined$v(o.min)||!defined$v(o.max)||o.min===o.max?c.setRange(0,1):(p=(o.min-s)/(l-s),m=(o.max-s)/(l-s),o.horiz&&!o.reversed||!o.horiz&&o.reversed?c.setRange(p,m):c.setRange(1-m,1-p)))}),addEvent$I(i,"afterGetOffset",function(){var o=this,a=o.horiz?2:1,s=o.scrollbar;s&&(o.chart.scrollbarsOffsets=[0,0],o.chart.axisOffset[a]+=s.size+s.options.margin)}),i},n.composed=[],n}(),isTouchDevice$3=H.isTouchDevice,ScrollbarDefaults={height:isTouchDevice$3?20:14,barBorderRadius:0,buttonBorderRadius:0,liveRedraw:void 0,margin:10,minWidth:6,step:.2,zIndex:3,barBackgroundColor:palette.neutralColor20,barBorderWidth:1,barBorderColor:palette.neutralColor20,buttonArrowColor:palette.neutralColor80,buttonBackgroundColor:palette.neutralColor10,buttonBorderColor:palette.neutralColor20,buttonBorderWidth:1,rifleColor:palette.neutralColor80,trackBackgroundColor:palette.neutralColor5,trackBorderColor:palette.neutralColor5,trackBorderWidth:1},defaultOptions$8=DefaultOptions.defaultOptions,addEvent$H=Utilities.addEvent,correctFloat$6=Utilities.correctFloat,defined$u=Utilities.defined,destroyObjectProperties$3=Utilities.destroyObjectProperties,fireEvent$k=Utilities.fireEvent,merge$S=Utilities.merge,pick$Z=Utilities.pick,removeEvent$4=Utilities.removeEvent,Scrollbar=function(){function n(i,t,r){this._events=[],this.chart=void 0,this.chartX=0,this.chartY=0,this.from=0,this.group=void 0,this.options=void 0,this.renderer=void 0,this.scrollbar=void 0,this.scrollbarButtons=[],this.scrollbarGroup=void 0,this.scrollbarLeft=0,this.scrollbarRifles=void 0,this.scrollbarStrokeWidth=1,this.scrollbarTop=0,this.size=0,this.to=0,this.track=void 0,this.trackBorderWidth=1,this.userOptions=void 0,this.x=0,this.y=0,this.init(i,t,r)}return n.compose=function(i){ScrollbarAxis.compose(i,n)},n.swapXY=function(i,t){return t&&i.forEach(function(r){for(var o=r.length,a,s=0;s<o;s+=2)a=r[s+1],typeof a=="number"&&(r[s+1]=r[s+2],r[s+2]=a)}),i},n.prototype.addEvents=function(){var i=this.options.inverted?[1,0]:[0,1],t=this.scrollbarButtons,r=this.scrollbarGroup.element,o=this.track.element,a=this.mouseDownHandler.bind(this),s=this.mouseMoveHandler.bind(this),l=this.mouseUpHandler.bind(this),c=[[t[i[0]].element,"click",this.buttonToMinClick.bind(this)],[t[i[1]].element,"click",this.buttonToMaxClick.bind(this)],[o,"click",this.trackClick.bind(this)],[r,"mousedown",a],[r.ownerDocument,"mousemove",s],[r.ownerDocument,"mouseup",l]];H.hasTouch&&c.push([r,"touchstart",a],[r.ownerDocument,"touchmove",s],[r.ownerDocument,"touchend",l]),c.forEach(function(h){addEvent$H.apply(null,h)}),this._events=c},n.prototype.buttonToMaxClick=function(i){var t=this,r=(t.to-t.from)*pick$Z(t.options.step,.2);t.updatePosition(t.from+r,t.to+r),fireEvent$k(t,"changed",{from:t.from,to:t.to,trigger:"scrollbar",DOMEvent:i})},n.prototype.buttonToMinClick=function(i){var t=this,r=correctFloat$6(t.to-t.from)*pick$Z(t.options.step,.2);t.updatePosition(correctFloat$6(t.from-r),correctFloat$6(t.to-r)),fireEvent$k(t,"changed",{from:t.from,to:t.to,trigger:"scrollbar",DOMEvent:i})},n.prototype.cursorToScrollbarPosition=function(i){var t=this,r=t.options,o=r.minWidth>t.calculatedWidth?r.minWidth:0;return{chartX:(i.chartX-t.x-t.xOffset)/(t.barWidth-o),chartY:(i.chartY-t.y-t.yOffset)/(t.barWidth-o)}},n.prototype.destroy=function(){var i=this,t=i.chart.scroller;i.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(r){i[r]&&i[r].destroy&&(i[r]=i[r].destroy())}),t&&i===t.scrollbar&&(t.scrollbar=null,destroyObjectProperties$3(t.scrollbarButtons))},n.prototype.drawScrollbarButton=function(i){var t=this,r=t.renderer,o=t.scrollbarButtons,a=t.options,s=t.size,l=r.g().add(t.group),c;o.push(l),c=r.rect().addClass("highcharts-scrollbar-button").add(l),t.chart.styledMode||c.attr({stroke:a.buttonBorderColor,"stroke-width":a.buttonBorderWidth,fill:a.buttonBackgroundColor}),c.attr(c.crisp({x:-.5,y:-.5,width:s+1,height:s+1,r:a.buttonBorderRadius},c.strokeWidth())),c=r.path(n.swapXY([["M",s/2+(i?-1:1),s/2-3],["L",s/2+(i?-1:1),s/2+3],["L",s/2+(i?2:-2),s/2]],a.vertical)).addClass("highcharts-scrollbar-arrow").add(o[i]),t.chart.styledMode||c.attr({fill:a.buttonArrowColor})},n.prototype.init=function(i,t,r){var o=this;o.scrollbarButtons=[],o.renderer=i,o.userOptions=t,o.options=merge$S(ScrollbarDefaults,defaultOptions$8.scrollbar,t),o.chart=r,o.size=pick$Z(o.options.size,o.options.height),t.enabled&&(o.render(),o.addEvents())},n.prototype.mouseDownHandler=function(i){var t=this,r=t.chart.pointer.normalize(i),o=t.cursorToScrollbarPosition(r);t.chartX=o.chartX,t.chartY=o.chartY,t.initPositions=[t.from,t.to],t.grabbedCenter=!0},n.prototype.mouseMoveHandler=function(i){var t=this,r=t.chart.pointer.normalize(i),o=t.options,a=o.vertical?"chartY":"chartX",s=t.initPositions||[],l,c,h;t.grabbedCenter&&(!i.touches||i.touches[0][a]!==0)&&(c=t.cursorToScrollbarPosition(r)[a],l=t[a],h=c-l,t.hasDragged=!0,t.updatePosition(s[0]+h,s[1]+h),t.hasDragged&&fireEvent$k(t,"changed",{from:t.from,to:t.to,trigger:"scrollbar",DOMType:i.type,DOMEvent:i}))},n.prototype.mouseUpHandler=function(i){var t=this;t.hasDragged&&fireEvent$k(t,"changed",{from:t.from,to:t.to,trigger:"scrollbar",DOMType:i.type,DOMEvent:i}),t.grabbedCenter=t.hasDragged=t.chartX=t.chartY=null},n.prototype.position=function(i,t,r,o){var a=this,s=a.options,l=s.vertical,c=a.rendered?"animate":"attr",h=o,u=0;a.x=i,a.y=t+this.trackBorderWidth,a.width=r,a.height=o,a.xOffset=h,a.yOffset=u,l?(a.width=a.yOffset=r=u=a.size,a.xOffset=h=0,a.barWidth=o-r*2,a.x=i=i+a.options.margin):(a.height=a.xOffset=o=h=a.size,a.barWidth=r-o*2,a.y=a.y+a.options.margin),a.group[c]({translateX:i,translateY:a.y}),a.track[c]({width:r,height:o}),a.scrollbarButtons[1][c]({translateX:l?0:r-h,translateY:l?o-u:0})},n.prototype.removeEvents=function(){this._events.forEach(function(i){removeEvent$4.apply(null,i)}),this._events.length=0},n.prototype.render=function(){var i=this,t=i.renderer,r=i.options,o=i.size,a=i.chart.styledMode,s=t.g("scrollbar").attr({zIndex:r.zIndex,translateY:-99999}).add();i.group=s,i.track=t.rect().addClass("highcharts-scrollbar-track").attr({x:0,r:r.trackBorderRadius||0,height:o,width:o}).add(s),a||i.track.attr({fill:r.trackBackgroundColor,stroke:r.trackBorderColor,"stroke-width":r.trackBorderWidth}),i.trackBorderWidth=i.track.strokeWidth(),i.track.attr({y:-this.trackBorderWidth%2/2}),i.scrollbarGroup=t.g().add(s),i.scrollbar=t.rect().addClass("highcharts-scrollbar-thumb").attr({height:o,width:o,r:r.barBorderRadius||0}).add(i.scrollbarGroup),i.scrollbarRifles=t.path(n.swapXY([["M",-3,o/4],["L",-3,2*o/3],["M",0,o/4],["L",0,2*o/3],["M",3,o/4],["L",3,2*o/3]],r.vertical)).addClass("highcharts-scrollbar-rifles").add(i.scrollbarGroup),a||(i.scrollbar.attr({fill:r.barBackgroundColor,stroke:r.barBorderColor,"stroke-width":r.barBorderWidth}),i.scrollbarRifles.attr({stroke:r.rifleColor,"stroke-width":1})),i.scrollbarStrokeWidth=i.scrollbar.strokeWidth(),i.scrollbarGroup.translate(-i.scrollbarStrokeWidth%2/2,-i.scrollbarStrokeWidth%2/2),i.drawScrollbarButton(0),i.drawScrollbarButton(1)},n.prototype.setRange=function(i,t){var r=this,o=r.options,a=o.vertical,s=o.minWidth,l=r.barWidth,c=this.rendered&&!this.hasDragged&&!(this.chart.navigator&&this.chart.navigator.hasDragged)?"animate":"attr";if(defined$u(l)){var h=l*Math.min(t,1),u,d;i=Math.max(i,0),u=Math.ceil(l*i),r.calculatedWidth=d=correctFloat$6(h-u),d<s&&(u=(l-s+d)*i,d=s);var f=Math.floor(u+r.xOffset+r.yOffset),p=d/2-.5;r.from=i,r.to=t,a?(r.scrollbarGroup[c]({translateY:f}),r.scrollbar[c]({height:d}),r.scrollbarRifles[c]({translateY:p}),r.scrollbarTop=f,r.scrollbarLeft=0):(r.scrollbarGroup[c]({translateX:f}),r.scrollbar[c]({width:d}),r.scrollbarRifles[c]({translateX:p}),r.scrollbarLeft=f,r.scrollbarTop=0),d<=12?r.scrollbarRifles.hide():r.scrollbarRifles.show(!0),o.showFull===!1&&(i<=0&&t>=1?r.group.hide():r.group.show()),r.rendered=!0}},n.prototype.shouldUpdateExtremes=function(i){return pick$Z(this.options.liveRedraw,H.svg&&!H.isTouchDevice&&!this.chart.isBoosting)||i==="mouseup"||i==="touchend"||!defined$u(i)},n.prototype.trackClick=function(i){var t=this,r=t.chart.pointer.normalize(i),o=t.to-t.from,a=t.y+t.scrollbarTop,s=t.x+t.scrollbarLeft;t.options.vertical&&r.chartY>a||!t.options.vertical&&r.chartX>s?t.updatePosition(t.from+o,t.to+o):t.updatePosition(t.from-o,t.to-o),fireEvent$k(t,"changed",{from:t.from,to:t.to,trigger:"scrollbar",DOMEvent:i})},n.prototype.update=function(i){this.destroy(),this.init(this.chart.renderer,merge$S(!0,this.options,i),this.chart)},n.prototype.updatePosition=function(i,t){t>1&&(i=correctFloat$6(1-correctFloat$6(t-i)),t=1),i<0&&(t=correctFloat$6(t-i),i=0),this.from=i,this.to=t},n.defaultOptions=ScrollbarDefaults,n}();defaultOptions$8.scrollbar=merge$S(!0,Scrollbar.defaultOptions,defaultOptions$8.scrollbar);var isTouchDevice$2=H.isTouchDevice,addEvent$G=Utilities.addEvent,correctFloat$5=Utilities.correctFloat,defined$t=Utilities.defined,isNumber$q=Utilities.isNumber,pick$Y=Utilities.pick,NavigatorAxisAdditions=function(){function n(i){this.axis=i}return n.prototype.destroy=function(){this.axis=void 0},n.prototype.toFixedRange=function(i,t,r,o){var a=this,s=a.axis,l=s.chart,c=l&&l.fixedRange,h=(s.pointRange||0)/2,u=pick$Y(r,s.translate(i,!0,!s.horiz)),d=pick$Y(o,s.translate(t,!0,!s.horiz)),f=c&&(d-u)/c;return defined$t(r)||(u=correctFloat$5(u+h)),defined$t(o)||(d=correctFloat$5(d-h)),f>.7&&f<1.3&&(o?u=d-c:d=u+c),(!isNumber$q(u)||!isNumber$q(d))&&(u=d=void 0),{min:u,max:d}},n}(),NavigatorAxis=function(){function n(){}return n.compose=function(i){i.keepProps.push("navigatorAxis"),addEvent$G(i,"init",function(){var t=this;t.navigatorAxis||(t.navigatorAxis=new NavigatorAxisAdditions(t))}),addEvent$G(i,"zoom",function(t){var r=this,o=r.chart,a=o.options,s=a.navigator,l=r.navigatorAxis,c=a.chart.pinchType,h=a.rangeSelector,u=a.chart.zoomType,d;r.isXAxis&&(s&&s.enabled||h&&h.enabled)&&(u==="y"?t.zoomed=!1:(!isTouchDevice$2&&u==="xy"||isTouchDevice$2&&c==="xy")&&r.options.range&&(d=l.previousZoom,defined$t(t.newMin)?l.previousZoom=[r.min,r.max]:d&&(t.newMin=d[0],t.newMax=d[1],l.previousZoom=void 0))),typeof t.zoomed<"u"&&t.preventDefault()})},n.AdditionsClass=NavigatorAxisAdditions,n}(),color$b=Color.parse,hasTouch=H.hasTouch,isTouchDevice$1=H.isTouchDevice,defaultOptions$7=DefaultOptions.defaultOptions,seriesTypes$5=SeriesRegistry$1.seriesTypes,addEvent$F=Utilities.addEvent,clamp$b=Utilities.clamp,correctFloat$4=Utilities.correctFloat,defined$s=Utilities.defined,destroyObjectProperties$2=Utilities.destroyObjectProperties,erase$1=Utilities.erase,extend$13=Utilities.extend,find$c=Utilities.find,isArray$8=Utilities.isArray,isNumber$p=Utilities.isNumber,merge$R=Utilities.merge,pick$X=Utilities.pick,removeEvent$3=Utilities.removeEvent,splat$9=Utilities.splat,defaultSeriesType,numExt=function(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];var r=[].filter.call(i,isNumber$p);if(r.length)return Math[n].apply(0,r)};defaultSeriesType=typeof seriesTypes$5.areaspline>"u"?"line":"areaspline";extend$13(defaultOptions$7,{navigator:{height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:palette.neutralColor5,borderColor:palette.neutralColor40},maskFill:color$b(palette.highlightColor60).setOpacity(.3).get(),outlineColor:palette.neutralColor20,outlineWidth:1,series:{type:defaultSeriesType,fillOpacity:.05,lineWidth:1,compare:null,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:palette.neutralColor10,gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:palette.neutralColor40},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}});RendererRegistry$1.getRendererType().prototype.symbols["navigator-handle"]=function(n,i,t,r,o){var a=(o&&o.width||0)/2,s=Math.round(a/3)+.5,l=o&&o.height||0;return[["M",-a-1,.5],["L",a,.5],["L",a,l+.5],["L",-a-1,l+.5],["L",-a-1,.5],["M",-s,4],["L",-s,l-3],["M",s-1,4],["L",s-1,l-3]]};var Navigator=function(){function n(i){this.baseSeries=void 0,this.chart=void 0,this.handles=void 0,this.height=void 0,this.left=void 0,this.navigatorEnabled=void 0,this.navigatorGroup=void 0,this.navigatorOptions=void 0,this.navigatorSeries=void 0,this.navigatorSize=void 0,this.opposite=void 0,this.outline=void 0,this.outlineHeight=void 0,this.range=void 0,this.rendered=void 0,this.shades=void 0,this.size=void 0,this.top=void 0,this.xAxis=void 0,this.yAxis=void 0,this.zoomedMax=void 0,this.zoomedMin=void 0,this.init(i)}return n.prototype.drawHandle=function(i,t,r,o){var a=this,s=a.navigatorOptions.handles.height;a.handles[t][o](r?{translateX:Math.round(a.left+a.height/2),translateY:Math.round(a.top+parseInt(i,10)+.5-s)}:{translateX:Math.round(a.left+parseInt(i,10)),translateY:Math.round(a.top+a.height/2-s/2-1)})},n.prototype.drawOutline=function(i,t,r,o){var a=this,s=a.navigatorOptions.maskInside,l=a.outline.strokeWidth(),c=l/2,h=l%2/2,u=a.outlineHeight,d=a.scrollbarHeight||0,f=a.size,p=a.left-d,m=a.top,g,v;r?(p-=c,g=m+t+h,t=m+i+h,v=[["M",p+u,m-d-h],["L",p+u,g],["L",p,g],["L",p,t],["L",p+u,t],["L",p+u,m+f+d]],s&&v.push(["M",p+u,g-c],["L",p+u,t+c])):(i+=p+d-h,t+=p+d-h,m+=c,v=[["M",p,m],["L",i,m],["L",i,m+u],["L",t,m+u],["L",t,m],["L",p+f+d*2,m]],s&&v.push(["M",i-c,m],["L",t+c,m])),a.outline[o]({d:v})},n.prototype.drawMasks=function(i,t,r,o){var a=this,s=a.left,l=a.top,c=a.height,h,u,d,f;r?(d=[s,s,s],f=[l,l+i,l+t],u=[c,c,c],h=[i,t-i,a.size-t]):(d=[s,s+i,s+t],f=[l,l,l],u=[i,t-i,a.size-t],h=[c,c,c]),a.shades.forEach(function(p,m){p[o]({x:d[m],y:f[m],width:u[m],height:h[m]})})},n.prototype.renderElements=function(){var i=this,t=i.navigatorOptions,r=t.maskInside,o=i.chart,a=o.inverted,s=o.renderer,l,c={cursor:a?"ns-resize":"ew-resize"};i.navigatorGroup=l=s.g("navigator").attr({zIndex:8,visibility:"hidden"}).add(),[!r,r,!r].forEach(function(h,u){i.shades[u]=s.rect().addClass("highcharts-navigator-mask"+(u===1?"-inside":"-outside")).add(l),o.styledMode||i.shades[u].attr({fill:h?t.maskFill:"rgba(0,0,0,0)"}).css(u===1&&c)}),i.outline=s.path().addClass("highcharts-navigator-outline").add(l),o.styledMode||i.outline.attr({"stroke-width":t.outlineWidth,stroke:t.outlineColor}),t.handles.enabled&&[0,1].forEach(function(h){if(t.handles.inverted=o.inverted,i.handles[h]=s.symbol(t.handles.symbols[h],-t.handles.width/2-1,0,t.handles.width,t.handles.height,t.handles),i.handles[h].attr({zIndex:7-h}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][h]).add(l),!o.styledMode){var u=t.handles;i.handles[h].attr({fill:u.backgroundColor,stroke:u.borderColor,"stroke-width":u.lineWidth}).css(c)}})},n.prototype.update=function(i){(this.series||[]).forEach(function(r){r.baseSeries&&delete r.baseSeries.navigatorSeries}),this.destroy();var t=this.chart.options;merge$R(!0,t.navigator,this.options,i),this.init(this.chart)},n.prototype.render=function(i,t,r,o){var a=this,s=a.chart,l,c,h,u=a.scrollbarHeight,d,f=a.xAxis,p=f.pointRange||0,m=f.navigatorAxis.fake?s.xAxis[0]:f,g=a.navigatorEnabled,v,_,y=a.rendered,b=s.inverted,x,E,C,$,S=s.xAxis[0].minRange,P=s.xAxis[0].options.maxRange;if(!(this.hasDragged&&!defined$s(r))){if(i=correctFloat$4(i-p/2),t=correctFloat$4(t+p/2),!isNumber$p(i)||!isNumber$p(t))if(y)r=0,o=pick$X(f.width,m.width);else return;a.left=pick$X(f.left,s.plotLeft+u+(b?s.plotWidth:0)),a.size=_=d=pick$X(f.len,(b?s.plotHeight:s.plotWidth)-2*u),b?l=u:l=d+2*u,r=pick$X(r,f.toPixels(i,!0)),o=pick$X(o,f.toPixels(t,!0)),(!isNumber$p(r)||Math.abs(r)===1/0)&&(r=0,o=l),E=f.toValue(r,!0),C=f.toValue(o,!0),$=Math.abs(correctFloat$4(C-E)),$<S?this.grabbedLeft?r=f.toPixels(C-S-p,!0):this.grabbedRight&&(o=f.toPixels(E+S+p,!0)):defined$s(P)&&correctFloat$4($-p)>P&&(this.grabbedLeft?r=f.toPixels(C-P-p,!0):this.grabbedRight&&(o=f.toPixels(E+P+p,!0))),a.zoomedMax=clamp$b(Math.max(r,o),0,_),a.zoomedMin=clamp$b(a.fixedWidth?a.zoomedMax-a.fixedWidth:Math.min(r,o),0,_),a.range=a.zoomedMax-a.zoomedMin,_=Math.round(a.zoomedMax),v=Math.round(a.zoomedMin),g&&(a.navigatorGroup.attr({visibility:"visible"}),x=y&&!a.hasDragged?"animate":"attr",a.drawMasks(v,_,b,x),a.drawOutline(v,_,b,x),a.navigatorOptions.handles.enabled&&(a.drawHandle(v,0,b,x),a.drawHandle(_,1,b,x))),a.scrollbar&&(b?(h=a.top-u,c=a.left-u+(g||!m.opposite?0:(m.titleOffset||0)+m.axisTitleMargin),u=d+2*u):(h=a.top+(g?a.height:-u),c=a.left-u),a.scrollbar.position(c,h,l,u),a.scrollbar.setRange(a.zoomedMin/(d||1),a.zoomedMax/(d||1))),a.rendered=!0}},n.prototype.addMouseEvents=function(){var i=this,t=i.chart,r=t.container,o=[],a,s;i.mouseMoveHandler=a=function(l){i.onMouseMove(l)},i.mouseUpHandler=s=function(l){i.onMouseUp(l)},o=i.getPartsEvents("mousedown"),o.push(addEvent$F(t.renderTo,"mousemove",a),addEvent$F(r.ownerDocument,"mouseup",s)),hasTouch&&(o.push(addEvent$F(t.renderTo,"touchmove",a),addEvent$F(r.ownerDocument,"touchend",s)),o.concat(i.getPartsEvents("touchstart"))),i.eventsToUnbind=o,i.series&&i.series[0]&&o.push(addEvent$F(i.series[0].xAxis,"foundExtremes",function(){t.navigator.modifyNavigatorAxisExtremes()}))},n.prototype.getPartsEvents=function(i){var t=this,r=[];return["shades","handles"].forEach(function(o){t[o].forEach(function(a,s){r.push(addEvent$F(a.element,i,function(l){t[o+"Mousedown"](l,s)}))})}),r},n.prototype.shadesMousedown=function(i,t){i=this.chart.pointer.normalize(i);var r=this,o=r.chart,a=r.xAxis,s=r.zoomedMin,l=r.left,c=r.size,h=r.range,u=i.chartX,d,f,p,m;o.inverted&&(u=i.chartY,l=r.top),t===1?(r.grabbedCenter=u,r.fixedWidth=h,r.dragOffset=u-s):(m=u-l-h/2,t===0?m=Math.max(0,m):t===2&&m+h>=c&&(m=c-h,r.reversedExtremes?(m-=h,f=r.getUnionExtremes().dataMin):d=r.getUnionExtremes().dataMax),m!==s&&(r.fixedWidth=h,p=a.navigatorAxis.toFixedRange(m,m+h,f,d),defined$s(p.min)&&o.xAxis[0].setExtremes(Math.min(p.min,p.max),Math.max(p.min,p.max),!0,null,{trigger:"navigator"})))},n.prototype.handlesMousedown=function(i,t){i=this.chart.pointer.normalize(i);var r=this,o=r.chart,a=o.xAxis[0],s=r.reversedExtremes;t===0?(r.grabbedLeft=!0,r.otherHandlePos=r.zoomedMax,r.fixedExtreme=s?a.min:a.max):(r.grabbedRight=!0,r.otherHandlePos=r.zoomedMin,r.fixedExtreme=s?a.max:a.min),o.fixedRange=null},n.prototype.onMouseMove=function(i){var t=this,r=t.chart,o=t.left,a=t.navigatorSize,s=t.range,l=t.dragOffset,c=r.inverted,h;(!i.touches||i.touches[0].pageX!==0)&&(i=r.pointer.normalize(i),h=i.chartX,c&&(o=t.top,h=i.chartY),t.grabbedLeft?(t.hasDragged=!0,t.render(0,0,h-o,t.otherHandlePos)):t.grabbedRight?(t.hasDragged=!0,t.render(0,0,t.otherHandlePos,h-o)):t.grabbedCenter&&(t.hasDragged=!0,h<l?h=l:h>a+l-s&&(h=a+l-s),t.render(0,0,h-l,h-l+s)),t.hasDragged&&t.scrollbar&&pick$X(t.scrollbar.options.liveRedraw,H.svg&&!isTouchDevice$1&&!this.chart.isBoosting)&&(i.DOMType=i.type,setTimeout(function(){t.onMouseUp(i)},0)))},n.prototype.onMouseUp=function(i){var t=this,r=t.chart,o=t.xAxis,a=t.scrollbar,s=i.DOMEvent||i,l=r.inverted,c=t.rendered&&!t.hasDragged?"animate":"attr",h,u,d,f,p,m;(t.hasDragged&&(!a||!a.hasDragged)||i.trigger==="scrollbar")&&(d=t.getUnionExtremes(),t.zoomedMin===t.otherHandlePos?f=t.fixedExtreme:t.zoomedMax===t.otherHandlePos&&(p=t.fixedExtreme),t.zoomedMax===t.size&&(p=t.reversedExtremes?d.dataMin:d.dataMax),t.zoomedMin===0&&(f=t.reversedExtremes?d.dataMax:d.dataMin),m=o.navigatorAxis.toFixedRange(t.zoomedMin,t.zoomedMax,f,p),defined$s(m.min)&&r.xAxis[0].setExtremes(Math.min(m.min,m.max),Math.max(m.min,m.max),!0,t.hasDragged?!1:null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:s})),i.DOMType!=="mousemove"&&i.DOMType!=="touchmove"&&(t.grabbedLeft=t.grabbedRight=t.grabbedCenter=t.fixedWidth=t.fixedExtreme=t.otherHandlePos=t.hasDragged=t.dragOffset=null),t.navigatorEnabled&&isNumber$p(t.zoomedMin)&&isNumber$p(t.zoomedMax)&&(u=Math.round(t.zoomedMin),h=Math.round(t.zoomedMax),t.shades&&t.drawMasks(u,h,l,c),t.outline&&t.drawOutline(u,h,l,c),t.navigatorOptions.handles.enabled&&Object.keys(t.handles).length===t.handles.length&&(t.drawHandle(u,0,l,c),t.drawHandle(h,1,l,c)))},n.prototype.removeEvents=function(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(i){i()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()},n.prototype.removeBaseSeriesEvents=function(){var i=this.baseSeries||[];this.navigatorEnabled&&i[0]&&(this.navigatorOptions.adaptToUpdatedData!==!1&&i.forEach(function(t){removeEvent$3(t,"updatedData",this.updatedDataHandler)},this),i[0].xAxis&&removeEvent$3(i[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))},n.prototype.init=function(i){var t=i.options,r=t.navigator,o=r.enabled,a=t.scrollbar,s=a.enabled,l=o?r.height:0,c=s?a.height:0;this.handles=[],this.shades=[],this.chart=i,this.setBaseSeries(),this.height=l,this.scrollbarHeight=c,this.scrollbarEnabled=s,this.navigatorEnabled=o,this.navigatorOptions=r,this.scrollbarOptions=a,this.outlineHeight=l+c,this.opposite=pick$X(r.opposite,!!(!o&&i.inverted));var h=this,u=h.baseSeries,d=i.xAxis.length,f=i.yAxis.length,p=u&&u[0]&&u[0].xAxis||i.xAxis[0]||{options:{}};i.isDirtyBox=!0,h.navigatorEnabled?(h.xAxis=new Axis(i,merge$R({breaks:p.options.breaks,ordinal:p.options.ordinal},r.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:d,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},i.inverted?{offsets:[c,0,-c,0],width:l}:{offsets:[0,-c,0,c],height:l})),h.yAxis=new Axis(i,merge$R(r.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:f,isInternal:!0,reversed:pick$X(r.yAxis&&r.yAxis.reversed,i.yAxis[0]&&i.yAxis[0].reversed,!1),zoomEnabled:!1},i.inverted?{width:l}:{height:l})),u||r.series.data?h.updateNavigatorSeries(!1):i.series.length===0&&(h.unbindRedraw=addEvent$F(i,"beforeRedraw",function(){i.series.length>0&&!h.series&&(h.setBaseSeries(),h.unbindRedraw())})),h.reversedExtremes=i.inverted&&!h.xAxis.reversed||!i.inverted&&h.xAxis.reversed,h.renderElements(),h.addMouseEvents()):(h.xAxis={chart:i,navigatorAxis:{fake:!0},translate:function(m,g){var v=i.xAxis[0],_=v.getExtremes(),y=v.len-2*c,b=numExt("min",v.options.min,_.dataMin),x=numExt("max",v.options.max,_.dataMax)-b;return g?m*x/y+b:y*(m-b)/x},toPixels:function(m){return this.translate(m)},toValue:function(m){return this.translate(m,!0)}},h.xAxis.navigatorAxis.axis=h.xAxis,h.xAxis.navigatorAxis.toFixedRange=NavigatorAxis.AdditionsClass.prototype.toFixedRange.bind(h.xAxis.navigatorAxis)),i.options.scrollbar.enabled&&(i.scrollbar=h.scrollbar=new Scrollbar(i.renderer,merge$R(i.options.scrollbar,{margin:h.navigatorEnabled?0:10,vertical:i.inverted}),i),addEvent$F(h.scrollbar,"changed",function(m){var g=h.size,v=g*this.to,_=g*this.from;h.hasDragged=h.scrollbar.hasDragged,h.render(0,0,_,v),this.shouldUpdateExtremes(m.DOMType)&&setTimeout(function(){h.onMouseUp(m)})})),h.addBaseSeriesEvents(),h.addChartEvents()},n.prototype.getUnionExtremes=function(i){var t=this.chart.xAxis[0],r=this.xAxis,o=r.options,a=t.options,s;return(!i||t.dataMin!==null)&&(s={dataMin:pick$X(o&&o.min,numExt("min",a.min,t.dataMin,r.dataMin,r.min)),dataMax:pick$X(o&&o.max,numExt("max",a.max,t.dataMax,r.dataMax,r.max))}),s},n.prototype.setBaseSeries=function(i,t){var r=this.chart,o=this.baseSeries=[];i=i||r.options&&r.options.navigator.baseSeries||(r.series.length?find$c(r.series,function(a){return!a.options.isInternal}).index:0),(r.series||[]).forEach(function(a,s){!a.options.isInternal&&(a.options.showInNavigator||(s===i||a.options.id===i)&&a.options.showInNavigator!==!1)&&o.push(a)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,t)},n.prototype.updateNavigatorSeries=function(i,t){var r=this,o=r.chart,a=r.baseSeries,s,l,c=r.navigatorOptions.series,h,u={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},d=r.series=(r.series||[]).filter(function(f){var p=f.baseSeries;return a.indexOf(p)<0?(p&&(removeEvent$3(p,"updatedData",r.updatedDataHandler),delete p.navigatorSeries),f.chart&&f.destroy(),!1):!0});a&&a.length&&a.forEach(function(p){var m=p.navigatorSeries,g=extend$13({color:p.color,visible:p.visible},isArray$8(c)?defaultOptions$7.navigator.series:c);if(!(m&&r.navigatorOptions.adaptToUpdatedData===!1)){u.name="Navigator "+a.length,s=p.options||{},h=s.navigatorOptions||{},g.dataLabels=splat$9(g.dataLabels),l=merge$R(s,u,g,h),l.pointRange=pick$X(g.pointRange,h.pointRange,defaultOptions$7.plotOptions[l.type||"line"].pointRange);var v=h.data||g.data;r.hasNavigatorData=r.hasNavigatorData||!!v,l.data=v||s.data&&s.data.slice(0),m&&m.options?m.update(l,t):(p.navigatorSeries=o.initSeries(l),p.navigatorSeries.baseSeries=p,d.push(p.navigatorSeries))}}),(c.data&&!(a&&a.length)||isArray$8(c))&&(r.hasNavigatorData=!1,c=splat$9(c),c.forEach(function(f,p){u.name="Navigator "+(d.length+1),l=merge$R(defaultOptions$7.navigator.series,{color:o.series[p]&&!o.series[p].options.isInternal&&o.series[p].color||o.options.colors[p]||o.options.colors[0]},u,f),l.data=f.data,l.data&&(r.hasNavigatorData=!0,d.push(o.initSeries(l)))})),i&&this.addBaseSeriesEvents()},n.prototype.addBaseSeriesEvents=function(){var i=this,t=i.baseSeries||[];t[0]&&t[0].xAxis&&t[0].eventsToUnbind.push(addEvent$F(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),t.forEach(function(r){r.eventsToUnbind.push(addEvent$F(r,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),r.eventsToUnbind.push(addEvent$F(r,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),this.navigatorOptions.adaptToUpdatedData!==!1&&r.xAxis&&r.eventsToUnbind.push(addEvent$F(r,"updatedData",this.updatedDataHandler)),r.eventsToUnbind.push(addEvent$F(r,"remove",function(){this.navigatorSeries&&(erase$1(i.series,this.navigatorSeries),defined$s(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))},this)},n.prototype.getBaseSeriesMin=function(i){return this.baseSeries.reduce(function(t,r){return Math.min(t,r.xData?r.xData[0]:t)},i)},n.prototype.modifyNavigatorAxisExtremes=function(){var i=this.xAxis,t;typeof i.getExtremes<"u"&&(t=this.getUnionExtremes(!0),t&&(t.dataMin!==i.min||t.dataMax!==i.max)&&(i.min=t.dataMin,i.max=t.dataMax))},n.prototype.modifyBaseAxisExtremes=function(){var i=this,t=i.chart.navigator,r=i.getExtremes(),o=r.min,a=r.max,s=r.dataMin,l=r.dataMax,c=a-o,h=t.stickToMin,u=t.stickToMax,d=pick$X(i.options.overscroll,0),f,p,m=t.series&&t.series[0],g=!!i.setExtremes,v=i.eventArgs&&i.eventArgs.trigger==="rangeSelectorButton";v||(h&&(p=s,f=p+c),u&&(f=l+d,h||(p=Math.max(s,f-c,t.getBaseSeriesMin(m&&m.xData?m.xData[0]:-Number.MAX_VALUE)))),g&&(h||u)&&isNumber$p(p)&&(i.min=i.userMin=p,i.max=i.userMax=f)),t.stickToMin=t.stickToMax=null},n.prototype.updatedDataHandler=function(){var i=this.chart.navigator,t=this,r=this.navigatorSeries;i.stickToMax=i.reversedExtremes?Math.round(i.zoomedMin)===0:Math.round(i.zoomedMax)>=Math.round(i.size),i.stickToMin=i.shouldStickToMin(t,i),r&&!i.hasNavigatorData&&(r.options.pointStart=t.xData[0],r.setData(t.options.data,!1,null,!1))},n.prototype.shouldStickToMin=function(i,t){var r=t.getBaseSeriesMin(i.xData[0]),o=i.xAxis,a=o.max,s=o.min,l=o.options.range,c=!0;return isNumber$p(a)&&isNumber$p(s)?l&&a-r>0?c=a-r<l&&!this.chart.fixedRange:c=s<=r:c=!1,c},n.prototype.addChartEvents=function(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(addEvent$F(this.chart,"redraw",function(){var i=this.navigator,t=i&&(i.baseSeries&&i.baseSeries[0]&&i.baseSeries[0].xAxis||this.xAxis[0]);t&&i.render(t.min,t.max)}),addEvent$F(this.chart,"getMargins",function(){var i=this,t=i.navigator,r=t.opposite?"plotTop":"marginBottom";i.inverted&&(r=t.opposite?"marginRight":"plotLeft"),i[r]=(i[r]||0)+(t.navigatorEnabled||!i.inverted?t.outlineHeight:0)+t.navigatorOptions.margin}))},n.prototype.destroy=function(){this.removeEvents(),this.xAxis&&(erase$1(this.chart.xAxis,this.xAxis),erase$1(this.chart.axes,this.xAxis)),this.yAxis&&(erase$1(this.chart.yAxis,this.yAxis),erase$1(this.chart.axes,this.yAxis)),(this.series||[]).forEach(function(i){i.destroy&&i.destroy()}),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(function(i){this[i]&&this[i].destroy&&this[i].destroy(),this[i]=null},this),[this.handles].forEach(function(i){destroyObjectProperties$2(i)},this)},n}();H.Navigator||(H.Navigator=Navigator,NavigatorAxis.compose(Axis),addEvent$F(Chart$1,"beforeShowResetZoom",function(){var n=this.options,i=n.navigator,t=n.rangeSelector;if((i&&i.enabled||t&&t.enabled)&&(!isTouchDevice$1&&n.chart.zoomType==="x"||isTouchDevice$1&&n.chart.pinchType==="x"))return!1}),addEvent$F(Chart$1,"beforeRender",function(){var n=this.options;(n.navigator.enabled||n.scrollbar.enabled)&&(this.scroller=this.navigator=new Navigator(this))}),addEvent$F(Chart$1,"afterSetChartSize",function(){var n=this.legend,i=this.navigator,t,r,o,a;i&&(r=n&&n.options,o=i.xAxis,a=i.yAxis,t=i.scrollbarHeight,this.inverted?(i.left=i.opposite?this.chartWidth-t-i.height:this.spacing[3]+t,i.top=this.plotTop+t):(i.left=pick$X(o.left,this.plotLeft+t),i.top=i.navigatorOptions.top||this.chartHeight-i.height-t-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(r&&r.verticalAlign==="bottom"&&r.layout!=="proximate"&&r.enabled&&!r.floating?n.legendHeight+pick$X(r.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),o&&a&&(this.inverted?o.options.left=a.options.left=i.left:o.options.top=a.options.top=i.top,o.setAxisSize(),a.setAxisSize()))}),addEvent$F(Chart$1,"update",function(n){var i=n.options.navigator||{},t=n.options.scrollbar||{};!this.navigator&&!this.scroller&&(i.enabled||t.enabled)&&(merge$R(!0,this.options.navigator,i),merge$R(!0,this.options.scrollbar,t),delete n.options.navigator,delete n.options.scrollbar)}),addEvent$F(Chart$1,"afterUpdate",function(n){!this.navigator&&!this.scroller&&(this.options.navigator.enabled||this.options.scrollbar.enabled)&&(this.scroller=this.navigator=new Navigator(this),pick$X(n.redraw,!0)&&this.redraw(n.animation))}),addEvent$F(Chart$1,"afterAddSeries",function(){this.navigator&&this.navigator.setBaseSeries(null,!1)}),addEvent$F(Series$e,"afterUpdate",function(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}),Chart$1.prototype.callbacks.push(function(n){var i,t=n.navigator;t&&n.xAxis[0]&&(i=n.xAxis[0].getExtremes(),t.render(i.min,i.max))}));H.Navigator=Navigator;H.Navigator;var defaultOptions$6=DefaultOptions.defaultOptions,addEvent$E=Utilities.addEvent,createElement$3=Utilities.createElement,css$2=Utilities.css,defined$r=Utilities.defined,destroyObjectProperties$1=Utilities.destroyObjectProperties,discardElement$2=Utilities.discardElement,extend$12=Utilities.extend,find$b=Utilities.find,fireEvent$j=Utilities.fireEvent,isNumber$o=Utilities.isNumber,merge$Q=Utilities.merge,objectEach$d=Utilities.objectEach,pad=Utilities.pad,pick$W=Utilities.pick,pInt$3=Utilities.pInt,splat$8=Utilities.splat;extend$12(defaultOptions$6,{rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%b %e, %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:palette.highlightColor80,cursor:"pointer"},labelStyle:{color:palette.neutralColor60}}});extend$12(defaultOptions$6.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"→"});var RangeSelector=function(){function n(i){this.buttons=void 0,this.buttonOptions=n.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=i,this.init(i)}return n.prototype.clickButton=function(i,t){var r=this,o=r.chart,a=r.buttonOptions[i],s=o.xAxis[0],l=o.scroller&&o.scroller.getUnionExtremes()||s||{},c=l.dataMin,h=l.dataMax,u,d=s&&Math.round(Math.min(s.max,pick$W(h,s.max))),f=a.type,p,m=a._range,g,v,_,y,b,x=a.dataGrouping;if(!(c===null||h===null)){if(o.fixedRange=m,r.setSelected(i),x&&(this.forcedDataGrouping=!0,Axis.prototype.setDataGrouping.call(s||{chart:this.chart},x,!1),this.frozenStates=a.preserveDataGrouping),f==="month"||f==="year")s?(y={range:a,max:d,chart:o,dataMin:c,dataMax:h},u=s.minFromRange.call(y),isNumber$o(y.newMax)&&(d=y.newMax)):m=a;else if(m)u=Math.max(d-m,c),d=Math.min(u+m,h);else if(f==="ytd")if(s)typeof h>"u"&&(c=Number.MAX_VALUE,h=Number.MIN_VALUE,o.series.forEach(function(E){var C=E.xData;c=Math.min(C[0],c),h=Math.max(C[C.length-1],h)}),t=!1),b=r.getYTDExtremes(h,c,o.time.useUTC),u=g=b.min,d=b.max;else{r.deferredYTDClick=i;return}else f==="all"&&s&&(o.navigator&&o.navigator.baseSeries[0]&&(o.navigator.baseSeries[0].xAxis.options.range=void 0),u=c,d=h);defined$r(u)&&(u+=a._offsetMin),defined$r(d)&&(d+=a._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=i+1),s?s.setExtremes(u,d,pick$W(t,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:a}):(p=splat$8(o.options.xAxis)[0],_=p.range,p.range=m,v=p.min,p.min=g,addEvent$E(o,"load",function(){p.range=_,p.min=v})),fireEvent$j(this,"afterBtnClick")}},n.prototype.setSelected=function(i){this.selected=this.options.selected=i},n.prototype.init=function(i){var t=this,r=i.options.rangeSelector,o=r.buttons||t.defaultButtons.slice(),a=r.selected,s=function(){var l=t.minInput,c=t.maxInput;l&&l.blur&&fireEvent$j(l,"blur"),c&&c.blur&&fireEvent$j(c,"blur")};t.chart=i,t.options=r,t.buttons=[],t.buttonOptions=o,this.eventsToUnbind=[],this.eventsToUnbind.push(addEvent$E(i.container,"mousedown",s)),this.eventsToUnbind.push(addEvent$E(i,"resize",s)),o.forEach(t.computeButtonRange),typeof a<"u"&&o[a]&&this.clickButton(a,!1),this.eventsToUnbind.push(addEvent$E(i,"load",function(){i.xAxis&&i.xAxis[0]&&addEvent$E(i.xAxis[0],"setExtremes",function(l){this.max-this.min!==i.fixedRange&&l.trigger!=="rangeSelectorButton"&&l.trigger!=="updatedData"&&t.forcedDataGrouping&&!t.frozenStates&&this.setDataGrouping(!1,!1)})}))},n.prototype.updateButtonStates=function(){var i=this,t=this.chart,r=this.dropdown,o=t.xAxis[0],a=Math.round(o.max-o.min),s=!o.hasVisibleSeries,l=24*36e5,c=t.scroller&&t.scroller.getUnionExtremes()||o,h=c.dataMin,u=c.dataMax,d=i.getYTDExtremes(u,h,t.time.useUTC),f=d.min,p=d.max,m=i.selected,g=isNumber$o(m),v=i.options.allButtonsEnabled,_=i.buttons;i.buttonOptions.forEach(function(y,b){var x=y._range,E=y.type,C=y.count||1,$=_[b],S=0,P,T,k=y._offsetMax-y._offsetMin,L=b===m,N=x>u-h,z=x<o.minRange,B=!1,U=!1,D=x===a;(E==="month"||E==="year")&&a+36e5>={month:28,year:365}[E]*l*C-k&&a-36e5<={month:31,year:366}[E]*l*C+k?D=!0:E==="ytd"?(D=p-f+k===a,B=!L):E==="all"&&(D=o.max-o.min>=u-h,U=!L&&g&&D),P=!v&&(N||z||U||s),T=L&&D||D&&!g&&!B||L&&i.frozenStates,P?S=3:T&&(g=!0,S=2),$.state!==S&&($.setState(S),r&&(r.options[b+1].disabled=P,S===2&&(r.selectedIndex=b+1)),S===0&&m===b&&i.setSelected())})},n.prototype.computeButtonRange=function(i){var t=i.type,r=i.count||1,o={millisecond:1,second:1e3,minute:60*1e3,hour:3600*1e3,day:24*3600*1e3,week:7*24*3600*1e3};o[t]?i._range=o[t]*r:(t==="month"||t==="year")&&(i._range={month:30,year:365}[t]*24*36e5*r),i._offsetMin=pick$W(i.offsetMin,0),i._offsetMax=pick$W(i.offsetMax,0),i._range+=i._offsetMax-i._offsetMin},n.prototype.getInputValue=function(i){var t=i==="min"?this.minInput:this.maxInput,r=this.chart.options.rangeSelector,o=this.chart.time;return t?(t.type==="text"&&r.inputDateParser||this.defaultInputDateParser)(t.value,o.useUTC,o):0},n.prototype.setInputValue=function(i,t){var r=this.options,o=this.chart.time,a=i==="min"?this.minInput:this.maxInput,s=i==="min"?this.minDateBox:this.maxDateBox;if(a){var l=a.getAttribute("data-hc-time"),c=defined$r(l)?Number(l):void 0;if(defined$r(t)){var h=c;defined$r(h)&&a.setAttribute("data-hc-time-previous",h),a.setAttribute("data-hc-time",t),c=t}a.value=o.dateFormat(this.inputTypeFormats[a.type]||r.inputEditDateFormat,c),s&&s.attr({text:o.dateFormat(r.inputDateFormat,c)})}},n.prototype.setInputExtremes=function(i,t,r){var o=i==="min"?this.minInput:this.maxInput;if(o){var a=this.inputTypeFormats[o.type],s=this.chart.time;if(a){var l=s.dateFormat(a,t);o.min!==l&&(o.min=l);var c=s.dateFormat(a,r);o.max!==c&&(o.max=c)}}},n.prototype.showInput=function(i){var t=i==="min"?this.minDateBox:this.maxDateBox,r=i==="min"?this.minInput:this.maxInput;if(r&&t&&this.inputGroup){var o=r.type==="text",a=this.inputGroup,s=a.translateX,l=a.translateY,c=this.options.inputBoxWidth;css$2(r,{width:o?t.width+(c?-2:20)+"px":"auto",height:o?t.height-2+"px":"auto",border:"2px solid silver"}),o&&c?css$2(r,{left:s+t.x+"px",top:l+"px"}):css$2(r,{left:Math.min(Math.round(t.x+s-(r.offsetWidth-t.width)/2),this.chart.chartWidth-r.offsetWidth)+"px",top:l-(r.offsetHeight-t.height)/2+"px"})}},n.prototype.hideInput=function(i){var t=i==="min"?this.minInput:this.maxInput;t&&css$2(t,{top:"-9999em",border:0,width:"1px",height:"1px"})},n.prototype.defaultInputDateParser=function(i,t,r){var o=function(h){return h.length>6&&(h.lastIndexOf("-")===h.length-6||h.lastIndexOf("+")===h.length-6)},a=i.split("/").join("-").split(" ").join("T");if(a.indexOf("T")===-1&&(a+="T00:00"),t)a+="Z";else if(H.isSafari&&!o(a)){var s=new Date(a).getTimezoneOffset()/60;a+=s<=0?"+"+pad(-s)+":00":"-"+pad(s)+":00"}var l=Date.parse(a);if(!isNumber$o(l)){var c=i.split("-");l=Date.UTC(pInt$3(c[0]),pInt$3(c[1])-1,pInt$3(c[2]))}return r&&t&&isNumber$o(l)&&(l+=r.getTimezoneOffset(l)),l},n.prototype.drawInput=function(i){var t=this,r=t.chart,o=t.div,a=t.inputGroup,s=this,l=r.renderer.style||{},c=r.renderer,h=r.options.rangeSelector,u=defaultOptions$6.lang,d=i==="min";function f(){var y=s.getInputValue(i),b=r.xAxis[0],x=r.scroller&&r.scroller.xAxis?r.scroller.xAxis:b,E=x.dataMin,C=x.dataMax,$=s.maxInput,S=s.minInput;y!==Number(v.getAttribute("data-hc-time-previous"))&&isNumber$o(y)&&(v.setAttribute("data-hc-time-previous",y),d&&$&&isNumber$o(E)?y>Number($.getAttribute("data-hc-time"))?y=void 0:y<E&&(y=E):S&&isNumber$o(C)&&(y<Number(S.getAttribute("data-hc-time"))?y=void 0:y>C&&(y=C)),typeof y<"u"&&b.setExtremes(d?y:b.min,d?b.max:y,void 0,void 0,{trigger:"rangeSelectorInput"}))}var p=u[d?"rangeSelectorFrom":"rangeSelectorTo"]||"",m=c.label(p,0).addClass("highcharts-range-label").attr({padding:p?2:0,height:p?h.inputBoxHeight:0}).add(a),g=c.label("",0).addClass("highcharts-range-input").attr({padding:2,width:h.inputBoxWidth,height:h.inputBoxHeight,"text-align":"center"}).on("click",function(){s.showInput(i),s[i+"Input"].focus()});r.styledMode||g.attr({stroke:h.inputBoxBorderColor,"stroke-width":1}),g.add(a);var v=createElement$3("input",{name:i,className:"highcharts-range-selector"},void 0,o);v.setAttribute("type",preferredInputType(h.inputDateFormat||"%b %e, %Y")),r.styledMode||(m.css(merge$Q(l,h.labelStyle)),g.css(merge$Q({color:palette.neutralColor80},l,h.inputStyle)),css$2(v,extend$12({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:l.fontSize,fontFamily:l.fontFamily,top:"-9999em"},h.inputStyle))),v.onfocus=function(){s.showInput(i)},v.onblur=function(){v===H.doc.activeElement&&f(),s.hideInput(i),s.setInputValue(i),v.blur()};var _=!1;return v.onchange=function(){_||(f(),s.hideInput(i),v.blur())},v.onkeypress=function(y){y.keyCode===13&&f()},v.onkeydown=function(y){_=!0,(y.keyCode===38||y.keyCode===40)&&f()},v.onkeyup=function(){_=!1},{dateBox:g,input:v,label:m}},n.prototype.getPosition=function(){var i=this.chart,t=i.options.rangeSelector,r=t.verticalAlign==="top"?i.plotTop-i.axisOffset[0]:0;return{buttonTop:r+t.buttonPosition.y,inputTop:r+t.inputPosition.y-10}},n.prototype.getYTDExtremes=function(i,t,r){var o=this.chart.time,a,s=new o.Date(i),l=o.get("FullYear",s),c=r?o.Date.UTC(l,0,1):+new o.Date(l,0,1);a=Math.max(t,c);var h=s.getTime();return{max:Math.min(i||h,h),min:a}},n.prototype.render=function(i,t){var r=this.chart,o=r.renderer,a=r.container,s=r.options,l=s.rangeSelector,c=pick$W(s.chart.style&&s.chart.style.zIndex,0)+1,h=l.inputEnabled,u=this.rendered;if(l.enabled!==!1){if(!u&&(this.group=o.g("range-selector-group").attr({zIndex:7}).add(),this.div=createElement$3("div",void 0,{position:"relative",height:0,zIndex:c}),this.buttonOptions.length&&this.renderButtons(),a.parentNode&&a.parentNode.insertBefore(this.div,a),h)){this.inputGroup=o.g("input-group").add(this.group);var d=this.drawInput("min");this.minDateBox=d.dateBox,this.minLabel=d.label,this.minInput=d.input;var f=this.drawInput("max");this.maxDateBox=f.dateBox,this.maxLabel=f.label,this.maxInput=f.input}if(h){this.setInputValue("min",i),this.setInputValue("max",t);var p=r.scroller&&r.scroller.getUnionExtremes()||r.xAxis[0]||{};if(defined$r(p.dataMin)&&defined$r(p.dataMax)){var m=r.xAxis[0].minRange||0;this.setInputExtremes("min",p.dataMin,Math.min(p.dataMax,this.getInputValue("max"))-m),this.setInputExtremes("max",Math.max(p.dataMin,this.getInputValue("min"))+m,p.dataMax)}if(this.inputGroup){var g=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(function(v){if(v){var _=v.getBBox().width;_&&(v.attr({x:g}),g+=_+l.inputSpacing)}})}}this.alignElements(),this.rendered=!0}},n.prototype.renderButtons=function(){var i=this,t=this,r=t.buttons,o=t.chart,a=t.options,s=defaultOptions$6.lang,l=o.renderer,c=merge$Q(a.buttonTheme),h=c&&c.states,u=c.width||28;delete c.width,delete c.states,this.buttonGroup=l.g("range-selector-buttons").add(this.group);var d=this.dropdown=createElement$3("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);addEvent$E(d,"touchstart",function(){d.style.fontSize="16px"}),[[H.isMS?"mouseover":"mouseenter"],[H.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(function(f){var p=f[0],m=f[1];addEvent$E(d,p,function(){var g=r[i.currentButtonIndex()];g&&fireEvent$j(g.element,m||p)})}),this.zoomText=l.label(s&&s.rangeSelectorZoom||"",0).attr({padding:a.buttonTheme.padding,height:a.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(a.labelStyle),c["stroke-width"]=pick$W(c["stroke-width"],0)),createElement$3("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,d),this.buttonOptions.forEach(function(f,p){createElement$3("option",{textContent:f.title||f.text},void 0,d),r[p]=l.button(f.text,0,0,function(m){var g=f.events&&f.events.click,v;g&&(v=g.call(f,m)),v!==!1&&i.clickButton(p),i.isActive=!0},c,h&&h.hover,h&&h.select,h&&h.disabled).attr({"text-align":"center",width:u}).add(i.buttonGroup),f.title&&r[p].attr("title",f.title)})},n.prototype.alignElements=function(){var i=this,t=this,r=t.buttonGroup,o=t.buttons,a=t.chart,s=t.group,l=t.inputGroup,c=t.options,h=t.zoomText,u=a.options,d=u.exporting&&u.exporting.enabled!==!1&&u.navigation&&u.navigation.buttonOptions,f=c.buttonPosition,p=c.inputPosition,m=c.verticalAlign,g=function(z,B){return d&&i.titleCollision(a)&&m==="top"&&B.align==="right"&&B.y-z.getBBox().height-12<(d.y||0)+(d.height||0)+a.spacing[0]?-40:0},v=a.plotLeft;if(s&&f&&p){var _=f.x-a.spacing[3];if(r){if(this.positionButtons(),!this.initialButtonGroupWidth){var y=0;h&&(y+=h.getBBox().width+5),o.forEach(function(z,B){y+=z.width,B!==o.length-1&&(y+=c.buttonSpacing)}),this.initialButtonGroupWidth=y}v-=a.spacing[3],this.updateButtonStates();var b=g(r,f);this.alignButtonGroup(b),s.placed=r.placed=a.hasLoaded}var x=0;l&&(x=g(l,p),p.align==="left"?_=v:p.align==="right"&&(_=-Math.max(a.axisOffset[1],-x)),l.align({y:p.y,width:l.getBBox().width,align:p.align,x:p.x+_-2},!0,a.spacingBox),l.placed=a.hasLoaded),this.handleCollision(x),s.align({verticalAlign:m},!0,a.spacingBox);var E=s.alignAttr.translateY,C=s.getBBox().height+20,$=0;if(m==="bottom"){var S=a.legend&&a.legend.options,P=S&&S.verticalAlign==="bottom"&&S.enabled&&!S.floating?a.legend.legendHeight+pick$W(S.margin,10):0;C=C+P-20,$=E-C-(c.floating?0:c.y)-(a.titleOffset?a.titleOffset[2]:0)-10}m==="top"?(c.floating&&($=0),a.titleOffset&&a.titleOffset[0]&&($=a.titleOffset[0]),$+=a.margin[0]-a.spacing[0]||0):m==="middle"&&(p.y===f.y?$=E:(p.y||f.y)&&(p.y<0||f.y<0?$-=Math.min(p.y,f.y):$=E-C)),s.translate(c.x,c.y+Math.floor($));var T=this,k=T.minInput,L=T.maxInput,N=T.dropdown;c.inputEnabled&&k&&L&&(k.style.marginTop=s.translateY+"px",L.style.marginTop=s.translateY+"px"),N&&(N.style.marginTop=s.translateY+"px")}},n.prototype.alignButtonGroup=function(i,t){var r=this,o=r.chart,a=r.options,s=r.buttonGroup;r.buttons;var l=a.buttonPosition,c=o.plotLeft-o.spacing[3],h=l.x-o.spacing[3];l.align==="right"?h+=i-c:l.align==="center"&&(h-=c/2),s&&s.align({y:l.y,width:pick$W(t,this.initialButtonGroupWidth),align:l.align,x:h},!0,o.spacingBox)},n.prototype.positionButtons=function(){var i=this,t=i.buttons,r=i.chart,o=i.options,a=i.zoomText,s=r.hasLoaded?"animate":"attr",l=o.buttonPosition,c=r.plotLeft,h=c;a&&a.visibility!=="hidden"&&(a[s]({x:pick$W(c+l.x,c)}),h+=l.x+a.getBBox().width+5),this.buttonOptions.forEach(function(u,d){t[d].visibility!=="hidden"?(t[d][s]({x:h}),h+=t[d].width+o.buttonSpacing):t[d][s]({x:c})})},n.prototype.handleCollision=function(i){var t=this,r=this,o=r.chart,a=r.buttonGroup,s=r.inputGroup,l=this.options,c=l.buttonPosition,h=l.dropdown,u=l.inputPosition,d=function(){var m=0;return t.buttons.forEach(function(g){var v=g.getBBox();v.width>m&&(m=v.width)}),m},f=function(m){if(s&&a){var g=s.alignAttr.translateX+s.alignOptions.x-i+s.getBBox().x+2,v=s.alignOptions.width,_=a.alignAttr.translateX+a.getBBox().x;return _+m>g&&g+v>_&&c.y<u.y+s.getBBox().height}return!1},p=function(){s&&a&&s.attr({translateX:s.alignAttr.translateX+(o.axisOffset[1]>=-i?0:-i),translateY:s.alignAttr.translateY+a.getBBox().height+10})};if(a){if(h==="always"){this.collapseButtons(i),f(d())&&p();return}h==="never"&&this.expandButtons()}s&&a?u.align===c.align||f(this.initialButtonGroupWidth+20)?h==="responsive"?(this.collapseButtons(i),f(d())&&p()):p():h==="responsive"&&this.expandButtons():a&&h==="responsive"&&(this.initialButtonGroupWidth>o.plotWidth?this.collapseButtons(i):this.expandButtons())},n.prototype.collapseButtons=function(i){var t=this,r=t.buttons,o=t.buttonOptions,a=t.chart,s=t.dropdown,l=t.options,c=t.zoomText,h=a.userOptions.rangeSelector&&a.userOptions.rangeSelector.buttonTheme||{},u=function(p){return{text:p?p+" ▾":"▾",width:"auto",paddingLeft:pick$W(l.buttonTheme.paddingLeft,h.padding,8),paddingRight:pick$W(l.buttonTheme.paddingRight,h.padding,8)}};c&&c.hide();var d=!1;o.forEach(function(p,m){var g=r[m];g.state!==2?g.hide():(g.show(),g.attr(u(p.text)),d=!0)}),d||(s&&(s.selectedIndex=0),r[0].show(),r[0].attr(u(this.zoomText&&this.zoomText.textStr)));var f=l.buttonPosition.align;this.positionButtons(),(f==="right"||f==="center")&&this.alignButtonGroup(i,r[this.currentButtonIndex()].getBBox().width),this.showDropdown()},n.prototype.expandButtons=function(){var i=this,t=i.buttons,r=i.buttonOptions,o=i.options,a=i.zoomText;this.hideDropdown(),a&&a.show(),r.forEach(function(s,l){var c=t[l];c.show(),c.attr({text:s.text,width:o.buttonTheme.width||28,paddingLeft:pick$W(o.buttonTheme.paddingLeft,"unset"),paddingRight:pick$W(o.buttonTheme.paddingRight,"unset")}),c.state<2&&c.setState(0)}),this.positionButtons()},n.prototype.currentButtonIndex=function(){var i=this.dropdown;return i&&i.selectedIndex>0?i.selectedIndex-1:0},n.prototype.showDropdown=function(){var i=this,t=i.buttonGroup,r=i.buttons,o=i.chart,a=i.dropdown;if(t&&a){var s=t.translateX,l=t.translateY,c=r[this.currentButtonIndex()].getBBox();css$2(a,{left:o.plotLeft+s+"px",top:l+.5+"px",width:c.width+"px",height:c.height+"px"}),this.hasVisibleDropdown=!0}},n.prototype.hideDropdown=function(){var i=this.dropdown;i&&(css$2(i,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)},n.prototype.getHeight=function(){var i=this,t=i.options,r=i.group,o=t.inputPosition,a=t.buttonPosition,s=t.y,l=a.y,c=o.y,h=0,u;return t.height?t.height:(this.alignElements(),h=r?r.getBBox(!0).height+13+s:0,u=Math.min(c,l),(c<0&&l<0||c>0&&l>0)&&(h+=Math.abs(u)),h)},n.prototype.titleCollision=function(i){return!(i.options.title.text||i.options.subtitle.text)},n.prototype.update=function(i){var t=this.chart;merge$Q(!0,t.options.rangeSelector,i),this.destroy(),this.init(t),this.render()},n.prototype.destroy=function(){var i=this,t=i.minInput,r=i.maxInput;i.eventsToUnbind&&(i.eventsToUnbind.forEach(function(o){return o()}),i.eventsToUnbind=void 0),destroyObjectProperties$1(i.buttons),t&&(t.onfocus=t.onblur=t.onchange=null),r&&(r.onfocus=r.onblur=r.onchange=null),objectEach$d(i,function(o,a){o&&a!=="chart"&&(o instanceof SVGElement?o.destroy():o instanceof window.HTMLElement&&discardElement$2(o)),o!==n.prototype[a]&&(i[a]=null)},this)},n}();RangeSelector.prototype.defaultButtons=[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}];RangeSelector.prototype.inputTypeFormats={"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"};function preferredInputType(n){var i=n.indexOf("%L")!==-1;if(i)return"text";var t=["a","A","d","e","w","b","B","m","o","y","Y"].some(function(o){return n.indexOf("%"+o)!==-1}),r=["H","k","I","l","M","S"].some(function(o){return n.indexOf("%"+o)!==-1});return t&&r?"datetime-local":t?"date":r?"time":"text"}Axis.prototype.minFromRange=function(){var n=this.range,i=n.type,t,r=this.max,o,a,s=this.chart.time,l=function(c,h){var u=i==="year"?"FullYear":"Month",d=new s.Date(c),f=s.get(u,d);return s.set(u,d,f+h),f===s.get(u,d)&&s.set("Date",d,0),d.getTime()-c};return isNumber$o(n)?(t=r-n,a=n):(t=r+l(r,-n.count),this.chart&&(this.chart.fixedRange=r-t)),o=pick$W(this.dataMin,Number.MIN_VALUE),isNumber$o(t)||(t=o),t<=o&&(t=o,typeof a>"u"&&(a=l(t,n.count)),this.newMax=Math.min(t+a,this.dataMax)),isNumber$o(r)||(t=void 0),t};if(!H.RangeSelector){var chartDestroyEvents_1=[],initRangeSelector_1=function(n){var i,t=n.rangeSelector,r,o,a;function s(){t&&(i=n.xAxis[0].getExtremes(),r=n.legend,a=t&&t.options.verticalAlign,isNumber$o(i.min)&&t.render(i.min,i.max),r.display&&a==="top"&&a===r.options.verticalAlign&&(o=merge$Q(n.spacingBox),r.options.layout==="vertical"?o.y=n.plotTop:o.y+=t.getHeight(),r.group.placed=!1,r.align(o)))}if(t){var l=find$b(chartDestroyEvents_1,function(c){return c[0]===n});l||chartDestroyEvents_1.push([n,[addEvent$E(n.xAxis[0],"afterSetExtremes",function(c){t&&t.render(c.min,c.max)}),addEvent$E(n,"redraw",s)]]),s()}};addEvent$E(Chart$1,"afterGetContainer",function(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new RangeSelector(this))}),addEvent$E(Chart$1,"beforeRender",function(){var n=this,i=n.axes,t=n.rangeSelector,r;t&&(isNumber$o(t.deferredYTDClick)&&(t.clickButton(t.deferredYTDClick),delete t.deferredYTDClick),i.forEach(function(o){o.updateNames(),o.setScale()}),n.getAxisMargins(),t.render(),r=t.options.verticalAlign,t.options.floating||(r==="bottom"?this.extraBottomMargin=!0:r!=="middle"&&(this.extraTopMargin=!0)))}),addEvent$E(Chart$1,"update",function(n){var i=this,t=n.options,r=t.rangeSelector,o=i.rangeSelector,a,s=this.extraBottomMargin,l=this.extraTopMargin;r&&r.enabled&&!defined$r(o)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=o=new RangeSelector(this)),this.extraBottomMargin=!1,this.extraTopMargin=!1,o&&(initRangeSelector_1(this),a=r&&r.verticalAlign||o.options&&o.options.verticalAlign,o.options.floating||(a==="bottom"?this.extraBottomMargin=!0:a!=="middle"&&(this.extraTopMargin=!0)),(this.extraBottomMargin!==s||this.extraTopMargin!==l)&&(this.isDirtyBox=!0))}),addEvent$E(Chart$1,"render",function(){var n=this,i=n.rangeSelector,t;i&&!i.options.floating&&(i.render(),t=i.options.verticalAlign,t==="bottom"?this.extraBottomMargin=!0:t!=="middle"&&(this.extraTopMargin=!0))}),addEvent$E(Chart$1,"getMargins",function(){var n=this.rangeSelector,i;n&&(i=n.getHeight(),this.extraTopMargin&&(this.plotTop+=i),this.extraBottomMargin&&(this.marginBottom+=i))}),Chart$1.prototype.callbacks.push(initRangeSelector_1),addEvent$E(Chart$1,"destroy",function(){for(var i=0;i<chartDestroyEvents_1.length;i++){var t=chartDestroyEvents_1[i];if(t[0]===this){t[1].forEach(function(r){return r()}),chartDestroyEvents_1.splice(i,1);return}}}),H.RangeSelector=RangeSelector}var __extends$1Y=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),animObject$4=animationExports.animObject,format$7=FormatUtilities.format,getOptions$2=DefaultOptions.getOptions,pointTooltipFormatter=Point$5.prototype.tooltipFormatter,_a$c=Series$e.prototype,seriesInit=_a$c.init,seriesProcessData=_a$c.processData,addEvent$D=Utilities.addEvent,arrayMax$4=Utilities.arrayMax,arrayMin$4=Utilities.arrayMin,clamp$a=Utilities.clamp,defined$q=Utilities.defined,extend$11=Utilities.extend,find$a=Utilities.find,isNumber$n=Utilities.isNumber,isString$3=Utilities.isString,merge$P=Utilities.merge,pick$V=Utilities.pick,splat$7=Utilities.splat,StockChart=function(n){__extends$1Y(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i.prototype.init=function(t,r){var o=getOptions$2(),a=t.xAxis,s=t.yAxis,l=pick$V(t.navigator&&t.navigator.enabled,o.navigator.enabled,!0);t.xAxis=t.yAxis=void 0;var c=merge$P({chart:{panning:{enabled:!0,type:"x"},pinchType:"x"},navigator:{enabled:l},scrollbar:{enabled:pick$V(o.scrollbar&&o.scrollbar.enabled,!0)},rangeSelector:{enabled:pick$V(o.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:pick$V(o.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1}},t,{isStock:!0});t.xAxis=a,t.yAxis=s,c.xAxis=splat$7(t.xAxis||{}).map(function(h,u){return merge$P(getDefaultAxisOptions("xAxis",h),o.xAxis,o.xAxis&&o.xAxis[u],h,getForcedAxisOptions("xAxis",t))}),c.yAxis=splat$7(t.yAxis||{}).map(function(h,u){return merge$P(getDefaultAxisOptions("yAxis",h),o.yAxis,o.yAxis&&o.yAxis[u],h)}),n.prototype.init.call(this,c,r)},i.prototype.createAxis=function(t,r){return r.axis=merge$P(getDefaultAxisOptions(t,r.axis),r.axis,getForcedAxisOptions(t,this.userOptions)),n.prototype.createAxis.call(this,t,r)},i}(Chart$1);(function(n){function i(t,r,o){return new n(t,r,o)}n.stockChart=i})(StockChart||(StockChart={}));function getDefaultAxisOptions(n,i){return n==="xAxis"?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0}:n==="yAxis"?{labels:{y:-2},opposite:pick$V(i.opposite,!0),showLastLabel:!!(i.categories||i.type==="category"),title:{text:null}}:{}}function getForcedAxisOptions(n,i){if(n==="xAxis"){var t=getOptions$2(),r=pick$V(i.navigator&&i.navigator.enabled,t.navigator.enabled,!0),o={type:"datetime",categories:void 0};return r&&(o.startOnTick=!1,o.endOnTick=!1),o}return{}}addEvent$D(Series$e,"setOptions",function(n){var i;this.chart.options.isStock&&(this.is("column")||this.is("columnrange")?i={borderWidth:0,shadow:!1}:!this.is("scatter")&&!this.is("sma")&&(i={marker:{enabled:!1,radius:2}}),i&&(n.plotOptions[this.type]=merge$P(n.plotOptions[this.type],i)))});addEvent$D(Axis,"autoLabelAlign",function(n){var i=this.chart,t=this.options,r=i._labelPanes=i._labelPanes||{},o,a=this.options.labels;this.chart.options.isStock&&this.coll==="yAxis"&&(o=t.top+","+t.height,!r[o]&&a.enabled&&(a.x===15&&(a.x=0),typeof a.align>"u"&&(a.align="right"),r[o]=this,n.align="right",n.preventDefault()))});addEvent$D(Axis,"destroy",function(){var n=this.chart,i=this.options&&this.options.top+","+this.options.height;i&&n._labelPanes&&n._labelPanes[i]===this&&delete n._labelPanes[i]});addEvent$D(Axis,"getPlotLinePath",function(n){var i=this,t=this.isLinked&&!this.series?this.linkedParent.series:this.series,r=i.chart,o=r.renderer,a=i.left,s=i.top,l,c,h,u,d=[],f=[],p,m,g=n.translatedValue,v=n.value,_=n.force,y;function b(x){var E=x==="xAxis"?"yAxis":"xAxis",C=i.options[E];return isNumber$n(C)?[r[E][C]]:isString$3(C)?[r.get(C)]:t.map(function($){return $[E]})}(r.options.isStock&&n.acrossPanes!==!1&&i.coll==="xAxis"||i.coll==="yAxis")&&(n.preventDefault(),f=b(i.coll),p=i.isXAxis?r.yAxis:r.xAxis,p.forEach(function(x){if(!defined$q(x.options.id)||x.options.id.indexOf("navigator")===-1){var E=x.isXAxis?"yAxis":"xAxis",C=defined$q(x.options[E])?r[E][x.options[E]]:r[E][0];i===C&&f.push(x)}}),m=f.length?[]:[i.isXAxis?r.yAxis[0]:r.xAxis[0]],f.forEach(function(x){m.indexOf(x)===-1&&!find$a(m,function(E){return E.pos===x.pos&&E.len===x.len})&&m.push(x)}),y=pick$V(g,i.translate(v,null,null,n.old)),isNumber$n(y)&&(i.horiz?m.forEach(function(x){var E;c=x.pos,u=c+x.len,l=h=Math.round(y+i.transB),_!=="pass"&&(l<a||l>a+i.width)&&(_?l=h=clamp$a(l,a,a+i.width):E=!0),E||d.push(["M",l,c],["L",h,u])}):m.forEach(function(x){var E;l=x.pos,h=l+x.len,c=u=Math.round(s+i.height-y),_!=="pass"&&(c<s||c>s+i.height)&&(_?c=u=clamp$a(c,s,s+i.height):E=!0),E||d.push(["M",l,c],["L",h,u])})),n.path=d.length>0?o.crispPolyLine(d,n.lineWidth||1):null)});SVGRenderer.prototype.crispPolyLine=function(n,i){for(var t=0;t<n.length;t=t+2){var r=n[t],o=n[t+1];r[1]===o[1]&&(r[1]=o[1]=Math.round(r[1])-i%2/2),r[2]===o[2]&&(r[2]=o[2]=Math.round(r[2])+i%2/2)}return n};addEvent$D(Axis,"afterHideCrosshair",function(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())});addEvent$D(Axis,"afterDrawCrosshair",function(n){if(!(!this.crosshair||!this.crosshair.label||!this.crosshair.label.enabled||!this.cross||!isNumber$n(this.min)||!isNumber$n(this.max))){var i=this.chart,t=this.logarithmic,r=this.crosshair.label,o=this.horiz,a=this.opposite,s=this.left,l=this.top,c=this.crossLabel,h,u,d,f=r.format,p="",m,g,v=this.options.tickPosition==="inside",_=this.crosshair.snap!==!1,y=0,b=n.e||this.cross&&this.cross.e,x=n.point,E=this.min,C=this.max;t&&(E=t.lin2log(E),C=t.lin2log(C)),g=o?"center":a?this.labelAlign==="right"?"right":"left":this.labelAlign==="left"?"left":"center",c||(c=this.crossLabel=i.renderer.label("",0,void 0,r.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(x?x.series.colorIndex:this.series[0]&&this.series[0].colorIndex)).attr({align:r.align||g,padding:pick$V(r.padding,8),r:pick$V(r.borderRadius,3),zIndex:2}).add(this.labelGroup),i.styledMode||c.attr({fill:r.backgroundColor||x&&x.series&&x.series.color||palette.neutralColor60,stroke:r.borderColor||"","stroke-width":r.borderWidth||0}).css(extend$11({color:palette.backgroundColor,fontWeight:"normal",fontSize:"11px",textAlign:"center"},r.style||{}))),o?(h=_?(x.plotX||0)+s:b.chartX,u=l+(a?0:this.height)):(h=a?this.width+s:0,u=_?(x.plotY||0)+l:b.chartY),!f&&!r.formatter&&(this.dateTime&&(p="%b %d, %Y"),f="{value"+(p?":"+p:"")+"}");var $=_?this.isXAxis?x.x:x.y:this.toValue(o?b.chartX:b.chartY),S=x?x.series.isPointInside(x):isNumber$n($)&&$>E&&$<C,P="";f?P=format$7(f,{value:$},i):r.formatter&&isNumber$n($)&&(P=r.formatter.call(this,$)),c.attr({text:P,x:h,y:u,visibility:S?"visible":"hidden"}),d=c.getBBox(),isNumber$n(c.y)&&(o?(v&&!a||!v&&a)&&(u=c.y-d.height):u=c.y-d.height/2),o?m={left:s-d.x,right:s+this.width-d.x}:m={left:this.labelAlign==="left"?s:0,right:this.labelAlign==="right"?s+this.width:i.chartWidth},c.translateX<m.left&&(y=m.left-c.translateX),c.translateX+d.width>=m.right&&(y=-(c.translateX+d.width-m.right)),c.attr({x:h+y,y:u,anchorX:o?h:this.opposite?0:i.chartWidth,anchorY:o?this.opposite?i.chartHeight:0:u+d.height/2})}});Series$e.prototype.init=function(){seriesInit.apply(this,arguments),this.initCompare(this.options.compare)};Series$e.prototype.setCompare=function(n){this.initCompare(n),this.userOptions.compare=n};Series$e.prototype.initCompare=function(n){this.modifyValue=n==="value"||n==="percent"?function(i,t){var r=this.compareValue;return typeof i<"u"&&typeof r<"u"?(n==="value"?i-=r:i=100*(i/r)-(this.options.compareBase===100?0:100),t&&(t.change=i),i):0}:null,this.chart.hasRendered&&(this.isDirty=!0)};Series$e.prototype.forceCropping=function(){var n=this.chart,i=this.options,t=i.dataGrouping,r=this.allowDG!==!1&&t&&pick$V(t.enabled,n.options.isStock);return r};Series$e.prototype.processData=function(n){var i=this,t,r=-1,o,a,s=i.options.compareStart===!0?0:1,l,c;if(seriesProcessData.apply(this,arguments),i.xAxis&&i.processedYData){for(o=i.processedXData,a=i.processedYData,l=a.length,i.pointArrayMap&&(r=i.pointArrayMap.indexOf(i.options.pointValKey||i.pointValKey||"y")),t=0;t<l-s;t++)if(c=a[t]&&r>-1?a[t][r]:a[t],isNumber$n(c)&&o[t+s]>=i.xAxis.min&&c!==0){i.compareValue=c;break}}};addEvent$D(Series$e,"afterGetExtremes",function(n){var i=n.dataExtremes;if(this.modifyValue&&i){var t=[this.modifyValue(i.dataMin),this.modifyValue(i.dataMax)];i.dataMin=arrayMin$4(t),i.dataMax=arrayMax$4(t)}});Axis.prototype.setCompare=function(n,i){this.isXAxis||(this.series.forEach(function(t){t.setCompare(n)}),pick$V(i,!0)&&this.chart.redraw())};Point$5.prototype.tooltipFormatter=function(n){var i=this,t=i.series.chart.numberFormatter;return n=n.replace("{point.change}",(i.change>0?"+":"")+t(i.change,pick$V(i.series.tooltipOptions.changeDecimals,2))),pointTooltipFormatter.apply(this,[n])};addEvent$D(Series$e,"render",function(){var n=this.chart,i;if(!(n.is3d&&n.is3d())&&!n.polar&&this.xAxis&&!this.xAxis.isRadial&&this.options.clip!==!1){if(i=this.yAxis.len,this.xAxis.axisLine){var t=n.plotTop+n.plotHeight-this.yAxis.pos-this.yAxis.len,r=Math.floor(this.xAxis.axisLine.strokeWidth()/2);t>=0&&(i-=Math.max(r-t,0))}if((!n.hasLoaded||!this.clipBox&&this.isDirty&&!this.isDirtyData)&&(this.clipBox=this.clipBox||merge$P(n.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=i),n.hasRendered){var o=animObject$4(this.options.animation),a=this.getSharedClipKey(o),s=n.sharedClips[a];if(s){s.animate({width:this.xAxis.len,height:i});var l=n.sharedClips[a+"m"];l&&l.animate({width:this.xAxis.len})}}}});addEvent$D(Chart$1,"update",function(n){var i=n.options;"scrollbar"in i&&this.navigator&&(merge$P(!0,this.options.scrollbar,i.scrollbar),this.navigator.update({},!1),delete i.scrollbar)});const StockChart$1=StockChart;/**
 * @license Highstock JS v9.2.2 (2021-08-24)
 * @module highcharts/modules/stock
 * @requires highcharts
 *
 * Highcharts Stock as a plugin for Highcharts
 *
 * (c) 2010-2021 Torstein Honsi
 *
 * License: www.highcharts.com/license
 */var G$5=H;G$5.Scrollbar=Scrollbar;G$5.StockChart=G$5.stockChart=StockChart$1.stockChart;Scrollbar.compose(G$5.Axis);OrdinalAxis$1.compose(G$5.Axis,G$5.Series,G$5.Chart);/**
 * @license Highstock JS v9.2.2 (2021-08-24)
 * @module highcharts/highstock
 *
 * (c) 2009-2021 Torstein Honsi
 *
 * License: www.highcharts.com/license
 */G$7.product="Highstock";var doc$f=H.doc,win$6=H.win,merge$O=Utilities.merge;function addClass$1(n,i){n.classList?n.classList.add(i):n.className.indexOf(i)<0&&(n.className+=i)}function escapeStringForHTML$1(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")}function getElement$2(n){return doc$f.getElementById(n)}function getFakeMouseEvent$2(n){if(typeof win$6.MouseEvent=="function")return new win$6.MouseEvent(n);if(doc$f.createEvent){var i=doc$f.createEvent("MouseEvent");if(i.initMouseEvent)return i.initMouseEvent(n,!0,!0,win$6,n==="click"?1:0,0,0,0,0,!1,!1,!1,!1,0,null),i}return{type:n}}function getHeadingTagNameForElement$1(n){var i=function(a){var s=parseInt(a.slice(1),10),l=Math.min(6,s+1);return"h"+l},t=function(a){return/H[1-6]/.test(a)},r=function(a){for(var s=a;s=s.previousSibling;){var l=s.tagName||"";if(t(l))return l}return""},o=function(a){var s=r(a);if(s)return i(s);var l=a.parentElement;if(!l)return"p";var c=l.tagName;return t(c)?i(c):o(l)};return o(n)}function removeElement$5(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function reverseChildNodes$1(n){for(var i=n.childNodes.length;i--;)n.appendChild(n.childNodes[i])}function setElAttrs$4(n,i){Object.keys(i).forEach(function(t){var r=i[t];r===null?n.removeAttribute(t):n.setAttribute(t,r)})}function stripHTMLTagsFromString$2(n){return typeof n=="string"?n.replace(/<\/?[^>]+(>|$)/g,""):n}function visuallyHideElement$2(n){var i={position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",filter:"alpha(opacity=1)",opacity:"0.01"};merge$O(!0,n.style,i)}var HTMLUtilities={addClass:addClass$1,escapeStringForHTML:escapeStringForHTML$1,getElement:getElement$2,getFakeMouseEvent:getFakeMouseEvent$2,getHeadingTagNameForElement:getHeadingTagNameForElement$1,removeElement:removeElement$5,reverseChildNodes:reverseChildNodes$1,setElAttrs:setElAttrs$4,stripHTMLTagsFromString:stripHTMLTagsFromString$2,visuallyHideElement:visuallyHideElement$2},stripHTMLTags$3=HTMLUtilities.stripHTMLTagsFromString,doc$e=H.doc,defined$p=Utilities.defined,find$9=Utilities.find,fireEvent$i=Utilities.fireEvent;function getChartTitle$5(n){return stripHTMLTags$3(n.options.title.text||n.langFormat("accessibility.defaultChartTitle",{chart:n}))}function getAxisDescription$2(n){return n&&(n.userOptions&&n.userOptions.accessibility&&n.userOptions.accessibility.description||n.axisTitle&&n.axisTitle.textStr||n.options.id||n.categories&&"categories"||n.dateTime&&"Time"||"values")}function getAxisRangeDescription$2(n){var i=n.options||{};return i.accessibility&&typeof i.accessibility.rangeDescription<"u"?i.accessibility.rangeDescription:n.categories?getCategoryAxisRangeDesc(n):n.dateTime&&(n.min===0||n.dataMin===0)?getAxisTimeLengthDesc(n):getAxisFromToDescription(n)}function getCategoryAxisRangeDesc(n){var i=n.chart;return n.dataMax&&n.dataMin?i.langFormat("accessibility.axis.rangeCategories",{chart:i,axis:n,numCategories:n.dataMax-n.dataMin+1}):""}function getAxisTimeLengthDesc(n){var i=n.chart,t={},r="Seconds";t.Seconds=((n.max||0)-(n.min||0))/1e3,t.Minutes=t.Seconds/60,t.Hours=t.Minutes/60,t.Days=t.Hours/24,["Minutes","Hours","Days"].forEach(function(a){t[a]>2&&(r=a)});var o=t[r].toFixed(r!=="Seconds"&&r!=="Minutes"?1:0);return i.langFormat("accessibility.axis.timeRange"+r,{chart:i,axis:n,range:o.replace(".0","")})}function getAxisFromToDescription(n){var i=n.chart,t=i.options&&i.options.accessibility&&i.options.accessibility.screenReaderSection.axisRangeDateFormat||"",r=function(o){return n.dateTime?i.time.dateFormat(t,n[o]):n[o]};return i.langFormat("accessibility.axis.rangeFromTo",{chart:i,axis:n,rangeFrom:r("min"),rangeTo:r("max")})}function getSeriesFirstPointElement$1(n){if(n.points&&n.points.length){var i=find$9(n.points,function(t){return!!t.graphic});return i&&i.graphic&&i.graphic.element}}function getSeriesA11yElement$1(n){var i=getSeriesFirstPointElement$1(n);return i&&i.parentNode||n.graph&&n.graph.element||n.group&&n.group.element}function unhideChartElementFromAT$7(n,i){i.setAttribute("aria-hidden",!1),!(i===n.renderTo||!i.parentNode||i.parentNode===doc$e.body)&&(Array.prototype.forEach.call(i.parentNode.childNodes,function(t){t.hasAttribute("aria-hidden")||t.setAttribute("aria-hidden",!0)}),unhideChartElementFromAT$7(n,i.parentNode))}function hideSeriesFromAT$1(n){var i=getSeriesA11yElement$1(n);i&&i.setAttribute("aria-hidden",!0)}function getSeriesFromName$1(n,i){return i?(n.series||[]).filter(function(t){return t.name===i}):n.series}function getPointFromXY$1(n,i,t){for(var r=n.length,o;r--;)if(o=find$9(n[r].points||[],function(a){return a.x===i&&a.y===t}),o)return o}function getRelativePointAxisPosition(n,i){if(!defined$p(n.dataMin)||!defined$p(n.dataMax))return 0;var t=n.toPixels(n.dataMin),r=n.toPixels(n.dataMax),o=n.coll==="xAxis"?"x":"y",a=n.toPixels(i[o]||0);return(a-t)/(r-t)}function scrollToPoint$1(n){var i=n.series.xAxis,t=n.series.yAxis,r=i&&i.scrollbar?i:t,o=r&&r.scrollbar;if(o&&defined$p(o.to)&&defined$p(o.from)){var a=o.to-o.from,s=getRelativePointAxisPosition(r,n);o.updatePosition(s-a/2,s+a/2),fireEvent$i(o,"changed",{from:o.from,to:o.to,trigger:"scrollbar",DOMEvent:null})}}var ChartUtilities={getChartTitle:getChartTitle$5,getAxisDescription:getAxisDescription$2,getAxisRangeDescription:getAxisRangeDescription$2,getPointFromXY:getPointFromXY$1,getSeriesFirstPointElement:getSeriesFirstPointElement$1,getSeriesFromName:getSeriesFromName$1,getSeriesA11yElement:getSeriesA11yElement$1,unhideChartElementFromAT:unhideChartElementFromAT$7,hideSeriesFromAT:hideSeriesFromAT$1,scrollToPoint:scrollToPoint$1},find$8=Utilities.find;function KeyboardNavigationHandler(n,i){this.chart=n,this.keyCodeMap=i.keyCodeMap||[],this.validate=i.validate,this.init=i.init,this.terminate=i.terminate,this.response={success:1,prev:2,next:3,noHandler:4,fail:5}}KeyboardNavigationHandler.prototype={run:function(n){var i=n.which||n.keyCode,t=this.response.noHandler,r=find$8(this.keyCodeMap,function(o){return o[0].indexOf(i)>-1});return r?t=r[1].call(this,i,n):i===9&&(t=this.response[n.shiftKey?"prev":"next"]),t}};var doc$d=H.doc,removeElement$4=HTMLUtilities.removeElement,extend$10=Utilities.extend,DOMElementProvider=function(){this.elements=[]};extend$10(DOMElementProvider.prototype,{createElement:function(){var n=doc$d.createElement.apply(doc$d,arguments);return this.elements.push(n),n},destroyCreatedElements:function(){this.elements.forEach(function(n){removeElement$4(n)}),this.elements=[]}});var addEvent$C=Utilities.addEvent,extend$$=Utilities.extend,EventProvider=function(){this.eventRemovers=[]};extend$$(EventProvider.prototype,{addEvent:function(){var n=addEvent$C.apply(H,arguments);return this.eventRemovers.push(n),n},removeAddedEvents:function(){this.eventRemovers.forEach(function(n){n()}),this.eventRemovers=[]}});var unhideChartElementFromAT$6=ChartUtilities.unhideChartElementFromAT,doc$c=H.doc,win$5=H.win,removeElement$3=HTMLUtilities.removeElement,getFakeMouseEvent$1=HTMLUtilities.getFakeMouseEvent,extend$_=Utilities.extend,fireEvent$h=Utilities.fireEvent,merge$N=Utilities.merge,functionsToOverrideByDerivedClasses={init:function(){},getKeyboardNavigation:function(){},onChartUpdate:function(){},onChartRender:function(){},destroy:function(){}};function AccessibilityComponent(){}AccessibilityComponent.prototype={initBase:function(n){this.chart=n,this.eventProvider=new EventProvider,this.domElementProvider=new DOMElementProvider,this.keyCodes={left:37,right:39,up:38,down:40,enter:13,space:32,esc:27,tab:9}},addEvent:function(){return this.eventProvider.addEvent.apply(this.eventProvider,arguments)},createElement:function(){return this.domElementProvider.createElement.apply(this.domElementProvider,arguments)},fireEventOnWrappedOrUnwrappedElement:function(n,i){var t=i.type;doc$c.createEvent&&(n.dispatchEvent||n.fireEvent)?n.dispatchEvent?n.dispatchEvent(i):n.fireEvent(t,i):fireEvent$h(n,t,i)},fakeClickEvent:function(n){if(n){var i=getFakeMouseEvent$1("click");this.fireEventOnWrappedOrUnwrappedElement(n,i)}},addProxyGroup:function(n){this.createOrUpdateProxyContainer();var i=this.createElement("div");return Object.keys(n||{}).forEach(function(t){n[t]!==null&&i.setAttribute(t,n[t])}),this.chart.a11yProxyContainer.appendChild(i),i},createOrUpdateProxyContainer:function(){var n=this.chart,i=n.renderer.box;n.a11yProxyContainer=n.a11yProxyContainer||this.createProxyContainerElement(),i.nextSibling!==n.a11yProxyContainer&&n.container.insertBefore(n.a11yProxyContainer,i.nextSibling)},createProxyContainerElement:function(){var n=doc$c.createElement("div");return n.className="highcharts-a11y-proxy-container",n},createProxyButton:function(n,i,t,r,o){var a=n.element,s=this.createElement("button"),l=merge$N({"aria-label":a.getAttribute("aria-label")},t);return Object.keys(l).forEach(function(c){l[c]!==null&&s.setAttribute(c,l[c])}),s.className="highcharts-a11y-proxy-button",n.hasClass("highcharts-no-tooltip")&&(s.className+=" highcharts-no-tooltip"),o&&this.addEvent(s,"click",o),this.setProxyButtonStyle(s),this.updateProxyButtonPosition(s,r||n),this.proxyMouseEventsForButton(a,s),i.appendChild(s),l["aria-hidden"]||unhideChartElementFromAT$6(this.chart,s),s},getElementPosition:function(n){var i=n.element,t=this.chart.renderTo;if(t&&i&&i.getBoundingClientRect){var r=i.getBoundingClientRect(),o=t.getBoundingClientRect();return{x:r.left-o.left,y:r.top-o.top,width:r.right-r.left,height:r.bottom-r.top}}return{x:0,y:0,width:1,height:1}},setProxyButtonStyle:function(n){merge$N(!0,n.style,{borderWidth:"0",backgroundColor:"transparent",cursor:"pointer",outline:"none",opacity:"0.001",filter:"alpha(opacity=1)",zIndex:"999",overflow:"hidden",padding:"0",margin:"0",display:"block",position:"absolute"}),n.style["-ms-filter"]="progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"},updateProxyButtonPosition:function(n,i){var t=this.getElementPosition(i);merge$N(!0,n.style,{width:(t.width||1)+"px",height:(t.height||1)+"px",left:(Math.round(t.x)||0)+"px",top:(Math.round(t.y)||0)+"px"})},proxyMouseEventsForButton:function(n,i){var t=this;["click","touchstart","touchend","touchcancel","touchmove","mouseover","mouseenter","mouseleave","mouseout"].forEach(function(r){var o=r.indexOf("touch")===0;t.addEvent(i,r,function(a){var s=o?t.cloneTouchEvent(a):t.cloneMouseEvent(a);n&&t.fireEventOnWrappedOrUnwrappedElement(n,s),a.stopPropagation(),r!=="touchstart"&&r!=="touchmove"&&r!=="touchend"&&a.preventDefault()},{passive:!1})})},cloneMouseEvent:function(n){if(typeof win$5.MouseEvent=="function")return new win$5.MouseEvent(n.type,n);if(doc$c.createEvent){var i=doc$c.createEvent("MouseEvent");if(i.initMouseEvent)return i.initMouseEvent(n.type,n.bubbles,n.cancelable,n.view||win$5,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget),i}return getFakeMouseEvent$1(n.type)},cloneTouchEvent:function(n){var i=function(o){for(var a=[],s=0;s<o.length;++s){var l=o.item(s);l&&a.push(l)}return a};if(typeof win$5.TouchEvent=="function"){var t=new win$5.TouchEvent(n.type,{touches:i(n.touches),targetTouches:i(n.targetTouches),changedTouches:i(n.changedTouches),ctrlKey:n.ctrlKey,shiftKey:n.shiftKey,altKey:n.altKey,metaKey:n.metaKey,bubbles:n.bubbles,cancelable:n.cancelable,composed:n.composed,detail:n.detail,view:n.view});return n.defaultPrevented&&t.preventDefault(),t}var r=this.cloneMouseEvent(n);return r.touches=n.touches,r.changedTouches=n.changedTouches,r.targetTouches=n.targetTouches,r},destroyBase:function(){removeElement$3(this.chart.a11yProxyContainer),this.domElementProvider.destroyCreatedElements(),this.eventProvider.removeAddedEvents()}};extend$_(AccessibilityComponent.prototype,functionsToOverrideByDerivedClasses);var doc$b=H.doc,win$4=H.win,addEvent$B=Utilities.addEvent,fireEvent$g=Utilities.fireEvent,getElement$1=HTMLUtilities.getElement;addEvent$B(doc$b,"keydown",function(n){var i=n.which||n.keyCode,t=27;i===t&&H.charts&&H.charts.forEach(function(r){r&&r.dismissPopupContent&&r.dismissPopupContent()})});Chart$1.prototype.dismissPopupContent=function(){var n=this;fireEvent$g(this,"dismissPopupContent",{},function(){n.tooltip&&n.tooltip.hide(0),n.hideExportMenu()})};function KeyboardNavigation(n,i){this.init(n,i)}KeyboardNavigation.prototype={init:function(n,i){var t=this,r=this.eventProvider=new EventProvider;this.chart=n,this.components=i,this.modules=[],this.currentModuleIx=0,this.update(),r.addEvent(this.tabindexContainer,"keydown",function(o){return t.onKeydown(o)}),r.addEvent(this.tabindexContainer,"focus",function(o){return t.onFocus(o)}),["mouseup","touchend"].forEach(function(o){return r.addEvent(doc$b,o,function(){return t.onMouseUp()})}),["mousedown","touchstart"].forEach(function(o){return r.addEvent(n.renderTo,o,function(){t.isClickingChart=!0})}),r.addEvent(n.renderTo,"mouseover",function(){t.pointerIsOverChart=!0}),r.addEvent(n.renderTo,"mouseout",function(){t.pointerIsOverChart=!1}),this.modules.length&&this.modules[0].init(1)},update:function(n){var i=this.chart.options.accessibility,t=i&&i.keyboardNavigation,r=this.components;this.updateContainerTabindex(),t&&t.enabled&&n&&n.length?(this.modules=n.reduce(function(o,a){var s=r[a].getKeyboardNavigation();return o.concat(s)},[]),this.updateExitAnchor()):(this.modules=[],this.currentModuleIx=0,this.removeExitAnchor())},onFocus:function(n){var i=this.chart,t=n.relatedTarget&&i.container.contains(n.relatedTarget);!this.exiting&&!this.tabbingInBackwards&&!this.isClickingChart&&!t&&this.modules[0]&&this.modules[0].init(1),this.exiting=!1},onMouseUp:function(){if(delete this.isClickingChart,!this.keyboardReset&&!this.pointerIsOverChart){var n=this.chart,i=this.modules&&this.modules[this.currentModuleIx||0];i&&i.terminate&&i.terminate(),n.focusElement&&n.focusElement.removeFocusBorder(),this.currentModuleIx=0,this.keyboardReset=!0}},onKeydown:function(n){var i=n||win$4.event,t,r=this.modules&&this.modules.length&&this.modules[this.currentModuleIx];if(this.keyboardReset=!1,this.exiting=!1,r){var o=r.run(i);o===r.response.success?t=!0:o===r.response.prev?t=this.prev():o===r.response.next&&(t=this.next()),t&&(i.preventDefault(),i.stopPropagation())}},prev:function(){return this.move(-1)},next:function(){return this.move(1)},move:function(n){var i=this.modules&&this.modules[this.currentModuleIx];i&&i.terminate&&i.terminate(n),this.chart.focusElement&&this.chart.focusElement.removeFocusBorder(),this.currentModuleIx+=n;var t=this.modules&&this.modules[this.currentModuleIx];if(t){if(t.validate&&!t.validate())return this.move(n);if(t.init)return t.init(n),!0}return this.currentModuleIx=0,this.exiting=!0,n>0?this.exitAnchor.focus():this.tabindexContainer.focus(),!1},updateExitAnchor:function(){var n="highcharts-end-of-chart-marker-"+this.chart.index,i=getElement$1(n);this.removeExitAnchor(),i?(this.makeElementAnExitAnchor(i),this.exitAnchor=i):this.createExitAnchor()},updateContainerTabindex:function(){var n=this.chart.options.accessibility,i=n&&n.keyboardNavigation,t=!(i&&i.enabled===!1),r=this.chart,o=r.container,a;r.renderTo.hasAttribute("tabindex")?(o.removeAttribute("tabindex"),a=r.renderTo):a=o,this.tabindexContainer=a;var s=a.getAttribute("tabindex");t&&!s?a.setAttribute("tabindex","0"):t||r.container.removeAttribute("tabindex")},makeElementAnExitAnchor:function(n){var i=this.tabindexContainer.getAttribute("tabindex")||0;n.setAttribute("class","highcharts-exit-anchor"),n.setAttribute("tabindex",i),n.setAttribute("aria-hidden",!1),this.addExitAnchorEventsToEl(n)},createExitAnchor:function(){var n=this.chart,i=this.exitAnchor=doc$b.createElement("div");n.renderTo.appendChild(i),this.makeElementAnExitAnchor(i)},removeExitAnchor:function(){this.exitAnchor&&this.exitAnchor.parentNode&&(this.exitAnchor.parentNode.removeChild(this.exitAnchor),delete this.exitAnchor)},addExitAnchorEventsToEl:function(n){var i=this.chart,t=this;this.eventProvider.addEvent(n,"focus",function(r){var o=r||win$4.event,a,s=o.relatedTarget&&i.container.contains(o.relatedTarget),l=!(s||t.exiting);l?(t.tabbingInBackwards=!0,t.tabindexContainer.focus(),delete t.tabbingInBackwards,o.preventDefault(),t.modules&&t.modules.length&&(t.currentModuleIx=t.modules.length-1,a=t.modules[t.currentModuleIx],a&&a.validate&&!a.validate()?t.prev():a&&a.init(-1))):t.exiting=!1})},destroy:function(){this.removeExitAnchor(),this.eventProvider.removeAddedEvents(),this.chart.container.removeAttribute("tabindex")}};var animObject$3=animationExports.animObject,addEvent$A=Utilities.addEvent,extend$Z=Utilities.extend,find$7=Utilities.find,fireEvent$f=Utilities.fireEvent,isNumber$m=Utilities.isNumber,pick$U=Utilities.pick,syncTimeout$1=Utilities.syncTimeout,removeElement$2=HTMLUtilities.removeElement,stripHTMLTags$2=HTMLUtilities.stripHTMLTagsFromString,getChartTitle$4=ChartUtilities.getChartTitle;function scrollLegendToItem(n,i){var t=n.allItems[i].pageIx,r=n.currentPage;typeof t<"u"&&t+1!==r&&n.scroll(1+t-r)}function shouldDoLegendA11y(n){var i=n.legend&&n.legend.allItems,t=n.options.legend.accessibility||{};return!!(i&&i.length&&!(n.colorAxis&&n.colorAxis.length)&&t.enabled!==!1)}Chart$1.prototype.highlightLegendItem=function(n){var i=this.legend.allItems,t=this.accessibility&&this.accessibility.components.legend.highlightedLegendItemIx;return i[n]?(isNumber$m(t)&&i[t]&&fireEvent$f(i[t].legendGroup.element,"mouseout"),scrollLegendToItem(this.legend,n),this.setFocusToElement(i[n].legendItem,i[n].a11yProxyElement),fireEvent$f(i[n].legendGroup.element,"mouseover"),!0):!1};addEvent$A(Legend,"afterColorizeItem",function(n){var i=this.chart,t=i.options.accessibility,r=n.item;t.enabled&&r&&r.a11yProxyElement&&r.a11yProxyElement.setAttribute("aria-pressed",n.visible?"true":"false")});var LegendComponent=function(){};LegendComponent.prototype=new AccessibilityComponent;extend$Z(LegendComponent.prototype,{init:function(){var n=this;this.proxyElementsList=[],this.recreateProxies(),this.addEvent(Legend,"afterScroll",function(){this.chart===n.chart&&(n.updateProxiesPositions(),n.updateLegendItemProxyVisibility(),this.chart.highlightLegendItem(n.highlightedLegendItemIx))}),this.addEvent(Legend,"afterPositionItem",function(i){this.chart===n.chart&&this.chart.renderer&&n.updateProxyPositionForItem(i.item)}),this.addEvent(Legend,"afterRender",function(){this.chart===n.chart&&this.chart.renderer&&n.recreateProxies()&&syncTimeout$1(function(){return n.updateProxiesPositions()},animObject$3(pick$U(this.chart.renderer.globalAnimation,!0)).duration)})},updateLegendItemProxyVisibility:function(){var n=this.chart.legend,i=n.allItems||[],t=n.currentPage||1,r=n.clipHeight||0;i.forEach(function(o){var a=o.pageIx||0,s=o._legendItemPos?o._legendItemPos[1]:0,l=o.legendItem?Math.round(o.legendItem.getBBox().height):0,c=s+l-n.pages[a]>r||a!==t-1;o.a11yProxyElement&&(o.a11yProxyElement.style.visibility=c?"hidden":"visible")})},onChartRender:function(){shouldDoLegendA11y(this.chart)||this.removeProxies()},onChartUpdate:function(){this.updateLegendTitle()},updateProxiesPositions:function(){for(var n=0,i=this.proxyElementsList;n<i.length;n++){var t=i[n],r=t.element,o=t.posElement;this.updateProxyButtonPosition(r,o)}},updateProxyPositionForItem:function(n){var i=find$7(this.proxyElementsList,function(t){return t.item===n});i&&this.updateProxyButtonPosition(i.element,i.posElement)},recreateProxies:function(){return this.removeProxies(),shouldDoLegendA11y(this.chart)?(this.addLegendProxyGroup(),this.addLegendListContainer(),this.proxyLegendItems(),this.updateLegendItemProxyVisibility(),!0):!1},removeProxies:function(){removeElement$2(this.legendProxyGroup),this.proxyElementsList=[]},updateLegendTitle:function(){var n=this.chart,i=stripHTMLTags$2((n.legend&&n.legend.options.title&&n.legend.options.title.text||"").replace(/<br ?\/?>/g," ")),t=n.langFormat("accessibility.legend.legendLabel"+(i?"":"NoTitle"),{chart:n,legendTitle:i,chartTitle:getChartTitle$4(n)});this.legendProxyGroup&&this.legendProxyGroup.setAttribute("aria-label",t)},addLegendProxyGroup:function(){var n=this.chart.options.accessibility,i=n.landmarkVerbosity==="all"?"region":null;this.legendProxyGroup=this.addProxyGroup({"aria-label":"_placeholder_",role:i})},addLegendListContainer:function(){if(this.legendProxyGroup){var n=this.legendListContainer=this.createElement("ul");n.style.listStyle="none",this.legendProxyGroup.appendChild(n)}},proxyLegendItems:function(){var n=this,i=this.chart.legend&&this.chart.legend.allItems||[];i.forEach(function(t){t.legendItem&&t.legendItem.element&&n.proxyLegendItem(t)})},proxyLegendItem:function(n){if(!(!n.legendItem||!n.legendGroup||!this.legendListContainer)){var i=this.chart.langFormat("accessibility.legend.legendItem",{chart:this.chart,itemName:stripHTMLTags$2(n.name),item:n}),t={tabindex:-1,"aria-pressed":n.visible,"aria-label":i},r=n.legendGroup.div?n.legendItem:n.legendGroup,o=this.createElement("li");this.legendListContainer.appendChild(o),n.a11yProxyElement=this.createProxyButton(n.legendItem,o,t,r),this.proxyElementsList.push({item:n,element:n.a11yProxyElement,posElement:r})}},getKeyboardNavigation:function(){var n=this.keyCodes,i=this,t=this.chart;return new KeyboardNavigationHandler(t,{keyCodeMap:[[[n.left,n.right,n.up,n.down],function(r){return i.onKbdArrowKey(this,r)}],[[n.enter,n.space],function(r){return H.isFirefox&&r===n.space?this.response.success:i.onKbdClick(this)}]],validate:function(){return i.shouldHaveLegendNavigation()},init:function(r){return i.onKbdNavigationInit(r)},terminate:function(){t.legend.allItems.forEach(function(r){return r.setState("",!0)})}})},onKbdArrowKey:function(n,i){var t=this.keyCodes,r=n.response,o=this.chart,a=o.options.accessibility,s=o.legend.allItems.length,l=i===t.left||i===t.up?-1:1,c=o.highlightLegendItem(this.highlightedLegendItemIx+l);return c?(this.highlightedLegendItemIx+=l,r.success):s>1&&a.keyboardNavigation.wrapAround?(n.init(l),r.success):r[l>0?"next":"prev"]},onKbdClick:function(n){var i=this.chart.legend.allItems[this.highlightedLegendItemIx];return i&&i.a11yProxyElement&&fireEvent$f(i.a11yProxyElement,"click"),n.response.success},shouldHaveLegendNavigation:function(){var n=this.chart,i=n.options.legend||{},t=n.legend&&n.legend.allItems,r=n.colorAxis&&n.colorAxis.length,o=i.accessibility||{};return!!(t&&n.legend.display&&!r&&o.enabled&&o.keyboardNavigation&&o.keyboardNavigation.enabled)},onKbdNavigationInit:function(n){var i=this.chart,t=i.legend.allItems.length-1,r=n>0?0:t;i.highlightLegendItem(r),this.highlightedLegendItemIx=r}});var extend$Y=Utilities.extend,getChartTitle$3=ChartUtilities.getChartTitle,unhideChartElementFromAT$5=ChartUtilities.unhideChartElementFromAT,removeElement$1=HTMLUtilities.removeElement,getFakeMouseEvent=HTMLUtilities.getFakeMouseEvent;function getExportMenuButtonElement(n){return n.exportSVGElements&&n.exportSVGElements[0]}Chart$1.prototype.showExportMenu=function(){var n=getExportMenuButtonElement(this);if(n){var i=n.element;i.onclick&&i.onclick(getFakeMouseEvent("click"))}};Chart$1.prototype.hideExportMenu=function(){var n=this,i=n.exportDivElements;i&&n.exportContextMenu&&(i.forEach(function(t){t&&t.className==="highcharts-menu-item"&&t.onmouseout&&t.onmouseout(getFakeMouseEvent("mouseout"))}),n.highlightedExportItemIx=0,n.exportContextMenu.hideMenu(),n.container.focus())};Chart$1.prototype.highlightExportItem=function(n){var i=this.exportDivElements&&this.exportDivElements[n],t=this.exportDivElements&&this.exportDivElements[this.highlightedExportItemIx],r;return i&&i.tagName==="LI"&&!(i.children&&i.children.length)?(r=!!(this.renderTo.getElementsByTagName("g")[0]||{}).focus,i.focus&&r&&i.focus(),t&&t.onmouseout&&t.onmouseout(getFakeMouseEvent("mouseout")),i.onmouseover&&i.onmouseover(getFakeMouseEvent("mouseover")),this.highlightedExportItemIx=n,!0):!1};Chart$1.prototype.highlightLastExportItem=function(){var n=this,i;if(n.exportDivElements){for(i=n.exportDivElements.length;i--;)if(n.highlightExportItem(i))return!0}return!1};function exportingShouldHaveA11y(n){var i=n.options.exporting,t=getExportMenuButtonElement(n);return!!(i&&i.enabled!==!1&&i.accessibility&&i.accessibility.enabled&&t&&t.element)}var MenuComponent=function(){};MenuComponent.prototype=new AccessibilityComponent;extend$Y(MenuComponent.prototype,{init:function(){var n=this.chart,i=this;this.addEvent(n,"exportMenuShown",function(){i.onMenuShown()}),this.addEvent(n,"exportMenuHidden",function(){i.onMenuHidden()})},onMenuHidden:function(){var n=this.chart.exportContextMenu;n&&n.setAttribute("aria-hidden","true"),this.isExportMenuShown=!1,this.setExportButtonExpandedState("false")},onMenuShown:function(){var n=this.chart,i=n.exportContextMenu;i&&(this.addAccessibleContextMenuAttribs(),unhideChartElementFromAT$5(n,i)),this.isExportMenuShown=!0,this.setExportButtonExpandedState("true")},setExportButtonExpandedState:function(n){var i=this.exportButtonProxy;i&&i.setAttribute("aria-expanded",n)},onChartRender:function(){var n=this.chart,i=n.options.accessibility;if(removeElement$1(this.exportProxyGroup),exportingShouldHaveA11y(n)){this.exportProxyGroup=this.addProxyGroup(i.landmarkVerbosity==="all"?{"aria-label":n.langFormat("accessibility.exporting.exportRegionLabel",{chart:n,chartTitle:getChartTitle$3(n)}),role:"region"}:{});var t=getExportMenuButtonElement(this.chart);this.exportButtonProxy=this.createProxyButton(t,this.exportProxyGroup,{"aria-label":n.langFormat("accessibility.exporting.menuButtonLabel",{chart:n}),"aria-expanded":!1})}},addAccessibleContextMenuAttribs:function(){var n=this.chart,i=n.exportDivElements;if(i&&i.length){i.forEach(function(r){r&&(r.tagName==="LI"&&!(r.children&&r.children.length)?r.setAttribute("tabindex",-1):r.setAttribute("aria-hidden","true"))});var t=i[0]&&i[0].parentNode;t&&(t.removeAttribute("aria-hidden"),t.setAttribute("aria-label",n.langFormat("accessibility.exporting.chartMenuLabel",{chart:n})))}},getKeyboardNavigation:function(){var n=this.keyCodes,i=this.chart,t=this;return new KeyboardNavigationHandler(i,{keyCodeMap:[[[n.left,n.up],function(){return t.onKbdPrevious(this)}],[[n.right,n.down],function(){return t.onKbdNext(this)}],[[n.enter,n.space],function(){return t.onKbdClick(this)}]],validate:function(){return!!i.exporting&&i.options.exporting.enabled!==!1&&i.options.exporting.accessibility.enabled!==!1},init:function(){var r=t.exportButtonProxy,o=i.exportingGroup;o&&r&&i.setFocusToElement(o,r)},terminate:function(){i.hideExportMenu()}})},onKbdPrevious:function(n){for(var i=this.chart,t=i.options.accessibility,r=n.response,o=i.highlightedExportItemIx||0;o--;)if(i.highlightExportItem(o))return r.success;return t.keyboardNavigation.wrapAround?(i.highlightLastExportItem(),r.success):r.prev},onKbdNext:function(n){for(var i=this.chart,t=i.options.accessibility,r=n.response,o=(i.highlightedExportItemIx||0)+1;o<i.exportDivElements.length;++o)if(i.highlightExportItem(o))return r.success;return t.keyboardNavigation.wrapAround?(i.highlightExportItem(0),r.success):r.next},onKbdClick:function(n){var i=this.chart,t=i.exportDivElements[i.highlightedExportItemIx],r=getExportMenuButtonElement(i).element;return this.isExportMenuShown?this.fakeClickEvent(t):(this.fakeClickEvent(r),i.highlightExportItem(0)),n.response.success}});var seriesTypes$4=SeriesRegistry$1.seriesTypes,doc$a=H.doc,defined$o=Utilities.defined,extend$X=Utilities.extend,fireEvent$e=Utilities.fireEvent,getPointFromXY=ChartUtilities.getPointFromXY,getSeriesFromName=ChartUtilities.getSeriesFromName,scrollToPoint=ChartUtilities.scrollToPoint;Series$e.prototype.keyboardMoveVertical=!0;["column","pie"].forEach(function(n){seriesTypes$4[n]&&(seriesTypes$4[n].prototype.keyboardMoveVertical=!1)});function getPointIndex(n){var i=n.index,t=n.series.points,r=t.length;if(t[i]!==n){for(;r--;)if(t[r]===n)return r}else return i}function isSkipSeries(n){var i=n.chart.options.accessibility,t=i.keyboardNavigation.seriesNavigation,r=n.options.accessibility||{},o=r.keyboardNavigation;return o&&o.enabled===!1||r.enabled===!1||n.options.enableMouseTracking===!1||!n.visible||t.pointNavigationEnabledThreshold&&t.pointNavigationEnabledThreshold<=n.points.length}function isSkipPoint(n){var i=n.series.chart.options.accessibility,t=n.options.accessibility&&n.options.accessibility.enabled===!1;return n.isNull&&i.keyboardNavigation.seriesNavigation.skipNullPoints||n.visible===!1||n.isInside===!1||t||isSkipSeries(n.series)}function getClosestPoint(n,i,t,r){var o=1/0,a,s,l,c=i.points.length,h=function(u){return!(defined$o(u.plotX)&&defined$o(u.plotY))};if(!h(n)){for(;c--;)a=i.points[c],!h(a)&&(l=(n.plotX-a.plotX)*(n.plotX-a.plotX)*(t||1)+(n.plotY-a.plotY)*(n.plotY-a.plotY)*(r||1),l<o&&(o=l,s=c));return defined$o(s)?i.points[s]:void 0}}Point$5.prototype.highlight=function(){var n=this.series.chart;return this.isNull?n.tooltip&&n.tooltip.hide(0):this.onMouseOver(),scrollToPoint(this),this.graphic&&n.setFocusToElement(this.graphic),n.highlightedPoint=this,this};Chart$1.prototype.highlightAdjacentPoint=function(n){var i=this,t=i.series,r=i.highlightedPoint,o=r&&getPointIndex(r)||0,a=r&&r.series.points,s=i.series&&i.series[i.series.length-1],l=s&&s.points&&s.points[s.points.length-1],c,h;if(!t[0]||!t[0].points)return!1;if(!r)h=n?t[0].points[0]:l;else if(c=t[r.series.index+(n?1:-1)],h=a[o+(n?1:-1)],!h&&c&&(h=c.points[n?0:c.points.length-1]),!h)return!1;return isSkipPoint(h)?(c=h.series,isSkipSeries(c)?i.highlightedPoint=n?c.points[c.points.length-1]:c.points[0]:i.highlightedPoint=h,i.highlightAdjacentPoint(n)):h.highlight()};Series$e.prototype.highlightFirstValidPoint=function(){var n=this.chart.highlightedPoint,i=(n&&n.series)===this?getPointIndex(n):0,t=this.points,r=t.length;if(t&&r){for(var o=i;o<r;++o)if(!isSkipPoint(t[o]))return t[o].highlight();for(var a=i;a>=0;--a)if(!isSkipPoint(t[a]))return t[a].highlight()}return!1};Chart$1.prototype.highlightAdjacentSeries=function(n){var i=this,t=i.highlightedPoint,r=i.series&&i.series[i.series.length-1],o=r&&r.points&&r.points[r.points.length-1],a,s,l;return i.highlightedPoint?(a=i.series[t.series.index+(n?-1:1)],!a||(s=getClosestPoint(t,a,4),!s)?!1:isSkipSeries(a)?(s.highlight(),l=i.highlightAdjacentSeries(n),l||(t.highlight(),!1)):(s.highlight(),s.series.highlightFirstValidPoint())):(a=n?i.series&&i.series[0]:r,s=n?a&&a.points&&a.points[0]:o,s?s.highlight():!1)};Chart$1.prototype.highlightAdjacentPointVertical=function(n){var i=this.highlightedPoint,t=1/0,r;return!defined$o(i.plotX)||!defined$o(i.plotY)?!1:(this.series.forEach(function(o){isSkipSeries(o)||o.points.forEach(function(a){if(!(!defined$o(a.plotY)||!defined$o(a.plotX)||a===i)){var s=a.plotY-i.plotY,l=Math.abs(a.plotX-i.plotX),c=Math.abs(s)*Math.abs(s)+l*l*4;o.yAxis&&o.yAxis.reversed&&(s*=-1),!(s<=0&&n||s>=0&&!n||c<5||isSkipPoint(a))&&c<t&&(t=c,r=a)}})}),r?r.highlight():!1)};function highlightFirstValidPointInChart(n){var i=!1;return delete n.highlightedPoint,i=n.series.reduce(function(t,r){return t||r.highlightFirstValidPoint()},!1),i}function highlightLastValidPointInChart(n){for(var i=n.series.length,t=i,r=!1;t--&&(n.highlightedPoint=n.series[t].points[n.series[t].points.length-1],r=n.series[t].highlightFirstValidPoint(),!r););return r}function updateChartFocusAfterDrilling(n){highlightFirstValidPointInChart(n),n.focusElement&&n.focusElement.removeFocusBorder()}function SeriesKeyboardNavigation(n,i){this.keyCodes=i,this.chart=n}extend$X(SeriesKeyboardNavigation.prototype,{init:function(){var n=this,i=this.chart,t=this.eventProvider=new EventProvider;t.addEvent(Series$e,"destroy",function(){return n.onSeriesDestroy(this)}),t.addEvent(i,"afterDrilldown",function(){updateChartFocusAfterDrilling(this)}),t.addEvent(i,"drilldown",function(r){var o=r.point,a=o.series;n.lastDrilledDownPoint={x:o.x,y:o.y,seriesName:a?a.name:""}}),t.addEvent(i,"drillupall",function(){setTimeout(function(){n.onDrillupAll()},10)}),t.addEvent(Point$5,"afterSetState",function(){var r=this,o=r.graphic&&r.graphic.element;i.highlightedPoint===r&&doc$a.activeElement!==o&&o&&o.focus&&o.focus()})},onDrillupAll:function(){var n=this.lastDrilledDownPoint,i=this.chart,t=n&&getSeriesFromName(i,n.seriesName),r;n&&t&&defined$o(n.x)&&defined$o(n.y)&&(r=getPointFromXY(t,n.x,n.y)),i.container&&i.container.focus(),r&&r.highlight&&r.highlight(),i.focusElement&&i.focusElement.removeFocusBorder()},getKeyboardNavigationHandler:function(){var n=this,i=this.keyCodes,t=this.chart,r=t.inverted;return new KeyboardNavigationHandler(t,{keyCodeMap:[[r?[i.up,i.down]:[i.left,i.right],function(o){return n.onKbdSideways(this,o)}],[r?[i.left,i.right]:[i.up,i.down],function(o){return n.onKbdVertical(this,o)}],[[i.enter,i.space],function(o,a){var s=t.highlightedPoint;return s&&(a.point=s,fireEvent$e(s.series,"click",a),s.firePointEvent("click")),this.response.success}]],init:function(o){return n.onHandlerInit(this,o)},terminate:function(){return n.onHandlerTerminate()}})},onKbdSideways:function(n,i){var t=this.keyCodes,r=i===t.right||i===t.down;return this.attemptHighlightAdjacentPoint(n,r)},onKbdVertical:function(n,i){var t=this.chart,r=this.keyCodes,o=i===r.down||i===r.right,a=t.options.accessibility.keyboardNavigation.seriesNavigation;if(a.mode&&a.mode==="serialize")return this.attemptHighlightAdjacentPoint(n,o);var s=t.highlightedPoint&&t.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries";return t[s](o),n.response.success},onHandlerInit:function(n,i){var t=this.chart;return i>0?highlightFirstValidPointInChart(t):highlightLastValidPointInChart(t),n.response.success},onHandlerTerminate:function(){var n=this.chart;n.tooltip&&n.tooltip.hide(0);var i=n.highlightedPoint&&n.highlightedPoint.series;i&&i.onMouseOut&&i.onMouseOut(),n.highlightedPoint&&n.highlightedPoint.onMouseOut&&n.highlightedPoint.onMouseOut(),delete n.highlightedPoint},attemptHighlightAdjacentPoint:function(n,i){var t=this.chart,r=t.options.accessibility.keyboardNavigation.wrapAround,o=t.highlightAdjacentPoint(i);return o?n.response.success:r?n.init(i?1:-1):n.response[i?"next":"prev"]},onSeriesDestroy:function(n){var i=this.chart,t=i.highlightedPoint&&i.highlightedPoint.series===n;t&&(delete i.highlightedPoint,i.focusElement&&i.focusElement.removeFocusBorder())},destroy:function(){this.eventProvider.removeAddedEvents()}});var escapeStringForHTML=HTMLUtilities.escapeStringForHTML,stripHTMLTagsFromString$1=HTMLUtilities.stripHTMLTagsFromString;function getChartAnnotationLabels(n){var i=n.annotations||[];return i.reduce(function(t,r){return r.options&&r.options.visible!==!1&&(t=t.concat(r.labels)),t},[])}function getLabelText(n){return n.options&&n.options.accessibility&&n.options.accessibility.description||n.graphic&&n.graphic.text&&n.graphic.text.textStr||""}function getAnnotationLabelDescription(n){var i=n.options&&n.options.accessibility&&n.options.accessibility.description;if(i)return i;var t=n.chart,r=getLabelText(n),o=n.points,a=function(f){return f.graphic&&f.graphic.element&&f.graphic.element.getAttribute("aria-label")||""},s=function(f){var p=f.accessibility&&f.accessibility.valueDescription||a(f),m=f&&f.series.name||"";return(m?m+", ":"")+"data point "+p},l=o.filter(function(f){return!!f.graphic}).map(s).filter(function(f){return!!f}),c=l.length,h=c>1?"MultiplePoints":c?"SinglePoint":"NoPoints",u="accessibility.screenReaderSection.annotations.description"+h,d={annotationText:r,annotation:n,numPoints:c,annotationPoint:l[0],additionalAnnotationPoints:l.slice(1)};return t.langFormat(u,d)}function getAnnotationListItems(n){var i=getChartAnnotationLabels(n);return i.map(function(t){var r=escapeStringForHTML(stripHTMLTagsFromString$1(getAnnotationLabelDescription(t)));return r?"<li>"+r+"</li>":""})}function getAnnotationsInfoHTML$1(n){var i=n.annotations;if(!(i&&i.length))return"";var t=getAnnotationListItems(n);return'<ul style="list-style-type: none">'+t.join(" ")+"</ul>"}function getPointAnnotationTexts$1(n){var i=getChartAnnotationLabels(n.series.chart),t=i.filter(function(r){return r.points.indexOf(n)>-1});return t.length?t.map(function(r){return""+getLabelText(r)}):[]}var AnnotationsA11y={getAnnotationsInfoHTML:getAnnotationsInfoHTML$1,getAnnotationLabelDescription,getAnnotationListItems,getPointAnnotationTexts:getPointAnnotationTexts$1},getPointAnnotationTexts=AnnotationsA11y.getPointAnnotationTexts,getAxisDescription$1=ChartUtilities.getAxisDescription,getSeriesFirstPointElement=ChartUtilities.getSeriesFirstPointElement,getSeriesA11yElement=ChartUtilities.getSeriesA11yElement,unhideChartElementFromAT$4=ChartUtilities.unhideChartElementFromAT,format$6=FormatUtilities.format,numberFormat=FormatUtilities.numberFormat,reverseChildNodes=HTMLUtilities.reverseChildNodes,stripHTMLTags$1=HTMLUtilities.stripHTMLTagsFromString,find$6=Utilities.find,isNumber$l=Utilities.isNumber,pick$T=Utilities.pick,defined$n=Utilities.defined;function findFirstPointWithGraphic(n){var i=n.index;return!n.series||!n.series.data||!defined$n(i)?null:find$6(n.series.data,function(t){return!!(t&&typeof t.index<"u"&&t.index>i&&t.graphic&&t.graphic.element)})||null}function shouldAddDummyPoint(n){var i=n.series&&n.series.is("sunburst"),t=n.isNull;return t&&!i}function makeDummyElement(n,i){var t=n.series.chart.renderer,r=t.rect(i.x,i.y,1,1);return r.attr({class:"highcharts-a11y-dummy-point",fill:"none",opacity:0,"fill-opacity":0,"stroke-opacity":0}),r}function addDummyPointElement(n){var i=n.series,t=findFirstPointWithGraphic(n),r=t&&t.graphic,o=r?r.parentGroup:i.graph||i.group,a=t?{x:pick$T(n.plotX,t.plotX,0),y:pick$T(n.plotY,t.plotY,0)}:{x:pick$T(n.plotX,0),y:pick$T(n.plotY,0)},s=makeDummyElement(n,a);if(o&&o.element)return n.graphic=s,n.hasDummyGraphic=!0,s.add(o),o.element.insertBefore(s.element,r?r.element:null),s.element}function hasMorePointsThanDescriptionThreshold(n){var i=n.chart.options.accessibility,t=i.series.pointDescriptionEnabledThreshold;return!!(t!==!1&&n.points&&n.points.length>=t)}function shouldSetScreenReaderPropsOnPoints(n){var i=n.options.accessibility||{};return!hasMorePointsThanDescriptionThreshold(n)&&!i.exposeAsGroupOnly}function shouldSetKeyboardNavPropsOnPoints(n){var i=n.chart.options.accessibility,t=i.keyboardNavigation.seriesNavigation;return!!(n.points&&(n.points.length<t.pointNavigationEnabledThreshold||t.pointNavigationEnabledThreshold===!1))}function shouldDescribeSeriesElement(n){var i=n.chart,t=i.options.chart,r=t.options3d&&t.options3d.enabled,o=i.series.length>1,a=i.options.accessibility.series.describeSingleSeries,s=(n.options.accessibility||{}).exposeAsGroupOnly,l=r&&o;return!l&&(o||a||s||hasMorePointsThanDescriptionThreshold(n))}function pointNumberToString(n,i){var t=n.series.chart,r=t.options.accessibility.point||{},o=n.series.tooltipOptions||{},a=t.options.lang;return isNumber$l(i)?numberFormat(i,r.valueDecimals||o.valueDecimals||-1,a.decimalPoint,a.accessibility.thousandsSep||a.thousandsSep):i}function getSeriesDescriptionText(n){var i=n.options.accessibility||{},t=i.description;return t&&n.chart.langFormat("accessibility.series.description",{description:t,series:n})||""}function getSeriesAxisDescriptionText(n,i){var t=n[i];return n.chart.langFormat("accessibility.series."+i+"Description",{name:getAxisDescription$1(t),series:n})}function getPointA11yTimeDescription(n){var i=n.series,t=i.chart,r=t.options.accessibility.point||{},o=i.xAxis&&i.xAxis.dateTime;if(o){var a=o.getXDateFormat(n.x||0,t.options.tooltip.dateTimeLabelFormats),s=r.dateFormatter&&r.dateFormatter(n)||r.dateFormat||a;return t.time.dateFormat(s,n.x||0,void 0)}}function getPointXDescription(n){var i=getPointA11yTimeDescription(n),t=n.series.xAxis||{},r=t.categories&&defined$n(n.category)&&(""+n.category).replace("<br/>"," "),o=n.id&&n.id.indexOf("highcharts-")<0,a="x, "+n.x;return n.name||i||r||(o?n.id:a)}function getPointArrayMapValueDescription(n,i,t){var r=i||"",o=t||"",a=function(l){var c=pointNumberToString(n,pick$T(n[l],n.options[l]));return l+": "+r+c+o},s=n.series.pointArrayMap;return s.reduce(function(l,c){return l+(l.length?", ":"")+a(c)},"")}function getPointValue(n){var i=n.series,t=i.chart.options.accessibility.point||{},r=i.tooltipOptions||{},o=t.valuePrefix||r.valuePrefix||"",a=t.valueSuffix||r.valueSuffix||"",s=typeof n.value<"u"?"value":"y",l=pointNumberToString(n,n[s]);return n.isNull?i.chart.langFormat("accessibility.series.nullPointValue",{point:n}):i.pointArrayMap?getPointArrayMapValueDescription(n,o,a):o+l+a}function getPointAnnotationDescription(n){var i=n.series.chart,t="accessibility.series.pointAnnotationsDescription",r=getPointAnnotationTexts(n),o={point:n,annotations:r};return r.length?i.langFormat(t,o):""}function getPointValueDescription(n){var i=n.series,t=i.chart,r=t.options.accessibility.point.valueDescriptionFormat,o=pick$T(i.xAxis&&i.xAxis.options.accessibility&&i.xAxis.options.accessibility.enabled,!t.angular),a=o?getPointXDescription(n):"",s={point:n,index:defined$n(n.index)?n.index+1:"",xDescription:a,value:getPointValue(n),separator:o?", ":""};return format$6(r,s,t)}function defaultPointDescriptionFormatter$1(n){var i=n.series,t=i.chart,r=getPointValueDescription(n),o=n.options&&n.options.accessibility&&n.options.accessibility.description,a=o?" "+o:"",s=t.series.length>1&&i.name?" "+i.name+".":"",l=getPointAnnotationDescription(n),c=l?" "+l:"";return n.accessibility=n.accessibility||{},n.accessibility.valueDescription=r,r+a+s+c}function setPointScreenReaderAttribs(n,i){var t=n.series,r=t.chart.options.accessibility.point||{},o=t.options.accessibility||{},a=stripHTMLTags$1(o.pointDescriptionFormatter&&o.pointDescriptionFormatter(n)||r.descriptionFormatter&&r.descriptionFormatter(n)||defaultPointDescriptionFormatter$1(n));i.setAttribute("role","img"),i.setAttribute("aria-label",a)}function describePointsInSeries(n){var i=shouldSetScreenReaderPropsOnPoints(n),t=shouldSetKeyboardNavPropsOnPoints(n);(i||t)&&n.points.forEach(function(r){var o=r.graphic&&r.graphic.element||shouldAddDummyPoint(r)&&addDummyPointElement(r),a=r.options&&r.options.accessibility&&r.options.accessibility.enabled===!1;o&&(o.setAttribute("tabindex","-1"),o.style.outline="0",i&&!a?setPointScreenReaderAttribs(r,o):o.setAttribute("aria-hidden",!0))})}function defaultSeriesDescriptionFormatter$1(n){var i=n.chart,t=i.types||[],r=getSeriesDescriptionText(n),o=function(u){return i[u]&&i[u].length>1&&n[u]},a=getSeriesAxisDescriptionText(n,"xAxis"),s=getSeriesAxisDescriptionText(n,"yAxis"),l={name:n.name||"",ix:n.index+1,numSeries:i.series&&i.series.length,numPoints:n.points&&n.points.length,series:n},c=t.length>1?"Combination":"",h=i.langFormat("accessibility.series.summary."+n.type+c,l)||i.langFormat("accessibility.series.summary.default"+c,l);return h+(r?" "+r:"")+(o("yAxis")?" "+s:"")+(o("xAxis")?" "+a:"")}function describeSeriesElement(n,i){var t=n.options.accessibility||{},r=n.chart.options.accessibility,o=r.landmarkVerbosity;t.exposeAsGroupOnly?i.setAttribute("role","img"):o==="all"&&i.setAttribute("role","region"),i.setAttribute("tabindex","-1"),i.style.outline="0",i.setAttribute("aria-label",stripHTMLTags$1(r.series.descriptionFormatter&&r.series.descriptionFormatter(n)||defaultSeriesDescriptionFormatter$1(n)))}function describeSeries$1(n){var i=n.chart,t=getSeriesFirstPointElement(n),r=getSeriesA11yElement(n),o=i.is3d&&i.is3d();r&&(r.lastChild===t&&!o&&reverseChildNodes(r),describePointsInSeries(n),unhideChartElementFromAT$4(i,r),shouldDescribeSeriesElement(n)?describeSeriesElement(n,r):r.setAttribute("aria-label",""))}var SeriesDescriber={describeSeries:describeSeries$1,defaultPointDescriptionFormatter:defaultPointDescriptionFormatter$1,defaultSeriesDescriptionFormatter:defaultSeriesDescriptionFormatter$1,getPointA11yTimeDescription,getPointXDescription,getPointValue,getPointValueDescription},doc$9=H.doc,setElAttrs$3=HTMLUtilities.setElAttrs,visuallyHideElement$1=HTMLUtilities.visuallyHideElement,Announcer=function(){function n(i,t){this.chart=i,this.domElementProvider=new DOMElementProvider,this.announceRegion=this.addAnnounceRegion(t)}return n.prototype.destroy=function(){this.domElementProvider.destroyCreatedElements()},n.prototype.announce=function(i){var t=this;AST.setElementHTML(this.announceRegion,i),this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer),this.clearAnnouncementRegionTimer=setTimeout(function(){t.announceRegion.innerHTML="",delete t.clearAnnouncementRegionTimer},1e3)},n.prototype.addAnnounceRegion=function(i){var t=this.chart.announcerContainer||this.createAnnouncerContainer(),r=this.domElementProvider.createElement("div");return setElAttrs$3(r,{"aria-hidden":!1,"aria-live":i}),visuallyHideElement$1(r),t.appendChild(r),r},n.prototype.createAnnouncerContainer=function(){var i=this.chart,t=doc$9.createElement("div");return setElAttrs$3(t,{"aria-hidden":!1,style:"position:relative",class:"highcharts-announcer-container"}),i.renderTo.insertBefore(t,i.renderTo.firstChild),i.announcerContainer=t,t},n}(),extend$W=Utilities.extend,defined$m=Utilities.defined,getChartTitle$2=ChartUtilities.getChartTitle,defaultPointDescriptionFormatter=SeriesDescriber.defaultPointDescriptionFormatter,defaultSeriesDescriptionFormatter=SeriesDescriber.defaultSeriesDescriptionFormatter;function chartHasAnnounceEnabled(n){return!!n.options.accessibility.announceNewData.enabled}function findPointInDataArray(n){var i=n.series.data.filter(function(t){return n.x===t.x&&n.y===t.y});return i.length===1?i[0]:n}function getUniqueSeries(n,i){var t=(n||[]).concat(i||[]).reduce(function(r,o){return r[o.name+o.index]=o,r},{});return Object.keys(t).map(function(r){return t[r]})}var NewDataAnnouncer=function(n){this.chart=n};extend$W(NewDataAnnouncer.prototype,{init:function(){var n=this.chart,i=n.options.accessibility.announceNewData,t=i.interruptUser?"assertive":"polite";this.lastAnnouncementTime=0,this.dirty={allSeries:{}},this.eventProvider=new EventProvider,this.announcer=new Announcer(n,t),this.addEventListeners()},destroy:function(){this.eventProvider.removeAddedEvents(),this.announcer.destroy()},addEventListeners:function(){var n=this,i=this.chart,t=this.eventProvider;t.addEvent(i,"afterDrilldown",function(){n.lastAnnouncementTime=0}),t.addEvent(Series$e,"updatedData",function(){n.onSeriesUpdatedData(this)}),t.addEvent(i,"afterAddSeries",function(r){n.onSeriesAdded(r.series)}),t.addEvent(Series$e,"addPoint",function(r){n.onPointAdded(r.point)}),t.addEvent(i,"redraw",function(){n.announceDirtyData()})},onSeriesUpdatedData:function(n){var i=this.chart;n.chart===i&&chartHasAnnounceEnabled(i)&&(this.dirty.hasDirty=!0,this.dirty.allSeries[n.name+n.index]=n)},onSeriesAdded:function(n){chartHasAnnounceEnabled(this.chart)&&(this.dirty.hasDirty=!0,this.dirty.allSeries[n.name+n.index]=n,this.dirty.newSeries=defined$m(this.dirty.newSeries)?void 0:n)},onPointAdded:function(n){var i=n.series.chart;this.chart===i&&chartHasAnnounceEnabled(i)&&(this.dirty.newPoint=defined$m(this.dirty.newPoint)?void 0:n)},announceDirtyData:function(){var n=this.chart,i=this;if(n.options.accessibility.announceNewData&&this.dirty.hasDirty){var t=this.dirty.newPoint;t&&(t=findPointInDataArray(t)),this.queueAnnouncement(Object.keys(this.dirty.allSeries).map(function(r){return i.dirty.allSeries[r]}),this.dirty.newSeries,t),this.dirty={allSeries:{}}}},queueAnnouncement:function(n,i,t){var r=this,o=this.chart,a=o.options.accessibility.announceNewData;if(a.enabled){var s=+new Date,l=s-this.lastAnnouncementTime,c=Math.max(0,a.minAnnounceInterval-l),h=getUniqueSeries(this.queuedAnnouncement&&this.queuedAnnouncement.series,n),u=this.buildAnnouncementMessage(h,i,t);u&&(this.queuedAnnouncement&&clearTimeout(this.queuedAnnouncementTimer),this.queuedAnnouncement={time:s,message:u,series:h},this.queuedAnnouncementTimer=setTimeout(function(){r&&r.announcer&&(r.lastAnnouncementTime=+new Date,r.announcer.announce(r.queuedAnnouncement.message),delete r.queuedAnnouncement,delete r.queuedAnnouncementTimer)},c))}},buildAnnouncementMessage:function(n,i,t){var r=this.chart,o=r.options.accessibility.announceNewData;if(o.announcementFormatter){var a=o.announcementFormatter(n,i,t);if(a!==!1)return a.length?a:null}var s=H.charts&&H.charts.length>1?"Multiple":"Single",l=i?"newSeriesAnnounce"+s:t?"newPointAnnounce"+s:"newDataAnnounce",c=getChartTitle$2(r);return r.langFormat("accessibility.announceNewData."+l,{chartTitle:c,seriesDesc:i?defaultSeriesDescriptionFormatter(i):null,pointDesc:t?defaultPointDescriptionFormatter(t):null,point:t,series:i})}});var addEvent$z=Utilities.addEvent,merge$M=Utilities.merge;function isWithinDescriptionThreshold(n){var i=n.chart.options.accessibility;return n.points.length<i.series.pointDescriptionEnabledThreshold||i.series.pointDescriptionEnabledThreshold===!1}function shouldForceMarkers(n){var i=n.chart,t=i.options.accessibility.enabled,r=(n.options.accessibility&&n.options.accessibility.enabled)!==!1;return t&&r&&isWithinDescriptionThreshold(n)}function hasIndividualPointMarkerOptions(n){return!!(n._hasPointMarkers&&n.points&&n.points.length)}function unforceSeriesMarkerOptions(n){var i=n.resetA11yMarkerOptions;i&&merge$M(!0,n.options,{marker:{enabled:i.enabled,states:{normal:{opacity:i.states&&i.states.normal&&i.states.normal.opacity}}}})}function forceZeroOpacityMarkerOptions(n){merge$M(!0,n,{marker:{enabled:!0,states:{normal:{opacity:0}}}})}function getPointMarkerOpacity(n){return n.marker.states&&n.marker.states.normal&&n.marker.states.normal.opacity||1}function unforcePointMarkerOptions(n){merge$M(!0,n.marker,{states:{normal:{opacity:getPointMarkerOpacity(n)}}})}function handleForcePointMarkers(n){for(var i=n.points.length;i--;){var t=n.points[i],r=t.options;delete t.hasForcedA11yMarker,r.marker&&(r.marker.enabled?(unforcePointMarkerOptions(r),t.hasForcedA11yMarker=!1):(forceZeroOpacityMarkerOptions(r),t.hasForcedA11yMarker=!0))}}function addForceMarkersEvents(){addEvent$z(Series$e,"render",function(){var n=this,i=n.options;shouldForceMarkers(n)?(i.marker&&i.marker.enabled===!1&&(n.a11yMarkersForced=!0,forceZeroOpacityMarkerOptions(n.options)),hasIndividualPointMarkerOptions(n)&&handleForcePointMarkers(n)):n.a11yMarkersForced&&(delete n.a11yMarkersForced,unforceSeriesMarkerOptions(n))}),addEvent$z(Series$e,"afterSetOptions",function(n){this.resetA11yMarkerOptions=merge$M(n.options.marker||{},this.userOptions.marker||{})}),addEvent$z(Series$e,"afterRender",function(){var n=this;n.chart.styledMode&&(n.markerGroup&&n.markerGroup[n.a11yMarkersForced?"addClass":"removeClass"]("highcharts-a11y-markers-hidden"),hasIndividualPointMarkerOptions(n)&&n.points.forEach(function(i){i.graphic&&(i.graphic[i.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-hidden"),i.graphic[i.hasForcedA11yMarker===!1?"addClass":"removeClass"]("highcharts-a11y-marker-visible"))}))})}var extend$V=Utilities.extend,hideSeriesFromAT=ChartUtilities.hideSeriesFromAT,describeSeries=SeriesDescriber.describeSeries;H.SeriesAccessibilityDescriber=SeriesDescriber;addForceMarkersEvents();var SeriesComponent=function(){};SeriesComponent.prototype=new AccessibilityComponent;extend$V(SeriesComponent.prototype,{init:function(){this.newDataAnnouncer=new NewDataAnnouncer(this.chart),this.newDataAnnouncer.init(),this.keyboardNavigation=new SeriesKeyboardNavigation(this.chart,this.keyCodes),this.keyboardNavigation.init(),this.hideTooltipFromATWhenShown(),this.hideSeriesLabelsFromATWhenShown()},hideTooltipFromATWhenShown:function(){var n=this;this.addEvent(Tooltip,"refresh",function(){this.chart===n.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)})},hideSeriesLabelsFromATWhenShown:function(){this.addEvent(this.chart,"afterDrawSeriesLabels",function(){this.series.forEach(function(n){n.labelBySeries&&n.labelBySeries.attr("aria-hidden",!0)})})},onChartRender:function(){var n=this.chart;n.series.forEach(function(i){var t=(i.options.accessibility&&i.options.accessibility.enabled)!==!1&&i.visible;t?describeSeries(i):hideSeriesFromAT(i)})},getKeyboardNavigation:function(){return this.keyboardNavigation.getKeyboardNavigationHandler()},destroy:function(){this.newDataAnnouncer.destroy(),this.keyboardNavigation.destroy()}});var unhideChartElementFromAT$3=ChartUtilities.unhideChartElementFromAT,noop$d=H.noop,removeElement=HTMLUtilities.removeElement,setElAttrs$2=HTMLUtilities.setElAttrs,extend$U=Utilities.extend,pick$S=Utilities.pick;function chartHasMapZoom(n){return!!(n.mapZoom&&n.mapNavButtons&&n.mapNavButtons.length)}H.Axis.prototype.panStep=function(n,i){var t=i||3,r=this.getExtremes(),o=(r.max-r.min)/t*n,a=r.max+o,s=r.min+o,l=a-s;n<0&&s<r.dataMin?(s=r.dataMin,a=s+l):n>0&&a>r.dataMax&&(a=r.dataMax,s=a-l),this.setExtremes(s,a)};var ZoomComponent=noop$d;ZoomComponent.prototype=new AccessibilityComponent;extend$U(ZoomComponent.prototype,{init:function(){var n=this,i=this.chart;["afterShowResetZoom","afterDrilldown","drillupall"].forEach(function(t){n.addEvent(i,t,function(){n.updateProxyOverlays()})})},onChartUpdate:function(){var n=this.chart,i=this;n.mapNavButtons&&n.mapNavButtons.forEach(function(t,r){unhideChartElementFromAT$3(n,t.element),i.setMapNavButtonAttrs(t.element,"accessibility.zoom.mapZoom"+(r?"Out":"In"))})},setMapNavButtonAttrs:function(n,i){var t=this.chart,r=t.langFormat(i,{chart:t});setElAttrs$2(n,{tabindex:-1,role:"button","aria-label":r})},onChartRender:function(){this.updateProxyOverlays()},updateProxyOverlays:function(){var n=this.chart;removeElement(this.drillUpProxyGroup),removeElement(this.resetZoomProxyGroup),n.resetZoomButton&&this.recreateProxyButtonAndGroup(n.resetZoomButton,"resetZoomProxyButton","resetZoomProxyGroup",n.langFormat("accessibility.zoom.resetZoomButton",{chart:n})),n.drillUpButton&&this.recreateProxyButtonAndGroup(n.drillUpButton,"drillUpProxyButton","drillUpProxyGroup",n.langFormat("accessibility.drillUpButton",{chart:n,buttonText:n.getDrilldownBackText()}))},recreateProxyButtonAndGroup:function(n,i,t,r){removeElement(this[t]),this[t]=this.addProxyGroup(),this[i]=this.createProxyButton(n,this[t],{"aria-label":r,tabindex:-1})},getMapZoomNavigation:function(){var n=this.keyCodes,i=this.chart,t=this;return new KeyboardNavigationHandler(i,{keyCodeMap:[[[n.up,n.down,n.left,n.right],function(r){return t.onMapKbdArrow(this,r)}],[[n.tab],function(r,o){return t.onMapKbdTab(this,o)}],[[n.space,n.enter],function(){return t.onMapKbdClick(this)}]],validate:function(){return chartHasMapZoom(i)},init:function(r){return t.onMapNavInit(r)}})},onMapKbdArrow:function(n,i){var t=this.keyCodes,r=i===t.up||i===t.down?"yAxis":"xAxis",o=i===t.left||i===t.up?-1:1;return this.chart[r][0].panStep(o),n.response.success},onMapKbdTab:function(n,i){var t,r=this.chart,o=n.response,a=i.shiftKey,s=a&&!this.focusedMapNavButtonIx||!a&&this.focusedMapNavButtonIx;return r.mapNavButtons[this.focusedMapNavButtonIx].setState(0),s?(r.mapZoom(),o[a?"prev":"next"]):(this.focusedMapNavButtonIx+=a?-1:1,t=r.mapNavButtons[this.focusedMapNavButtonIx],r.setFocusToElement(t.box,t.element),t.setState(2),o.success)},onMapKbdClick:function(n){return this.fakeClickEvent(this.chart.mapNavButtons[this.focusedMapNavButtonIx].element),n.response.success},onMapNavInit:function(n){var i=this.chart,t=i.mapNavButtons[0],r=i.mapNavButtons[1],o=n>0?t:r;i.setFocusToElement(o.box,o.element),o.setState(2),this.focusedMapNavButtonIx=n>0?0:1},simpleButtonNavigation:function(n,i,t){var r=this.keyCodes,o=this,a=this.chart;return new KeyboardNavigationHandler(a,{keyCodeMap:[[[r.tab,r.up,r.down,r.left,r.right],function(s,l){var c=s===r.tab&&l.shiftKey||s===r.left||s===r.up;return this.response[c?"prev":"next"]}],[[r.space,r.enter],function(){var s=t(this,a);return pick$S(s,this.response.success)}]],validate:function(){var s=a[n]&&a[n].box&&o[i];return s},init:function(){a.setFocusToElement(a[n].box,o[i])}})},getKeyboardNavigation:function(){return[this.simpleButtonNavigation("resetZoomButton","resetZoomProxyButton",function(n,i){i.zoomOut()}),this.simpleButtonNavigation("drillUpButton","drillUpProxyButton",function(n,i){return i.drillUp(),n.response.prev}),this.getMapZoomNavigation()]}});var unhideChartElementFromAT$2=ChartUtilities.unhideChartElementFromAT,getAxisRangeDescription$1=ChartUtilities.getAxisRangeDescription,setElAttrs$1=HTMLUtilities.setElAttrs,addEvent$y=Utilities.addEvent,extend$T=Utilities.extend;function shouldRunInputNavigation(n){return!!(n.rangeSelector&&n.rangeSelector.inputGroup&&n.rangeSelector.inputGroup.element.getAttribute("visibility")!=="hidden"&&n.options.rangeSelector.inputEnabled!==!1&&n.rangeSelector.minInput&&n.rangeSelector.maxInput)}Chart$1.prototype.highlightRangeSelectorButton=function(n){var i=this.rangeSelector&&this.rangeSelector.buttons||[],t=this.highlightedRangeSelectorItemIx,r=this.rangeSelector&&this.rangeSelector.selected;return typeof t<"u"&&i[t]&&t!==r&&i[t].setState(this.oldRangeSelectorItemState||0),this.highlightedRangeSelectorItemIx=n,i[n]?(this.setFocusToElement(i[n].box,i[n].element),n!==r&&(this.oldRangeSelectorItemState=i[n].state,i[n].setState(1)),!0):!1};addEvent$y(RangeSelector,"afterBtnClick",function(){if(this.chart.accessibility&&this.chart.accessibility.components.rangeSelector)return this.chart.accessibility.components.rangeSelector.onAfterBtnClick()});var RangeSelectorComponent=function(){};RangeSelectorComponent.prototype=new AccessibilityComponent;extend$T(RangeSelectorComponent.prototype,{init:function(){var n=this.chart;this.announcer=new Announcer(n,"polite")},onChartUpdate:function(){var n=this.chart,i=this,t=n.rangeSelector;t&&(this.updateSelectorVisibility(),this.setDropdownAttrs(),t.buttons&&t.buttons.length&&t.buttons.forEach(function(r){i.setRangeButtonAttrs(r)}),t.maxInput&&t.minInput&&["minInput","maxInput"].forEach(function(r,o){var a=t[r];a&&(unhideChartElementFromAT$2(n,a),i.setRangeInputAttrs(a,"accessibility.rangeSelector."+(o?"max":"min")+"InputLabel"))}))},updateSelectorVisibility:function(){var n=this.chart,i=n.rangeSelector,t=i&&i.dropdown,r=i&&i.buttons||[],o=function(a){return a.setAttribute("aria-hidden",!0)};i&&i.hasVisibleDropdown&&t?(unhideChartElementFromAT$2(n,t),r.forEach(function(a){return o(a.element)})):(t&&o(t),r.forEach(function(a){return unhideChartElementFromAT$2(n,a.element)}))},setDropdownAttrs:function(){var n=this.chart,i=n.rangeSelector&&n.rangeSelector.dropdown;if(i){var t=n.langFormat("accessibility.rangeSelector.dropdownLabel",{rangeTitle:n.options.lang.rangeSelectorZoom});i.setAttribute("aria-label",t),i.setAttribute("tabindex",-1)}},setRangeButtonAttrs:function(n){setElAttrs$1(n.element,{tabindex:-1,role:"button"})},setRangeInputAttrs:function(n,i){var t=this.chart;setElAttrs$1(n,{tabindex:-1,"aria-label":t.langFormat(i,{chart:t})})},onButtonNavKbdArrowKey:function(n,i){var t=n.response,r=this.keyCodes,o=this.chart,a=o.options.accessibility.keyboardNavigation.wrapAround,s=i===r.left||i===r.up?-1:1,l=o.highlightRangeSelectorButton(o.highlightedRangeSelectorItemIx+s);return l?t.success:a?(n.init(s),t.success):t[s>0?"next":"prev"]},onButtonNavKbdClick:function(n){var i=n.response,t=this.chart,r=t.oldRangeSelectorItemState===3;return r||this.fakeClickEvent(t.rangeSelector.buttons[t.highlightedRangeSelectorItemIx].element),i.success},onAfterBtnClick:function(){var n=this.chart,i=getAxisRangeDescription$1(n.xAxis[0]),t=n.langFormat("accessibility.rangeSelector.clickButtonAnnouncement",{chart:n,axisRangeDescription:i});t&&this.announcer.announce(t)},onInputKbdMove:function(n){var i=this.chart,t=i.rangeSelector,r=i.highlightedInputRangeIx=(i.highlightedInputRangeIx||0)+n,o=r>1||r<0;if(o)i.accessibility&&(i.accessibility.keyboardNavigation.tabindexContainer.focus(),i.accessibility.keyboardNavigation[n<0?"prev":"next"]());else if(t){var a=t[r?"maxDateBox":"minDateBox"],s=t[r?"maxInput":"minInput"];a&&s&&i.setFocusToElement(a,s)}},onInputNavInit:function(n){var i=this,t=this,r=this.chart,o=n>0?0:1,a=r.rangeSelector,s=a&&a[o?"maxDateBox":"minDateBox"],l=a&&a.minInput,c=a&&a.maxInput,h=o?c:l;if(r.highlightedInputRangeIx=o,s&&l&&c){r.setFocusToElement(s,h),this.removeInputKeydownHandler&&this.removeInputKeydownHandler();var u=function(p){var m=(p.which||p.keyCode)===i.keyCodes.tab;m&&(p.preventDefault(),p.stopPropagation(),t.onInputKbdMove(p.shiftKey?-1:1))},d=addEvent$y(l,"keydown",u),f=addEvent$y(c,"keydown",u);this.removeInputKeydownHandler=function(){d(),f()}}},onInputNavTerminate:function(){var n=this.chart.rangeSelector||{};n.maxInput&&n.hideInput("max"),n.minInput&&n.hideInput("min"),this.removeInputKeydownHandler&&(this.removeInputKeydownHandler(),delete this.removeInputKeydownHandler)},initDropdownNav:function(){var n=this,i=this.chart,t=i.rangeSelector,r=t&&t.dropdown;t&&r&&(i.setFocusToElement(t.buttonGroup,r),this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeDropdownKeydownHandler=addEvent$y(r,"keydown",function(o){var a=(o.which||o.keyCode)===n.keyCodes.tab;a&&(o.preventDefault(),o.stopPropagation(),i.accessibility&&(i.accessibility.keyboardNavigation.tabindexContainer.focus(),i.accessibility.keyboardNavigation[o.shiftKey?"prev":"next"]()))}))},getRangeSelectorButtonNavigation:function(){var n=this.chart,i=this.keyCodes,t=this;return new KeyboardNavigationHandler(n,{keyCodeMap:[[[i.left,i.right,i.up,i.down],function(r){return t.onButtonNavKbdArrowKey(this,r)}],[[i.enter,i.space],function(){return t.onButtonNavKbdClick(this)}]],validate:function(){return!!(n.rangeSelector&&n.rangeSelector.buttons&&n.rangeSelector.buttons.length)},init:function(r){var o=n.rangeSelector;if(o&&o.hasVisibleDropdown)t.initDropdownNav();else if(o){var a=o.buttons.length-1;n.highlightRangeSelectorButton(r>0?0:a)}},terminate:function(){t.removeDropdownKeydownHandler&&(t.removeDropdownKeydownHandler(),delete t.removeDropdownKeydownHandler)}})},getRangeSelectorInputNavigation:function(){var n=this.chart,i=this;return new KeyboardNavigationHandler(n,{keyCodeMap:[],validate:function(){return shouldRunInputNavigation(n)},init:function(t){i.onInputNavInit(t)},terminate:function(){i.onInputNavTerminate()}})},getKeyboardNavigation:function(){return[this.getRangeSelectorButtonNavigation(),this.getRangeSelectorInputNavigation()]},destroy:function(){this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),this.announcer&&this.announcer.destroy()}});var format$5=FormatUtilities.format,doc$8=H.doc,extend$S=Utilities.extend,pick$R=Utilities.pick,getAnnotationsInfoHTML=AnnotationsA11y.getAnnotationsInfoHTML,getAxisDescription=ChartUtilities.getAxisDescription,getAxisRangeDescription=ChartUtilities.getAxisRangeDescription,getChartTitle$1=ChartUtilities.getChartTitle,unhideChartElementFromAT$1=ChartUtilities.unhideChartElementFromAT,addClass=HTMLUtilities.addClass,getElement=HTMLUtilities.getElement,getHeadingTagNameForElement=HTMLUtilities.getHeadingTagNameForElement,setElAttrs=HTMLUtilities.setElAttrs,stripHTMLTagsFromString=HTMLUtilities.stripHTMLTagsFromString,visuallyHideElement=HTMLUtilities.visuallyHideElement;function stripEmptyHTMLTags(n){return n.replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")}function getTypeDescForMapChart(n,i){return i.mapTitle?n.langFormat("accessibility.chartTypes.mapTypeDescription",i):n.langFormat("accessibility.chartTypes.unknownMap",i)}function getTypeDescForCombinationChart(n,i){return n.langFormat("accessibility.chartTypes.combinationChart",i)}function getTypeDescForEmptyChart(n,i){return n.langFormat("accessibility.chartTypes.emptyChart",i)}function buildTypeDescriptionFromSeries(n,i,t){var r=i[0],o=n.langFormat("accessibility.seriesTypeDescriptions."+r,t),a=n.series&&n.series.length<2?"Single":"Multiple";return(n.langFormat("accessibility.chartTypes."+r+a,t)||n.langFormat("accessibility.chartTypes.default"+a,t))+(o?" "+o:"")}function getTableSummary(n){return n.langFormat("accessibility.table.tableSummary",{chart:n})}Chart$1.prototype.getTypeDescription=function(n){var i=n[0],t=this.series&&this.series[0]||{},r={numSeries:this.series.length,numPoints:t.points&&t.points.length,chart:this,mapTitle:t.mapTitle};return i?i==="map"?getTypeDescForMapChart(this,r):this.types.length>1?getTypeDescForCombinationChart(this,r):buildTypeDescriptionFromSeries(this,n,r):getTypeDescForEmptyChart(this,r)};var InfoRegionsComponent=function(){};InfoRegionsComponent.prototype=new AccessibilityComponent;extend$S(InfoRegionsComponent.prototype,{init:function(){var n=this.chart,i=this;this.initRegionsDefinitions(),this.addEvent(n,"aftergetTableAST",function(t){i.onDataTableCreated(t)}),this.addEvent(n,"afterViewData",function(t){i.dataTableDiv=t,setTimeout(function(){i.focusDataTable()},300)}),this.announcer=new Announcer(n,"assertive")},initRegionsDefinitions:function(){var n=this;this.screenReaderSections={before:{element:null,buildContent:function(i){var t=i.options.accessibility.screenReaderSection.beforeChartFormatter;return t?t(i):n.defaultBeforeChartFormatter(i)},insertIntoDOM:function(i,t){t.renderTo.insertBefore(i,t.renderTo.firstChild)},afterInserted:function(){typeof n.sonifyButtonId<"u"&&n.initSonifyButton(n.sonifyButtonId),typeof n.dataTableButtonId<"u"&&n.initDataTableButton(n.dataTableButtonId)}},after:{element:null,buildContent:function(i){var t=i.options.accessibility.screenReaderSection.afterChartFormatter;return t?t(i):n.defaultAfterChartFormatter()},insertIntoDOM:function(i,t){t.renderTo.insertBefore(i,t.container.nextSibling)},afterInserted:function(){n.chart.accessibility&&n.chart.accessibility.keyboardNavigation.updateExitAnchor()}}}},onChartRender:function(){var n=this;this.linkedDescriptionElement=this.getLinkedDescriptionElement(),this.setLinkedDescriptionAttrs(),Object.keys(this.screenReaderSections).forEach(function(i){n.updateScreenReaderSection(i)})},getLinkedDescriptionElement:function(){var n=this.chart.options,i=n.accessibility.linkedDescription;if(i){if(typeof i!="string")return i;var t=format$5(i,this.chart),r=doc$8.querySelectorAll(t);if(r.length===1)return r[0]}},setLinkedDescriptionAttrs:function(){var n=this.linkedDescriptionElement;n&&(n.setAttribute("aria-hidden","true"),addClass(n,"highcharts-linked-description"))},updateScreenReaderSection:function(n){var i=this.chart,t=this.screenReaderSections[n],r=t.buildContent(i),o=t.element=t.element||this.createElement("div"),a=o.firstChild||this.createElement("div");this.setScreenReaderSectionAttribs(o,n),AST.setElementHTML(a,r),o.appendChild(a),t.insertIntoDOM(o,i),visuallyHideElement(a),unhideChartElementFromAT$1(i,a),t.afterInserted&&t.afterInserted()},setScreenReaderSectionAttribs:function(n,i){var t="accessibility.screenReaderSection."+i+"RegionLabel",r=this.chart,o=r.langFormat(t,{chart:r,chartTitle:getChartTitle$1(r)}),a="highcharts-screen-reader-region-"+i+"-"+r.index;setElAttrs(n,{id:a,"aria-label":o}),n.style.position="relative",r.options.accessibility.landmarkVerbosity==="all"&&o&&n.setAttribute("role","region")},defaultBeforeChartFormatter:function(){var n=this.chart,i=n.options.accessibility.screenReaderSection.beforeChartFormat,t=this.getAxesDescription(),r=n.sonify&&n.options.sonification&&n.options.sonification.enabled,o="highcharts-a11y-sonify-data-btn-"+n.index,a="hc-linkto-highcharts-data-table-"+n.index,s=getAnnotationsInfoHTML(n),l=n.langFormat("accessibility.screenReaderSection.annotations.heading",{chart:n}),c={headingTagName:getHeadingTagNameForElement(n.renderTo),chartTitle:getChartTitle$1(n),typeDescription:this.getTypeDescriptionText(),chartSubtitle:this.getSubtitleText(),chartLongdesc:this.getLongdescText(),xAxisDescription:t.xAxis,yAxisDescription:t.yAxis,playAsSoundButton:r?this.getSonifyButtonText(o):"",viewTableButton:n.getCSV?this.getDataTableButtonText(a):"",annotationsTitle:s?l:"",annotationsList:s},h=H.i18nFormat(i,c,n);return this.dataTableButtonId=a,this.sonifyButtonId=o,stripEmptyHTMLTags(h)},defaultAfterChartFormatter:function(){var n=this.chart,i=n.options.accessibility.screenReaderSection.afterChartFormat,t={endOfChartMarker:this.getEndOfChartMarkerText()},r=H.i18nFormat(i,t,n);return stripEmptyHTMLTags(r)},getLinkedDescription:function(){var n=this.linkedDescriptionElement,i=n&&n.innerHTML||"";return stripHTMLTagsFromString(i)},getLongdescText:function(){var n=this.chart.options,i=n.caption,t=i&&i.text,r=this.getLinkedDescription();return n.accessibility.description||r||t||""},getTypeDescriptionText:function(){var n=this.chart;return n.types?n.options.accessibility.typeDescription||n.getTypeDescription(n.types):""},getDataTableButtonText:function(n){var i=this.chart,t=i.langFormat("accessibility.table.viewAsDataTableButtonText",{chart:i,chartTitle:getChartTitle$1(i)});return'<button id="'+n+'">'+t+"</button>"},getSonifyButtonText:function(n){var i=this.chart;if(i.options.sonification&&i.options.sonification.enabled===!1)return"";var t=i.langFormat("accessibility.sonification.playAsSoundButtonText",{chart:i,chartTitle:getChartTitle$1(i)});return'<button id="'+n+'">'+t+"</button>"},getSubtitleText:function(){var n=this.chart.options.subtitle;return stripHTMLTagsFromString(n&&n.text||"")},getEndOfChartMarkerText:function(){var n=this.chart,i=n.langFormat("accessibility.screenReaderSection.endOfChartMarker",{chart:n}),t="highcharts-end-of-chart-marker-"+n.index;return'<div id="'+t+'">'+i+"</div>"},onDataTableCreated:function(n){var i=this.chart;if(i.options.accessibility.enabled){this.viewDataTableButton&&this.viewDataTableButton.setAttribute("aria-expanded","true");var t=n.tree.attributes||{};t.tabindex=-1,t.summary=getTableSummary(i),n.tree.attributes=t}},focusDataTable:function(){var n=this.dataTableDiv,i=n&&n.getElementsByTagName("table")[0];i&&i.focus&&i.focus()},initSonifyButton:function(n){var i=this,t=this.sonifyButton=getElement(n),r=this.chart,o=function(a){t&&(t.setAttribute("aria-hidden","true"),t.setAttribute("aria-label","")),a.preventDefault(),a.stopPropagation();var s=r.langFormat("accessibility.sonification.playAsSoundClickAnnouncement",{chart:r});i.announcer.announce(s),setTimeout(function(){t&&(t.removeAttribute("aria-hidden"),t.removeAttribute("aria-label")),r.sonify&&r.sonify()},1e3)};t&&r&&(setElAttrs(t,{tabindex:-1}),t.onclick=function(a){var s=r.options.accessibility&&r.options.accessibility.screenReaderSection.onPlayAsSoundClick;(s||o).call(this,a,r)})},initDataTableButton:function(n){var i=this.viewDataTableButton=getElement(n),t=this.chart,r=n.replace("hc-linkto-","");i&&(setElAttrs(i,{tabindex:-1,"aria-expanded":!!getElement(r)}),i.onclick=t.options.accessibility.screenReaderSection.onViewDataTableClick||function(){t.viewData()})},getAxesDescription:function(){var n=this.chart,i=function(l,c){var h=n[l];return h.length>1||h[0]&&pick$R(h[0].options.accessibility&&h[0].options.accessibility.enabled,c)},t=!!n.types&&n.types.indexOf("map")<0,r=!!n.hasCartesianSeries,o=i("xAxis",!n.angular&&r&&t),a=i("yAxis",r&&t),s={};return o&&(s.xAxis=this.getAxisDescriptionText("xAxis")),a&&(s.yAxis=this.getAxisDescriptionText("yAxis")),s},getAxisDescriptionText:function(n){var i=this.chart,t=i[n];return i.langFormat("accessibility.axis."+n+"Description"+(t.length>1?"Plural":"Singular"),{chart:i,names:t.map(function(r){return getAxisDescription(r)}),ranges:t.map(function(r){return getAxisRangeDescription(r)}),numAxes:t.length})},destroy:function(){this.announcer&&this.announcer.destroy()}});var unhideChartElementFromAT=ChartUtilities.unhideChartElementFromAT,getChartTitle=ChartUtilities.getChartTitle,doc$7=H.doc,stripHTMLTags=HTMLUtilities.stripHTMLTagsFromString,extend$R=Utilities.extend,ContainerComponent=function(){};ContainerComponent.prototype=new AccessibilityComponent;extend$R(ContainerComponent.prototype,{onChartUpdate:function(){this.handleSVGTitleElement(),this.setSVGContainerLabel(),this.setGraphicContainerAttrs(),this.setRenderToAttrs(),this.makeCreditsAccessible()},handleSVGTitleElement:function(){var n=this.chart,i="highcharts-title-"+n.index,t=stripHTMLTags(n.langFormat("accessibility.svgContainerTitle",{chartTitle:getChartTitle(n)}));if(t.length){var r=this.svgTitleElement=this.svgTitleElement||doc$7.createElementNS("http://www.w3.org/2000/svg","title");r.textContent=t,r.id=i,n.renderTo.insertBefore(r,n.renderTo.firstChild)}},setSVGContainerLabel:function(){var n=this.chart,i=n.langFormat("accessibility.svgContainerLabel",{chartTitle:getChartTitle(n)});n.renderer.box&&i.length&&n.renderer.box.setAttribute("aria-label",i)},setGraphicContainerAttrs:function(){var n=this.chart,i=n.langFormat("accessibility.graphicContainerLabel",{chartTitle:getChartTitle(n)});i.length&&n.container.setAttribute("aria-label",i)},setRenderToAttrs:function(){var n=this.chart;n.options.accessibility.landmarkVerbosity!=="disabled"?n.renderTo.setAttribute("role","region"):n.renderTo.removeAttribute("role"),n.renderTo.setAttribute("aria-label",n.langFormat("accessibility.chartContainerLabel",{title:getChartTitle(n),chart:n}))},makeCreditsAccessible:function(){var n=this.chart,i=n.credits;i&&(i.textStr&&i.element.setAttribute("aria-label",n.langFormat("accessibility.credits",{creditsStr:stripHTMLTags(i.textStr)})),unhideChartElementFromAT(n,i.element))},getKeyboardNavigation:function(){var n=this.chart;return new KeyboardNavigationHandler(n,{keyCodeMap:[],validate:function(){return!0},init:function(){var i=n.accessibility;i&&i.keyboardNavigation.tabindexContainer.focus()}})},destroy:function(){this.chart.renderTo.setAttribute("aria-hidden",!0)}});var doc$6=H.doc,isMS=H.isMS,win$3=H.win,whcm={isHighContrastModeActive:function(){var n=/(Edg)/.test(win$3.navigator.userAgent);if(win$3.matchMedia&&n)return win$3.matchMedia("(-ms-high-contrast: active)").matches;if(isMS&&win$3.getComputedStyle){var i=doc$6.createElement("div"),t="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";i.style.backgroundImage="url("+t+")",doc$6.body.appendChild(i);var r=(i.currentStyle||win$3.getComputedStyle(i)).backgroundImage;return doc$6.body.removeChild(i),r==="none"}return!1},setHighContrastTheme:function(n){n.highContrastModeActive=!0;var i=n.options.accessibility.highContrastTheme;n.update(i,!1),n.series.forEach(function(t){var r=i.plotOptions[t.type]||{};t.update({color:r.color||"windowText",colors:[r.color||"windowText"],borderColor:r.borderColor||"window"}),t.points.forEach(function(o){o.options&&o.options.color&&o.update({color:r.color||"windowText",borderColor:r.borderColor||"window"},!1)})}),n.redraw()}},theme={chart:{backgroundColor:"window"},title:{style:{color:"windowText"}},subtitle:{style:{color:"windowText"}},colorAxis:{minColor:"windowText",maxColor:"windowText",stops:[]},colors:["windowText"],xAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},yAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},tooltip:{backgroundColor:"window",borderColor:"windowText",style:{color:"windowText"}},plotOptions:{series:{lineColor:"windowText",fillColor:"window",borderColor:"windowText",edgeColor:"windowText",borderWidth:1,dataLabels:{connectorColor:"windowText",color:"windowText",style:{color:"windowText",textOutline:"none"}},marker:{lineColor:"windowText",fillColor:"windowText"}},pie:{color:"window",colors:["window"],borderColor:"windowText",borderWidth:1},boxplot:{fillColor:"window"},candlestick:{lineColor:"windowText",fillColor:"window"},errorbar:{fillColor:"window"}},legend:{backgroundColor:"window",itemStyle:{color:"windowText"},itemHoverStyle:{color:"windowText"},itemHiddenStyle:{color:"#555"},title:{style:{color:"windowText"}}},credits:{style:{color:"windowText"}},labels:{style:{color:"windowText"}},drilldown:{activeAxisLabelStyle:{color:"windowText"},activeDataLabelStyle:{color:"windowText"}},navigation:{buttonOptions:{symbolStroke:"windowText",theme:{fill:"window"}}},rangeSelector:{buttonTheme:{fill:"window",stroke:"windowText",style:{color:"windowText"},states:{hover:{fill:"window",stroke:"windowText",style:{color:"windowText"}},select:{fill:"#444",stroke:"windowText",style:{color:"windowText"}}}},inputBoxBorderColor:"windowText",inputStyle:{backgroundColor:"window",color:"windowText"},labelStyle:{color:"windowText"}},navigator:{handles:{backgroundColor:"window",borderColor:"windowText"},outlineColor:"windowText",maskFill:"transparent",series:{color:"windowText",lineColor:"windowText"},xAxis:{gridLineColor:"windowText"}},scrollbar:{barBackgroundColor:"#444",barBorderColor:"windowText",buttonArrowColor:"windowText",buttonBackgroundColor:"window",buttonBorderColor:"windowText",rifleColor:"windowText",trackBackgroundColor:"window",trackBorderColor:"windowText"}},Options={accessibility:{enabled:!0,screenReaderSection:{beforeChartFormat:"<{headingTagName}>{chartTitle}</{headingTagName}><div>{typeDescription}</div><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{playAsSoundButton}</div><div>{viewTableButton}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div><div>{annotationsTitle}{annotationsList}</div>",afterChartFormat:"{endOfChartMarker}",axisRangeDateFormat:"%Y-%m-%d %H:%M:%S"},series:{describeSingleSeries:!1,pointDescriptionEnabledThreshold:200},point:{valueDescriptionFormat:"{index}. {xDescription}{separator}{value}."},landmarkVerbosity:"all",linkedDescription:'*[data-highcharts-chart="{index}"] + .highcharts-description',keyboardNavigation:{enabled:!0,focusBorder:{enabled:!0,hideBrowserFocusOutline:!0,style:{color:palette.highlightColor80,lineWidth:2,borderRadius:3},margin:2},order:["series","zoom","rangeSelector","legend","chartMenu"],wrapAround:!0,seriesNavigation:{skipNullPoints:!0,pointNavigationEnabledThreshold:!1}},announceNewData:{enabled:!1,minAnnounceInterval:5e3,interruptUser:!1}},legend:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}},exporting:{accessibility:{enabled:!0}}},langOptions={accessibility:{defaultChartTitle:"Chart",chartContainerLabel:"{title}. Highcharts interactive chart.",svgContainerLabel:"Interactive chart",drillUpButton:"{buttonText}",credits:"Chart credits: {creditsStr}",thousandsSep:",",svgContainerTitle:"",graphicContainerLabel:"",screenReaderSection:{beforeRegionLabel:"Chart screen reader information, {chartTitle}.",afterRegionLabel:"",annotations:{heading:"Chart annotations summary",descriptionSinglePoint:"{annotationText}. Related to {annotationPoint}",descriptionMultiplePoints:"{annotationText}. Related to {annotationPoint}{ Also related to, #each(additionalAnnotationPoints)}",descriptionNoPoints:"{annotationText}"},endOfChartMarker:"End of interactive chart."},sonification:{playAsSoundButtonText:"Play as sound, {chartTitle}",playAsSoundClickAnnouncement:"Play"},legend:{legendLabelNoTitle:"Toggle series visibility, {chartTitle}",legendLabel:"Chart legend: {legendTitle}",legendItem:"Show {itemName}"},zoom:{mapZoomIn:"Zoom chart",mapZoomOut:"Zoom out chart",resetZoomButton:"Reset zoom"},rangeSelector:{dropdownLabel:"{rangeTitle}",minInputLabel:"Select start date.",maxInputLabel:"Select end date.",clickButtonAnnouncement:"Viewing {axisRangeDescription}"},table:{viewAsDataTableButtonText:"View as data table, {chartTitle}",tableSummary:"Table representation of chart."},announceNewData:{newDataAnnounce:"Updated data for chart {chartTitle}",newSeriesAnnounceSingle:"New data series: {seriesDesc}",newPointAnnounceSingle:"New data point: {pointDesc}",newSeriesAnnounceMultiple:"New data series in chart {chartTitle}: {seriesDesc}",newPointAnnounceMultiple:"New data point in chart {chartTitle}: {pointDesc}"},seriesTypeDescriptions:{boxplot:"Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile, and maximum.",arearange:"Arearange charts are line charts displaying a range between a lower and higher value for each point.",areasplinerange:"These charts are line charts displaying a range between a lower and higher value for each point.",bubble:"Bubble charts are scatter charts where each data point also has a size value.",columnrange:"Columnrange charts are column charts displaying a range between a lower and higher value for each point.",errorbar:"Errorbar series are used to display the variability of the data.",funnel:"Funnel charts are used to display reduction of data in stages.",pyramid:"Pyramid charts consist of a single pyramid with item heights corresponding to each point value.",waterfall:"A waterfall chart is a column chart where each column contributes towards a total end value."},chartTypes:{emptyChart:"Empty chart",mapTypeDescription:"Map of {mapTitle} with {numSeries} data series.",unknownMap:"Map of unspecified region with {numSeries} data series.",combinationChart:"Combination chart with {numSeries} data series.",defaultSingle:"Chart with {numPoints} data {#plural(numPoints, points, point)}.",defaultMultiple:"Chart with {numSeries} data series.",splineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",splineMultiple:"Line chart with {numSeries} lines.",lineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",lineMultiple:"Line chart with {numSeries} lines.",columnSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",columnMultiple:"Bar chart with {numSeries} data series.",barSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",barMultiple:"Bar chart with {numSeries} data series.",pieSingle:"Pie chart with {numPoints} {#plural(numPoints, slices, slice)}.",pieMultiple:"Pie chart with {numSeries} pies.",scatterSingle:"Scatter chart with {numPoints} {#plural(numPoints, points, point)}.",scatterMultiple:"Scatter chart with {numSeries} data series.",boxplotSingle:"Boxplot with {numPoints} {#plural(numPoints, boxes, box)}.",boxplotMultiple:"Boxplot with {numSeries} data series.",bubbleSingle:"Bubble chart with {numPoints} {#plural(numPoints, bubbles, bubble)}.",bubbleMultiple:"Bubble chart with {numSeries} data series."},axis:{xAxisDescriptionSingular:"The chart has 1 X axis displaying {names[0]}. {ranges[0]}",xAxisDescriptionPlural:"The chart has {numAxes} X axes displaying {#each(names, -1) }and {names[-1]}.",yAxisDescriptionSingular:"The chart has 1 Y axis displaying {names[0]}. {ranges[0]}",yAxisDescriptionPlural:"The chart has {numAxes} Y axes displaying {#each(names, -1) }and {names[-1]}.",timeRangeDays:"Range: {range} days.",timeRangeHours:"Range: {range} hours.",timeRangeMinutes:"Range: {range} minutes.",timeRangeSeconds:"Range: {range} seconds.",rangeFromTo:"Range: {rangeFrom} to {rangeTo}.",rangeCategories:"Range: {numCategories} categories."},exporting:{chartMenuLabel:"Chart menu",menuButtonLabel:"View chart menu",exportRegionLabel:"Chart menu, {chartTitle}"},series:{summary:{default:"{name}, series {ix} of {numSeries} with {numPoints} data {#plural(numPoints, points, point)}.",defaultCombination:"{name}, series {ix} of {numSeries} with {numPoints} data {#plural(numPoints, points, point)}.",line:"{name}, line {ix} of {numSeries} with {numPoints} data {#plural(numPoints, points, point)}.",lineCombination:"{name}, series {ix} of {numSeries}. Line with {numPoints} data {#plural(numPoints, points, point)}.",spline:"{name}, line {ix} of {numSeries} with {numPoints} data {#plural(numPoints, points, point)}.",splineCombination:"{name}, series {ix} of {numSeries}. Line with {numPoints} data {#plural(numPoints, points, point)}.",column:"{name}, bar series {ix} of {numSeries} with {numPoints} {#plural(numPoints, bars, bar)}.",columnCombination:"{name}, series {ix} of {numSeries}. Bar series with {numPoints} {#plural(numPoints, bars, bar)}.",bar:"{name}, bar series {ix} of {numSeries} with {numPoints} {#plural(numPoints, bars, bar)}.",barCombination:"{name}, series {ix} of {numSeries}. Bar series with {numPoints} {#plural(numPoints, bars, bar)}.",pie:"{name}, pie {ix} of {numSeries} with {numPoints} {#plural(numPoints, slices, slice)}.",pieCombination:"{name}, series {ix} of {numSeries}. Pie with {numPoints} {#plural(numPoints, slices, slice)}.",scatter:"{name}, scatter plot {ix} of {numSeries} with {numPoints} {#plural(numPoints, points, point)}.",scatterCombination:"{name}, series {ix} of {numSeries}, scatter plot with {numPoints} {#plural(numPoints, points, point)}.",boxplot:"{name}, boxplot {ix} of {numSeries} with {numPoints} {#plural(numPoints, boxes, box)}.",boxplotCombination:"{name}, series {ix} of {numSeries}. Boxplot with {numPoints} {#plural(numPoints, boxes, box)}.",bubble:"{name}, bubble series {ix} of {numSeries} with {numPoints} {#plural(numPoints, bubbles, bubble)}.",bubbleCombination:"{name}, series {ix} of {numSeries}. Bubble series with {numPoints} {#plural(numPoints, bubbles, bubble)}.",map:"{name}, map {ix} of {numSeries} with {numPoints} {#plural(numPoints, areas, area)}.",mapCombination:"{name}, series {ix} of {numSeries}. Map with {numPoints} {#plural(numPoints, areas, area)}.",mapline:"{name}, line {ix} of {numSeries} with {numPoints} data {#plural(numPoints, points, point)}.",maplineCombination:"{name}, series {ix} of {numSeries}. Line with {numPoints} data {#plural(numPoints, points, point)}.",mapbubble:"{name}, bubble series {ix} of {numSeries} with {numPoints} {#plural(numPoints, bubbles, bubble)}.",mapbubbleCombination:"{name}, series {ix} of {numSeries}. Bubble series with {numPoints} {#plural(numPoints, bubbles, bubble)}."},description:"{description}",xAxisDescription:"X axis, {name}",yAxisDescription:"Y axis, {name}",nullPointValue:"No value",pointAnnotationsDescription:"{Annotation: #each(annotations). }"}}},error$1=Utilities.error,pick$Q=Utilities.pick;function traverseSetOption(n,i,t){for(var r=n,o,a=0;a<i.length-1;++a)o=i[a],r=r[o]=pick$Q(r[o],{});r[i[i.length-1]]=t}function deprecateFromOptionsMap(n,i,t,r){function o(l,c){return c.reduce(function(h,u){return h[u]},l)}var a=o(n.options,i),s=o(n.options,t);Object.keys(r).forEach(function(l){var c,h=a[l];typeof h<"u"&&(traverseSetOption(s,r[l],h),error$1(32,!1,n,(c={},c[i.join(".")+"."+l]=t.join(".")+"."+r[l].join("."),c)))})}function copyDeprecatedChartOptions(n){var i=n.options.chart,t=n.options.accessibility||{};["description","typeDescription"].forEach(function(r){var o;i[r]&&(t[r]=i[r],error$1(32,!1,n,(o={},o["chart."+r]="use accessibility."+r,o)))})}function copyDeprecatedAxisOptions(n){n.axes.forEach(function(i){var t=i.options;t&&t.description&&(t.accessibility=t.accessibility||{},t.accessibility.description=t.description,error$1(32,!1,n,{"axis.description":"use axis.accessibility.description"}))})}function copyDeprecatedSeriesOptions(n){var i={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","pointDescriptionFormatter"],skipKeyboardNavigation:["accessibility","keyboardNavigation","enabled"]};n.series.forEach(function(t){Object.keys(i).forEach(function(r){var o,a=t.options[r];typeof a<"u"&&(traverseSetOption(t.options,i[r],r==="skipKeyboardNavigation"?!a:a),error$1(32,!1,n,(o={},o["series."+r]="series."+i[r].join("."),o)))})})}function copyDeprecatedTopLevelAccessibilityOptions(n){deprecateFromOptionsMap(n,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection","onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]})}function copyDeprecatedKeyboardNavigationOptions(n){deprecateFromOptionsMap(n,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]})}function copyDeprecatedLangOptions(n){deprecateFromOptionsMap(n,["lang","accessibility"],["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection","beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table","viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})}function copyDeprecatedOptions(n){copyDeprecatedChartOptions(n),copyDeprecatedAxisOptions(n),n.series&&copyDeprecatedSeriesOptions(n),copyDeprecatedTopLevelAccessibilityOptions(n),copyDeprecatedKeyboardNavigationOptions(n),copyDeprecatedLangOptions(n)}var format$4=FormatUtilities.format,pick$P=Utilities.pick;function stringTrim(n){return n.trim&&n.trim()||n.replace(/^\s+|\s+$/g,"")}function formatExtendedStatement(n,i){var t=n.indexOf("#each("),r=n.indexOf("#plural("),o=n.indexOf("["),a=n.indexOf("]"),s,l;if(t>-1){var c=n.slice(t).indexOf(")")+t,h=n.substring(0,t),u=n.substring(c+1),d=n.substring(t+6,c),f=d.split(","),p=Number(f[1]),m=void 0;if(l="",s=i[f[0]],s){p=isNaN(p)?s.length:p,m=p<0?s.length+p:Math.min(p,s.length);for(var g=0;g<m;++g)l+=h+s[g]+u}return l.length?l:""}if(r>-1){var v=n.slice(r).indexOf(")")+r,_=n.substring(r+8,v),y=_.split(","),b=Number(i[y[0]]);switch(b){case 0:l=pick$P(y[4],y[1]);break;case 1:l=pick$P(y[2],y[1]);break;case 2:l=pick$P(y[3],y[1]);break;default:l=y[1]}return l?stringTrim(l):""}if(o>-1){var x=n.substring(0,o),E=Number(n.substring(o+1,a)),C=void 0;return s=i[x],!isNaN(E)&&s&&(E<0?(C=s[s.length+E],typeof C>"u"&&(C=s[0])):(C=s[E],typeof C>"u"&&(C=s[s.length-1]))),typeof C<"u"?C:""}return"{"+n+"}"}H.i18nFormat=function(n,i,t){var r=function(c,h){var u=c.slice(h||0),d=u.indexOf("{"),f=u.indexOf("}");if(d>-1&&f>d)return{statement:u.substring(d+1,f),begin:h+d+1,end:h+f}},o=[],a,s,l=0;do a=r(n,l),s=n.substring(l,a&&a.begin-1),s.length&&o.push({value:s,type:"constant"}),a&&o.push({value:a.statement,type:"statement"}),l=a?a.end+1:l+1;while(a);return o.forEach(function(c){c.type==="statement"&&(c.value=formatExtendedStatement(c.value,i))}),format$4(o.reduce(function(c,h){return c+h.value},""),i,t)};Chart$1.prototype.langFormat=function(n,i){for(var t=n.split("."),r=this.options.lang,o=0;o<t.length;++o)r=r&&r[t[o]];return typeof r=="string"?H.i18nFormat(r,i,this):""};var addEvent$x=Utilities.addEvent,extend$Q=Utilities.extend,pick$O=Utilities.pick,svgElementBorderUpdateTriggers=["x","y","transform","width","height","r","d","stroke-width"];function addDestroyFocusBorderHook(n){if(!n.focusBorderDestroyHook){var i=n.destroy;n.destroy=function(){return n.focusBorder&&n.focusBorder.destroy&&n.focusBorder.destroy(),i.apply(n,arguments)},n.focusBorderDestroyHook=i}}function removeDestroyFocusBorderHook(n){n.focusBorderDestroyHook&&(n.destroy=n.focusBorderDestroyHook,delete n.focusBorderDestroyHook)}function addUpdateFocusBorderHooks(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];n.focusBorderUpdateHooks||(n.focusBorderUpdateHooks={},svgElementBorderUpdateTriggers.forEach(function(r){var o=r+"Setter",a=n[o]||n._defaultSetter;n.focusBorderUpdateHooks[o]=a,n[o]=function(){var s=a.apply(n,arguments);return n.addFocusBorder.apply(n,i),s}}))}function removeUpdateFocusBorderHooks(n){n.focusBorderUpdateHooks&&(Object.keys(n.focusBorderUpdateHooks).forEach(function(i){var t=n.focusBorderUpdateHooks[i];t===n._defaultSetter?delete n[i]:n[i]=t}),delete n.focusBorderUpdateHooks)}extend$Q(SVGElement.prototype,{addFocusBorder:function(n,i){this.focusBorder&&this.removeFocusBorder();var t=this.getBBox(),r=pick$O(n,3);t.x+=this.translateX?this.translateX:0,t.y+=this.translateY?this.translateY:0;var o=t.x-r,a=t.y-r,s=t.width+2*r,l=t.height+2*r;function c(g){var v=0,_=0;return g.attr("text-anchor")==="middle"?v=_=.5:g.rotation?v=.25:_=.75,{x:v,y:_}}var h=this instanceof SVGLabel;if(this.element.nodeName==="text"||h){var u=!!this.rotation,d=h?{x:u?1:0,y:0}:c(this),f=+this.attr("x"),p=+this.attr("y");if(isNaN(f)||(o=f-t.width*d.x-r),isNaN(p)||(a=p-t.height*d.y-r),h&&u){var m=s;s=l,l=m,isNaN(f)||(o=f-t.height*d.x-r),isNaN(p)||(a=p-t.width*d.y-r)}}this.focusBorder=this.renderer.rect(o,a,s,l,parseInt((i&&i.r||0).toString(),10)).addClass("highcharts-focus-border").attr({zIndex:99}).add(this.parentGroup),this.renderer.styledMode||this.focusBorder.attr({stroke:i&&i.stroke,"stroke-width":i&&i.strokeWidth}),addUpdateFocusBorderHooks(this,n,i),addDestroyFocusBorderHook(this)},removeFocusBorder:function(){removeUpdateFocusBorderHooks(this),removeDestroyFocusBorderHook(this),this.focusBorder&&(this.focusBorder.destroy(),delete this.focusBorder)}});Chart$1.prototype.renderFocusBorder=function(){var n=this.focusElement,i=this.options.accessibility.keyboardNavigation.focusBorder;n&&(n.removeFocusBorder(),i.enabled&&n.addFocusBorder(i.margin,{stroke:i.style.color,strokeWidth:i.style.lineWidth,r:i.style.borderRadius}))};Chart$1.prototype.setFocusToElement=function(n,i){var t=this.options.accessibility.keyboardNavigation.focusBorder,r=i||n.element;r&&r.focus&&(r.hcEvents&&r.hcEvents.focusin||addEvent$x(r,"focusin",function(){}),r.focus(),t.hideBrowserFocusOutline&&(r.style.outline="none")),this.focusElement&&this.focusElement.removeFocusBorder(),this.focusElement=n,this.renderFocusBorder()};var doc$5=H.doc,defaultOptions$5=DefaultOptions.defaultOptions,addEvent$w=Utilities.addEvent,extend$P=Utilities.extend,fireEvent$d=Utilities.fireEvent,merge$L=Utilities.merge;merge$L(!0,defaultOptions$5,Options,{accessibility:{highContrastTheme:theme},lang:langOptions});H.A11yChartUtilities=ChartUtilities;H.A11yHTMLUtilities=HTMLUtilities;H.KeyboardNavigationHandler=KeyboardNavigationHandler;H.AccessibilityComponent=AccessibilityComponent;function Accessibility(n){this.init(n)}Accessibility.prototype={init:function(n){if(this.chart=n,!doc$5.addEventListener||!n.renderer.isSVG){n.renderTo.setAttribute("aria-hidden",!0);return}copyDeprecatedOptions(n),this.initComponents(),this.keyboardNavigation=new KeyboardNavigation(n,this.components),this.update()},initComponents:function(){var n=this.chart,i=n.options.accessibility;this.components={container:new ContainerComponent,infoRegions:new InfoRegionsComponent,legend:new LegendComponent,chartMenu:new MenuComponent,rangeSelector:new RangeSelectorComponent,series:new SeriesComponent,zoom:new ZoomComponent},i.customComponents&&extend$P(this.components,i.customComponents);var t=this.components;this.getComponentOrder().forEach(function(r){t[r].initBase(n),t[r].init()})},getComponentOrder:function(){if(!this.components)return[];if(!this.components.series)return Object.keys(this.components);var n=Object.keys(this.components).filter(function(i){return i!=="series"});return["series"].concat(n)},update:function(){var n=this.components,i=this.chart,t=i.options.accessibility;fireEvent$d(i,"beforeA11yUpdate"),i.types=this.getChartTypes(),this.getComponentOrder().forEach(function(r){n[r].onChartUpdate(),fireEvent$d(i,"afterA11yComponentUpdate",{name:r,component:n[r]})}),this.keyboardNavigation.update(t.keyboardNavigation.order),!i.highContrastModeActive&&whcm.isHighContrastModeActive()&&whcm.setHighContrastTheme(i),fireEvent$d(i,"afterA11yUpdate",{accessibility:this})},destroy:function(){var n=this.chart||{},i=this.components;Object.keys(i).forEach(function(t){i[t].destroy(),i[t].destroyBase()}),this.keyboardNavigation&&this.keyboardNavigation.destroy(),n.renderTo&&n.renderTo.setAttribute("aria-hidden",!0),n.focusElement&&n.focusElement.removeFocusBorder()},getChartTypes:function(){var n={};return this.chart.series.forEach(function(i){n[i.type]=1}),Object.keys(n)}};Chart$1.prototype.updateA11yEnabled=function(){var n=this.accessibility,i=this.options.accessibility;i&&i.enabled?n?n.update():this.accessibility=n=new Accessibility(this):n?(n.destroy&&n.destroy(),delete this.accessibility):this.renderTo.setAttribute("aria-hidden",!0)};addEvent$w(Chart$1,"render",function(n){this.a11yDirty&&this.renderTo&&(delete this.a11yDirty,this.updateA11yEnabled());var i=this.accessibility;i&&i.getComponentOrder().forEach(function(t){i.components[t].onChartRender()})});addEvent$w(Chart$1,"update",function(n){var i=n.options.accessibility;i&&(i.customComponents&&(this.options.accessibility.customComponents=i.customComponents,delete i.customComponents),merge$L(!0,this.options.accessibility,i),this.accessibility&&this.accessibility.destroy&&(this.accessibility.destroy(),delete this.accessibility)),this.a11yDirty=!0});addEvent$w(Point$5,"update",function(){this.series.chart.accessibility&&(this.series.chart.a11yDirty=!0)});["addSeries","init"].forEach(function(n){addEvent$w(Chart$1,n,function(){this.a11yDirty=!0})});["update","updatedData","remove"].forEach(function(n){addEvent$w(Series$e,n,function(){this.chart.accessibility&&(this.chart.a11yDirty=!0)})});["afterDrilldown","drillupall"].forEach(function(n){addEvent$w(Chart$1,n,function(){this.accessibility&&this.accessibility.update()})});addEvent$w(Chart$1,"destroy",function(){this.accessibility&&this.accessibility.destroy()});var addEvent$v=Utilities.addEvent,fireEvent$c=Utilities.fireEvent,objectEach$c=Utilities.objectEach,pick$N=Utilities.pick,removeEvent$2=Utilities.removeEvent,eventEmitterMixin={addEvents:function(){var n=this,i=function(r){addEvent$v(r,H.isTouchDevice?"touchstart":"mousedown",function(o){n.onMouseDown(o)},{passive:!1})};if(i(this.graphic.element),(n.labels||[]).forEach(function(r){r.options.useHTML&&r.graphic.text&&i(r.graphic.text.element)}),objectEach$c(n.options.events,function(r,o){var a=function(s){(o!=="click"||!n.cancelClick)&&r.call(n,n.chart.pointer.normalize(s),n.target)};(n.nonDOMEvents||[]).indexOf(o)===-1?n.graphic.on(o,a):addEvent$v(n,o,a,{passive:!1})}),n.options.draggable&&(addEvent$v(n,"drag",n.onDrag),!n.graphic.renderer.styledMode)){var t={cursor:{x:"ew-resize",y:"ns-resize",xy:"move"}[n.options.draggable]};n.graphic.css(t),(n.labels||[]).forEach(function(r){r.options.useHTML&&r.graphic.text&&r.graphic.text.css(t)})}n.isUpdating||fireEvent$c(n,"add")},removeDocEvents:function(){this.removeDrag&&(this.removeDrag=this.removeDrag()),this.removeMouseUp&&(this.removeMouseUp=this.removeMouseUp())},onMouseDown:function(n){var i=this,t=i.chart.pointer,r,o;n.preventDefault&&n.preventDefault(),n.button!==2&&(n=t.normalize(n),r=n.chartX,o=n.chartY,i.cancelClick=!1,i.chart.hasDraggedAnnotation=!0,i.removeDrag=addEvent$v(H.doc,H.isTouchDevice?"touchmove":"mousemove",function(a){i.hasDragged=!0,a=t.normalize(a),a.prevChartX=r,a.prevChartY=o,fireEvent$c(i,"drag",a),r=a.chartX,o=a.chartY},H.isTouchDevice?{passive:!1}:void 0),i.removeMouseUp=addEvent$v(H.doc,H.isTouchDevice?"touchend":"mouseup",function(a){var s=pick$N(i.target&&i.target.annotation,i.target);s&&(s.cancelClick=i.hasDragged),i.cancelClick=i.hasDragged,i.hasDragged=!1,i.chart.hasDraggedAnnotation=!1,fireEvent$c(pick$N(s,i),"afterUpdate"),i.onMouseUp(a)},H.isTouchDevice?{passive:!1}:void 0))},onMouseUp:function(n){var i=this.chart,t=this.target||this,r=i.options.annotations,o=i.annotations.indexOf(t);this.removeDocEvents(),r[o]=t.options},onDrag:function(n){if(this.chart.isInsidePlot(n.chartX-this.chart.plotLeft,n.chartY-this.chart.plotTop,{visiblePlotOnly:!0})){var i=this.mouseMoveToTranslation(n);this.options.draggable==="x"&&(i.y=0),this.options.draggable==="y"&&(i.x=0),this.points.length?this.translate(i.x,i.y):(this.shapes.forEach(function(t){t.translate(i.x,i.y)}),this.labels.forEach(function(t){t.translate(i.x,i.y)})),this.redraw(!1)}},mouseMoveToRadians:function(n,i,t){var r=n.prevChartY-t,o=n.prevChartX-i,a=n.chartY-t,s=n.chartX-i,l;return this.chart.inverted&&(l=o,o=r,r=l,l=s,s=a,a=l),Math.atan2(a,s)-Math.atan2(r,o)},mouseMoveToTranslation:function(n){var i=n.chartX-n.prevChartX,t=n.chartY-n.prevChartY,r;return this.chart.inverted&&(r=t,t=i,i=r),{x:i,y:t}},mouseMoveToScale:function(n,i,t){var r=n.prevChartX-i,o=n.prevChartY-t,a=n.chartX-i,s=n.chartY-t,l=(a||1)/(r||1),c=(s||1)/(o||1),h;return this.chart.inverted&&(h=c,c=l,l=h),{x:l,y:c}},destroy:function(){this.removeDocEvents(),removeEvent$2(this),this.hcEvents=null}},merge$K=Utilities.merge,pick$M=Utilities.pick,ControlPoint=function(){function n(i,t,r,o){this.addEvents=eventEmitterMixin.addEvents,this.graphic=void 0,this.mouseMoveToRadians=eventEmitterMixin.mouseMoveToRadians,this.mouseMoveToScale=eventEmitterMixin.mouseMoveToScale,this.mouseMoveToTranslation=eventEmitterMixin.mouseMoveToTranslation,this.onDrag=eventEmitterMixin.onDrag,this.onMouseDown=eventEmitterMixin.onMouseDown,this.onMouseUp=eventEmitterMixin.onMouseUp,this.removeDocEvents=eventEmitterMixin.removeDocEvents,this.nonDOMEvents=["drag"],this.chart=i,this.target=t,this.options=r,this.index=pick$M(r.index,o)}return n.prototype.setVisibility=function(i){this.graphic.attr("visibility",i?"visible":"hidden"),this.options.visible=i},n.prototype.render=function(){var i=this.chart,t=this.options;this.graphic=i.renderer.symbol(t.symbol,0,0,t.width,t.height).add(i.controlPointsGroup).css(t.style),this.setVisibility(t.visible),this.addEvents()},n.prototype.redraw=function(i){this.graphic[i?"animate":"attr"](this.options.positioner.call(this,this.target))},n.prototype.destroy=function(){eventEmitterMixin.destroy.call(this),this.graphic&&(this.graphic=this.graphic.destroy()),this.chart=null,this.target=null,this.options=null},n.prototype.update=function(i){var t=this.chart,r=this.target,o=this.index,a=merge$K(!0,this.options,i);this.destroy(),this.constructor(t,r,a,o),this.render(t.controlPointsGroup),this.redraw()},n}(),defined$l=Utilities.defined,fireEvent$b=Utilities.fireEvent,MockPoint=function(){function n(i,t,r){this.isInside=void 0,this.negative=void 0,this.plotX=void 0,this.plotY=void 0,this.ttBelow=void 0,this.x=void 0,this.y=void 0,this.mock=!0,this.series={visible:!0,chart:i,getPlotBox:Series$e.prototype.getPlotBox},this.target=t||null,this.options=r,this.applyOptions(this.getOptions())}return n.fromPoint=function(i){return new n(i.series.chart,null,{x:i.x,y:i.y,xAxis:i.series.xAxis,yAxis:i.series.yAxis})},n.pointToPixels=function(i,t){var r=i.series,o=r.chart,a=i.plotX,s=i.plotY,l;return o.inverted&&(i.mock?(a=i.plotY,s=i.plotX):(a=o.plotWidth-i.plotY,s=o.plotHeight-i.plotX)),r&&!t&&(l=r.getPlotBox(),a+=l.translateX,s+=l.translateY),{x:a,y:s}},n.pointToOptions=function(i){return{x:i.x,y:i.y,xAxis:i.series.xAxis,yAxis:i.series.yAxis}},n.prototype.hasDynamicOptions=function(){return typeof this.options=="function"},n.prototype.getOptions=function(){return this.hasDynamicOptions()?this.options(this.target):this.options},n.prototype.applyOptions=function(i){this.command=i.command,this.setAxis(i,"x"),this.setAxis(i,"y"),this.refresh()},n.prototype.setAxis=function(i,t){var r=t+"Axis",o=i[r],a=this.series.chart;this.series[r]=o instanceof Axis?o:defined$l(o)?a[r][o]||a.get(o):null},n.prototype.toAnchor=function(){var i=[this.plotX,this.plotY,0,0];return this.series.chart.inverted&&(i[0]=this.plotY,i[1]=this.plotX),i},n.prototype.getLabelConfig=function(){return{x:this.x,y:this.y,point:this}},n.prototype.isInsidePlot=function(){var i=this.plotX,t=this.plotY,r=this.series.xAxis,o=this.series.yAxis,a={x:i,y:t,isInsidePlot:!0};return r&&(a.isInsidePlot=defined$l(i)&&i>=0&&i<=r.len),o&&(a.isInsidePlot=a.isInsidePlot&&defined$l(t)&&t>=0&&t<=o.len),fireEvent$b(this.series.chart,"afterIsInsidePlot",a),a.isInsidePlot},n.prototype.refresh=function(){var i=this.series,t=i.xAxis,r=i.yAxis,o=this.getOptions();t?(this.x=o.x,this.plotX=t.toPixels(o.x,!0)):(this.x=null,this.plotX=o.x),r?(this.y=o.y,this.plotY=r.toPixels(o.y,!0)):(this.y=null,this.plotY=o.y),this.isInside=this.isInsidePlot()},n.prototype.translate=function(i,t,r,o){this.hasDynamicOptions()||(this.plotX+=r,this.plotY+=o,this.refreshOptions())},n.prototype.scale=function(i,t,r,o){if(!this.hasDynamicOptions()){var a=this.plotX*r,s=this.plotY*o,l=(1-r)*i,c=(1-o)*t;this.plotX=l+a,this.plotY=c+s,this.refreshOptions()}},n.prototype.rotate=function(i,t,r){if(!this.hasDynamicOptions()){var o=Math.cos(r),a=Math.sin(r),s=this.plotX,l=this.plotY,c=void 0,h=void 0;s-=i,l-=t,c=s*o-l*a,h=s*a+l*o,this.plotX=c+i,this.plotY=h+t,this.refreshOptions()}},n.prototype.refreshOptions=function(){var i=this.series,t=i.xAxis,r=i.yAxis;this.x=this.options.x=t?this.options.x=t.toValue(this.plotX,!0):this.plotX,this.y=this.options.y=r?r.toValue(this.plotY,!0):this.plotY},n}(),isObject$7=Utilities.isObject,isString$2=Utilities.isString,merge$J=Utilities.merge,splat$6=Utilities.splat,controllableMixin={init:function(n,i,t){this.annotation=n,this.chart=n.chart,this.options=i,this.points=[],this.controlPoints=[],this.index=t,this.linkPoints(),this.addControlPoints()},attr:function(){this.graphic.attr.apply(this.graphic,arguments)},getPointsOptions:function(){var n=this.options;return n.points||n.point&&splat$6(n.point)},attrsFromOptions:function(n){var i=this.constructor.attrsMap,t={},r,o,a=this.chart.styledMode;for(r in n)o=i[r],o&&(!a||["fill","stroke","stroke-width"].indexOf(o)===-1)&&(t[o]=n[r]);return t},anchor:function(n){var i=n.series.getPlotBox(),t=n.series.chart,r=n.mock?n.toAnchor():Tooltip.prototype.getAnchor.call({chart:n.series.chart},n),o={x:r[0]+(this.options.x||0),y:r[1]+(this.options.y||0),height:r[2]||0,width:r[3]||0};return{relativePosition:o,absolutePosition:merge$J(o,{x:o.x+(n.mock?i.translateX:t.plotLeft),y:o.y+(n.mock?i.translateY:t.plotTop)})}},point:function(n,i){if(n&&n.series)return n;if(!i||i.series===null){if(isObject$7(n))i=new MockPoint(this.chart,this,n);else if(isString$2(n))i=this.chart.get(n)||null;else if(typeof n=="function"){var t=n.call(i,this);i=t.series?t:new MockPoint(this.chart,this,n)}}return i},linkPoints:function(){var n=this.getPointsOptions(),i=this.points,t=n&&n.length||0,r,o;for(r=0;r<t;r++){if(o=this.point(n[r],i[r]),!o){i.length=0;return}o.mock&&o.refresh(),i[r]=o}return i},addControlPoints:function(){var n=this.options.controlPoints;(n||[]).forEach(function(i,t){var r=merge$J(this.options.controlPointOptions,i);r.index||(r.index=t),n[t]=r,this.controlPoints.push(new ControlPoint(this.chart,this,r))},this)},shouldBeDrawn:function(){return!!this.points.length},render:function(n){this.controlPoints.forEach(function(i){i.render()})},redraw:function(n){this.controlPoints.forEach(function(i){i.redraw(n)})},transform:function(n,i,t,r,o){if(this.chart.inverted){var a=i;i=t,t=a}this.points.forEach(function(s,l){this.transformPoint(n,i,t,r,o,l)},this)},transformPoint:function(n,i,t,r,o,a){var s=this.points[a];s.mock||(s=this.points[a]=MockPoint.fromPoint(s)),s[n](i,t,r,o)},translate:function(n,i){this.transform("translate",null,null,n,i)},translatePoint:function(n,i,t){this.transformPoint("translate",null,null,n,i,t)},translateShape:function(n,i){var t=this.annotation.chart,r=this.annotation.userOptions,o=t.annotations.indexOf(this.annotation),a=t.options.annotations[o];this.translatePoint(n,i,0),a[this.collection][this.index].point=this.options.point,r[this.collection][this.index].point=this.options.point},rotate:function(n,i,t){this.transform("rotate",n,i,t)},scale:function(n,i,t,r){this.transform("scale",n,i,t,r)},setControlPointsVisibility:function(n){this.controlPoints.forEach(function(i){i.setVisibility(n)})},destroy:function(){this.graphic&&(this.graphic=this.graphic.destroy()),this.tracker&&(this.tracker=this.tracker.destroy()),this.controlPoints.forEach(function(n){n.destroy()}),this.chart=null,this.points=null,this.controlPoints=null,this.options=null,this.annotation&&(this.annotation=null)},update:function(n){var i=this.annotation,t=merge$J(!0,this.options,n),r=this.graphic.parentGroup;this.destroy(),this.constructor(i,t,this.index),this.render(r),this.redraw()}},addEvent$u=Utilities.addEvent,defined$k=Utilities.defined,merge$I=Utilities.merge,uniqueKey$2=Utilities.uniqueKey,defaultMarkers={arrow:{tagName:"marker",attributes:{id:"arrow",refY:5,refX:9,markerWidth:10,markerHeight:10},children:[{tagName:"path",attributes:{d:"M 0 0 L 10 5 L 0 10 Z","stroke-width":0}}]},"reverse-arrow":{tagName:"marker",attributes:{id:"reverse-arrow",refY:5,refX:1,markerWidth:10,markerHeight:10},children:[{tagName:"path",attributes:{d:"M 0 5 L 10 0 L 10 10 Z","stroke-width":0}}]}};SVGRenderer.prototype.addMarker=function(n,i){var t={attributes:{id:n}},r={stroke:i.color||"none",fill:i.color||"rgba(0, 0, 0, 0.75)"};t.children=i.children&&i.children.map(function(s){return merge$I(r,s)});var o=merge$I(!0,{attributes:{markerWidth:20,markerHeight:20,refX:0,refY:0,orient:"auto"}},i,t),a=this.definition(o);return a.id=n,a};function createMarkerSetter(n){return function(i){this.attr(n,"url(#"+i+")")}}var markerMixin={markerEndSetter:createMarkerSetter("marker-end"),markerStartSetter:createMarkerSetter("marker-start"),setItemMarkers:function(n){var i=n.options,t=n.chart,r=t.options.defs,o=i.fill,a=defined$k(o)&&o!=="none"?o:i.stroke,s=function(l){var c=i[l],h,u,d,f;if(c){for(d in r)if(h=r[d],(c===(h.attributes&&h.attributes.id)||c===h.id)&&h.tagName==="marker"){u=h;break}u&&(f=n[l]=t.renderer.addMarker((i.id||uniqueKey$2())+"-"+c,merge$I(u,{color:a})),n.attr(l,f.getAttribute("id")))}};["markerStart","markerEnd"].forEach(s)}};addEvent$u(Chart$1,"afterGetContainer",function(){this.options.defs=merge$I(defaultMarkers,this.options.defs||{})});var extend$O=Utilities.extend,TRACKER_FILL="rgba(192,192,192,"+(H.svg?1e-4:.002)+")",ControllablePath=function(){function n(i,t,r){this.addControlPoints=controllableMixin.addControlPoints,this.anchor=controllableMixin.anchor,this.attr=controllableMixin.attr,this.attrsFromOptions=controllableMixin.attrsFromOptions,this.destroy=controllableMixin.destroy,this.getPointsOptions=controllableMixin.getPointsOptions,this.init=controllableMixin.init,this.linkPoints=controllableMixin.linkPoints,this.point=controllableMixin.point,this.rotate=controllableMixin.rotate,this.scale=controllableMixin.scale,this.setControlPointsVisibility=controllableMixin.setControlPointsVisibility,this.setMarkers=markerMixin.setItemMarkers,this.transform=controllableMixin.transform,this.transformPoint=controllableMixin.transformPoint,this.translate=controllableMixin.translate,this.translatePoint=controllableMixin.translatePoint,this.translateShape=controllableMixin.translateShape,this.update=controllableMixin.update,this.type="path",this.init(i,t,r),this.collection="shapes"}return n.prototype.toD=function(){var i=this.options.d;if(i)return typeof i=="function"?i.call(this):i;var t=this.points,r=t.length,o=r,a=t[0],s=o&&this.anchor(a).absolutePosition,l=0,c,h=[];if(s)for(h.push(["M",s.x,s.y]);++l<r&&o;)a=t[l],c=a.command||"L",s=this.anchor(a).absolutePosition,c==="M"?h.push([c,s.x,s.y]):c==="L"?h.push([c,s.x,s.y]):c==="Z"&&h.push([c]),o=a.series.visible;return o?this.chart.renderer.crispLine(h,this.graphic.strokeWidth()):null},n.prototype.shouldBeDrawn=function(){return controllableMixin.shouldBeDrawn.call(this)||!!this.options.d},n.prototype.render=function(i){var t=this.options,r=this.attrsFromOptions(t);this.graphic=this.annotation.chart.renderer.path([["M",0,0]]).attr(r).add(i),t.className&&this.graphic.addClass(t.className),this.tracker=this.annotation.chart.renderer.path([["M",0,0]]).addClass("highcharts-tracker-line").attr({zIndex:2}).add(i),this.annotation.chart.styledMode||this.tracker.attr({"stroke-linejoin":"round",stroke:TRACKER_FILL,fill:TRACKER_FILL,"stroke-width":this.graphic.strokeWidth()+t.snap*2}),controllableMixin.render.call(this),extend$O(this.graphic,{markerStartSetter:markerMixin.markerStartSetter,markerEndSetter:markerMixin.markerEndSetter}),this.setMarkers(this)},n.prototype.redraw=function(i){var t=this.toD(),r=i?"animate":"attr";t?(this.graphic[r]({d:t}),this.tracker[r]({d:t})):(this.graphic.attr({d:"M 0 "+-9e9}),this.tracker.attr({d:"M 0 "+-9e9})),this.graphic.placed=this.tracker.placed=!!t,controllableMixin.redraw.call(this,i)},n.attrsMap={dashStyle:"dashstyle",strokeWidth:"stroke-width",stroke:"stroke",fill:"fill",zIndex:"zIndex"},n}(),merge$H=Utilities.merge,ControllableRect=function(){function n(i,t,r){this.addControlPoints=controllableMixin.addControlPoints,this.anchor=controllableMixin.anchor,this.attr=controllableMixin.attr,this.attrsFromOptions=controllableMixin.attrsFromOptions,this.destroy=controllableMixin.destroy,this.getPointsOptions=controllableMixin.getPointsOptions,this.init=controllableMixin.init,this.linkPoints=controllableMixin.linkPoints,this.point=controllableMixin.point,this.rotate=controllableMixin.rotate,this.scale=controllableMixin.scale,this.setControlPointsVisibility=controllableMixin.setControlPointsVisibility,this.shouldBeDrawn=controllableMixin.shouldBeDrawn,this.transform=controllableMixin.transform,this.transformPoint=controllableMixin.transformPoint,this.translatePoint=controllableMixin.translatePoint,this.translateShape=controllableMixin.translateShape,this.update=controllableMixin.update,this.type="rect",this.translate=controllableMixin.translateShape,this.init(i,t,r),this.collection="shapes"}return n.prototype.render=function(i){var t=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.rect(0,-9e9,0,0).attr(t).add(i),controllableMixin.render.call(this)},n.prototype.redraw=function(i){var t=this.anchor(this.points[0]).absolutePosition;t?this.graphic[i?"animate":"attr"]({x:t.x,y:t.y,width:this.options.width,height:this.options.height}):this.attr({x:0,y:-9e9}),this.graphic.placed=!!t,controllableMixin.redraw.call(this,i)},n.attrsMap=merge$H(ControllablePath.attrsMap,{width:"width",height:"height"}),n}(),merge$G=Utilities.merge,ControllableCircle=function(){function n(i,t,r){this.addControlPoints=controllableMixin.addControlPoints,this.anchor=controllableMixin.anchor,this.attr=controllableMixin.attr,this.attrsFromOptions=controllableMixin.attrsFromOptions,this.destroy=controllableMixin.destroy,this.getPointsOptions=controllableMixin.getPointsOptions,this.init=controllableMixin.init,this.linkPoints=controllableMixin.linkPoints,this.point=controllableMixin.point,this.rotate=controllableMixin.rotate,this.scale=controllableMixin.scale,this.setControlPointsVisibility=controllableMixin.setControlPointsVisibility,this.shouldBeDrawn=controllableMixin.shouldBeDrawn,this.transform=controllableMixin.transform,this.transformPoint=controllableMixin.transformPoint,this.translatePoint=controllableMixin.translatePoint,this.translateShape=controllableMixin.translateShape,this.update=controllableMixin.update,this.type="circle",this.translate=controllableMixin.translateShape,this.init(i,t,r),this.collection="shapes"}return n.prototype.render=function(i){var t=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.circle(0,-9e9,0).attr(t).add(i),controllableMixin.render.call(this)},n.prototype.redraw=function(i){var t=this.anchor(this.points[0]).absolutePosition;t?this.graphic[i?"animate":"attr"]({x:t.x,y:t.y,r:this.options.r}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!t,controllableMixin.redraw.call(this,i)},n.prototype.setRadius=function(i){this.options.r=i},n.attrsMap=merge$G(ControllablePath.attrsMap,{r:"r"}),n}(),format$3=FormatUtilities.format,symbols$2=SVGRenderer.prototype.symbols,extend$N=Utilities.extend,isNumber$k=Utilities.isNumber,pick$L=Utilities.pick,ControllableLabel=function(){function n(i,t,r){this.addControlPoints=controllableMixin.addControlPoints,this.attr=controllableMixin.attr,this.attrsFromOptions=controllableMixin.attrsFromOptions,this.destroy=controllableMixin.destroy,this.getPointsOptions=controllableMixin.getPointsOptions,this.init=controllableMixin.init,this.linkPoints=controllableMixin.linkPoints,this.point=controllableMixin.point,this.rotate=controllableMixin.rotate,this.scale=controllableMixin.scale,this.setControlPointsVisibility=controllableMixin.setControlPointsVisibility,this.shouldBeDrawn=controllableMixin.shouldBeDrawn,this.transform=controllableMixin.transform,this.transformPoint=controllableMixin.transformPoint,this.translateShape=controllableMixin.translateShape,this.update=controllableMixin.update,this.init(i,t,r),this.collection="labels"}return n.alignedPosition=function(i,t){var r=i.align,o=i.verticalAlign,a=(t.x||0)+(i.x||0),s=(t.y||0)+(i.y||0),l,c;return r==="right"?l=1:r==="center"&&(l=2),l&&(a+=(t.width-(i.width||0))/l),o==="bottom"?c=1:o==="middle"&&(c=2),c&&(s+=(t.height-(i.height||0))/c),{x:Math.round(a),y:Math.round(s)}},n.justifiedOptions=function(i,t,r,o){var a=r.align,s=r.verticalAlign,l=t.box?0:t.padding||0,c=t.getBBox(),h={align:a,verticalAlign:s,x:r.x,y:r.y,width:t.width,height:t.height},u=(o.x||0)-i.plotLeft,d=(o.y||0)-i.plotTop,f;return f=u+l,f<0&&(a==="right"?h.align="left":h.x=(h.x||0)-f),f=u+c.width-l,f>i.plotWidth&&(a==="left"?h.align="right":h.x=(h.x||0)+i.plotWidth-f),f=d+l,f<0&&(s==="bottom"?h.verticalAlign="top":h.y=(h.y||0)-f),f=d+c.height-l,f>i.plotHeight&&(s==="top"?h.verticalAlign="bottom":h.y=(h.y||0)+i.plotHeight-f),h},n.prototype.translatePoint=function(i,t){controllableMixin.translatePoint.call(this,i,t,0)},n.prototype.translate=function(i,t){var r=this.annotation.chart,o=this.annotation.userOptions,a=r.annotations.indexOf(this.annotation),s=r.options.annotations,l=s[a];if(r.inverted){var c=i;i=t,t=c}this.options.x+=i,this.options.y+=t,l[this.collection][this.index].x=this.options.x,l[this.collection][this.index].y=this.options.y,o[this.collection][this.index].x=this.options.x,o[this.collection][this.index].y=this.options.y},n.prototype.render=function(i){var t=this.options,r=this.attrsFromOptions(t),o=t.style;this.graphic=this.annotation.chart.renderer.label("",0,-9999,t.shape,null,null,t.useHTML,null,"annotation-label").attr(r).add(i),this.annotation.chart.styledMode||(o.color==="contrast"&&(o.color=this.annotation.chart.renderer.getContrast(n.shapesWithoutBackground.indexOf(t.shape)>-1?"#FFFFFF":t.backgroundColor)),this.graphic.css(t.style).shadow(t.shadow)),t.className&&this.graphic.addClass(t.className),this.graphic.labelrank=t.labelrank,controllableMixin.render.call(this)},n.prototype.redraw=function(i){var t=this.options,r=this.text||t.format||t.text,o=this.graphic,a=this.points[0];o.attr({text:r?format$3(r,a.getLabelConfig(),this.annotation.chart):t.formatter.call(a,this)});var s=this.anchor(a),l=this.position(s);l?(o.alignAttr=l,l.anchorX=s.absolutePosition.x,l.anchorY=s.absolutePosition.y,o[i?"animate":"attr"](l)):o.attr({x:0,y:-9999}),o.placed=!!l,controllableMixin.redraw.call(this,i)},n.prototype.anchor=function(i){var t=controllableMixin.anchor.apply(this,arguments),r=this.options.x||0,o=this.options.y||0;return t.absolutePosition.x-=r,t.absolutePosition.y-=o,t.relativePosition.x-=r,t.relativePosition.y-=o,t},n.prototype.position=function(i){var t=this.graphic,r=this.annotation.chart,o=this.points[0],a=this.options,s=i.absolutePosition,l=i.relativePosition,c,h,u,d,f=o.series.visible&&MockPoint.prototype.isInsidePlot.call(o),p=t.width,m=p===void 0?0:p,g=t.height,v=g===void 0?0:g;return f&&(a.distance?c=Tooltip.prototype.getPosition.call({chart:r,distance:pick$L(a.distance,16)},m,v,{plotX:l.x,plotY:l.y,negative:o.negative,ttBelow:o.ttBelow,h:l.height||l.width}):a.positioner?c=a.positioner.call(this):(h={x:s.x,y:s.y,width:0,height:0},c=n.alignedPosition(extend$N(a,{width:m,height:v}),h),this.options.overflow==="justify"&&(c=n.alignedPosition(n.justifiedOptions(r,t,a,c),h))),a.crop&&(u=c.x-r.plotLeft,d=c.y-r.plotTop,f=r.isInsidePlot(u,d)&&r.isInsidePlot(u+m,d+v))),f?c:null},n.attrsMap={backgroundColor:"fill",borderColor:"stroke",borderWidth:"stroke-width",zIndex:"zIndex",borderRadius:"r",padding:"padding"},n.shapesWithoutBackground=["connector"],n}();symbols$2.connector=function(n,i,t,r,o){var a=o&&o.anchorX,s=o&&o.anchorY,l,c,h=t/2;return isNumber$k(a)&&isNumber$k(s)&&(l=[["M",a,s]],c=i-s,c<0&&(c=-r-c),c<t&&(h=a<n+t/2?c:t-c),s>i+r?l.push(["L",n+h,i+r]):s<i?l.push(["L",n+h,i]):a<n?l.push(["L",n,i+r/2]):a>n+t&&l.push(["L",n+t,i+r/2])),l||[]};var ControllableImage=function(){function n(i,t,r){this.addControlPoints=controllableMixin.addControlPoints,this.anchor=controllableMixin.anchor,this.attr=controllableMixin.attr,this.attrsFromOptions=controllableMixin.attrsFromOptions,this.destroy=controllableMixin.destroy,this.getPointsOptions=controllableMixin.getPointsOptions,this.init=controllableMixin.init,this.linkPoints=controllableMixin.linkPoints,this.point=controllableMixin.point,this.rotate=controllableMixin.rotate,this.scale=controllableMixin.scale,this.setControlPointsVisibility=controllableMixin.setControlPointsVisibility,this.shouldBeDrawn=controllableMixin.shouldBeDrawn,this.transform=controllableMixin.transform,this.transformPoint=controllableMixin.transformPoint,this.translatePoint=controllableMixin.translatePoint,this.translateShape=controllableMixin.translateShape,this.update=controllableMixin.update,this.type="image",this.translate=controllableMixin.translateShape,this.init(i,t,r),this.collection="shapes"}return n.prototype.render=function(i){var t=this.attrsFromOptions(this.options),r=this.options;this.graphic=this.annotation.chart.renderer.image(r.src,0,-9e9,r.width,r.height).attr(t).add(i),this.graphic.width=r.width,this.graphic.height=r.height,controllableMixin.render.call(this)},n.prototype.redraw=function(i){var t=this.anchor(this.points[0]),r=ControllableLabel.prototype.position.call(this,t);r?this.graphic[i?"animate":"attr"]({x:r.x,y:r.y}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!r,controllableMixin.redraw.call(this,i)},n.attrsMap={width:"width",height:"height",zIndex:"zIndex"},n}(),getDeferredAnimation=animationExports.getDeferredAnimation,chartProto=Chart$1.prototype,addEvent$t=Utilities.addEvent,defined$j=Utilities.defined,destroyObjectProperties=Utilities.destroyObjectProperties,erase=Utilities.erase,extend$M=Utilities.extend,find$5=Utilities.find,fireEvent$a=Utilities.fireEvent,merge$F=Utilities.merge,pick$K=Utilities.pick,splat$5=Utilities.splat,wrap$a=Utilities.wrap,Annotation=function(){function n(i,t){this.annotation=void 0,this.coll="annotations",this.collection=void 0,this.animationConfig=void 0,this.graphic=void 0,this.group=void 0,this.labelCollector=void 0,this.labelsGroup=void 0,this.shapesGroup=void 0;var r;this.chart=i,this.points=[],this.controlPoints=[],this.coll="annotations",this.labels=[],this.shapes=[],this.options=merge$F(this.defaultOptions,t),this.userOptions=t,r=this.getLabelsAndShapesOptions(this.options,t),this.options.labels=r.labels,this.options.shapes=r.shapes,this.init(i,this.options)}return n.prototype.init=function(){var i=this.chart,t=this.options.animation;this.linkPoints(),this.addControlPoints(),this.addShapes(),this.addLabels(),this.setLabelCollector(),this.animationConfig=getDeferredAnimation(i,t)},n.prototype.getLabelsAndShapesOptions=function(i,t){var r={};return["labels","shapes"].forEach(function(o){i[o]&&(t[o]?r[o]=splat$5(t[o]).map(function(a,s){return merge$F(i[o][s],a)}):r[o]=i[o])}),r},n.prototype.addShapes=function(){(this.options.shapes||[]).forEach(function(i,t){var r=this.initShape(i,t);merge$F(!0,this.options.shapes[t],r.options)},this)},n.prototype.addLabels=function(){(this.options.labels||[]).forEach(function(i,t){var r=this.initLabel(i,t);merge$F(!0,this.options.labels[t],r.options)},this)},n.prototype.addClipPaths=function(){this.setClipAxes(),this.clipXAxis&&this.clipYAxis&&(this.clipRect=this.chart.renderer.clipRect(this.getClipBox()))},n.prototype.setClipAxes=function(){var i=this.chart.xAxis,t=this.chart.yAxis,r=(this.options.labels||[]).concat(this.options.shapes||[]).reduce(function(o,a){var s=a&&(a.point||a.points&&a.points[0]);return[i[s&&s.xAxis]||o[0],t[s&&s.yAxis]||o[1]]},[]);this.clipXAxis=r[0],this.clipYAxis=r[1]},n.prototype.getClipBox=function(){if(this.clipXAxis&&this.clipYAxis)return{x:this.clipXAxis.left,y:this.clipYAxis.top,width:this.clipXAxis.width,height:this.clipYAxis.height}},n.prototype.setLabelCollector=function(){var i=this;i.labelCollector=function(){return i.labels.reduce(function(t,r){return r.options.allowOverlap||t.push(r.graphic),t},[])},i.chart.labelCollectors.push(i.labelCollector)},n.prototype.setOptions=function(i){this.options=merge$F(this.defaultOptions,i)},n.prototype.redraw=function(i){this.linkPoints(),this.graphic||this.render(),this.clipRect&&this.clipRect.animate(this.getClipBox()),this.redrawItems(this.shapes,i),this.redrawItems(this.labels,i),controllableMixin.redraw.call(this,i)},n.prototype.redrawItems=function(i,t){for(var r=i.length;r--;)this.redrawItem(i[r],t)},n.prototype.renderItems=function(i){for(var t=i.length;t--;)this.renderItem(i[t])},n.prototype.render=function(){var i=this.chart.renderer;this.graphic=i.g("annotation").attr({opacity:0,zIndex:this.options.zIndex,visibility:this.options.visible?"visible":"hidden"}).add(),this.shapesGroup=i.g("annotation-shapes").add(this.graphic).clip(this.chart.plotBoxClip),this.labelsGroup=i.g("annotation-labels").attr({translateX:0,translateY:0}).add(this.graphic),this.addClipPaths(),this.clipRect&&this.graphic.clip(this.clipRect),this.renderItems(this.shapes),this.renderItems(this.labels),this.addEvents(),controllableMixin.render.call(this)},n.prototype.setVisibility=function(i){var t=this.options,r=this.chart.navigationBindings,o=pick$K(i,!t.visible);this.graphic.attr("visibility",o?"visible":"hidden"),o||(this.setControlPointsVisibility(!1),r.activeAnnotation===this&&r.popup&&r.popup.formType==="annotation-toolbar"&&fireEvent$a(r,"closePopup")),t.visible=o},n.prototype.setControlPointsVisibility=function(i){var t=function(r){r.setControlPointsVisibility(i)};controllableMixin.setControlPointsVisibility.call(this,i),this.shapes.forEach(t),this.labels.forEach(t)},n.prototype.destroy=function(){var i=this.chart,t=function(r){r.destroy()};this.labels.forEach(t),this.shapes.forEach(t),this.clipXAxis=null,this.clipYAxis=null,erase(i.labelCollectors,this.labelCollector),eventEmitterMixin.destroy.call(this),controllableMixin.destroy.call(this),destroyObjectProperties(this,i)},n.prototype.remove=function(){return this.chart.removeAnnotation(this)},n.prototype.update=function(i,t){var r=this.chart,o=this.getLabelsAndShapesOptions(this.userOptions,i),a=r.annotations.indexOf(this),s=merge$F(!0,this.userOptions,i);s.labels=o.labels,s.shapes=o.shapes,this.destroy(),this.constructor(r,s),r.options.annotations[a]=s,this.isUpdating=!0,pick$K(t,!0)&&r.redraw(),fireEvent$a(this,"afterUpdate"),this.isUpdating=!1},n.prototype.initShape=function(i,t){var r=merge$F(this.options.shapeOptions,{controlPointOptions:this.options.controlPointOptions},i),o=new n.shapesMap[r.type](this,r,t);return o.itemType="shape",this.shapes.push(o),o},n.prototype.initLabel=function(i,t){var r=merge$F(this.options.labelOptions,{controlPointOptions:this.options.controlPointOptions},i),o=new ControllableLabel(this,r,t);return o.itemType="label",this.labels.push(o),o},n.prototype.redrawItem=function(i,t){i.linkPoints(),i.shouldBeDrawn()?(i.graphic||this.renderItem(i),i.redraw(pick$K(t,!0)&&i.graphic.placed),i.points.length&&this.adjustVisibility(i)):this.destroyItem(i)},n.prototype.adjustVisibility=function(i){var t=!1,r=i.graphic;i.points.forEach(function(o){o.series.visible!==!1&&o.visible!==!1&&(t=!0)}),t?r.visibility==="hidden"&&r.show():r.hide()},n.prototype.destroyItem=function(i){erase(this[i.itemType+"s"],i),i.destroy()},n.prototype.renderItem=function(i){i.render(i.itemType==="label"?this.labelsGroup:this.shapesGroup)},n.ControlPoint=ControlPoint,n.MockPoint=MockPoint,n.shapesMap={rect:ControllableRect,circle:ControllableCircle,path:ControllablePath,image:ControllableImage},n.types={},n}();merge$F(!0,Annotation.prototype,controllableMixin,eventEmitterMixin,merge$F(Annotation.prototype,{nonDOMEvents:["add","afterUpdate","drag","remove"],defaultOptions:{visible:!0,animation:{},draggable:"xy",labelOptions:{align:"center",allowOverlap:!1,backgroundColor:"rgba(0, 0, 0, 0.75)",borderColor:palette.neutralColor100,borderRadius:3,borderWidth:1,className:"highcharts-no-tooltip",crop:!1,formatter:function(){return defined$j(this.y)?this.y:"Annotation label"},includeInDataExport:!0,overflow:"justify",padding:5,shadow:!1,shape:"callout",style:{fontSize:"11px",fontWeight:"normal",color:"contrast"},useHTML:!1,verticalAlign:"bottom",x:0,y:-16},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1,fill:"rgba(0, 0, 0, 0.75)",r:0,snap:2},controlPointOptions:{symbol:"circle",width:10,height:10,style:{stroke:palette.neutralColor100,"stroke-width":2,fill:palette.backgroundColor},visible:!1,events:{}},events:{},zIndex:6}}));H.extendAnnotation=function(n,i,t,r){i=i||Annotation,extend$M(n.prototype,merge$F(i.prototype,t)),n.prototype.defaultOptions=merge$F(n.prototype.defaultOptions,r||{})};extend$M(chartProto,{initAnnotation:function(n){var i=Annotation.types[n.type]||Annotation,t=new i(this,n);return this.annotations.push(t),t},addAnnotation:function(n,i){var t=this.initAnnotation(n);return this.options.annotations.push(t.options),pick$K(i,!0)&&(t.redraw(),t.graphic.attr({opacity:1})),t},removeAnnotation:function(n){var i=this.annotations,t=n.coll==="annotations"?n:find$5(i,function(r){return r.options.id===n});t&&(fireEvent$a(t,"remove"),erase(this.options.annotations,t.options),erase(i,t),t.destroy())},drawAnnotations:function(){this.plotBoxClip.attr(this.plotBox),this.annotations.forEach(function(n){n.redraw(),n.graphic.animate({opacity:1},n.animationConfig)})}});chartProto.collectionsWithUpdate.push("annotations");chartProto.collectionsWithInit.annotations=[chartProto.addAnnotation];addEvent$t(Chart$1,"afterInit",function(){this.annotations=[],this.options.annotations||(this.options.annotations=[])});chartProto.callbacks.push(function(n){n.plotBoxClip=this.renderer.clipRect(this.plotBox),n.controlPointsGroup=n.renderer.g("control-points").attr({zIndex:99}).clip(n.plotBoxClip).add(),n.options.annotations.forEach(function(i,t){if(!n.annotations.some(function(o){return o.options===i})){var r=n.initAnnotation(i);n.options.annotations[t]=r.options}}),n.drawAnnotations(),addEvent$t(n,"redraw",n.drawAnnotations),addEvent$t(n,"destroy",function(){n.plotBoxClip.destroy(),n.controlPointsGroup.destroy()}),addEvent$t(n,"exportData",function(i){var t=n.annotations,r=(this.options.exporting&&this.options.exporting.csv||{}).columnHeaderFormatter,o=!i.dataRows[1].xValues,a=n.options.lang&&n.options.lang.exportData&&n.options.lang.exportData.annotationHeader,s=function(m){var g;return r&&(g=r(m),g!==!1)?g:(g=a+" "+m,o?{columnTitle:g,topLevelColumnTitle:g}:g)},l=i.dataRows[0].length,c=n.options.exporting&&n.options.exporting.csv&&n.options.exporting.csv.annotations&&n.options.exporting.csv.annotations.itemDelimiter,h=n.options.exporting&&n.options.exporting.csv&&n.options.exporting.csv.annotations&&n.options.exporting.csv.annotations.join;t.forEach(function(m){m.options.labelOptions.includeInDataExport&&m.labels.forEach(function(g){if(g.options.text){var v=g.options.text;g.points.forEach(function(_){var y=_.x,b=_.series.xAxis?_.series.xAxis.options.index:-1,x=!1;if(b===-1){for(var E=i.dataRows[0].length,C=new Array(E),$=0;$<E;++$)C[$]="";C.push(v),C.xValues=[],C.xValues[b]=y,i.dataRows.push(C),x=!0}if(x||i.dataRows.forEach(function(S,P){!x&&S.xValues&&b!==void 0&&y===S.xValues[b]&&(h&&S.length>l?S[S.length-1]+=c+v:S.push(v),x=!0)}),!x){for(var E=i.dataRows[0].length,C=new Array(E),$=0;$<E;++$)C[$]="";C[0]=y,C.push(v),C.xValues=[],b!==void 0&&(C.xValues[b]=y),i.dataRows.push(C)}})}})});var u=0;i.dataRows.forEach(function(m){u=Math.max(u,m.length)});for(var d=u-i.dataRows[0].length,f=0;f<d;f++){var p=s(f+1);o?(i.dataRows[0].push(p.topLevelColumnTitle),i.dataRows[1].push(p.columnTitle)):i.dataRows[0].push(p)}})});wrap$a(Pointer.prototype,"onContainerMouseDown",function(n){this.chart.hasDraggedAnnotation||n.apply(this,Array.prototype.slice.call(arguments,1))});H.Annotation=Annotation;var chartNavigation={initUpdate:function(n){n.navigation||(n.navigation={updates:[],update:function(i,t){this.updates.forEach(function(r){r.update.call(r.context,i,t)})}})},addUpdate:function(n,i){i.navigation||this.initUpdate(i),i.navigation.updates.push({update:n,context:i})}},format$2=FormatUtilities.format,setOptions$1=DefaultOptions.setOptions,addEvent$s=Utilities.addEvent,attr=Utilities.attr,fireEvent$9=Utilities.fireEvent,isArray$7=Utilities.isArray,isFunction$1=Utilities.isFunction,isNumber$j=Utilities.isNumber,isObject$6=Utilities.isObject,merge$E=Utilities.merge,objectEach$b=Utilities.objectEach,pick$J=Utilities.pick,doc$4=H.doc,win$2=H.win,PREFIX$1="highcharts-";function closestPolyfill(n,i){var t=win$2.Element.prototype,r=t.matches||t.msMatchesSelector||t.webkitMatchesSelector,o=null;if(t.closest)o=t.closest.call(n,i);else do{if(r.call(n,i))return n;n=n.parentElement||n.parentNode}while(n!==null&&n.nodeType===1);return o}var bindingsUtils={getFieldType:function(n){return{string:"text",number:"number",boolean:"checkbox"}[typeof n]},updateRectSize:function(n,i){var t=i.chart,r=i.options.typeOptions,o=isNumber$j(r.xAxis)&&t.xAxis[r.xAxis],a=isNumber$j(r.yAxis)&&t.yAxis[r.yAxis];if(o&&a){var s=o.toValue(n[o.horiz?"chartX":"chartY"]),l=a.toValue(n[a.horiz?"chartX":"chartY"]),c=s-r.point.x,h=r.point.y-l;i.update({typeOptions:{background:{width:t.inverted?h:c,height:t.inverted?c:h}}})}},getAssignedAxis:function(n){return n.filter(function(i){var t=i.axis.min,r=i.axis.max,o=pick$J(i.axis.minPointOffset,0);return isNumber$j(t)&&isNumber$j(r)&&i.value>=t-o&&i.value<=r+o&&!i.axis.options.isInternal})[0]}},NavigationBindings=function(){function n(i,t){this.boundClassNames=void 0,this.selectedButton=void 0,this.chart=i,this.options=t,this.eventsToUnbind=[],this.container=doc$4.getElementsByClassName(this.options.bindingsClassName||"")}return n.prototype.initEvents=function(){var i=this,t=i.chart,r=i.container,o=i.options;i.boundClassNames={},objectEach$b(o.bindings||{},function(a){i.boundClassNames[a.className]=a}),[].forEach.call(r,function(a){i.eventsToUnbind.push(addEvent$s(a,"click",function(s){var l=i.getButtonEvents(a,s);l&&l.button.className.indexOf("highcharts-disabled-btn")===-1&&i.bindingsButtonClick(l.button,l.events,s)}))}),objectEach$b(o.events||{},function(a,s){isFunction$1(a)&&i.eventsToUnbind.push(addEvent$s(i,s,a,{passive:!1}))}),i.eventsToUnbind.push(addEvent$s(t.container,"click",function(a){!t.cancelClick&&t.isInsidePlot(a.chartX-t.plotLeft,a.chartY-t.plotTop,{visiblePlotOnly:!0})&&i.bindingsChartClick(this,a)})),i.eventsToUnbind.push(addEvent$s(t.container,H.isTouchDevice?"touchmove":"mousemove",function(a){i.bindingsContainerMouseMove(this,a)},H.isTouchDevice?{passive:!1}:void 0))},n.prototype.initUpdate=function(){var i=this;chartNavigation.addUpdate(function(t){i.update(t)},this.chart)},n.prototype.bindingsButtonClick=function(i,t,r){var o=this,a=o.chart;o.selectedButtonElement&&(fireEvent$9(o,"deselectButton",{button:o.selectedButtonElement}),o.nextEvent&&(o.currentUserDetails&&o.currentUserDetails.coll==="annotations"&&a.removeAnnotation(o.currentUserDetails),o.mouseMoveEvent=o.nextEvent=!1)),o.selectedButton=t,o.selectedButtonElement=i,fireEvent$9(o,"selectButton",{button:i}),t.init&&t.init.call(o,i,r),(t.start||t.steps)&&a.renderer.boxWrapper.addClass(PREFIX$1+"draw-mode")},n.prototype.bindingsChartClick=function(i,t){i=this.chart;var r=this,o=r.activeAnnotation,a=r.selectedButton,s=i.renderer.boxWrapper;o&&(!o.cancelClick&&!t.activeAnnotation&&t.target.parentNode&&!closestPolyfill(t.target,"."+PREFIX$1+"popup")?fireEvent$9(r,"closePopup"):o.cancelClick&&setTimeout(function(){o.cancelClick=!1},0)),!(!a||!a.start)&&(r.nextEvent?(r.nextEvent(t,r.currentUserDetails),r.steps&&(r.stepIndex++,a.steps[r.stepIndex]?r.mouseMoveEvent=r.nextEvent=a.steps[r.stepIndex]:(fireEvent$9(r,"deselectButton",{button:r.selectedButtonElement}),s.removeClass(PREFIX$1+"draw-mode"),a.end&&a.end.call(r,t,r.currentUserDetails),r.nextEvent=!1,r.mouseMoveEvent=!1,r.selectedButton=null))):(r.currentUserDetails=a.start.call(r,t),r.currentUserDetails&&a.steps?(r.stepIndex=0,r.steps=!0,r.mouseMoveEvent=r.nextEvent=a.steps[r.stepIndex]):(fireEvent$9(r,"deselectButton",{button:r.selectedButtonElement}),s.removeClass(PREFIX$1+"draw-mode"),r.steps=!1,r.selectedButton=null,a.end&&a.end.call(r,t,r.currentUserDetails))))},n.prototype.bindingsContainerMouseMove=function(i,t){this.mouseMoveEvent&&this.mouseMoveEvent(t,this.currentUserDetails)},n.prototype.fieldsToOptions=function(i,t){return objectEach$b(i,function(r,o){var a=parseFloat(r),s=o.split("."),l=t,c=s.length-1;isNumber$j(a)&&!r.match(/px/g)&&!o.match(/format/g)&&(r=a),r!==""&&r!=="undefined"&&s.forEach(function(h,u){var d=pick$J(s[u+1],"");c===u?l[h]=r:(l[h]||(l[h]=d.match(/\d/g)?[]:{}),l=l[h])})}),t},n.prototype.deselectAnnotation=function(){this.activeAnnotation&&(this.activeAnnotation.setControlPointsVisibility(!1),this.activeAnnotation=!1)},n.prototype.annotationToFields=function(i){var t=i.options,r=n.annotationsEditable,o=r.nestedOptions,a=this.utils.getFieldType,s=pick$J(t.type,t.shapes&&t.shapes[0]&&t.shapes[0].type,t.labels&&t.labels[0]&&t.labels[0].itemType,"label"),l=n.annotationsNonEditable[t.langKey]||[],c={langKey:t.langKey,type:s};function h(u,d,f,p){var m;f&&u&&l.indexOf(d)===-1&&((f.indexOf&&f.indexOf(d))>=0||f[d]||f===!0)&&(isArray$7(u)?(p[d]=[],u.forEach(function(g,v){isObject$6(g)?(p[d][v]={},objectEach$b(g,function(_,y){h(_,y,o[d],p[d][v])})):h(g,0,o[d],p[d])})):isObject$6(u)?(m={},isArray$7(p)?(p.push(m),m[d]={},m=m[d]):p[d]=m,objectEach$b(u,function(g,v){h(g,v,d===0?f:o[d],m)})):d==="format"?p[d]=[format$2(u,i.labels[0].points[0]).toString(),"text"]:isArray$7(p)?p.push([u,a(u)]):p[d]=[u,a(u)])}return objectEach$b(t,function(u,d){d==="typeOptions"?(c[d]={},objectEach$b(t[d],function(f,p){h(f,p,o,c[d])})):h(u,d,r[s],c)}),c},n.prototype.getClickedClassNames=function(i,t){for(var r=t.target,o=[],a;r;)if(a=attr(r,"class"),a&&(o=o.concat(a.split(" ").map(function(s){return[s,r]}))),r=r.parentNode,r===i)return o;return o},n.prototype.getButtonEvents=function(i,t){var r=this,o=this.getClickedClassNames(i,t),a;return o.forEach(function(s){r.boundClassNames[s[0]]&&!a&&(a={events:r.boundClassNames[s[0]],button:s[1]})}),a},n.prototype.update=function(i){this.options=merge$E(!0,this.options,i),this.removeEvents(),this.initEvents()},n.prototype.removeEvents=function(){this.eventsToUnbind.forEach(function(i){i()})},n.prototype.destroy=function(){this.removeEvents()},n.annotationsEditable={nestedOptions:{labelOptions:["style","format","backgroundColor"],labels:["style"],label:["style"],style:["fontSize","color"],background:["fill","strokeWidth","stroke"],innerBackground:["fill","strokeWidth","stroke"],outerBackground:["fill","strokeWidth","stroke"],shapeOptions:["fill","strokeWidth","stroke"],shapes:["fill","strokeWidth","stroke"],line:["strokeWidth","stroke"],backgroundColors:[!0],connector:["fill","strokeWidth","stroke"],crosshairX:["strokeWidth","stroke"],crosshairY:["strokeWidth","stroke"]},circle:["shapes"],verticalLine:[],label:["labelOptions"],measure:["background","crosshairY","crosshairX"],fibonacci:[],tunnel:["background","line","height"],pitchfork:["innerBackground","outerBackground"],rect:["shapes"],crookedLine:[],basicAnnotation:["shapes","labelOptions"]},n.annotationsNonEditable={rectangle:["crosshairX","crosshairY","label"]},n}();NavigationBindings.prototype.utils=bindingsUtils;Chart$1.prototype.initNavigationBindings=function(){var n=this,i=n.options;i&&i.navigation&&i.navigation.bindings&&(n.navigationBindings=new NavigationBindings(n,i.navigation),n.navigationBindings.initEvents(),n.navigationBindings.initUpdate())};addEvent$s(Chart$1,"load",function(){this.initNavigationBindings()});addEvent$s(Chart$1,"destroy",function(){this.navigationBindings&&this.navigationBindings.destroy()});addEvent$s(NavigationBindings,"deselectButton",function(){this.selectedButtonElement=null});addEvent$s(Annotation,"remove",function(){this.chart.navigationBindings&&this.chart.navigationBindings.deselectAnnotation()});function selectableAnnotation(n){var i=n.prototype.defaultOptions.events&&n.prototype.defaultOptions.events.click;function t(r){var o=this,a=o.chart.navigationBindings,s=a.activeAnnotation;i&&i.call(o,r),s!==o?(a.deselectAnnotation(),a.activeAnnotation=o,o.setControlPointsVisibility(!0),fireEvent$9(a,"showPopup",{annotation:o,formType:"annotation-toolbar",options:a.annotationToFields(o),onSubmit:function(l){var c={},h;l.actionType==="remove"?(a.activeAnnotation=!1,a.chart.removeAnnotation(o)):(a.fieldsToOptions(l.fields,c),a.deselectAnnotation(),h=c.typeOptions,o.options.type==="measure"&&(h.crosshairY.enabled=h.crosshairY.strokeWidth!==0,h.crosshairX.enabled=h.crosshairX.strokeWidth!==0),o.update(c))}})):fireEvent$9(a,"closePopup"),r.activeAnnotation=!0}merge$E(!0,n.prototype.defaultOptions.events,{click:t})}H.Annotation&&(selectableAnnotation(Annotation),objectEach$b(Annotation.types,function(n){selectableAnnotation(n)}));setOptions$1({lang:{navigation:{popup:{simpleShapes:"Simple shapes",lines:"Lines",circle:"Circle",rectangle:"Rectangle",label:"Label",shapeOptions:"Shape options",typeOptions:"Details",fill:"Fill",format:"Text",strokeWidth:"Line width",stroke:"Line color",title:"Title",name:"Name",labelOptions:"Label options",labels:"Labels",backgroundColor:"Background color",backgroundColors:"Background colors",borderColor:"Border color",borderRadius:"Border radius",borderWidth:"Border width",style:"Style",padding:"Padding",fontSize:"Font size",color:"Color",height:"Height",shapes:"Shape options"}}},navigation:{bindingsClassName:"highcharts-bindings-container",bindings:{circleAnnotation:{className:"highcharts-circle-annotation",start:function(n){var i=this.chart.pointer.getCoordinates(n),t=this.utils.getAssignedAxis(i.xAxis),r=this.utils.getAssignedAxis(i.yAxis),o=this.chart.options.navigation;if(!(!t||!r))return this.chart.addAnnotation(merge$E({langKey:"circle",type:"basicAnnotation",shapes:[{type:"circle",point:{x:t.value,y:r.value,xAxis:t.axis.options.index,yAxis:r.axis.options.index},r:5}]},o.annotationsOptions,o.bindings.circleAnnotation.annotationsOptions))},steps:[function(n,i){var t=i.options.shapes[0].point,r=this.chart.inverted,o,a,s;isNumber$j(t.xAxis)&&isNumber$j(t.yAxis)&&(o=this.chart.xAxis[t.xAxis].toPixels(t.x),a=this.chart.yAxis[t.yAxis].toPixels(t.y),s=Math.max(Math.sqrt(Math.pow(r?a-n.chartX:o-n.chartX,2)+Math.pow(r?o-n.chartY:a-n.chartY,2)),5)),i.update({shapes:[{r:s}]})}]},rectangleAnnotation:{className:"highcharts-rectangle-annotation",start:function(n){var i=this.chart.pointer.getCoordinates(n),t=this.utils.getAssignedAxis(i.xAxis),r=this.utils.getAssignedAxis(i.yAxis);if(!(!t||!r)){var o=t.value,a=r.value,s=t.axis.options.index,l=r.axis.options.index,c=this.chart.options.navigation;return this.chart.addAnnotation(merge$E({langKey:"rectangle",type:"basicAnnotation",shapes:[{type:"path",points:[{xAxis:s,yAxis:l,x:o,y:a},{xAxis:s,yAxis:l,x:o,y:a},{xAxis:s,yAxis:l,x:o,y:a},{xAxis:s,yAxis:l,x:o,y:a}]}]},c.annotationsOptions,c.bindings.rectangleAnnotation.annotationsOptions))}},steps:[function(n,i){var t=i.options.shapes[0].points,r=this.chart.pointer.getCoordinates(n),o=this.utils.getAssignedAxis(r.xAxis),a=this.utils.getAssignedAxis(r.yAxis),s,l;o&&a&&(s=o.value,l=a.value,t[1].x=s,t[2].x=s,t[2].y=l,t[3].y=l,i.update({shapes:[{points:t}]}))}]},labelAnnotation:{className:"highcharts-label-annotation",start:function(n){var i=this.chart.pointer.getCoordinates(n),t=this.utils.getAssignedAxis(i.xAxis),r=this.utils.getAssignedAxis(i.yAxis),o=this.chart.options.navigation;if(!(!t||!r))return this.chart.addAnnotation(merge$E({langKey:"label",type:"basicAnnotation",labelOptions:{format:"{y:.2f}"},labels:[{point:{xAxis:t.axis.options.index,yAxis:r.axis.options.index,x:t.value,y:r.value},overflow:"none",crop:!0}]},o.annotationsOptions,o.bindings.labelAnnotation.annotationsOptions))}}},events:{},annotationsOptions:{animation:{defer:0}}}});addEvent$s(Chart$1,"render",function(){var n=this,i=n.navigationBindings,t="highcharts-disabled-btn";if(n&&i){var r=!1;n.series.forEach(function(o){!o.options.isInternal&&o.visible&&(r=!0)}),objectEach$b(i.boundClassNames,function(o,a){if(n.navigationBindings&&n.navigationBindings.container&&n.navigationBindings.container[0]){var s=n.navigationBindings.container[0].querySelectorAll("."+a);if(s)for(var l=0;l<s.length;l++){var c=s[l];o.noDataState==="normal"||r?c.className.indexOf(t)!==-1&&c.classList.remove(t):c.className.indexOf(t)===-1&&(c.className+=" "+t)}}})}});addEvent$s(NavigationBindings,"closePopup",function(){this.deselectAnnotation()});var doc$3=H.doc,isFirefox=H.isFirefox,getOptions$1=DefaultOptions.getOptions,addEvent$r=Utilities.addEvent,createElement$2=Utilities.createElement,defined$i=Utilities.defined,fireEvent$8=Utilities.fireEvent,isArray$6=Utilities.isArray,isObject$5=Utilities.isObject,isString$1=Utilities.isString,objectEach$a=Utilities.objectEach,pick$I=Utilities.pick,stableSort$3=Utilities.stableSort,wrap$9=Utilities.wrap,indexFilter=/\d/g,PREFIX="highcharts-",DIV="div",INPUT="input",LABEL="label",BUTTON="button",SELECT="select",OPTION="option",SPAN="span",UL="ul",LI="li",H3="h3";wrap$9(Pointer.prototype,"onContainerMouseDown",function(n,i){var t=i.target&&i.target.className;isString$1(t)&&t.indexOf(PREFIX+"popup-field")>=0||n.apply(this,Array.prototype.slice.call(arguments,1))});H.Popup=function(n,i,t){this.init(n,i,t)};H.Popup.prototype={init:function(n,i,t){this.chart=t,this.container=createElement$2(DIV,{className:PREFIX+"popup highcharts-no-tooltip"},null,n),this.lang=this.getLangpack(),this.iconsURL=i,this.addCloseBtn()},addCloseBtn:function(){var n=this,i,t=this.iconsURL;i=createElement$2(DIV,{className:PREFIX+"popup-close"},null,this.container),i.style["background-image"]="url("+(t.match(/png|svg|jpeg|jpg|gif/ig)?t:t+"close.svg")+")",["click","touchstart"].forEach(function(r){addEvent$r(i,r,function(){n.chart?fireEvent$8(n.chart.navigationBindings,"closePopup"):n.closePopup()})})},addColsContainer:function(n){var i,t;return t=createElement$2(DIV,{className:PREFIX+"popup-lhs-col"},null,n),i=createElement$2(DIV,{className:PREFIX+"popup-rhs-col"},null,n),createElement$2(DIV,{className:PREFIX+"popup-rhs-col-wrapper"},null,i),{lhsCol:t,rhsCol:i}},addInput:function(n,i,t,r){var o=n.split("."),a=o[o.length-1],s=this.lang,l=PREFIX+i+"-"+a;l.match(indexFilter)||createElement$2(LABEL,{htmlFor:l},void 0,t).appendChild(doc$3.createTextNode(s[a]||a)),r!==""&&createElement$2(INPUT,{name:l,value:r[0],type:r[1],className:PREFIX+"popup-field"},void 0,t).setAttribute(PREFIX+"data-name",n)},addButton:function(n,i,t,r,o){var a=this,s=this.closePopup,l=this.getFields,c;return c=createElement$2(BUTTON,void 0,void 0,n),c.appendChild(doc$3.createTextNode(i)),["click","touchstart"].forEach(function(h){addEvent$r(c,h,function(){return s.call(a),r(l(o,t))})}),c},getFields:function(n,i){var t=n.querySelectorAll("input"),r="#"+PREFIX+"select-series > option:checked",o="#"+PREFIX+"select-volume > option:checked",a=n.querySelectorAll(r)[0],s=n.querySelectorAll(o)[0],l,c,h;return h={actionType:i,linkedTo:a&&a.getAttribute("value"),fields:{}},[].forEach.call(t,function(u){c=u.getAttribute(PREFIX+"data-name"),l=u.getAttribute(PREFIX+"data-series-id"),l?h.seriesId=u.value:c?h.fields[c]=u.value:h.type=u.value}),s&&(h.fields["params.volumeSeriesID"]=s.getAttribute("value")),h},showPopup:function(){var n=this.container,i=PREFIX+"annotation-toolbar",t=n.querySelectorAll("."+PREFIX+"popup-close")[0];this.formType=void 0,n.innerHTML="",n.className.indexOf(i)>=0&&(n.classList.remove(i),n.removeAttribute("style")),n.appendChild(t),n.style.display="block",n.style.height=""},closePopup:function(){var n=pick$I(this.popup&&this.popup.container,this.container);n.style.display="none"},showForm:function(n,i,t,r){i&&(this.popup=i.navigationBindings.popup,this.showPopup(),n==="indicators"&&this.indicators.addForm.call(this,i,t,r),n==="annotation-toolbar"&&this.annotations.addToolbar.call(this,i,t,r),n==="annotation-edit"&&this.annotations.addForm.call(this,i,t,r),n==="flag"&&this.annotations.addForm.call(this,i,t,r,!0),this.formType=n,this.container.style.height=this.container.offsetHeight+"px")},getLangpack:function(){return getOptions$1().lang.navigation.popup},annotations:{addToolbar:function(n,i,t){var r=this,o=this.lang,a=this.popup.container,s=this.showForm,l=PREFIX+"annotation-toolbar",c;a.className.indexOf(l)===-1&&(a.className+=" "+l),n&&(a.style.top=n.plotTop+10+"px"),createElement$2(SPAN,void 0,void 0,a).appendChild(doc$3.createTextNode(pick$I(o[i.langKey]||i.langKey,i.shapes&&i.shapes[0].type))),c=this.addButton(a,o.removeButton||"remove","remove",t,a),c.className+=" "+PREFIX+"annotation-remove-button",c.style["background-image"]="url("+this.iconsURL+"destroy.svg)",c=this.addButton(a,o.editButton||"edit","edit",function(){s.call(r,"annotation-edit",n,i,t)},a),c.className+=" "+PREFIX+"annotation-edit-button",c.style["background-image"]="url("+this.iconsURL+"edit.svg)"},addForm:function(n,i,t,r){var o=this.popup.container,a=this.lang,s,l;n&&(l=createElement$2("h2",{className:PREFIX+"popup-main-title"},void 0,o),l.appendChild(doc$3.createTextNode(a[i.langKey]||i.langKey||"")),l=createElement$2(DIV,{className:PREFIX+"popup-lhs-col "+PREFIX+"popup-lhs-full"},null,o),s=createElement$2(DIV,{className:PREFIX+"popup-bottom-row"},null,o),this.annotations.addFormFields.call(this,l,n,"",i,[],!0),this.addButton(s,r?a.addButton||"add":a.saveButton||"save",r?"add":"save",t,o))},addFormFields:function(n,i,t,r,o,a){var s=this,l=this.annotations.addFormFields,c=this.addInput,h=this.lang,u,d;i&&(objectEach$a(r,function(f,p){u=t!==""?t+"."+p:p,isObject$5(f)&&(!isArray$6(f)||isArray$6(f)&&isObject$5(f[0])?(d=h[p]||p,d.match(indexFilter)||o.push([!0,d,n]),l.call(s,n,i,u,f,o,!1)):o.push([s,u,"annotation",n,f]))}),a&&(stableSort$3(o,function(f){return f[1].match(/format/g)?-1:1}),isFirefox&&o.reverse(),o.forEach(function(f){f[0]===!0?createElement$2(SPAN,{className:PREFIX+"annotation-title"},void 0,f[2]).appendChild(doc$3.createTextNode(f[1])):c.apply(f[0],f.splice(1))})))}},indicators:{addForm:function(n,i,t){var r,o=this.indicators,a=this.lang,s;n&&(this.tabs.init.call(this,n),r=this.popup.container.querySelectorAll("."+PREFIX+"tab-item-content"),this.addColsContainer(r[0]),o.addIndicatorList.call(this,n,r[0],"add"),s=r[0].querySelectorAll("."+PREFIX+"popup-rhs-col")[0],this.addButton(s,a.addButton||"add","add",t,s),this.addColsContainer(r[1]),o.addIndicatorList.call(this,n,r[1],"edit"),s=r[1].querySelectorAll("."+PREFIX+"popup-rhs-col")[0],this.addButton(s,a.saveButton||"save","edit",t,s),this.addButton(s,a.removeButton||"remove","remove",t,s))},addIndicatorList:function(n,i,t){var r=this,o=i.querySelectorAll("."+PREFIX+"popup-lhs-col")[0],a=i.querySelectorAll("."+PREFIX+"popup-rhs-col")[0],s=t==="edit",l=s?n.series:n.options.plotOptions,c=this.indicators.addFormFields,h,u,d;n&&(u=createElement$2(UL,{className:PREFIX+"indicator-list"},null,o),h=a.querySelectorAll("."+PREFIX+"popup-rhs-col-wrapper")[0],objectEach$a(l,function(f,p){var m=f.options;if(f.params||m&&m.params){var g=r.indicators.getNameType(f,p),v=g.type;d=createElement$2(LI,{className:PREFIX+"indicator-list"},void 0,u),d.appendChild(doc$3.createTextNode(g.name)),["click","touchstart"].forEach(function(_){addEvent$r(d,_,function(){c.call(r,n,s?f:l[v],g.type,h),s&&f.options&&createElement$2(INPUT,{type:"hidden",name:PREFIX+"id-"+v,value:f.options.id},null,h).setAttribute(PREFIX+"data-series-id",f.options.id)})})}}),u.childNodes.length>0&&u.childNodes[0].click())},getNameType:function(n,i){var t=n.options,r=H.seriesTypes,o=r[i]&&r[i].prototype.nameBase||i.toUpperCase(),a=i;return t&&t.type&&(a=n.options.type,o=n.name),{name:o,type:a}},listAllSeries:function(n,i,t,r,o){var a=PREFIX+i+"-type-"+n,s=this.lang,l,c;t&&(createElement$2(LABEL,{htmlFor:a},null,r).appendChild(doc$3.createTextNode(s[i]||i)),l=createElement$2(SELECT,{name:a,className:PREFIX+"popup-field"},null,r),l.setAttribute("id",PREFIX+"select-"+i),t.series.forEach(function(h){c=h.options,!c.params&&c.id&&c.id!==PREFIX+"navigator-series"&&createElement$2(OPTION,{value:c.id},null,l).appendChild(doc$3.createTextNode(c.name||c.id))}),defined$i(o)&&(l.value=o))},addFormFields:function(n,i,t,r){var o=i.params||i.options.params,a=this.indicators.getNameType;r.innerHTML="",createElement$2(H3,{className:PREFIX+"indicator-title"},void 0,r).appendChild(doc$3.createTextNode(a(i,t).name)),createElement$2(INPUT,{type:"hidden",name:PREFIX+"type-"+t,value:t},null,r),this.indicators.listAllSeries.call(this,t,"series",n,r,i.linkedParent&&o.volumeSeriesID),o.volumeSeriesID&&this.indicators.listAllSeries.call(this,t,"volume",n,r,i.linkedParent&&i.linkedParent.options.id),this.indicators.addParamInputs.call(this,n,"params",o,t,r)},addParamInputs:function(n,i,t,r,o){var a=this,s=this.indicators.addParamInputs,l=this.addInput,c;n&&objectEach$a(t,function(h,u){c=i+"."+u,h!==void 0&&(isObject$5(h)?(l.call(a,c,r,o,""),s.call(a,n,c,h,r,o)):c!=="params.volumeSeriesID"&&l.call(a,c,r,o,[h,"text"]))})},getAmount:function(){var n=this.series,i=0;return n.forEach(function(t){var r=t.options;(t.params||r&&r.params)&&i++}),i}},tabs:{init:function(n){var i=this.tabs,t=this.indicators.getAmount.call(n),r;n&&(r=i.addMenuItem.call(this,"add"),i.addMenuItem.call(this,"edit",t),i.addContentItem.call(this,"add"),i.addContentItem.call(this,"edit"),i.switchTabs.call(this,t),i.selectTab.call(this,r,0))},addMenuItem:function(n,i){var t=this.popup.container,r=PREFIX+"tab-item",o=this.lang,a;return i===0&&(r+=" "+PREFIX+"tab-disabled"),a=createElement$2(SPAN,{className:r},void 0,t),a.appendChild(doc$3.createTextNode(o[n+"Button"]||n)),a.setAttribute(PREFIX+"data-tab-type",n),a},addContentItem:function(){var n=this.popup.container;return createElement$2(DIV,{className:PREFIX+"tab-item-content "+PREFIX+"no-mousewheel"},null,n)},switchTabs:function(n){var i=this,t=this.popup.container,r=t.querySelectorAll("."+PREFIX+"tab-item"),o;r.forEach(function(a,s){o=a.getAttribute(PREFIX+"data-tab-type"),!(o==="edit"&&n===0)&&["click","touchstart"].forEach(function(l){addEvent$r(a,l,function(){i.tabs.deselectAll.call(i),i.tabs.selectTab.call(i,this,s)})})})},selectTab:function(n,i){var t=this.popup.container.querySelectorAll("."+PREFIX+"tab-item-content");n.className+=" "+PREFIX+"tab-item-active",t[i].className+=" "+PREFIX+"tab-item-show"},deselectAll:function(){var n=this.popup.container,i=n.querySelectorAll("."+PREFIX+"tab-item"),t=n.querySelectorAll("."+PREFIX+"tab-item-content"),r;for(r=0;r<i.length;r++)i[r].classList.remove(PREFIX+"tab-item-active"),t[r].classList.remove(PREFIX+"tab-item-show")}}};addEvent$r(NavigationBindings,"showPopup",function(n){this.popup||(this.popup=new H.Popup(this.chart.container,this.chart.options.navigation.iconsURL||this.chart.options.stockTools&&this.chart.options.stockTools.gui.iconsURL||"https://code.highcharts.com/9.2.2/gfx/stock-icons/",this.chart)),this.popup.showForm(n.formType,this.chart,n.options,n.onSubmit)});addEvent$r(NavigationBindings,"closePopup",function(){this.popup&&this.popup.closePopup()});H.Popup;var addEvent$q=Utilities.addEvent,extend$L=Utilities.extend,merge$D=Utilities.merge,pick$H=Utilities.pick,splat$4=Utilities.splat;Chart$1.prototype.collectionsWithUpdate.push("pane");var Pane=function(){function n(i,t){this.background=void 0,this.center=void 0,this.chart=void 0,this.options=void 0,this.coll="pane",this.defaultOptions={center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},this.defaultBackgroundOptions={shape:"circle",borderWidth:1,borderColor:palette.neutralColor20,backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,palette.backgroundColor],[1,palette.neutralColor10]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},this.init(i,t)}return n.prototype.init=function(i,t){this.chart=t,this.background=[],t.pane.push(this),this.setOptions(i)},n.prototype.setOptions=function(i){this.options=i=merge$D(this.defaultOptions,this.chart.angular?{background:{}}:void 0,i)},n.prototype.render=function(){var i=this.options,t=this.options.background,r=this.chart.renderer,o,a;if(this.group||(this.group=r.g("pane-group").attr({zIndex:i.zIndex||0}).add()),this.updateCenter(),t)for(t=splat$4(t),o=Math.max(t.length,this.background.length||0),a=0;a<o;a++)t[a]&&this.axis?this.renderBackground(merge$D(this.defaultBackgroundOptions,t[a]),a):this.background[a]&&(this.background[a]=this.background[a].destroy(),this.background.splice(a,1))},n.prototype.renderBackground=function(i,t){var r="animate",o={class:"highcharts-pane "+(i.className||"")};this.chart.styledMode||extend$L(o,{fill:i.backgroundColor,stroke:i.borderColor,"stroke-width":i.borderWidth}),this.background[t]||(this.background[t]=this.chart.renderer.path().add(this.group),r="attr"),this.background[t][r]({d:this.axis.getPlotBandPath(i.from,i.to,i)}).attr(o)},n.prototype.updateCenter=function(i){this.center=(i||this.axis||{}).center=centeredSeriesMixin.getCenter.call(this)},n.prototype.update=function(i,t){merge$D(!0,this.options,i),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(r){r.pane===this&&(r.pane=null,r.update({},t))},this)},n}();function isInsidePane(n,i,t){return Math.sqrt(Math.pow(n-t[0],2)+Math.pow(i-t[1],2))<=t[2]/2}Chart$1.prototype.getHoverPane=function(n){var i=this,t;return n&&i.pane.forEach(function(r){var o=n.chartX-i.plotLeft,a=n.chartY-i.plotTop,s=i.inverted?a:o,l=i.inverted?o:a;isInsidePane(s,l,r.center)&&(t=r)}),t};addEvent$q(Chart$1,"afterIsInsidePlot",function(n){var i=this;i.polar&&(n.isInsidePlot=i.pane.some(function(t){return isInsidePane(n.x,n.y,t.center)}))});addEvent$q(Pointer,"beforeGetHoverData",function(n){var i=this.chart;i.polar?(i.hoverPane=i.getHoverPane(n),n.filter=function(t){return t.visible&&!(!n.shared&&t.directTouch)&&pick$H(t.options.enableMouseTracking,!0)&&(!i.hoverPane||t.xAxis.pane===i.hoverPane)}):i.hoverPane=void 0});addEvent$q(Pointer,"afterGetHoverData",function(n){var i=this.chart;n.hoverPoint&&n.hoverPoint.plotX&&n.hoverPoint.plotY&&i.hoverPane&&!isInsidePane(n.hoverPoint.plotX,n.hoverPoint.plotY,i.hoverPane.center)&&(n.hoverPoint=void 0)});H.Pane=Pane;const Pane$1=H.Pane;var defaultOptions$4=DefaultOptions.defaultOptions,noop$c=H.noop,addEvent$p=Utilities.addEvent,correctFloat$3=Utilities.correctFloat,defined$h=Utilities.defined,extend$K=Utilities.extend,fireEvent$7=Utilities.fireEvent,merge$C=Utilities.merge,pick$G=Utilities.pick,relativeLength$2=Utilities.relativeLength,wrap$8=Utilities.wrap,RadialAxis;(function(n){var i=[],t={gridLineWidth:1,labels:{align:void 0,distance:15,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},r={labels:{align:"center",x:0,y:void 0},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},o={gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}};function a(){this.autoConnect=this.isCircular&&typeof pick$G(this.userMax,this.options.max)>"u"&&correctFloat$3(this.endAngleRad-this.startAngleRad)===correctFloat$3(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)}function s(B,U){return i.indexOf(B)===-1&&(i.push(B),addEvent$p(B,"afterInit",y),addEvent$p(B,"autoLabelAlign",b),addEvent$p(B,"destroy",x),addEvent$p(B,"init",E),addEvent$p(B,"initialAxisTranslation",C)),i.indexOf(U)===-1&&(i.push(U),addEvent$p(U,"afterGetLabelPosition",$),addEvent$p(U,"afterGetPosition",S),wrap$8(U.prototype,"getMarkPath",z)),B}n.compose=s;function l(){var B=this;return function(){if(B.isRadial&&B.tickPositions&&B.options.labels&&B.options.labels.allowOverlap!==!0)return B.tickPositions.map(function(U){return B.ticks[U]&&B.ticks[U].label}).filter(function(U){return!!U})}}function c(){return noop$c}function h(B,U,D){var M=this.pane.center,F=B.value,j,Y,W,q;return this.isCircular?(defined$h(F)?B.point&&(j=B.point.shapeArgs||{},j.start&&(F=this.chart.inverted?this.translate(B.point.rectPlotY,!0):B.point.x)):(W=B.chartX||0,q=B.chartY||0,F=this.translate(Math.atan2(q-D,W-U)-this.startAngleRad,!0)),Y=this.getPosition(F),W=Y.x,q=Y.y):(defined$h(F)||(W=B.chartX,q=B.chartY),defined$h(W)&&defined$h(q)&&(D=M[1]+this.chart.plotTop,F=this.translate(Math.min(Math.sqrt(Math.pow(W-U,2)+Math.pow(q-D,2)),M[2]/2)-M[3]/2,!0))),[F,W||0,q||0]}function u(B,U,D){var M=this.pane.center,F=this.chart,j=this.left||0,Y=this.top||0,W,q=pick$G(U,M[2]/2-this.offset),X;return typeof D>"u"&&(D=this.horiz?0:this.center&&-this.center[3]/2),D&&(q+=D),this.isCircular||typeof U<"u"?(X=this.chart.renderer.symbols.arc(j+M[0],Y+M[1],q,q,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0}),X.xBounds=[j+M[0]],X.yBounds=[Y+M[1]-q]):(W=this.postTranslate(this.angleRad,q),X=[["M",this.center[0]+F.plotLeft,this.center[1]+F.plotTop],["L",W.x,W.y]]),X}function d(){var B=this.constructor.prototype;B.getOffset.call(this),this.chart.axisOffset[this.side]=0}function f(B,U,D){var M=this.chart,F=function(lt){if(typeof lt=="string"){var dt=parseInt(lt,10);return Q.test(lt)&&(dt=dt*W/100),dt}return lt},j=this.center,Y=this.startAngleRad,W=j[2]/2,q=Math.min(this.offset,0),X=this.left||0,K=this.top||0,Q=/%$/,rt=this.isCircular,J,et,nt,at,ct,ht,ut=pick$G(F(D.outerRadius),W),tt=F(D.innerRadius),it=pick$G(F(D.thickness),10);if(this.options.gridLineInterpolation==="polygon")ht=this.getPlotLinePath({value:B}).concat(this.getPlotLinePath({value:U,reverse:!0}));else{B=Math.max(B,this.min),U=Math.min(U,this.max);var ot=this.translate(B),st=this.translate(U);rt||(ut=ot||0,tt=st||0),D.shape==="circle"||!rt?(J=-Math.PI/2,et=Math.PI*1.5,ct=!0):(J=Y+(ot||0),et=Y+(st||0)),ut-=q,it-=q,ht=M.renderer.symbols.arc(X+j[0],K+j[1],ut,ut,{start:Math.min(J,et),end:Math.max(J,et),innerR:pick$G(tt,ut-it),open:ct}),rt&&(nt=(et+J)/2,at=X+j[0]+j[2]/2*Math.cos(nt),ht.xBounds=nt>-Math.PI/2&&nt<Math.PI/2?[at,M.plotWidth]:[0,at],ht.yBounds=[K+j[1]+j[2]/2*Math.sin(nt)],ht.yBounds[0]+=nt>-Math.PI&&nt<0||nt>Math.PI?-10:10)}return ht}function p(B){var U=this,D=this.pane.center,M=this.chart,F=M.inverted,j=B.reverse,Y=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{},W=Y.innerRadius||"0%",q=Y.outerRadius||"100%",X=D[0]+M.plotLeft,K=D[1]+M.plotTop,Q=this.height,rt=B.isCrosshair,J=D[3]/2,et=B.value,nt,at,ct,ht,ut,tt,it,ot,st,lt=this.getPosition(et),dt=lt.x,pt=lt.y;if(rt&&(ot=this.getCrosshairPosition(B,X,K),et=ot[0],dt=ot[1],pt=ot[2]),this.isCircular)at=Math.sqrt(Math.pow(dt-X,2)+Math.pow(pt-K,2)),ct=typeof W=="string"?relativeLength$2(W,1):W/at,ht=typeof q=="string"?relativeLength$2(q,1):q/at,D&&J&&(nt=J/at,ct<nt&&(ct=nt),ht<nt&&(ht=nt)),st=[["M",X+ct*(dt-X),K-ct*(K-pt)],["L",dt-(1-ht)*(dt-X),pt+(1-ht)*(K-pt)]];else if(et=this.translate(et),et&&(et<0||et>Q)&&(et=0),this.options.gridLineInterpolation==="circle")st=this.getLinePath(0,et,J);else if(st=[],M[F?"yAxis":"xAxis"].forEach(function(mt){mt.pane===U.pane&&(ut=mt)}),ut){it=ut.tickPositions,ut.autoConnect&&(it=it.concat([it[0]])),j&&(it=it.slice().reverse()),et&&(et+=J);for(var ft=0;ft<it.length;ft++)tt=ut.getPosition(it[ft],et),st.push(ft?["L",tt.x,tt.y]:["M",tt.x,tt.y])}return st}function m(B,U){var D=this.translate(B);return this.postTranslate(this.isCircular?D:this.angleRad,pick$G(this.isCircular?U:D<0?0:D,this.center[2]/2)-this.offset)}function g(){var B=this.center,U=this.chart,D=this.options.title;return{x:U.plotLeft+B[0]+(D.x||0),y:U.plotTop+B[1]-{high:.5,middle:.25,low:0}[D.align]*B[2]+(D.y||0)}}function v(B){B.beforeSetTickPositions=a,B.createLabelCollector=l,B.getCrosshairPosition=h,B.getLinePath=u,B.getOffset=d,B.getPlotBandPath=f,B.getPlotLinePath=p,B.getPosition=m,B.getTitlePosition=g,B.postTranslate=P,B.setAxisSize=k,B.setAxisTranslation=L,B.setOptions=N}function _(B){B.isHidden=!0,B.createLabelCollector=c,B.getOffset=noop$c,B.redraw=T,B.render=T,B.setScale=noop$c,B.setCategories=noop$c,B.setTitle=noop$c}function y(){var B=this.chart,U=this.options,D=B.angular&&this.isXAxis,M=this.pane,F=M&&M.options;!D&&M&&(B.angular||B.polar)&&(this.angleRad=(U.angle||0)*Math.PI/180,this.startAngleRad=(F.startAngle-90)*Math.PI/180,this.endAngleRad=(pick$G(F.endAngle,F.startAngle+360)-90)*Math.PI/180,this.offset=U.offset||0)}function b(B){this.isRadial&&(B.align=void 0,B.preventDefault())}function x(){if(this.chart&&this.chart.labelCollectors){var B=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;B>=0&&this.chart.labelCollectors.splice(B,1)}}function E(B){var U=this.chart,D=U.inverted,M=U.angular,F=U.polar,j=this.isXAxis,Y=this.coll,W=M&&j,q=U.options,X=B.userOptions.pane||0,K=this.pane=U.pane&&U.pane[X],Q;if(Y==="colorAxis"){this.isRadial=!1;return}M?(W?_(this):v(this),Q=!j,Q&&(this.defaultPolarOptions=r)):F&&(v(this),Q=this.horiz,this.defaultPolarOptions=Q?t:merge$C(Y==="xAxis"?AxisDefaults$1.defaultXAxisOptions:AxisDefaults$1.defaultYAxisOptions,o),D&&Y==="yAxis"&&(this.defaultPolarOptions.stackLabels=AxisDefaults$1.defaultYAxisOptions.stackLabels,this.defaultPolarOptions.reversedStacks=!0)),M||F?(this.isRadial=!0,q.chart.zoomType=null,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&U.labelCollectors.push(this.labelCollector)):this.isRadial=!1,K&&Q&&(K.axis=this),this.isCircular=Q}function C(){this.isRadial&&this.beforeSetTickPositions()}function $(B){var U=this.label;if(U){var D=this.axis,M=U.getBBox(),F=D.options.labels,j=(D.translate(this.pos)+D.startAngleRad+Math.PI/2)/Math.PI*180%360,Y=Math.round(j),W=defined$h(F.y)?0:-M.height*.3,q=F.y,X,K=20,Q=F.align,rt="end",J=Y<0?Y+360:Y,et=J,nt=0,at=0;D.isRadial&&(X=D.getPosition(this.pos,D.center[2]/2+relativeLength$2(pick$G(F.distance,-25),D.center[2]/2,-D.center[2]/2)),F.rotation==="auto"?U.attr({rotation:j}):defined$h(q)||(q=D.chart.renderer.fontMetrics(U.styles&&U.styles.fontSize).b-M.height/2),defined$h(Q)||(D.isCircular?(M.width>D.len*D.tickInterval/(D.max-D.min)&&(K=0),j>K&&j<180-K?Q="left":j>180+K&&j<360-K?Q="right":Q="center"):Q="center",U.attr({align:Q})),Q==="auto"&&D.tickPositions.length===2&&D.isCircular&&(J>90&&J<180?J=180-J:J>270&&J<=360&&(J=540-J),et>180&&et<=360&&(et=360-et),(D.pane.options.startAngle===Y||D.pane.options.startAngle===Y+360||D.pane.options.startAngle===Y-360)&&(rt="start"),Y>=-90&&Y<=90||Y>=-360&&Y<=-270||Y>=270&&Y<=360?Q=rt==="start"?"right":"left":Q=rt==="start"?"left":"right",et>70&&et<110&&(Q="center"),J<15||J>=180&&J<195?nt=M.height*.3:J>=15&&J<=35?nt=rt==="start"?0:M.height*.75:J>=195&&J<=215?nt=rt==="start"?M.height*.75:0:J>35&&J<=90?nt=rt==="start"?-M.height*.25:M.height:J>215&&J<=270&&(nt=rt==="start"?M.height:-M.height*.25),et<15?at=rt==="start"?-M.height*.15:M.height*.15:et>165&&et<=180&&(at=rt==="start"?M.height*.15:-M.height*.15),U.attr({align:Q}),U.translate(at,nt+W)),B.pos.x=X.x+(F.x||0),B.pos.y=X.y+(q||0))}}function S(B){this.axis.getPosition&&extend$K(B.pos,this.axis.getPosition(this.pos))}function P(B,U){var D=this.chart,M=this.center;return B=this.startAngleRad+B,{x:D.plotLeft+M[0]+Math.cos(B)*U,y:D.plotTop+M[1]+Math.sin(B)*U}}function T(){this.isDirty=!1}function k(){var B=this.constructor.prototype,U,D;B.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),U=this.center=this.pane.center.slice(),this.isCircular?this.sector=this.endAngleRad-this.startAngleRad:(D=this.postTranslate(this.angleRad,U[3]/2),U[0]=D.x-this.chart.plotLeft,U[1]=D.y-this.chart.plotTop),this.len=this.width=this.height=(U[2]-U[3])*pick$G(this.sector,1)/2)}function L(){var B=this.constructor.prototype;B.setAxisTranslation.call(this),this.center&&(this.isCircular?this.transA=(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.transA=(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.isXAxis?this.minPixelPadding=this.transA*this.minPointOffset:this.minPixelPadding=0)}function N(B){var U=this.options=merge$C(this.constructor.defaultOptions,this.defaultPolarOptions,defaultOptions$4[this.coll],B);U.plotBands||(U.plotBands=[]),fireEvent$7(this,"afterSetOptions")}function z(B,U,D,M,F,j,Y){var W=this.axis,q,X;return W.isRadial?(q=W.getPosition(this.pos,W.center[2]/2+M),X=["M",U,D,"L",q.x,q.y]):X=B.call(this,U,D,M,F,j,Y),X}})(RadialAxis||(RadialAxis={}));const RadialAxis$1=RadialAxis;var __extends$1X=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pointProto=Point$5.prototype,defined$g=Utilities.defined,isNumber$i=Utilities.isNumber,AreaRangePoint$1=function(n){__extends$1X(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.high=void 0,t.low=void 0,t.options=void 0,t.plotHigh=void 0,t.plotLow=void 0,t.plotHighX=void 0,t.plotLowX=void 0,t.plotX=void 0,t.series=void 0,t}return i.prototype.setState=function(){var t=this.state,r=this.series,o=r.chart.polar;defined$g(this.plotHigh)||(this.plotHigh=r.yAxis.toPixels(this.high,!0)),defined$g(this.plotLow)||(this.plotLow=this.plotY=r.yAxis.toPixels(this.low,!0)),r.stateMarkerGraphic&&(r.lowerStateMarkerGraphic=r.stateMarkerGraphic,r.stateMarkerGraphic=r.upperStateMarkerGraphic),this.graphic=this.upperGraphic,this.plotY=this.plotHigh,o&&(this.plotX=this.plotHighX),pointProto.setState.apply(this,arguments),this.state=t,this.plotY=this.plotLow,this.graphic=this.lowerGraphic,o&&(this.plotX=this.plotLowX),r.stateMarkerGraphic&&(r.upperStateMarkerGraphic=r.stateMarkerGraphic,r.stateMarkerGraphic=r.lowerStateMarkerGraphic,r.lowerStateMarkerGraphic=void 0),pointProto.setState.apply(this,arguments)},i.prototype.haloPath=function(){var t=this.series.chart.polar,r=[];return this.plotY=this.plotLow,t&&(this.plotX=this.plotLowX),this.isInside&&(r=pointProto.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,t&&(this.plotX=this.plotHighX),this.isTopInside&&(r=r.concat(pointProto.haloPath.apply(this,arguments))),r},i.prototype.isValid=function(){return isNumber$i(this.low)&&isNumber$i(this.high)},i}(AreaSeries$1.prototype.pointClass),__extends$1W=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),areaProto=AreaSeries$1.prototype,columnProto$4=ColumnSeries$h.prototype,noop$b=H.noop,seriesProto$1=Series$e.prototype,defined$f=Utilities.defined,extend$J=Utilities.extend,isArray$5=Utilities.isArray,pick$F=Utilities.pick,merge$B=Utilities.merge,AreaRangeSeries$2=function(n){__extends$1W(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t.lowerStateMarkerGraphic=void 0,t.xAxis=void 0,t}return i.prototype.toYData=function(t){return[t.low,t.high]},i.prototype.highToXY=function(t){var r=this.chart,o=this.xAxis.postTranslate(t.rectPlotX||0,this.yAxis.len-t.plotHigh);t.plotHighX=o.x-r.plotLeft,t.plotHigh=o.y-r.plotTop,t.plotLowX=t.plotX},i.prototype.translate=function(){var t=this,r=t.yAxis,o=!!t.modifyValue;areaProto.translate.apply(t),t.points.forEach(function(a){var s=a.high,l=a.plotY;a.isNull?a.plotY=null:(a.plotLow=l,a.plotHigh=r.translate(o?t.modifyValue(s,a):s,0,1,0,1),o&&(a.yBottom=a.plotHigh))}),this.chart.polar&&this.points.forEach(function(a){t.highToXY(a),a.tooltipPos=[(a.plotHighX+a.plotLowX)/2,(a.plotHigh+a.plotLow)/2]})},i.prototype.getGraphPath=function(t){var r=[],o=[],a,s=areaProto.getGraphPath,l,c,h,u,d=this.options,f=this.chart.polar,p=f&&d.connectEnds!==!1,m=d.connectNulls,g=d.step,v,_;for(t=t||this.points,a=t.length;a--;){l=t[a];var y=f?{plotX:l.rectPlotX,plotY:l.yBottom,doCurve:!1}:{plotX:l.plotX,plotY:l.plotY,doCurve:!1};!l.isNull&&!p&&!m&&(!t[a+1]||t[a+1].isNull)&&o.push(y),c={polarPlotY:l.polarPlotY,rectPlotX:l.rectPlotX,yBottom:l.yBottom,plotX:pick$F(l.plotHighX,l.plotX),plotY:l.plotHigh,isNull:l.isNull},o.push(c),r.push(c),!l.isNull&&!p&&!m&&(!t[a-1]||t[a-1].isNull)&&o.push(y)}return u=s.call(this,t),g&&(g===!0&&(g="left"),d.step={left:"right",center:"center",right:"left"}[g]),v=s.call(this,r),_=s.call(this,o),d.step=g,h=[].concat(u,v),!this.chart.polar&&_[0]&&_[0][0]==="M"&&(_[0]=["L",_[0][1],_[0][2]]),this.graphPath=h,this.areaPath=u.concat(_),h.isArea=!0,h.xMap=u.xMap,this.areaPath.xMap=u.xMap,h},i.prototype.drawDataLabels=function(){var t=this.points,r=t.length,o,a=[],s=this.options.dataLabels,l,c,h=this.chart.inverted,u,d;if(s){if(isArray$5(s)?(u=s[0]||{enabled:!1},d=s[1]||{enabled:!1}):(u=extend$J({},s),u.x=s.xHigh,u.y=s.yHigh,d=extend$J({},s),d.x=s.xLow,d.y=s.yLow),u.enabled||this._hasPointLabels){for(o=r;o--;)l=t[o],l&&(c=u.inside?l.plotHigh<l.plotLow:l.plotHigh>l.plotLow,l.y=l.high,l._plotY=l.plotY,l.plotY=l.plotHigh,a[o]=l.dataLabel,l.dataLabel=l.dataLabelUpper,l.below=c,h?u.align||(u.align=c?"right":"left"):u.verticalAlign||(u.verticalAlign=c?"top":"bottom"));for(this.options.dataLabels=u,seriesProto$1.drawDataLabels&&seriesProto$1.drawDataLabels.apply(this,arguments),o=r;o--;)l=t[o],l&&(l.dataLabelUpper=l.dataLabel,l.dataLabel=a[o],delete l.dataLabels,l.y=l.low,l.plotY=l._plotY)}if(d.enabled||this._hasPointLabels){for(o=r;o--;)l=t[o],l&&(c=d.inside?l.plotHigh<l.plotLow:l.plotHigh>l.plotLow,l.below=!c,h?d.align||(d.align=c?"left":"right"):d.verticalAlign||(d.verticalAlign=c?"bottom":"top"));this.options.dataLabels=d,seriesProto$1.drawDataLabels&&seriesProto$1.drawDataLabels.apply(this,arguments)}if(u.enabled)for(o=r;o--;)l=t[o],l&&(l.dataLabels=[l.dataLabelUpper,l.dataLabel].filter(function(f){return!!f}));this.options.dataLabels=s}},i.prototype.alignDataLabel=function(){columnProto$4.alignDataLabel.apply(this,arguments)},i.prototype.drawPoints=function(){var t=this,r=t.points.length,o,a;for(seriesProto$1.drawPoints.apply(t,arguments),a=0;a<r;)o=t.points[a],o.origProps={plotY:o.plotY,plotX:o.plotX,isInside:o.isInside,negative:o.negative,zone:o.zone,y:o.y},o.lowerGraphic=o.graphic,o.graphic=o.upperGraphic,o.plotY=o.plotHigh,defined$f(o.plotHighX)&&(o.plotX=o.plotHighX),o.y=pick$F(o.high,o.origProps.y),o.negative=o.y<(t.options.threshold||0),t.zones.length&&(o.zone=o.getZone()),t.chart.polar||(o.isInside=o.isTopInside=typeof o.plotY<"u"&&o.plotY>=0&&o.plotY<=t.yAxis.len&&o.plotX>=0&&o.plotX<=t.xAxis.len),a++;for(seriesProto$1.drawPoints.apply(t,arguments),a=0;a<r;)o=t.points[a],o.upperGraphic=o.graphic,o.graphic=o.lowerGraphic,o.origProps&&(extend$J(o,o.origProps),delete o.origProps),a++},i.defaultOptions=merge$B(AreaSeries$1.defaultOptions,{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}}),i}(AreaSeries$1);extend$J(AreaRangeSeries$2.prototype,{pointArrayMap:["low","high"],pointValKey:"low",deferTranslatePolar:!0,pointClass:AreaRangePoint$1,setStackedPoints:noop$b});SeriesRegistry$1.registerSeriesType("arearange",AreaRangeSeries$2);var __extends$1V=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),SplineSeries=SeriesRegistry$1.seriesTypes.spline,merge$A=Utilities.merge,extend$I=Utilities.extend,AreaSplineRangeSeries=function(n){__extends$1V(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.options=void 0,t.data=void 0,t.points=void 0,t}return i.defaultOptions=merge$A(AreaRangeSeries$2.defaultOptions),i}(AreaRangeSeries$2);extend$I(AreaSplineRangeSeries.prototype,{getPointSpline:SplineSeries.prototype.getPointSpline});SeriesRegistry$1.registerSeriesType("areasplinerange",AreaSplineRangeSeries);var __extends$1U=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),noop$a=H.noop,extend$H=Utilities.extend,merge$z=Utilities.merge,pick$E=Utilities.pick,BoxPlotSeries=function(n){__extends$1U(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return i.prototype.pointAttribs=function(){return{}},i.prototype.translate=function(){var t=this,r=t.yAxis,o=t.pointArrayMap;n.prototype.translate.apply(t),t.points.forEach(function(a){o.forEach(function(s){a[s]!==null&&(a[s+"Plot"]=r.translate(a[s],0,1,0,1))}),a.plotHigh=a.highPlot})},i.prototype.drawPoints=function(){var t=this,r=t.points,o=t.options,a=t.chart,s=a.renderer,l,c,h,u,d,f,p,m=0,g,v,_,y,b,x=t.doQuartiles!==!1,E,C=t.options.whiskerLength;r.forEach(function($){var S=$.graphic,P=S?"animate":"attr",T=$.shapeArgs,k={},L={},N={},z={},B=$.color||t.color;if(typeof $.plotY<"u"){v=Math.round(T.width),_=Math.floor(T.x),y=_+v,b=Math.round(v/2),l=Math.floor(x?$.q1Plot:$.lowPlot),c=Math.floor(x?$.q3Plot:$.lowPlot),h=Math.floor($.highPlot),u=Math.floor($.lowPlot),S||($.graphic=S=s.g("point").add(t.group),$.stem=s.path().addClass("highcharts-boxplot-stem").add(S),C&&($.whiskers=s.path().addClass("highcharts-boxplot-whisker").add(S)),x&&($.box=s.path(g).addClass("highcharts-boxplot-box").add(S)),$.medianShape=s.path(f).addClass("highcharts-boxplot-median").add(S)),a.styledMode||(L.stroke=$.stemColor||o.stemColor||B,L["stroke-width"]=pick$E($.stemWidth,o.stemWidth,o.lineWidth),L.dashstyle=$.stemDashStyle||o.stemDashStyle||o.dashStyle,$.stem.attr(L),C&&(N.stroke=$.whiskerColor||o.whiskerColor||B,N["stroke-width"]=pick$E($.whiskerWidth,o.whiskerWidth,o.lineWidth),N.dashstyle=$.whiskerDashStyle||o.whiskerDashStyle||o.dashStyle,$.whiskers.attr(N)),x&&(k.fill=$.fillColor||o.fillColor||B,k.stroke=o.lineColor||B,k["stroke-width"]=o.lineWidth||0,k.dashstyle=$.boxDashStyle||o.boxDashStyle||o.dashStyle,$.box.attr(k)),z.stroke=$.medianColor||o.medianColor||B,z["stroke-width"]=pick$E($.medianWidth,o.medianWidth,o.lineWidth),z.dashstyle=$.medianDashStyle||o.medianDashStyle||o.dashStyle,$.medianShape.attr(z));var U=void 0;p=$.stem.strokeWidth()%2/2,m=_+b+p,U=[["M",m,c],["L",m,h],["M",m,l],["L",m,u]],$.stem[P]({d:U}),x&&(p=$.box.strokeWidth()%2/2,l=Math.floor(l)+p,c=Math.floor(c)+p,_+=p,y+=p,U=[["M",_,c],["L",_,l],["L",y,l],["L",y,c],["L",_,c],["Z"]],$.box[P]({d:U})),C&&(p=$.whiskers.strokeWidth()%2/2,h=h+p,u=u+p,E=/%$/.test(C)?b*parseFloat(C)/100:C/2,U=[["M",m-E,h],["L",m+E,h],["M",m-E,u],["L",m+E,u]],$.whiskers[P]({d:U})),d=Math.round($.medianPlot),p=$.medianShape.strokeWidth()%2/2,d=d+p,U=[["M",_,d],["L",y,d]],$.medianShape[P]({d:U})}})},i.prototype.toYData=function(t){return[t.low,t.q1,t.median,t.q3,t.high]},i.defaultOptions=merge$z(ColumnSeries$h.defaultOptions,{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:palette.backgroundColor,lineWidth:1,medianWidth:2,whiskerWidth:2}),i}(ColumnSeries$h);extend$H(BoxPlotSeries.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:noop$a,setStackedPoints:noop$a});SeriesRegistry$1.registerSeriesType("boxplot",BoxPlotSeries);var BubbleLegendDefaults={borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"10px",color:palette.neutralColor100},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0},color$a=Color.parse,noop$9=H.noop,arrayMax$3=Utilities.arrayMax,arrayMin$3=Utilities.arrayMin,isNumber$h=Utilities.isNumber,merge$y=Utilities.merge,pick$D=Utilities.pick,stableSort$2=Utilities.stableSort,BubbleLegendItem=function(){function n(i,t){this.chart=void 0,this.fontMetrics=void 0,this.legend=void 0,this.legendGroup=void 0,this.legendItem=void 0,this.legendItemHeight=void 0,this.legendItemWidth=void 0,this.legendSymbol=void 0,this.maxLabel=void 0,this.movementX=void 0,this.ranges=void 0,this.selected=void 0,this.visible=void 0,this.symbols=void 0,this.options=void 0,this.setState=noop$9,this.init(i,t)}return n.prototype.init=function(i,t){this.options=i,this.visible=!0,this.chart=t.chart,this.legend=t},n.prototype.addToLegend=function(i){i.splice(this.options.legendIndex,0,this)},n.prototype.drawLegendSymbol=function(i){var t=this.chart,r=this.options,o=pick$D(i.options.itemDistance,20),a=r.ranges,s=r.connectorDistance,l;if(this.fontMetrics=t.renderer.fontMetrics(r.labels.style.fontSize),!a||!a.length||!isNumber$h(a[0].value)){i.options.bubbleLegend.autoRanges=!0;return}stableSort$2(a,function(d,f){return f.value-d.value}),this.ranges=a,this.setOptions(),this.render();var c=this.getMaxLabelSize(),h=this.ranges[0].radius,u=h*2;l=s-h+c.width,l=l>0?l:0,this.maxLabel=c,this.movementX=r.labels.align==="left"?l:0,this.legendItemWidth=u+l+o,this.legendItemHeight=u+this.fontMetrics.h/2},n.prototype.setOptions=function(){var i=this.ranges,t=this.options,r=this.chart.series[t.seriesIndex],o=this.legend.baseline,a={zIndex:t.zIndex,"stroke-width":t.borderWidth},s={zIndex:t.zIndex,"stroke-width":t.connectorWidth},l={align:this.legend.options.rtl||t.labels.align==="left"?"right":"left",zIndex:t.zIndex},c=r.options.marker.fillOpacity,h=this.chart.styledMode;i.forEach(function(u,d){h||(a.stroke=pick$D(u.borderColor,t.borderColor,r.color),a.fill=pick$D(u.color,t.color,c!==1?color$a(r.color).setOpacity(c).get("rgba"):r.color),s.stroke=pick$D(u.connectorColor,t.connectorColor,r.color)),i[d].radius=this.getRangeRadius(u.value),i[d]=merge$y(i[d],{center:i[0].radius-i[d].radius+o}),h||merge$y(!0,i[d],{bubbleAttribs:merge$y(a),connectorAttribs:merge$y(s),labelAttribs:l})},this)},n.prototype.getRangeRadius=function(i){var t=this.options,r=this.options.seriesIndex,o=this.chart.series[r],a=t.ranges[0].value,s=t.ranges[t.ranges.length-1].value,l=t.minSize,c=t.maxSize;return o.getRadius.call(this,s,a,l,c,i)},n.prototype.render=function(){var i=this.chart.renderer,t=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),this.legendSymbol=i.g("bubble-legend"),this.legendItem=i.g("bubble-legend-item"),this.legendSymbol.translateX=0,this.legendSymbol.translateY=0,this.ranges.forEach(function(r){r.value>=t&&this.renderRange(r)},this),this.legendSymbol.add(this.legendItem),this.legendItem.add(this.legendGroup),this.hideOverlappingLabels()},n.prototype.renderRange=function(i){var t=this.ranges[0],r=this.legend,o=this.options,a=o.labels,s=this.chart,l=s.series[o.seriesIndex],c=s.renderer,h=this.symbols,u=h.labels,d=i.center,f=Math.abs(i.radius),p=o.connectorDistance||0,m=a.align,g=r.options.rtl,v=o.borderWidth,_=o.connectorWidth,y=t.radius||0,b=d-f-v/2+_/2,x=this.fontMetrics,E=x.f/2-(x.h-x.f)/2,C=(b%1?1:.5)-(_%2?0:.5),$=c.styledMode,S=g||m==="left"?-p:p;m==="center"&&(S=0,o.connectorDistance=0,i.labelAttribs.align="center");var P=b+o.labels.y,T=y+S+o.labels.x;h.bubbleItems.push(c.circle(y,d+C,f).attr($?{}:i.bubbleAttribs).addClass(($?"highcharts-color-"+l.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(o.className||"")).add(this.legendSymbol)),h.connectors.push(c.path(c.crispLine([["M",y,b],["L",y+S,b]],o.connectorWidth)).attr($?{}:i.connectorAttribs).addClass(($?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(o.connectorClassName||"")).add(this.legendSymbol));var k=c.text(this.formatLabel(i),T,P+E).attr($?{}:i.labelAttribs).css($?{}:a.style).addClass("highcharts-bubble-legend-labels "+(o.labels.className||"")).add(this.legendSymbol);u.push(k),k.placed=!0,k.alignAttr={x:T,y:P+E}},n.prototype.getMaxLabelSize=function(){var i=this.symbols.labels,t,r;return i.forEach(function(o){r=o.getBBox(!0),t?t=r.width>t.width?r:t:t=r}),t||{}},n.prototype.formatLabel=function(i){var t=this.options,r=t.labels.formatter,o=t.labels.format,a=this.chart.numberFormatter;return o?FormatUtilities.format(o,i):r?r.call(i):a(i.value,1)},n.prototype.hideOverlappingLabels=function(){var i=this.chart,t=this.options.labels.allowOverlap,r=this.symbols;!t&&r&&(i.hideOverlappingLabels(r.labels),r.labels.forEach(function(o,a){o.newOpacity?o.newOpacity!==o.oldOpacity&&r.connectors[a].show():r.connectors[a].hide()}))},n.prototype.getRanges=function(){var i=this.legend.bubbleLegend,t=i.chart.series,r=i.options.ranges,o,a,s=Number.MAX_VALUE,l=-Number.MAX_VALUE;return t.forEach(function(c){c.isBubble&&!c.ignoreSeries&&(a=c.zData.filter(isNumber$h),a.length&&(s=pick$D(c.options.zMin,Math.min(s,Math.max(arrayMin$3(a),c.options.displayNegative===!1?c.options.zThreshold:-Number.MAX_VALUE))),l=pick$D(c.options.zMax,Math.max(l,arrayMax$3(a)))))}),s===l?o=[{value:l}]:o=[{value:s},{value:(s+l)/2},{value:l,autoRanges:!0}],r.length&&r[0].radius&&o.reverse(),o.forEach(function(c,h){r&&r[h]&&(o[h]=merge$y(r[h],c))}),o},n.prototype.predictBubbleSizes=function(){var i=this.chart,t=this.fontMetrics,r=i.legend.options,o=r.floating,a=r.layout==="horizontal",s=a?i.legend.lastLineHeight:0,l=i.plotSizeX,c=i.plotSizeY,h=i.series[this.options.seriesIndex],u=Math.ceil(h.minPxSize),d=Math.ceil(h.maxPxSize),f=Math.min(c,l),p,m=h.options.maxSize;return o||!/%$/.test(m)?p=d:(m=parseFloat(m),p=(f+s-t.h/2)*m/100/(m/100+1),(a&&c-p>=l||!a&&l-p>=c)&&(p=d)),[u,Math.ceil(p)]},n.prototype.updateRanges=function(i,t){var r=this.legend.options.bubbleLegend;r.minSize=i,r.maxSize=t,r.ranges=this.getRanges()},n.prototype.correctSizes=function(){var i=this.legend,t=this.chart,r=t.series[this.options.seriesIndex],o=r.maxPxSize,a=this.options.maxSize;Math.abs(Math.ceil(o)-a)>1&&(this.updateRanges(this.options.minSize,r.maxPxSize),i.render())},n}(),setOptions=DefaultOptions.setOptions,addEvent$o=Utilities.addEvent,objectEach$9=Utilities.objectEach,wrap$7=Utilities.wrap,BubbleLegendComposition;(function(n){var i=[];function t(h,u,d){var f=this,p=f.legend,m=o(f)>=0,g,v;p&&p.options.enabled&&p.bubbleLegend&&p.options.bubbleLegend.autoRanges&&m?(g=p.bubbleLegend.options,v=p.bubbleLegend.predictBubbleSizes(),p.bubbleLegend.updateRanges(v[0],v[1]),g.placed||(p.group.placed=!1,p.allItems.forEach(function(_){_.legendGroup.translateY=null})),p.render(),f.getMargins(),f.axes.forEach(function(_){_.visible&&_.render(),g.placed||(_.setScale(),_.updateNames(),objectEach$9(_.ticks,function(y){y.isNew=!0,y.isNewLabel=!0}))}),g.placed=!0,f.getMargins(),h.call(f,u,d),p.bubbleLegend.correctSizes(),c(p,a(p))):(h.call(f,u,d),p&&p.options.enabled&&p.bubbleLegend&&(p.render(),c(p,a(p))))}function r(h,u,d){i.indexOf(h)===-1&&(i.push(h),setOptions({legend:{bubbleLegend:BubbleLegendDefaults}}),wrap$7(h.prototype,"drawChartBox",t)),i.indexOf(u)===-1&&(i.push(u),addEvent$o(u,"afterGetAllItems",s)),i.indexOf(d)===-1&&(i.push(d),addEvent$o(d,"legendItemClick",l))}n.compose=r;function o(h){for(var u=h.series,d=0;d<u.length;){if(u[d]&&u[d].isBubble&&u[d].visible&&u[d].zData.length)return d;d++}return-1}function a(h){var u=h.allItems,d=[],f=u.length,p,m=0,g=0;for(m=0;m<f;m++)if(u[m].legendItemHeight&&(u[m].itemHeight=u[m].legendItemHeight),u[m]===u[f-1]||u[m+1]&&u[m]._legendItemPos[1]!==u[m+1]._legendItemPos[1]){for(d.push({height:0}),p=d[d.length-1],g;g<=m;g++)u[g].itemHeight>p.height&&(p.height=u[g].itemHeight);p.step=m}return d}function s(h){var u=this,d=u.bubbleLegend,f=u.options,p=f.bubbleLegend,m=o(u.chart);d&&d.ranges&&d.ranges.length&&(p.ranges.length&&(p.autoRanges=!!p.ranges[0].autoRanges),u.destroyItem(d)),m>=0&&f.enabled&&p.enabled&&(p.seriesIndex=m,u.bubbleLegend=new BubbleLegendItem(p,u),u.bubbleLegend.addToLegend(h.allItems))}function l(){var h=this,u=h.chart,d=h.visible,f=h.chart.legend,p;f&&f.bubbleLegend&&(h.visible=!d,h.ignoreSeries=d,p=o(u)>=0,f.bubbleLegend.visible!==p&&(f.update({bubbleLegend:{enabled:p}}),f.bubbleLegend.visible=p),h.visible=d)}function c(h,u){var d=h.allItems,f=h.options.rtl,p,m,g,v=0;d.forEach(function(_,y){p=_.legendGroup.translateX,m=_._legendItemPos[1],g=_.movementX,(g||f&&_.ranges)&&(g=f?p-_.options.maxSize/2:p+g,_.legendGroup.attr({translateX:g})),y>u[v].step&&v++,_.legendGroup.attr({translateY:Math.round(m+u[v].height/2)}),_._legendItemPos[1]=m+u[v].height/2})}})(BubbleLegendComposition||(BubbleLegendComposition={}));const BubbleLegendComposition$1=BubbleLegendComposition;var __extends$1T=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ScatterPoint$2=SeriesRegistry$1.seriesTypes.scatter.prototype.pointClass,extend$G=Utilities.extend,BubblePoint=function(n){__extends$1T(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t}return i.prototype.haloPath=function(t){return Point$5.prototype.haloPath.call(this,t===0?0:(this.marker&&this.marker.radius||0)+t)},i}(ScatterPoint$2);extend$G(BubblePoint.prototype,{ttBelow:!1});var __extends$1S=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),color$9=Color.parse,noop$8=H.noop,_a$b=SeriesRegistry$1.seriesTypes,ColumnSeries$b=_a$b.column,ScatterSeries$3=_a$b.scatter,arrayMax$2=Utilities.arrayMax,arrayMin$2=Utilities.arrayMin,clamp$9=Utilities.clamp,extend$F=Utilities.extend,isNumber$g=Utilities.isNumber,merge$x=Utilities.merge,pick$C=Utilities.pick,pInt$2=Utilities.pInt,BubbleSeries$2=function(n){__extends$1S(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.data=void 0,t.maxPxSize=void 0,t.minPxSize=void 0,t.options=void 0,t.points=void 0,t.radii=void 0,t.yData=void 0,t.zData=void 0,t}return i.prototype.animate=function(t){!t&&this.points.length<this.options.animationLimit&&this.points.forEach(function(r){var o=r.graphic;o&&o.width&&(this.hasRendered||o.attr({x:r.plotX,y:r.plotY,width:1,height:1}),o.animate(this.markerAttribs(r),this.options.animation))},this)},i.prototype.getRadii=function(t,r,o){var a,s,l=this.zData,c=this.yData,h=o.minPxSize,u=o.maxPxSize,d=[],f;for(s=0,a=l.length;s<a;s++)f=l[s],d.push(this.getRadius(t,r,h,u,f,c[s]));this.radii=d},i.prototype.getRadius=function(t,r,o,a,s,l){var c=this.options,h=c.sizeBy!=="width",u=c.zThreshold,d=r-t,f=.5;if(l===null||s===null)return null;if(isNumber$g(s)){if(c.sizeByAbsoluteValue&&(s=Math.abs(s-u),r=d=Math.max(r-u,Math.abs(t-u)),t=0),s<t)return o/2-1;d>0&&(f=(s-t)/d)}return h&&f>=0&&(f=Math.sqrt(f)),Math.ceil(o+f*(a-o))/2},i.prototype.hasData=function(){return!!this.processedXData.length},i.prototype.pointAttribs=function(t,r){var o=this.options.marker,a=o.fillOpacity,s=Series$e.prototype.pointAttribs.call(this,t,r);return a!==1&&(s.fill=color$9(s.fill).setOpacity(a).get("rgba")),s},i.prototype.translate=function(){var t,r=this.data,o,a,s=this.radii;for(n.prototype.translate.call(this),t=r.length;t--;)o=r[t],a=s?s[t]:0,isNumber$g(a)&&a>=this.minPxSize/2?(o.marker=extend$F(o.marker,{radius:a,width:2*a,height:2*a}),o.dlBox={x:o.plotX-a,y:o.plotY-a,width:2*a,height:2*a}):o.shapeArgs=o.plotY=o.dlBox=void 0},i.compose=BubbleLegendComposition$1.compose,i.defaultOptions=merge$x(ScatterSeries$3.defaultOptions,{dataLabels:{formatter:function(){var t=this.series.chart.numberFormatter,r=this.point.z;return isNumber$g(r)?t(r,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),i}(ScatterSeries$3);extend$F(BubbleSeries$2.prototype,{alignDataLabel:ColumnSeries$b.prototype.alignDataLabel,applyZones:noop$8,bubblePadding:!0,buildKDTree:noop$8,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:BubblePoint,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"});Axis.prototype.beforePadding=function(){var n=this,i=this.len,t=this.chart,r=0,o=i,a=this.isXAxis,s=a?"xData":"yData",l=this.min,c={},h=Math.min(t.plotWidth,t.plotHeight),u=Number.MAX_VALUE,d=-Number.MAX_VALUE,f=this.max-l,p=i/f,m=[];this.series.forEach(function(g){var v=g.options,_;g.bubblePadding&&(g.visible||!t.options.chart.ignoreHiddenSeries)&&(n.allowZoomOutside=!0,m.push(g),a&&(["minSize","maxSize"].forEach(function(y){var b=v[y],x=/%$/.test(b);b=pInt$2(b),c[y]=x?h*b/100:b}),g.minPxSize=c.minSize,g.maxPxSize=Math.max(c.maxSize,c.minSize),_=g.zData.filter(isNumber$g),_.length&&(u=pick$C(v.zMin,clamp$9(arrayMin$2(_),v.displayNegative===!1?v.zThreshold:-Number.MAX_VALUE,u)),d=pick$C(v.zMax,Math.max(d,arrayMax$2(_))))))}),m.forEach(function(g){var v=g[s],_=v.length,y;if(a&&g.getRadii(u,d,g),f>0)for(;_--;)isNumber$g(v[_])&&n.dataMin<=v[_]&&v[_]<=n.max&&(y=g.radii?g.radii[_]:0,r=Math.min((v[_]-l)*p-y,r),o=Math.max((v[_]-l)*p+y,o))}),m.length&&f>0&&!this.logarithmic&&(o-=i,p*=(i+Math.max(0,r)-Math.min(o,i))/i,[["min","userMin",r],["max","userMax",o]].forEach(function(g){typeof pick$C(n.options[g[0]],n[g[1]])>"u"&&(n[g[0]]+=g[2]/p)}))};SeriesRegistry$1.registerSeriesType("bubble",BubbleSeries$2);var __extends$1R=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_a$a=SeriesRegistry$1.seriesTypes,ColumnPoint=_a$a.column.prototype.pointClass,AreaRangePoint=_a$a.arearange.prototype.pointClass,extend$E=Utilities.extend,isNumber$f=Utilities.isNumber,ColumnRangePoint=function(n){__extends$1R(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.series=void 0,t.options=void 0,t.barX=void 0,t.pointWidth=void 0,t.shapeType=void 0,t}return i.prototype.isValid=function(){return isNumber$f(this.low)},i}(AreaRangePoint);extend$E(ColumnRangePoint.prototype,{setState:ColumnPoint.prototype.setState});var __extends$1Q=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),noop$7=H.noop,_a$9=SeriesRegistry$1.seriesTypes,AreaRangeSeries$1=_a$9.arearange,ColumnSeries$a=_a$9.column,columnProto$3=ColumnSeries$a.prototype,arearangeProto$1=AreaRangeSeries$1.prototype,clamp$8=Utilities.clamp,merge$w=Utilities.merge,pick$B=Utilities.pick,extend$D=Utilities.extend,columnRangeOptions={pointRange:null,marker:null,states:{hover:{halo:!1}}},ColumnRangeSeries=function(n){__extends$1Q(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.data=void 0,t.points=void 0,t.options=void 0,t}return i.prototype.setOptions=function(){return merge$w(!0,arguments[0],{stacking:void 0}),arearangeProto$1.setOptions.apply(this,arguments)},i.prototype.translate=function(){var t=this,r=t.yAxis,o=t.xAxis,a=o.startAngleRad,s,l=t.chart,c=t.xAxis.isRadial,h=Math.max(l.chartWidth,l.chartHeight)+999,u;function d(f){return clamp$8(f,-h,h)}columnProto$3.translate.apply(t),t.points.forEach(function(f){var p=f.shapeArgs||{},m=t.options.minPointLength,g,v,_;if(f.plotHigh=u=d(r.translate(f.high,0,1,0,1)),f.plotLow=d(f.plotY),_=u,v=pick$B(f.rectPlotY,f.plotY)-u,Math.abs(v)<m?(g=m-v,v+=g,_-=g/2):v<0&&(v*=-1,_-=v),c)s=f.barX+a,f.shapeType="arc",f.shapeArgs=t.polarArc(_+v,_,s,s+f.pointWidth);else{p.height=v,p.y=_;var y=p.x,b=y===void 0?0:y,x=p.width,E=x===void 0?0:x;f.tooltipPos=l.inverted?[r.len+r.pos-l.plotLeft-_-v/2,o.len+o.pos-l.plotTop-b-E/2,v]:[o.left-l.plotLeft+b+E/2,r.pos-l.plotTop+_+v/2,v]}})},i.prototype.crispCol=function(){return columnProto$3.crispCol.apply(this,arguments)},i.prototype.drawPoints=function(){return columnProto$3.drawPoints.apply(this,arguments)},i.prototype.drawTracker=function(){return columnProto$3.drawTracker.apply(this,arguments)},i.prototype.getColumnMetrics=function(){return columnProto$3.getColumnMetrics.apply(this,arguments)},i.prototype.pointAttribs=function(){return columnProto$3.pointAttribs.apply(this,arguments)},i.prototype.adjustForMissingColumns=function(){return columnProto$3.adjustForMissingColumns.apply(this,arguments)},i.prototype.animate=function(){return columnProto$3.animate.apply(this,arguments)},i.prototype.translate3dPoints=function(){return columnProto$3.translate3dPoints.apply(this,arguments)},i.prototype.translate3dShapes=function(){return columnProto$3.translate3dShapes.apply(this,arguments)},i.defaultOptions=merge$w(ColumnSeries$a.defaultOptions,AreaRangeSeries$1.defaultOptions,columnRangeOptions),i}(AreaRangeSeries$1);extend$D(ColumnRangeSeries.prototype,{directTouch:!0,trackerGroups:["group","dataLabelsGroup"],drawGraph:noop$7,getSymbol:noop$7,polarArc:function(){return columnProto$3.polarArc.apply(this,arguments)},pointClass:ColumnRangePoint});SeriesRegistry$1.registerSeriesType("columnrange",ColumnRangeSeries);var __extends$1P=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),colProto=ColumnSeries$h.prototype,clamp$7=Utilities.clamp,merge$v=Utilities.merge,pick$A=Utilities.pick,ColumnPyramidSeries=function(n){__extends$1P(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return i.prototype.translate=function(){var t=this,r=t.chart,o=t.options,a=t.dense=t.closestPointRange*t.xAxis.transA<2,s=t.borderWidth=pick$A(o.borderWidth,a?0:1),l=t.yAxis,c=o.threshold,h=t.translatedThreshold=l.getThreshold(c),u=pick$A(o.minPointLength,5),d=t.getColumnMetrics(),f=d.width,p=t.barW=Math.max(f,1+2*s),m=t.pointXOffset=d.offset;r.inverted&&(h-=.5),o.pointPadding&&(p=Math.ceil(p)),colProto.translate.apply(t),t.points.forEach(function(g){var v=pick$A(g.yBottom,h),_=999+Math.abs(v),y=clamp$7(g.plotY,-_,l.len+_),b=g.plotX+m,x=p/2,E=Math.min(y,v),C=Math.max(y,v)-E,$,S,P,T,k,L,N,z,B,U,D,M;g.barX=b,g.pointWidth=f,g.tooltipPos=r.inverted?[l.len+l.pos-r.plotLeft-y,t.xAxis.len-b-x,C]:[b+x,y+l.pos-r.plotTop,C],$=c+(g.total||g.y),o.stacking==="percent"&&($=c+(g.y<0)?-100:100),P=l.toPixels($,!0),S=r.plotHeight-P-(r.plotHeight-h),T=S?x*(E-P)/S:0,k=S?x*(E+C-P)/S:0,N=b-T+x,z=b+T+x,B=b+k+x,U=b-k+x,D=E-u,M=E+C,g.y<0&&(D=E,M=E+C+u),r.inverted&&(L=r.plotWidth-E,S=P-(r.plotWidth-h),T=x*(P-L)/S,k=x*(P-(L-C))/S,N=b+x+T,z=N-2*T,B=b-k+x,U=b+k+x,D=E,M=E+C-u,g.y<0&&(M=E+C+u)),g.shapeType="path",g.shapeArgs={x:N,y:D,width:z-N,height:C,d:[["M",N,D],["L",z,D],["L",B,M],["L",U,M],["Z"]]}})},i.defaultOptions=merge$v(ColumnSeries$h.defaultOptions,{}),i}(ColumnSeries$h);SeriesRegistry$1.registerSeriesType("columnpyramid",ColumnPyramidSeries);var __extends$1O=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),AreaRangeSeries=SeriesRegistry$1.seriesTypes.arearange,merge$u=Utilities.merge,extend$C=Utilities.extend,ErrorBarSeries=function(n){__extends$1O(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return i.prototype.getColumnMetrics=function(){return this.linkedParent&&this.linkedParent.columnMetrics||ColumnSeries$h.prototype.getColumnMetrics.call(this)},i.prototype.drawDataLabels=function(){var t=this.pointValKey;AreaRangeSeries&&(AreaRangeSeries.prototype.drawDataLabels.call(this),this.data.forEach(function(r){r.y=r[t]}))},i.prototype.toYData=function(t){return[t.low,t.high]},i.defaultOptions=merge$u(BoxPlotSeries.defaultOptions,{color:palette.neutralColor100,grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}),i}(BoxPlotSeries);extend$C(ErrorBarSeries.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1});SeriesRegistry$1.registerSeriesType("errorbar",ErrorBarSeries);var __extends$1N=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Point$4=SeriesRegistry$1.series.prototype.pointClass,GaugePoint=function(n){__extends$1N(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t.shapeArgs=void 0,t}return i.prototype.setState=function(t){this.state=t},i}(Point$4),__extends$1M=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),noop$6=H.noop,Series$a=SeriesRegistry$1.series,ColumnSeries$9=SeriesRegistry$1.seriesTypes.column,clamp$6=Utilities.clamp,isNumber$e=Utilities.isNumber,extend$B=Utilities.extend,merge$t=Utilities.merge,pick$z=Utilities.pick,pInt$1=Utilities.pInt,GaugeSeries$1=function(n){__extends$1M(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.data=void 0,t.points=void 0,t.options=void 0,t.yAxis=void 0,t}return i.prototype.translate=function(){var t=this,r=t.yAxis,o=t.options,a=r.center;t.generatePoints(),t.points.forEach(function(s){var l=merge$t(o.dial,s.dial),c=pInt$1(pick$z(l.radius,"80%"))*a[2]/200,h=pInt$1(pick$z(l.baseLength,"70%"))*c/100,u=pInt$1(pick$z(l.rearLength,"10%"))*c/100,d=l.baseWidth||3,f=l.topWidth||1,p=o.overshoot,m=r.startAngleRad+r.translate(s.y,null,null,null,!0);(isNumber$e(p)||o.wrap===!1)&&(p=isNumber$e(p)?p/180*Math.PI:0,m=clamp$6(m,r.startAngleRad-p,r.endAngleRad+p)),m=m*180/Math.PI,s.shapeType="path";var g=l.path||[["M",-u,-d/2],["L",h,-d/2],["L",c,-f/2],["L",c,f/2],["L",h,d/2],["L",-u,d/2],["Z"]];s.shapeArgs={d:g,translateX:a[0],translateY:a[1],rotation:m},s.plotX=a[0],s.plotY=a[1]})},i.prototype.drawPoints=function(){var t=this,r=t.chart,o=t.yAxis.center,a=t.pivot,s=t.options,l=s.pivot,c=r.renderer;t.points.forEach(function(h){var u=h.graphic,d=h.shapeArgs,f=d.d,p=merge$t(s.dial,h.dial);u?(u.animate(d),d.d=f):h.graphic=c[h.shapeType](d).attr({rotation:d.rotation,zIndex:1}).addClass("highcharts-dial").add(t.group),r.styledMode||h.graphic[u?"animate":"attr"]({stroke:p.borderColor||"none","stroke-width":p.borderWidth||0,fill:p.backgroundColor||palette.neutralColor100})}),a?a.animate({translateX:o[0],translateY:o[1]}):(t.pivot=c.circle(0,0,pick$z(l.radius,5)).attr({zIndex:2}).addClass("highcharts-pivot").translate(o[0],o[1]).add(t.group),r.styledMode||t.pivot.attr({"stroke-width":l.borderWidth||0,stroke:l.borderColor||palette.neutralColor20,fill:l.backgroundColor||palette.neutralColor100}))},i.prototype.animate=function(t){var r=this;t||r.points.forEach(function(o){var a=o.graphic;a&&(a.attr({rotation:r.yAxis.startAngleRad*180/Math.PI}),a.animate({rotation:o.shapeArgs.rotation},r.options.animation))})},i.prototype.render=function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),Series$a.prototype.render.call(this),this.group.clip(this.chart.clipRect)},i.prototype.setData=function(t,r){Series$a.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),pick$z(r,!0)&&this.chart.redraw()},i.prototype.hasData=function(){return!!this.points.length},i.defaultOptions=merge$t(Series$a.defaultOptions,{dataLabels:{borderColor:palette.neutralColor20,borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1}),i}(Series$a);extend$B(GaugeSeries$1.prototype,{angular:!0,directTouch:!0,drawGraph:noop$6,drawTracker:ColumnSeries$9.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:GaugePoint,trackerGroups:["group","dataLabelsGroup"]});SeriesRegistry$1.registerSeriesType("gauge",GaugeSeries$1);var __extends$1L=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),BubbleSeries$1=SeriesRegistry$1.seriesTypes.bubble,PackedBubblePoint=function(n){__extends$1L(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.degree=NaN,t.mass=NaN,t.radius=NaN,t.options=void 0,t.series=void 0,t.value=null,t}return i.prototype.destroy=function(){return this.series.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),Point$5.prototype.destroy.apply(this,arguments)},i.prototype.firePointEvent=function(){var t=this.series,r=t.options;if(this.isParentNode&&r.parentNode){var o=r.allowPointSelect;r.allowPointSelect=r.parentNode.allowPointSelect,Point$5.prototype.firePointEvent.apply(this,arguments),r.allowPointSelect=o}else Point$5.prototype.firePointEvent.apply(this,arguments)},i.prototype.select=function(){var t=this,r=this.series,o=r.chart;t.isParentNode?(o.getSelectedPoints=o.getSelectedParentNodes,Point$5.prototype.select.apply(this,arguments),o.getSelectedPoints=Chart$1.prototype.getSelectedPoints):Point$5.prototype.select.apply(this,arguments)},i}(BubbleSeries$1.prototype.pointClass),addEvent$n=Utilities.addEvent;H.dragNodesMixin={onMouseDown:function(n,i){var t=this.chart.pointer.normalize(i);n.fixedPosition={chartX:t.chartX,chartY:t.chartY,plotX:n.plotX,plotY:n.plotY},n.inDragMode=!0},onMouseMove:function(n,i){if(n.fixedPosition&&n.inDragMode){var t=this,r=t.chart,o=r.pointer.normalize(i),a=n.fixedPosition.chartX-o.chartX,s=n.fixedPosition.chartY-o.chartY,l=void 0,c=void 0,h=r.graphLayoutsLookup;(Math.abs(a)>5||Math.abs(s)>5)&&(l=n.fixedPosition.plotX-a,c=n.fixedPosition.plotY-s,r.isInsidePlot(l,c)&&(n.plotX=l,n.plotY=c,n.hasDragged=!0,this.redrawHalo(n),h.forEach(function(u){u.restartSimulation()})))}},onMouseUp:function(n,i){n.fixedPosition&&(n.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),n.inDragMode=n.hasDragged=!1,this.options.fixedDraggable||delete n.fixedPosition)},redrawHalo:function(n){n&&this.halo&&this.halo.attr({d:n.haloPath(this.options.states.hover.halo.size)})}};addEvent$n(Chart$1,"load",function(){var n=this,i,t,r;n.container&&(i=addEvent$n(n.container,"mousedown",function(o){var a=n.hoverPoint;a&&a.series&&a.series.hasDraggableNodes&&a.series.options.draggable&&(a.series.onMouseDown(a,o),t=addEvent$n(n.container,"mousemove",function(s){return a&&a.series&&a.series.onMouseMove(a,s)}),r=addEvent$n(n.container.ownerDocument,"mouseup",function(s){return t(),r(),a&&a.series&&a.series.onMouseUp(a,s)}))})),addEvent$n(n,"destroy",function(){i()})});H.networkgraphIntegrations={verlet:{attractiveForceFunction:function(n,i){return(i-n)/n},repulsiveForceFunction:function(n,i){return(i-n)/n*(i>n?1:0)},barycenter:function(){var n=this.options.gravitationalConstant,i=this.barycenter.xFactor,t=this.barycenter.yFactor;i=(i-(this.box.left+this.box.width)/2)*n,t=(t-(this.box.top+this.box.height)/2)*n,this.nodes.forEach(function(r){r.fixedPosition||(r.plotX-=i/r.mass/r.degree,r.plotY-=t/r.mass/r.degree)})},repulsive:function(n,i,t){var r=i*this.diffTemperature/n.mass/n.degree;n.fixedPosition||(n.plotX+=t.x*r,n.plotY+=t.y*r)},attractive:function(n,i,t){var r=n.getMass(),o=-t.x*i*this.diffTemperature,a=-t.y*i*this.diffTemperature;n.fromNode.fixedPosition||(n.fromNode.plotX-=o*r.fromNode/n.fromNode.degree,n.fromNode.plotY-=a*r.fromNode/n.fromNode.degree),n.toNode.fixedPosition||(n.toNode.plotX+=o*r.toNode/n.toNode.degree,n.toNode.plotY+=a*r.toNode/n.toNode.degree)},integrate:function(n,i){var t=-n.options.friction,r=n.options.maxSpeed,o=i.prevX,a=i.prevY,s=(i.plotX+i.dispX-o)*t,l=(i.plotY+i.dispY-a)*t,c=Math.abs,h=c(s)/(s||1),u=c(l)/(l||1);s=h*Math.min(r,Math.abs(s)),l=u*Math.min(r,Math.abs(l)),i.prevX=i.plotX+i.dispX,i.prevY=i.plotY+i.dispY,i.plotX+=s,i.plotY+=l,i.temperature=n.vectorLength({x:s,y:l})},getK:function(n){return Math.pow(n.box.width*n.box.height/n.nodes.length,.5)}},euler:{attractiveForceFunction:function(n,i){return n*n/i},repulsiveForceFunction:function(n,i){return i*i/n},barycenter:function(){var n=this.options.gravitationalConstant,i=this.barycenter.xFactor,t=this.barycenter.yFactor;this.nodes.forEach(function(r){if(!r.fixedPosition){var o=r.getDegree(),a=o*(1+o/2);r.dispX+=(i-r.plotX)*n*a/r.degree,r.dispY+=(t-r.plotY)*n*a/r.degree}})},repulsive:function(n,i,t,r){n.dispX+=t.x/r*i/n.degree,n.dispY+=t.y/r*i/n.degree},attractive:function(n,i,t,r){var o=n.getMass(),a=t.x/r*i,s=t.y/r*i;n.fromNode.fixedPosition||(n.fromNode.dispX-=a*o.fromNode/n.fromNode.degree,n.fromNode.dispY-=s*o.fromNode/n.fromNode.degree),n.toNode.fixedPosition||(n.toNode.dispX+=a*o.toNode/n.toNode.degree,n.toNode.dispY+=s*o.toNode/n.toNode.degree)},integrate:function(n,i){var t;i.dispX+=i.dispX*n.options.friction,i.dispY+=i.dispY*n.options.friction,t=i.temperature=n.vectorLength({x:i.dispX,y:i.dispY}),t!==0&&(i.plotX+=i.dispX/t*Math.min(Math.abs(i.dispX),n.temperature),i.plotY+=i.dispY/t*Math.min(Math.abs(i.dispY),n.temperature))},getK:function(n){return Math.pow(n.box.width*n.box.height/n.nodes.length,.3)}}};var extend$A=Utilities.extend,QuadTreeNode=H.QuadTreeNode=function(n){this.box=n,this.boxSize=Math.min(n.width,n.height),this.nodes=[],this.isInternal=!1,this.body=!1,this.isEmpty=!0};extend$A(QuadTreeNode.prototype,{insert:function(n,i){var t;this.isInternal?this.nodes[this.getBoxPosition(n)].insert(n,i-1):(this.isEmpty=!1,this.body?i?(this.isInternal=!0,this.divideBox(),this.body!==!0&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,i-1),this.body=!0),this.nodes[this.getBoxPosition(n)].insert(n,i-1)):(t=new QuadTreeNode({top:n.plotX,left:n.plotY,width:.1,height:.1}),t.body=n,t.isInternal=!1,this.nodes.push(t)):(this.isInternal=!1,this.body=n))},updateMassAndCenter:function(){var n=0,i=0,t=0;this.isInternal?(this.nodes.forEach(function(r){r.isEmpty||(n+=r.mass,i+=r.plotX*r.mass,t+=r.plotY*r.mass)}),i/=n,t/=n):this.body&&(n=this.body.mass,i=this.body.plotX,t=this.body.plotY),this.mass=n,this.plotX=i,this.plotY=t},divideBox:function(){var n=this.box.width/2,i=this.box.height/2;this.nodes[0]=new QuadTreeNode({left:this.box.left,top:this.box.top,width:n,height:i}),this.nodes[1]=new QuadTreeNode({left:this.box.left+n,top:this.box.top,width:n,height:i}),this.nodes[2]=new QuadTreeNode({left:this.box.left+n,top:this.box.top+i,width:n,height:i}),this.nodes[3]=new QuadTreeNode({left:this.box.left,top:this.box.top+i,width:n,height:i})},getBoxPosition:function(n){var i=n.plotX<this.box.left+this.box.width/2,t=n.plotY<this.box.top+this.box.height/2,r;return i?t?r=0:r=3:t?r=1:r=2,r}});var QuadTree=H.QuadTree=function(n,i,t,r){this.box={left:n,top:i,width:t,height:r},this.maxDepth=25,this.root=new QuadTreeNode(this.box,"0"),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()};extend$A(QuadTree.prototype,{insertNodes:function(n){n.forEach(function(i){this.root.insert(i,this.maxDepth)},this)},visitNodeRecursive:function(n,i,t){var r;n||(n=this.root),n===this.root&&i&&(r=i(n)),r!==!1&&(n.nodes.forEach(function(o){if(o.isInternal){if(i&&(r=i(o)),r===!1)return;this.visitNodeRecursive(o,i,t)}else o.body&&i&&i(o.body);t&&t(o)},this),n===this.root&&t&&t(n))},calculateMassAndCenter:function(){this.visitNodeRecursive(null,null,function(n){n.updateMassAndCenter()})}});var setAnimation=animationExports.setAnimation,addEvent$m=Utilities.addEvent,clamp$5=Utilities.clamp,defined$e=Utilities.defined,extend$z=Utilities.extend,isFunction=Utilities.isFunction,pick$y=Utilities.pick;H.layouts={"reingold-fruchterman":function(){}};extend$z(H.layouts["reingold-fruchterman"].prototype,{init:function(n){this.options=n,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=H.networkgraphIntegrations[n.integration],this.enableSimulation=n.enableSimulation,this.attractiveForce=pick$y(n.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=pick$y(n.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=n.approximation},updateSimulation:function(n){this.enableSimulation=pick$y(n,this.options.enableSimulation)},start:function(){var n=this,i=this.series,t=this.options;n.currentStep=0,n.forces=i[0]&&i[0].forces||[],n.chart=i[0]&&i[0].chart,n.initialRendering&&(n.initPositions(),i.forEach(function(r){r.finishedAnimating=!0,r.render()})),n.setK(),n.resetSimulation(t),n.enableSimulation&&n.step()},step:function(){var n=this,i=this.series;this.options,n.currentStep++,n.approximation==="barnes-hut"&&(n.createQuadTree(),n.quadTree.calculateMassAndCenter()),n.forces.forEach(function(t){n[t+"Forces"](n.temperature)}),n.applyLimits(n.temperature),n.temperature=n.coolDown(n.startTemperature,n.diffTemperature,n.currentStep),n.prevSystemTemperature=n.systemTemperature,n.systemTemperature=n.getSystemTemperature(),n.enableSimulation&&(i.forEach(function(t){t.chart&&t.render()}),n.maxIterations--&&isFinite(n.temperature)&&!n.isStable()?(n.simulation&&H.win.cancelAnimationFrame(n.simulation),n.simulation=H.win.requestAnimationFrame(function(){n.step()})):n.simulation=!1)},stop:function(){this.simulation&&H.win.cancelAnimationFrame(this.simulation)},setArea:function(n,i,t,r){this.box={left:n,top:i,width:t,height:r}},setK:function(){this.k=this.options.linkLength||this.integration.getK(this)},addElementsToCollection:function(n,i){n.forEach(function(t){i.indexOf(t)===-1&&i.push(t)})},removeElementFromCollection:function(n,i){var t=i.indexOf(n);t!==-1&&i.splice(t,1)},clear:function(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()},resetSimulation:function(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()},restartSimulation:function(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))},setMaxIterations:function(n){this.maxIterations=pick$y(n,this.options.maxIterations)},setTemperature:function(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)},setDiffTemperature:function(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)},setInitialRendering:function(n){this.initialRendering=n},createQuadTree:function(){this.quadTree=new H.QuadTree(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)},initPositions:function(){var n=this.options.initialPositions;isFunction(n)?(n.call(this),this.nodes.forEach(function(i){defined$e(i.prevX)||(i.prevX=i.plotX),defined$e(i.prevY)||(i.prevY=i.plotY),i.dispX=0,i.dispY=0})):n==="circle"?this.setCircularPositions():this.setRandomPositions()},setCircularPositions:function(){var n=this.box,i=this.nodes,t=i.length+1,r=2*Math.PI/t,o=i.filter(function(h){return h.linksTo.length===0}),a=[],s={},l=this.options.initialPositionRadius;function c(h){h.linksFrom.forEach(function(u){s[u.toNode.id]||(s[u.toNode.id]=!0,a.push(u.toNode),c(u.toNode))})}o.forEach(function(h){a.push(h),c(h)}),a.length?i.forEach(function(h){a.indexOf(h)===-1&&a.push(h)}):a=i,a.forEach(function(h,u){h.plotX=h.prevX=pick$y(h.plotX,n.width/2+l*Math.cos(u*r)),h.plotY=h.prevY=pick$y(h.plotY,n.height/2+l*Math.sin(u*r)),h.dispX=0,h.dispY=0})},setRandomPositions:function(){var n=this.box,i=this.nodes,t=i.length+1;function r(o){var a=o*o/Math.PI;return a=a-Math.floor(a),a}i.forEach(function(o,a){o.plotX=o.prevX=pick$y(o.plotX,n.width*r(a)),o.plotY=o.prevY=pick$y(o.plotY,n.height*r(t+a)),o.dispX=0,o.dispY=0})},force:function(n){this.integration[n].apply(this,Array.prototype.slice.call(arguments,1))},barycenterForces:function(){this.getBarycenter(),this.force("barycenter")},getBarycenter:function(){var n=0,i=0,t=0;return this.nodes.forEach(function(r){i+=r.plotX*r.mass,t+=r.plotY*r.mass,n+=r.mass}),this.barycenter={x:i,y:t,xFactor:i/n,yFactor:t/n},this.barycenter},barnesHutApproximation:function(n,i){var t=this,r=t.getDistXY(n,i),o=t.vectorLength(r),a,s;return n!==i&&o!==0&&(i.isInternal?i.boxSize/o<t.options.theta&&o!==0?(s=t.repulsiveForce(o,t.k),t.force("repulsive",n,s*i.mass,r,o),a=!1):a=!0:(s=t.repulsiveForce(o,t.k),t.force("repulsive",n,s*i.mass,r,o))),a},repulsiveForces:function(){var n=this;n.approximation==="barnes-hut"?n.nodes.forEach(function(i){n.quadTree.visitNodeRecursive(null,function(t){return n.barnesHutApproximation(i,t)})}):n.nodes.forEach(function(i){n.nodes.forEach(function(t){var r,o,a;i!==t&&!i.fixedPosition&&(a=n.getDistXY(i,t),o=n.vectorLength(a),o!==0&&(r=n.repulsiveForce(o,n.k),n.force("repulsive",i,r*t.mass,a,o)))})})},attractiveForces:function(){var n=this,i,t,r;n.links.forEach(function(o){o.fromNode&&o.toNode&&(i=n.getDistXY(o.fromNode,o.toNode),t=n.vectorLength(i),t!==0&&(r=n.attractiveForce(t,n.k),n.force("attractive",o,r,i,t)))})},applyLimits:function(){var n=this,i=n.nodes;i.forEach(function(t){t.fixedPosition||(n.integration.integrate(n,t),n.applyLimitBox(t,n.box),t.dispX=0,t.dispY=0)})},applyLimitBox:function(n,i){var t=n.radius;n.plotX=clamp$5(n.plotX,i.left+t,i.width-t),n.plotY=clamp$5(n.plotY,i.top+t,i.height-t)},coolDown:function(n,i,t){return n-i*t},isStable:function(){return Math.abs(this.systemTemperature-this.prevSystemTemperature)<1e-5||this.temperature<=0},getSystemTemperature:function(){return this.nodes.reduce(function(n,i){return n+i.temperature},0)},vectorLength:function(n){return Math.sqrt(n.x*n.x+n.y*n.y)},getDistR:function(n,i){var t=this.getDistXY(n,i);return this.vectorLength(t)},getDistXY:function(n,i){var t=n.plotX-i.plotX,r=n.plotY-i.plotY;return{x:t,y:r,absX:Math.abs(t),absY:Math.abs(r)}}});addEvent$m(Chart$1,"predraw",function(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(function(n){n.stop()})});addEvent$m(Chart$1,"render",function(){var n,i=!1;function t(r){r.maxIterations--&&isFinite(r.temperature)&&!r.isStable()&&!r.enableSimulation&&(r.beforeStep&&r.beforeStep(),r.step(),n=!1,i=!0)}if(this.graphLayoutsLookup){for(setAnimation(!1,this),this.graphLayoutsLookup.forEach(function(r){r.start()});!n;)n=!0,this.graphLayoutsLookup.forEach(t);i&&this.series.forEach(function(r){r&&r.layout&&r.render()})}});addEvent$m(Chart$1,"beforePrint",function(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(function(n){n.updateSimulation(!1)}),this.redraw())});addEvent$m(Chart$1,"afterPrint",function(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(function(n){n.updateSimulation()}),this.redraw()});var Reingold=H.layouts["reingold-fruchterman"],addEvent$l=Utilities.addEvent,extendClass=Utilities.extendClass,pick$x=Utilities.pick;Chart$1.prototype.getSelectedParentNodes=function(){var n=this,i=n.series,t=[];return i.forEach(function(r){r.parentNode&&r.parentNode.selected&&t.push(r.parentNode)}),t};H.networkgraphIntegrations.packedbubble={repulsiveForceFunction:function(n,i,t,r){return Math.min(n,(t.marker.radius+r.marker.radius)/2)},barycenter:function(){var n=this,i=n.options.gravitationalConstant,t=n.box,r=n.nodes,o,a;r.forEach(function(s){n.options.splitSeries&&!s.isParentNode?(o=s.series.parentNode.plotX,a=s.series.parentNode.plotY):(o=t.width/2,a=t.height/2),s.fixedPosition||(s.plotX-=(s.plotX-o)*i/(s.mass*Math.sqrt(r.length)),s.plotY-=(s.plotY-a)*i/(s.mass*Math.sqrt(r.length)))})},repulsive:function(n,i,t,r){var o=i*this.diffTemperature/n.mass/n.degree,a=t.x*o,s=t.y*o;n.fixedPosition||(n.plotX+=a,n.plotY+=s),r.fixedPosition||(r.plotX-=a,r.plotY-=s)},integrate:H.networkgraphIntegrations.verlet.integrate,getK:H.noop};H.layouts.packedbubble=extendClass(Reingold,{beforeStep:function(){this.options.marker&&this.series.forEach(function(n){n&&n.calculateParentRadius()})},isStable:function(){var n=Math.abs(this.prevSystemTemperature-this.systemTemperature),i=10*this.systemTemperature/Math.sqrt(this.nodes.length);return Math.abs(i)<1&&n<1e-5||this.temperature<=0},setCircularPositions:function(){var n=this,i=n.box,t=n.nodes,r=t.length+1,o=2*Math.PI/r,a,s,l=n.options.initialPositionRadius;t.forEach(function(c,h){n.options.splitSeries&&!c.isParentNode?(a=c.series.parentNode.plotX,s=c.series.parentNode.plotY):(a=i.width/2,s=i.height/2),c.plotX=c.prevX=pick$x(c.plotX,a+l*Math.cos(c.index||h*o)),c.plotY=c.prevY=pick$x(c.plotY,s+l*Math.sin(c.index||h*o)),c.dispX=0,c.dispY=0})},repulsiveForces:function(){var n=this,i,t,r,o=n.options.bubblePadding;n.nodes.forEach(function(a){a.degree=a.mass,a.neighbours=0,n.nodes.forEach(function(s){i=0,a!==s&&!a.fixedPosition&&(n.options.seriesInteraction||a.series===s.series)&&(r=n.getDistXY(a,s),t=n.vectorLength(r)-(a.marker.radius+s.marker.radius+o),t<0&&(a.degree+=.01,a.neighbours++,i=n.repulsiveForce(-t/Math.sqrt(a.neighbours),n.k,a,s)),n.force("repulsive",a,i*s.mass,r,s,t))})})},applyLimitBox:function(n){var i=this,t,r,o=.01;i.options.splitSeries&&!n.isParentNode&&i.options.parentNodeLimit&&(t=i.getDistXY(n,n.series.parentNode),r=n.series.parentNodeRadius-n.marker.radius-i.vectorLength(t),r<0&&r>-2*n.marker.radius&&(n.plotX-=t.x*o,n.plotY-=t.y*o)),Reingold.prototype.applyLimitBox.apply(this,arguments)}});addEvent$l(Chart$1,"beforeRedraw",function(){this.allDataPoints&&delete this.allDataPoints});var __extends$1K=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),color$8=Color.parse,Series$9=SeriesRegistry$1.series,BubbleSeries=SeriesRegistry$1.seriesTypes.bubble,addEvent$k=Utilities.addEvent,clamp$4=Utilities.clamp,defined$d=Utilities.defined,extend$y=Utilities.extend,fireEvent$6=Utilities.fireEvent,isArray$4=Utilities.isArray,isNumber$d=Utilities.isNumber,merge$s=Utilities.merge,pick$w=Utilities.pick,dragNodesMixin=H.dragNodesMixin,PackedBubbleSeries=function(n){__extends$1K(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.chart=void 0,t.data=void 0,t.layout=void 0,t.options=void 0,t.points=void 0,t.xData=void 0,t}return i.prototype.accumulateAllPoints=function(t){var r=t.chart,o=[],a,s;for(a=0;a<r.series.length;a++)if(t=r.series[a],t.is("packedbubble")&&t.visible||!r.options.chart.ignoreHiddenSeries)for(s=0;s<t.yData.length;s++)o.push([null,null,t.yData[s],t.index,s,{id:s,marker:{radius:0}}]);return o},i.prototype.addLayout=function(){var t=this,r=t.options.layoutAlgorithm,o=t.chart.graphLayoutsStorage,a=t.chart.graphLayoutsLookup,s=t.chart.options.chart,l;o||(t.chart.graphLayoutsStorage=o={},t.chart.graphLayoutsLookup=a=[]),l=o[r.type],l||(r.enableSimulation=defined$d(s.forExport)?!s.forExport:r.enableSimulation,o[r.type]=l=new H.layouts[r.type],l.init(r),a.splice(l.index,0,l)),t.layout=l,t.points.forEach(function(c){c.mass=2,c.degree=1,c.collisionNmb=1}),l.setArea(0,0,t.chart.plotWidth,t.chart.plotHeight),l.addElementsToCollection([t],l.series),l.addElementsToCollection(t.points,l.nodes)},i.prototype.addSeriesLayout=function(){var t=this,r=t.options.layoutAlgorithm,o=t.chart.graphLayoutsStorage,a=t.chart.graphLayoutsLookup,s=merge$s(r,r.parentNodeOptions,{enableSimulation:t.layout.options.enableSimulation}),l;l=o[r.type+"-series"],l||(o[r.type+"-series"]=l=new H.layouts[r.type],l.init(s),a.splice(l.index,0,l)),t.parentNodeLayout=l,this.createParentNodes()},i.prototype.calculateParentRadius=function(){var t=this,r,o=20,a=20;r=t.seriesBox(),t.parentNodeRadius=clamp$4(Math.sqrt(2*t.parentNodeMass/Math.PI)+o,a,r?Math.max(Math.sqrt(Math.pow(r.width,2)+Math.pow(r.height,2))/2+o,a):Math.sqrt(2*t.parentNodeMass/Math.PI)+o),t.parentNode&&(t.parentNode.marker.radius=t.parentNode.radius=t.parentNodeRadius)},i.prototype.calculateZExtremes=function(){var t=this.chart,r=this.options.zMin,o=this.options.zMax,a=1/0,s=-1/0;return r&&o?[r,o]:(t.series.forEach(function(l){l.yData.forEach(function(c){defined$d(c)&&(c>s&&(s=c),c<a&&(a=c))})}),r=pick$w(r,a),o=pick$w(o,s),[r,o])},i.prototype.checkOverlap=function(t,r){var o=t[0]-r[0],a=t[1]-r[1],s=t[2]+r[2];return Math.sqrt(o*o+a*a)-Math.abs(s)<-.001},i.prototype.createParentNodes=function(){var t=this,r=t.chart,o=t.parentNodeLayout,a,s=t.parentNode,l=t.pointClass;t.parentNodeMass=0,t.points.forEach(function(c){t.parentNodeMass+=Math.PI*Math.pow(c.marker.radius,2)}),t.calculateParentRadius(),o.nodes.forEach(function(c){c.seriesIndex===t.index&&(a=!0)}),o.setArea(0,0,r.plotWidth,r.plotHeight),a||(s||(s=new l().init(this,{mass:t.parentNodeRadius/2,marker:{radius:t.parentNodeRadius},dataLabels:{inside:!1},dataLabelOnNull:!0,degree:t.parentNodeRadius,isParentNode:!0,seriesIndex:t.index})),t.parentNode&&(s.plotX=t.parentNode.plotX,s.plotY=t.parentNode.plotY),t.parentNode=s,o.addElementsToCollection([t],o.series),o.addElementsToCollection([s],o.nodes))},i.prototype.deferLayout=function(){var t=this,r=t.options.layoutAlgorithm;t.visible&&(t.addLayout(),r.splitSeries&&t.addSeriesLayout())},i.prototype.destroy=function(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach(function(t){t.removeElementFromCollection(this,t.series)},this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),Series$9.prototype.destroy.apply(this,arguments)},i.prototype.drawDataLabels=function(){var t=this.options.dataLabels.textPath,r=this.points;Series$9.prototype.drawDataLabels.apply(this,arguments),this.parentNode&&(this.parentNode.formatPrefix="parentNode",this.points=[this.parentNode],this.options.dataLabels.textPath=this.options.dataLabels.parentNodeTextPath,Series$9.prototype.drawDataLabels.apply(this,arguments),this.points=r,this.options.dataLabels.textPath=t)},i.prototype.drawGraph=function(){if(!(!this.layout||!this.layout.options.splitSeries)){var t=this,r=t.chart,o={},a=this.layout.options.parentNodeOptions.marker,s={fill:a.fillColor||color$8(t.color).brighten(.4).get(),opacity:a.fillOpacity,stroke:a.lineColor||t.color,"stroke-width":a.lineWidth};this.parentNodesGroup||(t.parentNodesGroup=t.plotGroup("parentNodesGroup","parentNode",t.visible?"inherit":"hidden",.1,r.seriesGroup),t.group.attr({zIndex:2})),this.calculateParentRadius(),o=merge$s({x:t.parentNode.plotX-t.parentNodeRadius,y:t.parentNode.plotY-t.parentNodeRadius,width:t.parentNodeRadius*2,height:t.parentNodeRadius*2},s),t.parentNode.graphic||(t.graph=t.parentNode.graphic=r.renderer.symbol(s.symbol).add(t.parentNodesGroup)),t.parentNode.graphic.attr(o)}},i.prototype.drawTracker=function(){var t=this,r=t.parentNode,o;n.prototype.drawTracker.call(this),r&&(o=isArray$4(r.dataLabels)?r.dataLabels:r.dataLabel?[r.dataLabel]:[],r.graphic&&(r.graphic.element.point=r),o.forEach(function(a){a.div?a.div.point=r:a.element.point=r}))},i.prototype.getPointRadius=function(){var t=this,r=t.chart,o=r.plotWidth,a=r.plotHeight,s=t.options,l=s.useSimulation,c=Math.min(o,a),h={},u=[],d=r.allDataPoints,f,p,m,g,v;["minSize","maxSize"].forEach(function(_){var y=parseInt(s[_],10),b=/%$/.test(s[_]);h[_]=b?c*y/100:y*Math.sqrt(d.length)}),r.minRadius=f=h.minSize/Math.sqrt(d.length),r.maxRadius=p=h.maxSize/Math.sqrt(d.length),v=l?t.calculateZExtremes():[f,p],(d||[]).forEach(function(_,y){m=l?clamp$4(_[2],v[0],v[1]):_[2],g=t.getRadius(v[0],v[1],f,p,m),g===0&&(g=null),d[y][2]=g,u.push(g)}),t.radii=u},i.prototype.init=function(){return Series$9.prototype.init.apply(this,arguments),this.eventsToUnbind.push(addEvent$k(this,"updatedData",function(){this.chart.series.forEach(function(t){t.type===this.type&&(t.isDirty=!0)},this)})),this},i.prototype.onMouseUp=function(t){if(t.fixedPosition&&!t.removed){var r,o,a=this.layout,s=this.parentNodeLayout;s&&a.options.dragBetweenSeries&&s.nodes.forEach(function(l){t&&t.marker&&l!==t.series.parentNode&&(r=a.getDistXY(t,l),o=a.vectorLength(r)-l.marker.radius-t.marker.radius,o<0&&(l.series.addPoint(merge$s(t.options,{plotX:t.plotX,plotY:t.plotY}),!1),a.removeElementFromCollection(t,a.nodes),t.remove()))}),dragNodesMixin.onMouseUp.apply(this,arguments)}},i.prototype.placeBubbles=function(t){var r=this,o=r.checkOverlap,a=r.positionBubble,s=[],l=1,c=0,h=0,u,d,f=[],p;if(d=t.sort(function(m,g){return g[2]-m[2]}),d.length){if(s.push([[0,0,d[0][2],d[0][3],d[0][4]]]),d.length>1)for(s.push([[0,0-d[1][2]-d[0][2],d[1][2],d[1][3],d[1][4]]]),p=2;p<d.length;p++)d[p][2]=d[p][2]||1,u=a(s[l][c],s[l-1][h],d[p]),o(u,s[l][0])?(s.push([]),h=0,s[l+1].push(a(s[l][c],s[l][0],d[p])),l++,c=0):l>1&&s[l-1][h+1]&&o(u,s[l-1][h+1])?(h++,s[l].push(a(s[l][c],s[l-1][h],d[p])),c++):(c++,s[l].push(u));r.chart.stages=s,r.chart.rawPositions=[].concat.apply([],s),r.resizeRadius(),f=r.chart.rawPositions}return f},i.prototype.positionBubble=function(t,r,o){var a=Math.sqrt,s=Math.asin,l=Math.acos,c=Math.pow,h=Math.abs,u=a(c(t[0]-r[0],2)+c(t[1]-r[1],2)),d=l((c(u,2)+c(o[2]+r[2],2)-c(o[2]+t[2],2))/(2*(o[2]+r[2])*u)),f=s(h(t[0]-r[0])/u),p=t[1]-r[1]<0?0:Math.PI,m=(t[0]-r[0])*(t[1]-r[1])<0?1:-1,g=p+d+f*m,v=Math.cos(g),_=Math.sin(g),y=r[0]+(r[2]+o[2])*_,b=r[1]-(r[2]+o[2])*v;return[y,b,o[2],o[3],o[4]]},i.prototype.render=function(){var t=this,r=[];Series$9.prototype.render.apply(this,arguments),t.options.dataLabels.allowOverlap||(t.data.forEach(function(o){isArray$4(o.dataLabels)&&o.dataLabels.forEach(function(a){r.push(a)})}),t.options.useSimulation&&t.chart.hideOverlappingLabels(r))},i.prototype.resizeRadius=function(){var t=this.chart,r=t.rawPositions,o=Math.min,a=Math.max,s=t.plotLeft,l=t.plotTop,c=t.plotHeight,h=t.plotWidth,u,d,f,p,m,g,v,_,y;for(u=f=Number.POSITIVE_INFINITY,d=p=Number.NEGATIVE_INFINITY,y=0;y<r.length;y++)m=r[y][2],u=o(u,r[y][0]-m),d=a(d,r[y][0]+m),f=o(f,r[y][1]-m),p=a(p,r[y][1]+m);if(g=[d-u,p-f],v=[(h-s)/g[0],(c-l)/g[1]],_=o.apply([],v),Math.abs(_-1)>1e-10){for(y=0;y<r.length;y++)r[y][2]*=_;this.placeBubbles(r)}else t.diffY=c/2+l-f-(p-f)/2,t.diffX=h/2+s-u-(d-u)/2},i.prototype.seriesBox=function(){var t=this,r=t.chart,o=t.data,a=Math.max,s=Math.min,l,c=[r.plotLeft,r.plotLeft+r.plotWidth,r.plotTop,r.plotTop+r.plotHeight];return o.forEach(function(h){defined$d(h.plotX)&&defined$d(h.plotY)&&h.marker.radius&&(l=h.marker.radius,c[0]=s(c[0],h.plotX-l),c[1]=a(c[1],h.plotX+l),c[2]=s(c[2],h.plotY-l),c[3]=a(c[3],h.plotY+l))}),isNumber$d(c.width/c.height)?c:null},i.prototype.setVisible=function(){var t=this;Series$9.prototype.setVisible.apply(t,arguments),t.parentNodeLayout&&t.graph?t.visible?(t.graph.show(),t.parentNode.dataLabel&&t.parentNode.dataLabel.show()):(t.graph.hide(),t.parentNodeLayout.removeElementFromCollection(t.parentNode,t.parentNodeLayout.nodes),t.parentNode.dataLabel&&t.parentNode.dataLabel.hide()):t.layout&&(t.visible?t.layout.addElementsToCollection(t.points,t.layout.nodes):t.points.forEach(function(r){t.layout.removeElementFromCollection(r,t.layout.nodes)}))},i.prototype.translate=function(){var t=this,r=t.chart,o=t.data,a=t.index,s,l,c,h,u=t.options.useSimulation;for(t.processedXData=t.xData,t.generatePoints(),defined$d(r.allDataPoints)||(r.allDataPoints=t.accumulateAllPoints(t),t.getPointRadius()),u?c=r.allDataPoints:(c=t.placeBubbles(r.allDataPoints),t.options.draggable=!1),h=0;h<c.length;h++)c[h][3]===a&&(s=o[c[h][4]],l=pick$w(c[h][2],void 0),u||(s.plotX=c[h][0]-r.plotLeft+r.diffX,s.plotY=c[h][1]-r.plotTop+r.diffY),isNumber$d(l)&&(s.marker=extend$y(s.marker,{radius:l,width:2*l,height:2*l}),s.radius=l));u&&t.deferLayout(),fireEvent$6(t,"afterTranslate")},i.defaultOptions=merge$s(BubbleSeries.defaultOptions,{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){var t=this.series.chart.numberFormatter,r=this.point.value;return isNumber$d(r)?t(r,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:1,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}),i}(BubbleSeries);extend$y(PackedBubbleSeries.prototype,{alignDataLabel:Series$9.prototype.alignDataLabel,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,onMouseDown:dragNodesMixin.onMouseDown,onMouseMove:dragNodesMixin.onMouseMove,pointArrayMap:["value"],pointClass:PackedBubblePoint,pointValKey:"value",redrawHalo:dragNodesMixin.redrawHalo,requireSorting:!1,searchPoint:H.noop,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"]});SeriesRegistry$1.registerSeriesType("packedbubble",PackedBubbleSeries);var __extends$1J=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),noop$5=H.noop,Series$8=SeriesRegistry$1.series,_a$8=SeriesRegistry$1.seriesTypes,AreaSeries=_a$8.area,LineSeries$2=_a$8.line,ScatterSeries$2=_a$8.scatter,extend$x=Utilities.extend,merge$r=Utilities.merge,PolygonSeries=function(n){__extends$1J(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return i.prototype.getGraphPath=function(){for(var t=LineSeries$2.prototype.getGraphPath.call(this),r=t.length+1;r--;)(r===t.length||t[r][0]==="M")&&r>0&&t.splice(r,0,["Z"]);return this.areaPath=t,t},i.prototype.drawGraph=function(){this.options.fillColor=this.color,AreaSeries.prototype.drawGraph.call(this)},i.defaultOptions=merge$r(ScatterSeries$2.defaultOptions,{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0}),i}(ScatterSeries$2);extend$x(PolygonSeries.prototype,{type:"polygon",drawLegendSymbol:LegendSymbol$1.drawRectangle,drawTracker:Series$8.prototype.drawTracker,setStackedPoints:noop$5});SeriesRegistry$1.registerSeriesType("polygon",PolygonSeries);var addEvent$j=Utilities.addEvent,objectEach$8=Utilities.objectEach,WaterfallAxis;(function(n){var i=function(){function l(c){this.axis=c,this.stacks={changed:!1}}return l.prototype.renderStackTotals=function(){var c=this.axis,h=c.waterfall.stacks,u=c.stacking&&c.stacking.stackTotalGroup,d=new StackItem$1(c,c.options.stackLabels,!1,0,void 0);this.dummyStackItem=d,objectEach$8(h,function(f){objectEach$8(f,function(p){d.total=p.stackTotal,p.label&&(d.label=p.label),StackItem$1.prototype.render.call(d,u),p.label=d.label,delete d.label})}),d.total=null},l}();n.Composition=i;function t(l,c){addEvent$j(l,"init",s),addEvent$j(l,"afterBuildStacks",r),addEvent$j(l,"afterRender",o),addEvent$j(c,"beforeRedraw",a)}n.compose=t;function r(){var l=this,c=l.waterfall.stacks;c&&(c.changed=!1,delete c.alreadyChanged)}function o(){var l=this,c=l.options.stackLabels;c&&c.enabled&&l.waterfall.stacks&&l.waterfall.renderStackTotals()}function a(){for(var l=this.axes,c=this.series,h=c.length;h--;)c[h].options.stacking&&(l.forEach(function(u){u.isXAxis||(u.waterfall.stacks.changed=!0)}),h=0)}function s(){var l=this;l.waterfall||(l.waterfall=new i(l))}})(WaterfallAxis||(WaterfallAxis={}));const WaterfallAxis$1=WaterfallAxis;var __extends$1I=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),isNumber$c=Utilities.isNumber,WaterfallPoint=function(n){__extends$1I(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t}return i.prototype.getClassName=function(){var t=Point$5.prototype.getClassName.call(this);return this.isSum?t+=" highcharts-sum":this.isIntermediateSum&&(t+=" highcharts-intermediate-sum"),t},i.prototype.isValid=function(){return isNumber$c(this.y)||this.isSum||!!this.isIntermediateSum},i}(ColumnSeries$h.prototype.pointClass),__extends$1H=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_a$7=SeriesRegistry$1.seriesTypes,ColumnSeries$8=_a$7.column,LineSeries$1=_a$7.line,arrayMax$1=Utilities.arrayMax,arrayMin$1=Utilities.arrayMin,correctFloat$2=Utilities.correctFloat,extend$w=Utilities.extend,isNumber$b=Utilities.isNumber,merge$q=Utilities.merge,objectEach$7=Utilities.objectEach,pick$v=Utilities.pick;function ownProp(n,i){return Object.hasOwnProperty.call(n,i)}var WaterfallSeries=function(n){__extends$1H(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.chart=void 0,t.data=void 0,t.options=void 0,t.points=void 0,t.stackedYNeg=void 0,t.stackedYPos=void 0,t.stackKey=void 0,t.xData=void 0,t.yAxis=void 0,t.yData=void 0,t}return i.prototype.generatePoints=function(){var t,r,o,a;for(ColumnSeries$8.prototype.generatePoints.apply(this),o=0,r=this.points.length;o<r;o++)t=this.points[o],a=this.processedYData[o],(t.isIntermediateSum||t.isSum)&&(t.y=correctFloat$2(a))},i.prototype.translate=function(){var t=this,r=t.options,o=t.yAxis,a,s=pick$v(r.minPointLength,5),l=s/2,c=r.threshold||0,h=c,u=c,d=r.stacking,f=o.waterfall.stacks[t.stackKey],p,m,g;ColumnSeries$8.prototype.translate.apply(t);for(var v=t.points,_=0;_<v.length;_++){var y=v[_],b=t.processedYData[_],x=y.shapeArgs;if(!(!x||!isNumber$b(b))){var E=[0,b],C=y.y;if(d){if(f){var $=f[_];d==="overlap"?(p=$.stackState[$.stateIndex--],a=C>=0?p:p-C,ownProp($,"absolutePos")&&delete $.absolutePos,ownProp($,"absoluteNeg")&&delete $.absoluteNeg):(C>=0?(p=$.threshold+$.posTotal,$.posTotal-=C,a=p):(p=$.threshold+$.negTotal,$.negTotal-=C,a=p-C),$.posTotal||ownProp($,"absolutePos")&&($.posTotal=$.absolutePos,delete $.absolutePos),$.negTotal||ownProp($,"absoluteNeg")&&($.negTotal=$.absoluteNeg,delete $.absoluteNeg)),y.isSum||($.connectorThreshold=$.threshold+$.stackTotal),o.reversed?(m=C>=0?a-C:a+C,g=a):(m=a,g=a-C),y.below=m<=c,x.y=o.translate(m,!1,!0,!1,!0)||0,x.height=Math.abs(x.y-(o.translate(g,!1,!0,!1,!0)||0));var S=o.waterfall.dummyStackItem;S&&(S.x=_,S.label=f[_].label,S.setOffset(t.pointXOffset||0,t.barW||0,t.stackedYNeg[_],t.stackedYPos[_]))}}else a=Math.max(h,h+C)+E[0],x.y=o.translate(a,!1,!0,!1,!0)||0,y.isSum?(x.y=o.translate(E[1],!1,!0,!1,!0)||0,x.height=Math.min(o.translate(E[0],!1,!0,!1,!0)||0,o.len)-x.y,y.below=E[1]<=c):y.isIntermediateSum?(C>=0?(m=E[1]+u,g=u):(m=u,g=E[1]+u),o.reversed&&(m^=g,g^=m,m^=g),x.y=o.translate(m,!1,!0,!1,!0)||0,x.height=Math.abs(x.y-Math.min(o.translate(g,!1,!0,!1,!0)||0,o.len)),u+=E[1],y.below=m<=c):(x.height=b>0?(o.translate(h,!1,!0,!1,!0)||0)-x.y:(o.translate(h,!1,!0,!1,!0)||0)-(o.translate(h-b,!1,!0,!1,!0)||0),h+=b,y.below=h<c),x.height<0&&(x.y+=x.height,x.height*=-1);y.plotY=x.y=Math.round(x.y||0)-t.borderWidth%2/2,x.height=Math.max(Math.round(x.height||0),.001),y.yBottom=x.y+x.height,x.height<=s&&!y.isNull?(x.height=s,x.y-=l,y.plotY=x.y,y.y<0?y.minPointLengthOffset=-l:y.minPointLengthOffset=l):(y.isNull&&(x.width=0),y.minPointLengthOffset=0);var P=y.plotY+(y.negative?x.height:0);y.below&&(y.plotY+=x.height),y.tooltipPos&&(t.chart.inverted?y.tooltipPos[0]=o.len-P:y.tooltipPos[1]=P)}}},i.prototype.processData=function(t){var r=this,o=r.options,a=r.yData,s=o.data,l,c=a.length,h=o.threshold||0,u,d,f,p,m,g;for(d=u=f=p=0,g=0;g<c;g++)m=a[g],l=s&&s[g]?s[g]:{},m==="sum"||l.isSum?a[g]=correctFloat$2(d):m==="intermediateSum"||l.isIntermediateSum?(a[g]=correctFloat$2(u),u=0):(d+=m,u+=m),f=Math.min(d,f),p=Math.max(d,p);n.prototype.processData.call(this,t),o.stacking||(r.dataMin=f+h,r.dataMax=p)},i.prototype.toYData=function(t){return t.isSum?"sum":t.isIntermediateSum?"intermediateSum":t.y},i.prototype.updateParallelArrays=function(t,r){n.prototype.updateParallelArrays.call(this,t,r),(this.yData[0]==="sum"||this.yData[0]==="intermediateSum")&&(this.yData[0]=null)},i.prototype.pointAttribs=function(t,r){var o=this.options.upColor,a;return o&&!t.options.color&&(t.color=t.y>0?o:null),a=ColumnSeries$8.prototype.pointAttribs.call(this,t,r),delete a.dashstyle,a},i.prototype.getGraphPath=function(){return[["M",0,0]]},i.prototype.getCrispPath=function(){var t=this.data,r=this.yAxis,o=t.length,a=Math.round(this.graph.strokeWidth())%2/2,s=Math.round(this.borderWidth)%2/2,l=this.xAxis.reversed,c=this.yAxis.reversed,h=this.options.stacking,u=[],d,f,p,m,g,v,_,y,b;for(b=1;b<o;b++)if(y=t[b].shapeArgs,m=t[b-1],_=t[b-1].shapeArgs,f=r.waterfall.stacks[this.stackKey],v=m.y>0?-_.height:0,f&&_&&y&&(p=f[b-1],h?(d=p.connectorThreshold,g=Math.round(r.translate(d,0,1,0,1)+(c?v:0))-a):g=_.y+m.minPointLengthOffset+s-a,u.push(["M",(_.x||0)+(l?0:_.width||0),g],["L",(y.x||0)+(l&&y.width||0),g])),_&&u.length&&(!h&&m.y<0&&!c||m.y>0&&c)){var x=u[u.length-2];x&&typeof x[2]=="number"&&(x[2]+=_.height||0);var E=u[u.length-1];E&&typeof E[2]=="number"&&(E[2]+=_.height||0)}return u},i.prototype.drawGraph=function(){LineSeries$1.prototype.drawGraph.call(this),this.graph.attr({d:this.getCrispPath()})},i.prototype.setStackedPoints=function(){var t=this,r=t.options,o=t.yAxis.waterfall.stacks,a=r.threshold,s=a||0,l=s,c=t.stackKey,h=t.xData,u=h.length,d,f,p,m,g,v,_,y,b,x,E,C,$;function S(T,k,L,N){if(!v)f.stackState[0]=T,v=f.stackState.length;else for(L;L<v;L++)f.stackState[L]+=N;f.stackState.push(f.stackState[v-1]+k)}if(t.yAxis.stacking.usePercentage=!1,p=m=g=s,t.visible||!t.chart.options.chart.ignoreHiddenSeries){$=o.changed,C=o.alreadyChanged,C&&C.indexOf(c)<0&&($=!0),o[c]||(o[c]={}),d=o[c];for(var P=0;P<u;P++)E=h[P],(!d[E]||$)&&(d[E]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:$&&d[E]?d[E].label:void 0}),f=d[E],x=t.yData[P],x>=0?f.posTotal+=x:f.negTotal+=x,b=r.data[P],_=f.absolutePos=f.posTotal,y=f.absoluteNeg=f.negTotal,f.stackTotal=_+y,v=f.stackState.length,b&&b.isIntermediateSum?(S(g,m,0,g),g=m,m=a,s^=l,l^=s,s^=l):b&&b.isSum?(S(a,p,v),s=a):(S(s,x,0,p),b&&(p+=x,m+=x)),f.stateIndex++,f.threshold=s,s+=f.stackTotal;o.changed=!1,o.alreadyChanged||(o.alreadyChanged=[]),o.alreadyChanged.push(c)}},i.prototype.getExtremes=function(){var t=this.options.stacking,r,o,a,s;return t?(r=this.yAxis,o=r.waterfall.stacks,a=this.stackedYNeg=[],s=this.stackedYPos=[],t==="overlap"?objectEach$7(o[this.stackKey],function(l){a.push(arrayMin$1(l.stackState)),s.push(arrayMax$1(l.stackState))}):objectEach$7(o[this.stackKey],function(l){a.push(l.negTotal+l.threshold),s.push(l.posTotal+l.threshold)}),{dataMin:arrayMin$1(a),dataMax:arrayMax$1(s)}):{dataMin:this.dataMin,dataMax:this.dataMax}},i.defaultOptions=merge$q(ColumnSeries$8.defaultOptions,{dataLabels:{inside:!0},lineWidth:1,lineColor:palette.neutralColor80,dashStyle:"Dot",borderColor:palette.neutralColor80,states:{hover:{lineWidthPlus:0}}}),i}(ColumnSeries$8);extend$w(WaterfallSeries.prototype,{getZonesGraphs:LineSeries$1.prototype.getZonesGraphs,pointValKey:"y",showLine:!0,pointClass:WaterfallPoint});SeriesRegistry$1.registerSeriesType("waterfall",WaterfallSeries);WaterfallAxis$1.compose(Axis,Chart$1);var animObject$2=animationExports.animObject,seriesTypes$3=SeriesRegistry$1.seriesTypes,addEvent$i=Utilities.addEvent,defined$c=Utilities.defined,find$4=Utilities.find,isNumber$a=Utilities.isNumber,pick$u=Utilities.pick,splat$3=Utilities.splat,uniqueKey$1=Utilities.uniqueKey,wrap$6=Utilities.wrap,seriesProto=Series$e.prototype,pointerProto=Pointer.prototype,columnProto$2,arearangeProto;seriesProto.searchPointByAngle=function(n){var i=this,t=i.chart,r=i.xAxis,o=r.pane.center,a=n.chartX-o[0]-t.plotLeft,s=n.chartY-o[1]-t.plotTop;return this.searchKDTree({clientX:180+Math.atan2(a,s)*(-180/Math.PI)})};seriesProto.getConnectors=function(n,i,t,r){var o,a,s,l,c,h,u,d,f,p,m,g,v=1.5,_=v+1,y,b,x,E,C,$,S,P,T,k=r?1:0;return i>=0&&i<=n.length-1?o=i:i<0?o=n.length-1+i:o=0,a=o-1<0?n.length-(1+k):o-1,s=o+1>n.length-1?k:o+1,l=n[a],c=n[s],h=l.plotX,u=l.plotY,d=c.plotX,f=c.plotY,p=n[o].plotX,m=n[o].plotY,y=(v*p+h)/_,b=(v*m+u)/_,x=(v*p+d)/_,E=(v*m+f)/_,C=Math.sqrt(Math.pow(y-p,2)+Math.pow(b-m,2)),$=Math.sqrt(Math.pow(x-p,2)+Math.pow(E-m,2)),S=Math.atan2(b-m,y-p),P=Math.atan2(E-m,x-p),T=Math.PI/2+(S+P)/2,Math.abs(S-T)>Math.PI/2&&(T-=Math.PI),y=p+Math.cos(T)*C,b=m+Math.sin(T)*C,x=p+Math.cos(Math.PI+T)*$,E=m+Math.sin(Math.PI+T)*$,g={rightContX:x,rightContY:E,leftContX:y,leftContY:b,plotX:p,plotY:m},t&&(g.prevPointCont=this.getConnectors(n,a,!1,r)),g};seriesProto.toXY=function(n){var i=this.chart,t=this.xAxis,r=this.yAxis,o=n.plotX,a=n.plotY,s=n.series,l=i.inverted,c=n.y,h=l?o:r.len-a,u;if(l&&s&&!s.isRadialBar&&(n.plotY=a=typeof c=="number"&&r.translate(c)||0),n.rectPlotX=o,n.rectPlotY=a,r.center&&(h+=r.center[3]/2),isNumber$a(a)){var d=l?r.postTranslate(a,h):t.postTranslate(o,h);n.plotX=n.polarPlotX=d.x-i.plotLeft,n.plotY=n.polarPlotY=d.y-i.plotTop}this.kdByAngle?(u=(o/Math.PI*180+t.pane.options.startAngle)%360,u<0&&(u+=360),n.clientX=u):n.clientX=n.plotX};seriesTypes$3.spline&&(wrap$6(seriesTypes$3.spline.prototype,"getPointSpline",function(n,i,t,r){var o,a;if(this.chart.polar)if(!r)o=["M",t.plotX,t.plotY];else{a=this.getConnectors(i,r,!0,this.connectEnds);var s=a.prevPointCont&&a.prevPointCont.rightContX,l=a.prevPointCont&&a.prevPointCont.rightContY;o=["C",isNumber$a(s)?s:a.plotX,isNumber$a(l)?l:a.plotY,isNumber$a(a.leftContX)?a.leftContX:a.plotX,isNumber$a(a.leftContY)?a.leftContY:a.plotY,a.plotX,a.plotY]}else o=n.call(this,i,t,r);return o}),seriesTypes$3.areasplinerange&&(seriesTypes$3.areasplinerange.prototype.getPointSpline=seriesTypes$3.spline.prototype.getPointSpline));addEvent$i(Series$e,"afterTranslate",function(){var n=this,i=n.chart;if(i.polar&&n.xAxis){if(n.kdByAngle=i.tooltip&&i.tooltip.shared,n.kdByAngle?n.searchPoint=n.searchPointByAngle:n.options.findNearestPointBy="xy",!n.preventPostTranslate)for(var t=n.points,r=t.length;r--;)n.toXY(t[r]),!i.hasParallelCoordinates&&!n.yAxis.reversed&&t[r].y<n.yAxis.min&&(t[r].isNull=!0);this.hasClipCircleSetter||(this.hasClipCircleSetter=!!n.eventsToUnbind.push(addEvent$i(n,"afterRender",function(){var o;i.polar&&(o=this.yAxis.pane.center,this.clipCircle?this.clipCircle.animate({x:o[0],y:o[1],r:o[2]/2,innerR:o[3]/2}):this.clipCircle=i.renderer.clipCircle(o[0],o[1],o[2]/2,o[3]/2),this.group.clip(this.clipCircle),this.setClip=H.noop)})))}},{order:2});wrap$6(seriesTypes$3.line.prototype,"getGraphPath",function(n,i){var t=this,r,o,a;if(this.chart.polar){for(i=i||this.points,r=0;r<i.length;r++)if(!i[r].isNull){o=r;break}this.options.connectEnds!==!1&&typeof o<"u"&&(this.connectEnds=!0,i.splice(i.length,0,i[o]),a=!0),i.forEach(function(l){typeof l.polarPlotY>"u"&&t.toXY(l)})}var s=n.apply(this,[].slice.call(arguments,1));return a&&i.pop(),s});var polarAnimate=function(n,i){var t=this,r=this.chart,o=this.options.animation,a=this.group,s=this.markerGroup,l=this.xAxis.center,c=r.plotLeft,h=r.plotTop,u,d,f,p,m,g;r.polar?t.isRadialBar?i||(t.startAngleRad=pick$u(t.translatedThreshold,t.xAxis.startAngleRad),H.seriesTypes.pie.prototype.animate.call(t,i)):r.renderer.isSVG&&(o=animObject$2(o),t.is("column")?i||(d=l[3]/2,t.points.forEach(function(v){f=v.graphic,p=v.shapeArgs,m=p&&p.r,g=p&&p.innerR,f&&p&&(f.attr({r:d,innerR:d}),f.animate({r:m,innerR:g},t.options.animation))})):i?(u={translateX:l[0]+c,translateY:l[1]+h,scaleX:.001,scaleY:.001},a.attr(u),s&&s.attr(u)):(u={translateX:c,translateY:h,scaleX:1,scaleY:1},a.animate(u,o),s&&s.animate(u,o))):n.call(this,i)};wrap$6(seriesProto,"animate",polarAnimate);seriesTypes$3.column&&(arearangeProto=seriesTypes$3.arearange.prototype,columnProto$2=seriesTypes$3.column.prototype,columnProto$2.polarArc=function(n,i,t,r){var o=this.xAxis.center,a=this.yAxis.len,s=o[3]/2,l=a-i+s,c=a-pick$u(n,a)+s;return this.yAxis.reversed&&(l<0&&(l=s),c<0&&(c=s)),{x:o[0],y:o[1],r:l,innerR:c,start:t,end:r}},wrap$6(columnProto$2,"animate",polarAnimate),wrap$6(columnProto$2,"translate",function(n){var i=this,t=i.options,r=t.threshold,o=t.stacking,a=i.chart,s=i.xAxis,l=i.yAxis,c=l.reversed,h=l.center,u=s.startAngleRad,d=s.endAngleRad,f=d-u,p,m,g,v,_,y,b,x,E,C,$,S,P,T,k,L;if(i.preventPostTranslate=!0,n.call(i),s.isRadial)for(m=i.points,v=m.length,_=l.translate(l.min),y=l.translate(l.max),r=t.threshold||0,a.inverted&&isNumber$a(r)&&(p=l.translate(r),defined$c(p)&&(p<0?p=0:p>f&&(p=f),i.translatedThreshold=p+u));v--;)g=m[v],T=g.barX,C=g.x,$=g.y,g.shapeType="arc",a.inverted?(g.plotY=l.translate($),o&&l.stacking?(P=l.stacking.stacks[($<0?"-":"")+i.stackKey],i.visible&&P&&P[C]&&(g.isNull||(S=P[C].points[i.getStackIndicator(void 0,C,i.index).key],b=l.translate(S[0]),x=l.translate(S[1]),defined$c(b)&&(b=Utilities.clamp(b,0,f))))):(b=p,x=g.plotY),b>x&&(x=[b,b=x][0]),c?x>_?x=_:b<y?b=y:(b>_||x<y)&&(b=x=f):b<_?b=_:x>y?x=y:(x<_||b>y)&&(b=x=0),l.min>l.max&&(b=x=c?f:0),b+=u,x+=u,h&&(g.barX=T+=h[3]/2),k=Math.max(T,0),L=Math.max(T+g.pointWidth,0),g.shapeArgs={x:h&&h[0],y:h&&h[1],r:L,innerR:k,start:b,end:x},g.opacity=b===x?0:void 0,g.plotY=(defined$c(i.translatedThreshold)&&(b<i.translatedThreshold?b:x))-u):(b=T+u,g.shapeArgs=i.polarArc(g.yBottom,g.plotY,b,b+g.pointWidth)),i.toXY(g),a.inverted?(E=l.postTranslate(g.rectPlotY,T+g.pointWidth/2),g.tooltipPos=[E.x-a.plotLeft,E.y-a.plotTop]):g.tooltipPos=[g.plotX,g.plotY],h&&(g.ttBelow=g.plotY>h[1])}),columnProto$2.findAlignments=function(n,i){var t,r;return i.align===null&&(n>20&&n<160?t="left":n>200&&n<340?t="right":t="center",i.align=t),i.verticalAlign===null&&(n<45||n>315?r="bottom":n>135&&n<225?r="top":r="middle",i.verticalAlign=r),i},arearangeProto&&(arearangeProto.findAlignments=columnProto$2.findAlignments),wrap$6(columnProto$2,"alignDataLabel",function(n,i,t,r,o,a){var s=this.chart,l=pick$u(r.inside,!!this.options.stacking),c,h,u;s.polar?(c=i.rectPlotX/Math.PI*180,s.inverted?(this.forceDL=s.isInsidePlot(i.plotX,Math.round(i.plotY)),l&&i.shapeArgs?(h=i.shapeArgs,u=this.yAxis.postTranslate(((h.start||0)+(h.end||0))/2-this.xAxis.startAngleRad,i.barX+i.pointWidth/2),o={x:u.x-s.plotLeft,y:u.y-s.plotTop}):i.tooltipPos&&(o={x:i.tooltipPos[0],y:i.tooltipPos[1]}),r.align=pick$u(r.align,"center"),r.verticalAlign=pick$u(r.verticalAlign,"middle")):this.findAlignments&&(r=this.findAlignments(c,r)),seriesProto.alignDataLabel.call(this,i,t,r,o,a),this.isRadialBar&&i.shapeArgs&&i.shapeArgs.start===i.shapeArgs.end&&t.hide(!0)):n.call(this,i,t,r,o,a)}));wrap$6(pointerProto,"getCoordinates",function(n,i){var t=this.chart,r={xAxis:[],yAxis:[]};return t.polar?t.axes.forEach(function(o){var a=o.isXAxis,s=o.center,l,c;o.coll!=="colorAxis"&&(l=i.chartX-s[0]-t.plotLeft,c=i.chartY-s[1]-t.plotTop,r[a?"xAxis":"yAxis"].push({axis:o,value:o.translate(a?Math.PI-Math.atan2(l,c):Math.sqrt(Math.pow(l,2)+Math.pow(c,2)),!0)}))}):r=n.call(this,i),r});SVGRenderer.prototype.clipCircle=function(n,i,t,r){var o,a=uniqueKey$1(),s=this.createElement("clipPath").attr({id:a}).add(this.defs);return o=r?this.arc(n,i,t,r,0,2*Math.PI).add(s):this.circle(n,i,t).add(s),o.id=a,o.clipPath=s,o};addEvent$i(Chart$1,"getAxes",function(){this.pane||(this.pane=[]),this.options.pane=splat$3(this.options.pane),this.options.pane.forEach(function(n){new Pane$1(n,this)},this)});addEvent$i(Chart$1,"afterDrawChartBox",function(){this.pane.forEach(function(n){n.render()})});addEvent$i(Series$e,"afterInit",function(){var n=this.chart;n.inverted&&n.polar&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0))});wrap$6(Chart$1.prototype,"get",function(n,i){return find$4(this.pane||[],function(t){return t.options.id===i})||n.call(this,i)});/**
 * @license Highcharts JS v9.2.2 (2021-08-24)
 * @module highcharts/highcharts-more
 * @requires highcharts
 *
 * (c) 2009-2021 Torstein Honsi
 *
 * License: www.highcharts.com/license
 */var G$4=H;RadialAxis$1.compose(G$4.Axis,G$4.Tick);BubbleSeries$2.compose(G$4.Chart,G$4.Legend,G$4.Series);var pick$t=Utilities.pick,deg2rad$3=H.deg2rad;function rotate3D(n,i,t,r){return{x:r.cosB*n-r.sinB*t,y:-r.sinA*r.sinB*n+r.cosA*i-r.cosB*r.sinA*t,z:r.cosA*r.sinB*n+r.sinA*i+r.cosA*r.cosB*t}}function perspective3D$1(n,i,t){var r=t>0&&t<Number.POSITIVE_INFINITY?t/(n.z+i.z+t):1;return{x:n.x*r,y:n.y*r}}H.perspective3D=perspective3D$1;function perspective$6(n,i,t,r){var o=i.options.chart.options3d,a=pick$t(r,t?i.inverted:!1),s={x:i.plotWidth/2,y:i.plotHeight/2,z:o.depth/2,vd:pick$t(o.depth,1)*pick$t(o.viewDistance,0)},l=i.scale3d||1,c=deg2rad$3*o.beta*(a?-1:1),h=deg2rad$3*o.alpha*(a?-1:1),u={cosA:Math.cos(h),cosB:Math.cos(-c),sinA:Math.sin(h),sinB:Math.sin(-c)};return t||(s.x+=i.plotLeft,s.y+=i.plotTop),n.map(function(d){var f=rotate3D((a?d.y:d.x)-s.x,(a?d.x:d.y)-s.y,(d.z||0)-s.z,u),p=perspective3D$1(f,s,s.vd);return p.x=p.x*l+s.x,p.y=p.y*l+s.y,p.z=f.z*l+s.z,{x:a?p.y:p.x,y:a?p.x:p.y,z:p.z}})}H.perspective=perspective$6;function pointCameraDistance$1(n,i){var t=i.options.chart.options3d,r={x:i.plotWidth/2,y:i.plotHeight/2,z:pick$t(t.depth,1)*pick$t(t.viewDistance,0)+t.depth},o=Math.sqrt(Math.pow(r.x-pick$t(n.plotX,n.x),2)+Math.pow(r.y-pick$t(n.plotY,n.y),2)+Math.pow(r.z-pick$t(n.plotZ,n.z),2));return o}H.pointCameraDistance=pointCameraDistance$1;function shapeArea$2(n){var i=0,t,r;for(t=0;t<n.length;t++)r=(t+1)%n.length,i+=n[t].x*n[r].y-n[r].x*n[t].y;return i/2}H.shapeArea=shapeArea$2;function shapeArea3D$1(n,i,t){return shapeArea$2(perspective$6(n,i,t))}H.shapeArea3d=shapeArea3D$1;var mathModule={perspective:perspective$6,perspective3D:perspective3D$1,pointCameraDistance:pointCameraDistance$1,shapeArea:shapeArea$2,shapeArea3D:shapeArea3D$1},color$7=Color.parse,defined$b=Utilities.defined,merge$p=Utilities.merge,objectEach$6=Utilities.objectEach,pick$s=Utilities.pick,SVGElement3D={};SVGElement3D.base={initArgs:function(n){var i=this,t=i.renderer,r=t[i.pathType+"Path"](n),o=r.zIndexes;i.parts.forEach(function(a){i[a]=t.path(r[a]).attr({class:"highcharts-3d-"+a,zIndex:o[a]||0}).add(i)}),i.attr({"stroke-linejoin":"round",zIndex:o.group}),i.originalDestroy=i.destroy,i.destroy=i.destroyParts,i.forcedSides=r.forcedSides},singleSetterForParts:function(n,i,t,r,o,a){var s=this,l={},c=[null,null,r||"attr",o,a],h=t&&t.zIndexes;return t?(h&&h.group&&this.attr({zIndex:h.group}),objectEach$6(t,function(u,d){l[d]={},l[d][n]=u,h&&(l[d].zIndex=t.zIndexes[d]||0)}),c[1]=l):(l[n]=i,c[0]=l),s.processParts.apply(s,c)},processParts:function(n,i,t,r,o){var a=this;return a.parts.forEach(function(s){i&&(n=pick$s(i[s],!1)),n!==!1&&a[s][t](n,r,o)}),a},destroyParts:function(){return this.processParts(null,null,"destroy"),this.originalDestroy()}};SVGElement3D.cuboid=merge$p(SVGElement3D.base,{parts:["front","top","side"],pathType:"cuboid",attr:function(n,i,t,r){if(typeof n=="string"&&typeof i<"u"){var o=n;n={},n[o]=i}return n.shapeArgs||defined$b(n.x)?this.singleSetterForParts("d",null,this.renderer[this.pathType+"Path"](n.shapeArgs||n)):SVGElement.prototype.attr.call(this,n,void 0,t,r)},animate:function(n,i,t){if(defined$b(n.x)&&defined$b(n.y)){var r=this.renderer[this.pathType+"Path"](n),o=r.forcedSides;this.singleSetterForParts("d",null,r,"animate",i,t),this.attr({zIndex:r.zIndexes.group}),o!==this.forcedSides&&(this.forcedSides=o,SVGElement3D.cuboid.fillSetter.call(this,this.fill))}else SVGElement.prototype.animate.call(this,n,i,t);return this},fillSetter:function(n){var i=this;return i.forcedSides=i.forcedSides||[],i.singleSetterForParts("fill",null,{front:n,top:color$7(n).brighten(i.forcedSides.indexOf("top")>=0?0:.1).get(),side:color$7(n).brighten(i.forcedSides.indexOf("side")>=0?0:-.1).get()}),i.color=i.fill=n,i}});var __extends$1G=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),animObject$1=animationExports.animObject,color$6=Color.parse,charts=H.charts,deg2rad$2=H.deg2rad,perspective$5=mathModule.perspective,shapeArea$1=mathModule.shapeArea,defined$a=Utilities.defined,extend$v=Utilities.extend,merge$o=Utilities.merge,pick$r=Utilities.pick,cos=Math.cos,sin=Math.sin,PI=Math.PI,dFactor=4*(Math.sqrt(2)-1)/3/(PI/2),SVGRenderer3D=function(n){__extends$1G(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i.compose=function(t){var r=t.prototype,o=i.prototype;r.elements3d=SVGElement3D,r.arc3d=o.arc3d,r.arc3dPath=o.arc3dPath,r.cuboid=o.cuboid,r.cuboidPath=o.cuboidPath,r.element3d=o.element3d,r.face3d=o.face3d,r.polyhedron=o.polyhedron,r.toLinePath=o.toLinePath,r.toLineSegments=o.toLineSegments},i.curveTo=function(t,r,o,a,s,l,c,h){var u=[],d=l-s;return l>s&&l-s>Math.PI/2+1e-4?(u=u.concat(this.curveTo(t,r,o,a,s,s+Math.PI/2,c,h)),u=u.concat(this.curveTo(t,r,o,a,s+Math.PI/2,l,c,h)),u):l<s&&s-l>Math.PI/2+1e-4?(u=u.concat(this.curveTo(t,r,o,a,s,s-Math.PI/2,c,h)),u=u.concat(this.curveTo(t,r,o,a,s-Math.PI/2,l,c,h)),u):[["C",t+o*Math.cos(s)-o*dFactor*d*Math.sin(s)+c,r+a*Math.sin(s)+a*dFactor*d*Math.cos(s)+h,t+o*Math.cos(l)+o*dFactor*d*Math.sin(l)+c,r+a*Math.sin(l)-a*dFactor*d*Math.cos(l)+h,t+o*Math.cos(l)+c,r+a*Math.sin(l)+h]]},i.prototype.toLinePath=function(t,r){var o=[];return t.forEach(function(a){o.push(["L",a.x,a.y])}),t.length&&(o[0][0]="M",r&&o.push(["Z"])),o},i.prototype.toLineSegments=function(t){var r=[],o=!0;return t.forEach(function(a){r.push(o?["M",a.x,a.y]:["L",a.x,a.y]),o=!o}),r},i.prototype.face3d=function(t){var r=this,o=this.createElement("path");return o.vertexes=[],o.insidePlotArea=!1,o.enabled=!0,o.attr=function(a){if(typeof a=="object"&&(defined$a(a.enabled)||defined$a(a.vertexes)||defined$a(a.insidePlotArea))){this.enabled=pick$r(a.enabled,this.enabled),this.vertexes=pick$r(a.vertexes,this.vertexes),this.insidePlotArea=pick$r(a.insidePlotArea,this.insidePlotArea),delete a.enabled,delete a.vertexes,delete a.insidePlotArea;var s=charts[r.chartIndex],l=perspective$5(this.vertexes,s,this.insidePlotArea),c=r.toLinePath(l,!0),h=shapeArea$1(l);a.d=c,a.visibility=this.enabled&&h>0?"visible":"hidden"}return SVGElement.prototype.attr.apply(this,arguments)},o.animate=function(a){if(typeof a=="object"&&(defined$a(a.enabled)||defined$a(a.vertexes)||defined$a(a.insidePlotArea))){this.enabled=pick$r(a.enabled,this.enabled),this.vertexes=pick$r(a.vertexes,this.vertexes),this.insidePlotArea=pick$r(a.insidePlotArea,this.insidePlotArea),delete a.enabled,delete a.vertexes,delete a.insidePlotArea;var s=charts[r.chartIndex],l=perspective$5(this.vertexes,s,this.insidePlotArea),c=r.toLinePath(l,!0),h=shapeArea$1(l),u=this.enabled&&h>0?"visible":"hidden";a.d=c,this.attr("visibility",u)}return SVGElement.prototype.animate.apply(this,arguments)},o.attr(t)},i.prototype.polyhedron=function(t){var r=this,o=this.g(),a=o.destroy;return this.styledMode||o.attr({"stroke-linejoin":"round"}),o.faces=[],o.destroy=function(){for(var s=0;s<o.faces.length;s++)o.faces[s].destroy();return a.call(this)},o.attr=function(s,l,c,h){if(typeof s=="object"&&defined$a(s.faces)){for(;o.faces.length>s.faces.length;)o.faces.pop().destroy();for(;o.faces.length<s.faces.length;)o.faces.push(r.face3d().add(o));for(var u=0;u<s.faces.length;u++)r.styledMode&&delete s.faces[u].fill,o.faces[u].attr(s.faces[u],null,c,h);delete s.faces}return SVGElement.prototype.attr.apply(this,arguments)},o.animate=function(s,l,c){if(s&&s.faces){for(;o.faces.length>s.faces.length;)o.faces.pop().destroy();for(;o.faces.length<s.faces.length;)o.faces.push(r.face3d().add(o));for(var h=0;h<s.faces.length;h++)o.faces[h].animate(s.faces[h],l,c);delete s.faces}return SVGElement.prototype.animate.apply(this,arguments)},o.attr(t)},i.prototype.element3d=function(t,r){var o=this.g();return extend$v(o,this.elements3d[t]),o.initArgs(r),o},i.prototype.cuboid=function(t){return this.element3d("cuboid",t)},i.prototype.cuboidPath=function(t){var r=t.x||0,o=t.y||0,a=t.z||0,s=t.height||0,l=t.width||0,c=t.depth||0,h=charts[this.chartIndex],u,d,f,p,m,g,v,_,y,b,x,E,C,$=h.options.chart.options3d,S=$.alpha,P=1e6,T=10,k=100,L=0,N=[{x:r,y:o,z:a},{x:r+l,y:o,z:a},{x:r+l,y:o+s,z:a},{x:r,y:o+s,z:a},{x:r,y:o+s,z:a+c},{x:r+l,y:o+s,z:a+c},{x:r+l,y:o,z:a+c},{x:r,y:o,z:a+c}],z=[],B;N=perspective$5(N,h,t.insidePlotArea);function U(M){return s===0&&M>1&&M<6?{x:N[M].x,y:N[M].y+10,z:N[M].z}:N[0].x===N[7].x&&M>=4?{x:N[M].x+10,y:N[M].y,z:N[M].z}:c===0&&M<2||M>5?{x:N[M].x,y:N[M].y,z:N[M].z+10}:N[M]}function D(M){return N[M]}return B=function(M,F,j){var Y=[[],-1],W=M.map(D),q=F.map(D),X=M.map(U),K=F.map(U);return shapeArea$1(W)<0?Y=[W,0]:shapeArea$1(q)<0?Y=[q,1]:j&&(z.push(j),shapeArea$1(X)<0?Y=[W,0]:shapeArea$1(K)<0?Y=[q,1]:Y=[W,0]),Y},u=[3,2,1,0],d=[7,6,5,4],v=B(u,d,"front"),_=v[0],x=v[1],f=[1,6,7,0],p=[4,5,2,3],v=B(f,p,"top"),y=v[0],E=v[1],g=[1,2,5,6],m=[0,7,4,3],v=B(g,m,"side"),b=v[0],C=v[1],C===1?L+=P*(h.plotWidth-r):C||(L+=P*r),L+=T*(!E||S>=0&&S<=180||S<360&&S>357.5?h.plotHeight-o:10+o),x===1?L+=k*a:x||(L+=k*(1e3-a)),{front:this.toLinePath(_,!0),top:this.toLinePath(y,!0),side:this.toLinePath(b,!0),zIndexes:{group:Math.round(L)},forcedSides:z,isFront:x,isTop:E}},i.prototype.arc3d=function(t){var r=this.g(),o=r.renderer,a=["x","y","r","innerR","start","end","depth"];function s(l){var c=!1,h={},u;l=merge$o(l);for(u in l)a.indexOf(u)!==-1&&(h[u]=l[u],delete l[u],c=!0);return c?[h,l]:!1}return t=merge$o(t),t.alpha=(t.alpha||0)*deg2rad$2,t.beta=(t.beta||0)*deg2rad$2,r.top=o.path(),r.side1=o.path(),r.side2=o.path(),r.inn=o.path(),r.out=o.path(),r.onAdd=function(){var l=r.parentGroup,c=r.attr("class");r.top.add(r),["out","inn","side1","side2"].forEach(function(h){r[h].attr({class:c+" highcharts-3d-side"}).add(l)})},["addClass","removeClass"].forEach(function(l){r[l]=function(){var c=arguments;["top","out","inn","side1","side2"].forEach(function(h){r[h][l].apply(r[h],c)})}}),r.setPaths=function(l){var c=r.renderer.arc3dPath(l),h=c.zTop*100;r.attribs=l,r.top.attr({d:c.top,zIndex:c.zTop}),r.inn.attr({d:c.inn,zIndex:c.zInn}),r.out.attr({d:c.out,zIndex:c.zOut}),r.side1.attr({d:c.side1,zIndex:c.zSide1}),r.side2.attr({d:c.side2,zIndex:c.zSide2}),r.zIndex=h,r.attr({zIndex:h}),l.center&&(r.top.setRadialReference(l.center),delete l.center)},r.setPaths(t),r.fillSetter=function(l){var c=color$6(l).brighten(-.1).get();return this.fill=l,this.side1.attr({fill:c}),this.side2.attr({fill:c}),this.inn.attr({fill:c}),this.out.attr({fill:c}),this.top.attr({fill:l}),this},["opacity","translateX","translateY","visibility"].forEach(function(l){r[l+"Setter"]=function(c,h){r[h]=c,["out","inn","side1","side2","top"].forEach(function(u){r[u].attr(h,c)})}}),r.attr=function(l){var c,h;return typeof l=="object"&&(h=s(l),h&&(c=h[0],arguments[0]=h[1],extend$v(r.attribs,c),r.setPaths(r.attribs))),SVGElement.prototype.attr.apply(r,arguments)},r.animate=function(l,c,h){var u,d=this.attribs,f,p,m="data-"+Math.random().toString(26).substring(2,9);return delete l.center,delete l.z,delete l.alpha,delete l.beta,p=animObject$1(pick$r(c,this.renderer.globalAnimation)),p.duration&&(u=s(l),r[m]=0,l[m]=1,r[m+"Setter"]=H.noop,u&&(f=u[0],p.step=function(g,v){function _(y){return d[y]+(pick$r(f[y],d[y])-d[y])*v.pos}v.prop===m&&v.elem.setPaths(merge$o(d,{x:_("x"),y:_("y"),r:_("r"),innerR:_("innerR"),start:_("start"),end:_("end"),depth:_("depth")}))}),c=p),SVGElement.prototype.animate.call(this,l,c,h)},r.destroy=function(){return this.top.destroy(),this.out.destroy(),this.inn.destroy(),this.side1.destroy(),this.side2.destroy(),SVGElement.prototype.destroy.call(this)},r.hide=function(){this.top.hide(),this.out.hide(),this.inn.hide(),this.side1.hide(),this.side2.hide()},r.show=function(l){this.top.show(l),this.out.show(l),this.inn.show(l),this.side1.show(l),this.side2.show(l)},r},i.prototype.arc3dPath=function(t){var r=t.x||0,o=t.y||0,a=t.start||0,s=(t.end||0)-1e-5,l=t.r||0,c=t.innerR||0,h=t.depth||0,u=t.alpha||0,d=t.beta||0,f=Math.cos(a),p=Math.sin(a),m=Math.cos(s),g=Math.sin(s),v=l*Math.cos(d),_=l*Math.cos(u),y=c*Math.cos(d),b=c*Math.cos(u),x=h*Math.sin(d),E=h*Math.sin(u),C=[["M",r+v*f,o+_*p]];C=C.concat(i.curveTo(r,o,v,_,a,s,0,0)),C.push(["L",r+y*m,o+b*g]),C=C.concat(i.curveTo(r,o,y,b,s,a,0,0)),C.push(["Z"]);var $=d>0?Math.PI/2:0,S=u>0?0:Math.PI/2,P=a>-$?a:s>-$?-$:a,T=s<PI-S?s:a<PI-S?PI-S:s,k=2*PI-S,L=[["M",r+v*cos(P),o+_*sin(P)]];L=L.concat(i.curveTo(r,o,v,_,P,T,0,0)),s>k&&a<k?(L.push(["L",r+v*cos(T)+x,o+_*sin(T)+E]),L=L.concat(i.curveTo(r,o,v,_,T,k,x,E)),L.push(["L",r+v*cos(k),o+_*sin(k)]),L=L.concat(i.curveTo(r,o,v,_,k,s,0,0)),L.push(["L",r+v*cos(s)+x,o+_*sin(s)+E]),L=L.concat(i.curveTo(r,o,v,_,s,k,x,E)),L.push(["L",r+v*cos(k),o+_*sin(k)]),L=L.concat(i.curveTo(r,o,v,_,k,T,0,0))):s>PI-S&&a<PI-S&&(L.push(["L",r+v*Math.cos(T)+x,o+_*Math.sin(T)+E]),L=L.concat(i.curveTo(r,o,v,_,T,s,x,E)),L.push(["L",r+v*Math.cos(s),o+_*Math.sin(s)]),L=L.concat(i.curveTo(r,o,v,_,s,T,0,0))),L.push(["L",r+v*Math.cos(T)+x,o+_*Math.sin(T)+E]),L=L.concat(i.curveTo(r,o,v,_,T,P,x,E)),L.push(["Z"]);var N=[["M",r+y*f,o+b*p]];N=N.concat(i.curveTo(r,o,y,b,a,s,0,0)),N.push(["L",r+y*Math.cos(s)+x,o+b*Math.sin(s)+E]),N=N.concat(i.curveTo(r,o,y,b,s,a,x,E)),N.push(["Z"]);var z=[["M",r+v*f,o+_*p],["L",r+v*f+x,o+_*p+E],["L",r+y*f+x,o+b*p+E],["L",r+y*f,o+b*p],["Z"]],B=[["M",r+v*m,o+_*g],["L",r+v*m+x,o+_*g+E],["L",r+y*m+x,o+b*g+E],["L",r+y*m,o+b*g],["Z"]],U=Math.atan2(E,-x),D=Math.abs(s+U),M=Math.abs(a+U),F=Math.abs((a+s)/2+U);function j(K){return K=K%(2*Math.PI),K>Math.PI&&(K=2*Math.PI-K),K}D=j(D),M=j(M),F=j(F);var Y=1e5,W=F*Y,q=M*Y,X=D*Y;return{top:C,zTop:Math.PI*Y+1,out:L,zOut:Math.max(W,q,X),inn:N,zInn:Math.max(W,q,X),side1:z,zSide1:X*.99,side2:B,zSide2:q*.99}},i}(SVGRenderer),color$5=Color.parse,perspective$4=mathModule.perspective,shapeArea3D=mathModule.shapeArea3D,genericDefaultOptions=DefaultOptions.defaultOptions,addEvent$h=Utilities.addEvent,isArray$3=Utilities.isArray,merge$n=Utilities.merge,pick$q=Utilities.pick,wrap$5=Utilities.wrap,Chart3D;(function(n){var i=function(){function m(g){this.frame3d=void 0,this.chart=g}return m.prototype.get3dFrame=function(){var g=this.chart,v=g.options.chart.options3d,_=v.frame,y=g.plotLeft,b=g.plotLeft+g.plotWidth,x=g.plotTop,E=g.plotTop+g.plotHeight,C=0,$=v.depth,S=function(nt){var at=shapeArea3D(nt,g);return at>.5?1:at<-.5?-1:0},P=S([{x:y,y:E,z:$},{x:b,y:E,z:$},{x:b,y:E,z:C},{x:y,y:E,z:C}]),T=S([{x:y,y:x,z:C},{x:b,y:x,z:C},{x:b,y:x,z:$},{x:y,y:x,z:$}]),k=S([{x:y,y:x,z:C},{x:y,y:x,z:$},{x:y,y:E,z:$},{x:y,y:E,z:C}]),L=S([{x:b,y:x,z:$},{x:b,y:x,z:C},{x:b,y:E,z:C},{x:b,y:E,z:$}]),N=S([{x:y,y:E,z:C},{x:b,y:E,z:C},{x:b,y:x,z:C},{x:y,y:x,z:C}]),z=S([{x:y,y:x,z:$},{x:b,y:x,z:$},{x:b,y:E,z:$},{x:y,y:E,z:$}]),B=!1,U=!0,D=!1,M=!1,F=!1,j=!1;[].concat(g.xAxis,g.yAxis,g.zAxis).forEach(function(nt){nt&&(nt.horiz?nt.opposite?M=!0:D=!0:nt.opposite?j=!0:F=!0)});var Y=function(nt,at,ct){for(var ht=["size","color","visible"],ut={},tt=0;tt<ht.length;tt++)for(var it=ht[tt],ot=0;ot<nt.length;ot++)if(typeof nt[ot]=="object"){var st=nt[ot][it];if(typeof st<"u"&&st!==null){ut[it]=st;break}}var lt=ct;return ut.visible===!0||ut.visible===!1?lt=ut.visible:ut.visible==="auto"&&(lt=at>0),{size:pick$q(ut.size,1),color:pick$q(ut.color,"none"),frontFacing:at>0,visible:lt}},W={axes:{},bottom:Y([_.bottom,_.top,_],P,D),top:Y([_.top,_.bottom,_],T,M),left:Y([_.left,_.right,_.side,_],k,F),right:Y([_.right,_.left,_.side,_],L,j),back:Y([_.back,_.front,_],z,U),front:Y([_.front,_.back,_],N,B)};if(v.axisLabelPosition==="auto"){var q=function(nt,at){return nt.visible!==at.visible||nt.visible&&at.visible&&nt.frontFacing!==at.frontFacing},X=[];q(W.left,W.front)&&X.push({y:(x+E)/2,x:y,z:C,xDir:{x:1,y:0,z:0}}),q(W.left,W.back)&&X.push({y:(x+E)/2,x:y,z:$,xDir:{x:0,y:0,z:-1}}),q(W.right,W.front)&&X.push({y:(x+E)/2,x:b,z:C,xDir:{x:0,y:0,z:1}}),q(W.right,W.back)&&X.push({y:(x+E)/2,x:b,z:$,xDir:{x:-1,y:0,z:0}});var K=[];q(W.bottom,W.front)&&K.push({x:(y+b)/2,y:E,z:C,xDir:{x:1,y:0,z:0}}),q(W.bottom,W.back)&&K.push({x:(y+b)/2,y:E,z:$,xDir:{x:-1,y:0,z:0}});var Q=[];q(W.top,W.front)&&Q.push({x:(y+b)/2,y:x,z:C,xDir:{x:1,y:0,z:0}}),q(W.top,W.back)&&Q.push({x:(y+b)/2,y:x,z:$,xDir:{x:-1,y:0,z:0}});var rt=[];q(W.bottom,W.left)&&rt.push({z:(C+$)/2,y:E,x:y,xDir:{x:0,y:0,z:-1}}),q(W.bottom,W.right)&&rt.push({z:(C+$)/2,y:E,x:b,xDir:{x:0,y:0,z:1}});var J=[];q(W.top,W.left)&&J.push({z:(C+$)/2,y:x,x:y,xDir:{x:0,y:0,z:-1}}),q(W.top,W.right)&&J.push({z:(C+$)/2,y:x,x:b,xDir:{x:0,y:0,z:1}});var et=function(nt,at,ct){if(nt.length===0)return null;if(nt.length===1)return nt[0];for(var ht=perspective$4(nt,g,!1),ut=0,tt=1;tt<ht.length;tt++)(ct*ht[tt][at]>ct*ht[ut][at]||ct*ht[tt][at]===ct*ht[ut][at]&&ht[tt].z<ht[ut].z)&&(ut=tt);return nt[ut]};W.axes={y:{left:et(X,"x",-1),right:et(X,"x",1)},x:{top:et(Q,"y",-1),bottom:et(K,"y",1)},z:{top:et(J,"y",-1),bottom:et(rt,"y",1)}}}else W.axes={y:{left:{x:y,z:C,xDir:{x:1,y:0,z:0}},right:{x:b,z:C,xDir:{x:0,y:0,z:1}}},x:{top:{y:x,z:C,xDir:{x:1,y:0,z:0}},bottom:{y:E,z:C,xDir:{x:1,y:0,z:0}}},z:{top:{x:F?b:y,y:x,xDir:F?{x:0,y:0,z:1}:{x:0,y:0,z:-1}},bottom:{x:F?b:y,y:E,xDir:F?{x:0,y:0,z:1}:{x:0,y:0,z:-1}}}};return W},m.prototype.getScale=function(g){var v=this.chart,_=v.plotLeft,y=v.plotWidth+_,b=v.plotTop,x=v.plotHeight+b,E=_+v.plotWidth/2,C=b+v.plotHeight/2,$={minX:Number.MAX_VALUE,maxX:-Number.MAX_VALUE,minY:Number.MAX_VALUE,maxY:-Number.MAX_VALUE},S,P=1;return S=[{x:_,y:b,z:0},{x:_,y:b,z:g}],[0,1].forEach(function(T){S.push({x:y,y:S[T].y,z:S[T].z})}),[0,1,2,3].forEach(function(T){S.push({x:S[T].x,y:x,z:S[T].z})}),S=perspective$4(S,v,!1),S.forEach(function(T){$.minX=Math.min($.minX,T.x),$.maxX=Math.max($.maxX,T.x),$.minY=Math.min($.minY,T.y),$.maxY=Math.max($.maxY,T.y)}),_>$.minX&&(P=Math.min(P,1-Math.abs((_+E)/($.minX+E))%1)),y<$.maxX&&(P=Math.min(P,(y-E)/($.maxX-E))),b>$.minY&&($.minY<0?P=Math.min(P,(b+C)/(-$.minY+b+C)):P=Math.min(P,1-(b+C)/($.minY+C)%1)),x<$.maxY&&(P=Math.min(P,Math.abs((x-C)/($.maxY-C)))),P},m}();n.Composition=i,n.defaultOptions={chart:{options3d:{enabled:!1,alpha:0,beta:0,depth:100,fitToPlot:!0,viewDistance:25,axisLabelPosition:null,frame:{visible:"default",size:1,bottom:{},top:{},left:{},right:{},back:{},front:{}}}}};function t(m,g){var v=m.prototype,_=g.prototype;v.is3d=function(){return!!(this.options.chart.options3d&&this.options.chart.options3d.enabled)},v.propsRequireDirtyBox.push("chart.options3d"),v.propsRequireUpdateSeries.push("chart.options3d"),_.matrixSetter=function(){var y;if(this.pos<1&&(isArray$3(this.start)||isArray$3(this.end))){var b=this.start||[1,0,0,1,0,0],x=this.end||[1,0,0,1,0,0];y=[];for(var E=0;E<6;E++)y.push(this.pos*x[E]+(1-this.pos)*b[E])}else y=this.end;this.elem.attr(this.prop,y,null,!0)},merge$n(!0,genericDefaultOptions,n.defaultOptions),addEvent$h(m,"init",u),addEvent$h(m,"addSeries",r),addEvent$h(m,"afterDrawChartBox",o),addEvent$h(m,"afterGetContainer",a),addEvent$h(m,"afterInit",s),addEvent$h(m,"afterSetChartSize",l),addEvent$h(m,"beforeRedraw",c),addEvent$h(m,"beforeRender",h),wrap$5(v,"isInsidePlot",d),wrap$5(m,"renderSeries",f),wrap$5(m,"setClassName",p)}n.compose=t;function r(m){this.is3d()&&m.options.type==="scatter"&&(m.options.type="scatter3d")}function o(){if(this.chart3d&&this.is3d()){var m=this,g=m.renderer,v=m.options.chart.options3d,_=m.chart3d.get3dFrame(),y=m.plotLeft,b=m.plotLeft+m.plotWidth,x=m.plotTop,E=m.plotTop+m.plotHeight,C=0,$=v.depth,S=y-(_.left.visible?_.left.size:0),P=b+(_.right.visible?_.right.size:0),T=x-(_.top.visible?_.top.size:0),k=E+(_.bottom.visible?_.bottom.size:0),L=C-(_.front.visible?_.front.size:0),N=$+(_.back.visible?_.back.size:0),z=m.hasRendered?"animate":"attr";m.chart3d.frame3d=_,m.frameShapes||(m.frameShapes={bottom:g.polyhedron().add(),top:g.polyhedron().add(),left:g.polyhedron().add(),right:g.polyhedron().add(),back:g.polyhedron().add(),front:g.polyhedron().add()}),m.frameShapes.bottom[z]({class:"highcharts-3d-frame highcharts-3d-frame-bottom",zIndex:_.bottom.frontFacing?-1e3:1e3,faces:[{fill:color$5(_.bottom.color).brighten(.1).get(),vertexes:[{x:S,y:k,z:L},{x:P,y:k,z:L},{x:P,y:k,z:N},{x:S,y:k,z:N}],enabled:_.bottom.visible},{fill:color$5(_.bottom.color).brighten(.1).get(),vertexes:[{x:y,y:E,z:$},{x:b,y:E,z:$},{x:b,y:E,z:C},{x:y,y:E,z:C}],enabled:_.bottom.visible},{fill:color$5(_.bottom.color).brighten(-.1).get(),vertexes:[{x:S,y:k,z:L},{x:S,y:k,z:N},{x:y,y:E,z:$},{x:y,y:E,z:C}],enabled:_.bottom.visible&&!_.left.visible},{fill:color$5(_.bottom.color).brighten(-.1).get(),vertexes:[{x:P,y:k,z:N},{x:P,y:k,z:L},{x:b,y:E,z:C},{x:b,y:E,z:$}],enabled:_.bottom.visible&&!_.right.visible},{fill:color$5(_.bottom.color).get(),vertexes:[{x:P,y:k,z:L},{x:S,y:k,z:L},{x:y,y:E,z:C},{x:b,y:E,z:C}],enabled:_.bottom.visible&&!_.front.visible},{fill:color$5(_.bottom.color).get(),vertexes:[{x:S,y:k,z:N},{x:P,y:k,z:N},{x:b,y:E,z:$},{x:y,y:E,z:$}],enabled:_.bottom.visible&&!_.back.visible}]}),m.frameShapes.top[z]({class:"highcharts-3d-frame highcharts-3d-frame-top",zIndex:_.top.frontFacing?-1e3:1e3,faces:[{fill:color$5(_.top.color).brighten(.1).get(),vertexes:[{x:S,y:T,z:N},{x:P,y:T,z:N},{x:P,y:T,z:L},{x:S,y:T,z:L}],enabled:_.top.visible},{fill:color$5(_.top.color).brighten(.1).get(),vertexes:[{x:y,y:x,z:C},{x:b,y:x,z:C},{x:b,y:x,z:$},{x:y,y:x,z:$}],enabled:_.top.visible},{fill:color$5(_.top.color).brighten(-.1).get(),vertexes:[{x:S,y:T,z:N},{x:S,y:T,z:L},{x:y,y:x,z:C},{x:y,y:x,z:$}],enabled:_.top.visible&&!_.left.visible},{fill:color$5(_.top.color).brighten(-.1).get(),vertexes:[{x:P,y:T,z:L},{x:P,y:T,z:N},{x:b,y:x,z:$},{x:b,y:x,z:C}],enabled:_.top.visible&&!_.right.visible},{fill:color$5(_.top.color).get(),vertexes:[{x:S,y:T,z:L},{x:P,y:T,z:L},{x:b,y:x,z:C},{x:y,y:x,z:C}],enabled:_.top.visible&&!_.front.visible},{fill:color$5(_.top.color).get(),vertexes:[{x:P,y:T,z:N},{x:S,y:T,z:N},{x:y,y:x,z:$},{x:b,y:x,z:$}],enabled:_.top.visible&&!_.back.visible}]}),m.frameShapes.left[z]({class:"highcharts-3d-frame highcharts-3d-frame-left",zIndex:_.left.frontFacing?-1e3:1e3,faces:[{fill:color$5(_.left.color).brighten(.1).get(),vertexes:[{x:S,y:k,z:L},{x:y,y:E,z:C},{x:y,y:E,z:$},{x:S,y:k,z:N}],enabled:_.left.visible&&!_.bottom.visible},{fill:color$5(_.left.color).brighten(.1).get(),vertexes:[{x:S,y:T,z:N},{x:y,y:x,z:$},{x:y,y:x,z:C},{x:S,y:T,z:L}],enabled:_.left.visible&&!_.top.visible},{fill:color$5(_.left.color).brighten(-.1).get(),vertexes:[{x:S,y:k,z:N},{x:S,y:T,z:N},{x:S,y:T,z:L},{x:S,y:k,z:L}],enabled:_.left.visible},{fill:color$5(_.left.color).brighten(-.1).get(),vertexes:[{x:y,y:x,z:$},{x:y,y:E,z:$},{x:y,y:E,z:C},{x:y,y:x,z:C}],enabled:_.left.visible},{fill:color$5(_.left.color).get(),vertexes:[{x:S,y:k,z:L},{x:S,y:T,z:L},{x:y,y:x,z:C},{x:y,y:E,z:C}],enabled:_.left.visible&&!_.front.visible},{fill:color$5(_.left.color).get(),vertexes:[{x:S,y:T,z:N},{x:S,y:k,z:N},{x:y,y:E,z:$},{x:y,y:x,z:$}],enabled:_.left.visible&&!_.back.visible}]}),m.frameShapes.right[z]({class:"highcharts-3d-frame highcharts-3d-frame-right",zIndex:_.right.frontFacing?-1e3:1e3,faces:[{fill:color$5(_.right.color).brighten(.1).get(),vertexes:[{x:P,y:k,z:N},{x:b,y:E,z:$},{x:b,y:E,z:C},{x:P,y:k,z:L}],enabled:_.right.visible&&!_.bottom.visible},{fill:color$5(_.right.color).brighten(.1).get(),vertexes:[{x:P,y:T,z:L},{x:b,y:x,z:C},{x:b,y:x,z:$},{x:P,y:T,z:N}],enabled:_.right.visible&&!_.top.visible},{fill:color$5(_.right.color).brighten(-.1).get(),vertexes:[{x:b,y:x,z:C},{x:b,y:E,z:C},{x:b,y:E,z:$},{x:b,y:x,z:$}],enabled:_.right.visible},{fill:color$5(_.right.color).brighten(-.1).get(),vertexes:[{x:P,y:k,z:L},{x:P,y:T,z:L},{x:P,y:T,z:N},{x:P,y:k,z:N}],enabled:_.right.visible},{fill:color$5(_.right.color).get(),vertexes:[{x:P,y:T,z:L},{x:P,y:k,z:L},{x:b,y:E,z:C},{x:b,y:x,z:C}],enabled:_.right.visible&&!_.front.visible},{fill:color$5(_.right.color).get(),vertexes:[{x:P,y:k,z:N},{x:P,y:T,z:N},{x:b,y:x,z:$},{x:b,y:E,z:$}],enabled:_.right.visible&&!_.back.visible}]}),m.frameShapes.back[z]({class:"highcharts-3d-frame highcharts-3d-frame-back",zIndex:_.back.frontFacing?-1e3:1e3,faces:[{fill:color$5(_.back.color).brighten(.1).get(),vertexes:[{x:P,y:k,z:N},{x:S,y:k,z:N},{x:y,y:E,z:$},{x:b,y:E,z:$}],enabled:_.back.visible&&!_.bottom.visible},{fill:color$5(_.back.color).brighten(.1).get(),vertexes:[{x:S,y:T,z:N},{x:P,y:T,z:N},{x:b,y:x,z:$},{x:y,y:x,z:$}],enabled:_.back.visible&&!_.top.visible},{fill:color$5(_.back.color).brighten(-.1).get(),vertexes:[{x:S,y:k,z:N},{x:S,y:T,z:N},{x:y,y:x,z:$},{x:y,y:E,z:$}],enabled:_.back.visible&&!_.left.visible},{fill:color$5(_.back.color).brighten(-.1).get(),vertexes:[{x:P,y:T,z:N},{x:P,y:k,z:N},{x:b,y:E,z:$},{x:b,y:x,z:$}],enabled:_.back.visible&&!_.right.visible},{fill:color$5(_.back.color).get(),vertexes:[{x:y,y:x,z:$},{x:b,y:x,z:$},{x:b,y:E,z:$},{x:y,y:E,z:$}],enabled:_.back.visible},{fill:color$5(_.back.color).get(),vertexes:[{x:S,y:k,z:N},{x:P,y:k,z:N},{x:P,y:T,z:N},{x:S,y:T,z:N}],enabled:_.back.visible}]}),m.frameShapes.front[z]({class:"highcharts-3d-frame highcharts-3d-frame-front",zIndex:_.front.frontFacing?-1e3:1e3,faces:[{fill:color$5(_.front.color).brighten(.1).get(),vertexes:[{x:S,y:k,z:L},{x:P,y:k,z:L},{x:b,y:E,z:C},{x:y,y:E,z:C}],enabled:_.front.visible&&!_.bottom.visible},{fill:color$5(_.front.color).brighten(.1).get(),vertexes:[{x:P,y:T,z:L},{x:S,y:T,z:L},{x:y,y:x,z:C},{x:b,y:x,z:C}],enabled:_.front.visible&&!_.top.visible},{fill:color$5(_.front.color).brighten(-.1).get(),vertexes:[{x:S,y:T,z:L},{x:S,y:k,z:L},{x:y,y:E,z:C},{x:y,y:x,z:C}],enabled:_.front.visible&&!_.left.visible},{fill:color$5(_.front.color).brighten(-.1).get(),vertexes:[{x:P,y:k,z:L},{x:P,y:T,z:L},{x:b,y:x,z:C},{x:b,y:E,z:C}],enabled:_.front.visible&&!_.right.visible},{fill:color$5(_.front.color).get(),vertexes:[{x:b,y:x,z:C},{x:y,y:x,z:C},{x:y,y:E,z:C},{x:b,y:E,z:C}],enabled:_.front.visible},{fill:color$5(_.front.color).get(),vertexes:[{x:P,y:k,z:L},{x:S,y:k,z:L},{x:S,y:T,z:L},{x:P,y:T,z:L}],enabled:_.front.visible}]})}}function a(){this.styledMode&&(this.renderer.definition({tagName:"style",textContent:`.highcharts-3d-top{filter: url(#highcharts-brighter)}
.highcharts-3d-side{filter: url(#highcharts-darker)}
`}),[{name:"darker",slope:.6},{name:"brighter",slope:1.4}].forEach(function(m){this.renderer.definition({tagName:"filter",attributes:{id:"highcharts-"+m.name},children:[{tagName:"feComponentTransfer",children:[{tagName:"feFuncR",attributes:{type:"linear",slope:m.slope}},{tagName:"feFuncG",attributes:{type:"linear",slope:m.slope}},{tagName:"feFuncB",attributes:{type:"linear",slope:m.slope}}]}]})},this))}function s(){var m=this.options;this.is3d()&&(m.series||[]).forEach(function(g){var v=g.type||m.chart.type||m.chart.defaultSeriesType;v==="scatter"&&(g.type="scatter3d")})}function l(){var m=this,g=m.options.chart.options3d;if(m.chart3d&&m.is3d()){g&&(g.alpha=g.alpha%360+(g.alpha>=0?0:360),g.beta=g.beta%360+(g.beta>=0?0:360));var v=m.inverted,_=m.clipBox,y=m.margin,b=v?"y":"x",x=v?"x":"y",E=v?"height":"width",C=v?"width":"height";_[b]=-(y[3]||0),_[x]=-(y[0]||0),_[E]=m.chartWidth+(y[3]||0)+(y[1]||0),_[C]=m.chartHeight+(y[0]||0)+(y[2]||0),m.scale3d=1,g.fitToPlot===!0&&(m.scale3d=m.chart3d.getScale(g.depth)),m.chart3d.frame3d=m.chart3d.get3dFrame()}}function c(){this.is3d()&&(this.isDirtyBox=!0)}function h(){this.chart3d&&this.is3d()&&(this.chart3d.frame3d=this.chart3d.get3dFrame())}function u(){this.chart3d||(this.chart3d=new i(this))}function d(m){return this.is3d()||m.apply(this,[].slice.call(arguments,1))}function f(m){var g,v=this.series.length;if(this.is3d())for(;v--;)g=this.series[v],g.translate(),g.render();else m.call(this)}function p(m){m.apply(this,[].slice.call(arguments,1)),this.is3d()&&(this.container.className+=" highcharts-3d-chart")}})(Chart3D||(Chart3D={}));const Chart3D$1=Chart3D;var __extends$1F=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),addEvent$g=Utilities.addEvent,merge$m=Utilities.merge,pick$p=Utilities.pick,splat$2=Utilities.splat,ZChart=function(){function n(){}return n.compose=function(i){addEvent$g(i,"afterGetAxes",n.onAfterGetAxes);var t=i.prototype;t.addZAxis=n.wrapAddZAxis,t.collectionsWithInit.zAxis=[t.addZAxis],t.collectionsWithUpdate.push("zAxis")},n.onAfterGetAxes=function(){var i=this,t=this.options,r=t.zAxis=splat$2(t.zAxis||{});i.is3d()&&(i.zAxis=[],r.forEach(function(o,a){o.index=a,o.isX=!0,i.addZAxis(o).setScale()}))},n.wrapAddZAxis=function(i){return new ZAxis(this,i)},n}(),ZAxis=function(n){__extends$1F(i,n);function i(t,r){var o=n.call(this,t,r)||this;return o.isZAxis=!0,o}return i.prototype.getSeriesExtremes=function(){var t=this,r=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.ignoreMinPadding=t.ignoreMaxPadding=void 0,t.stacking&&t.stacking.buildStacks(),t.series.forEach(function(o){if(o.visible||!r.options.chart.ignoreHiddenSeries){var a=o.options,s=void 0,l=a.threshold;t.hasVisibleSeries=!0,t.positiveValuesOnly&&l<=0&&(l=void 0),s=o.zData,s.length&&(t.dataMin=Math.min(pick$p(t.dataMin,s[0]),Math.min.apply(null,s)),t.dataMax=Math.max(pick$p(t.dataMax,s[0]),Math.max.apply(null,s)))}})},i.prototype.setAxisSize=function(){var t=this,r=t.chart;n.prototype.setAxisSize.call(this),t.width=t.len=r.options.chart.options3d&&r.options.chart.options3d.depth||0,t.right=r.chartWidth-t.width-t.left},i.prototype.setOptions=function(t){t=merge$m({offset:0,lineWidth:0},t),this.isZAxis=!0,n.prototype.setOptions.call(this,t),this.coll="zAxis"},i.ZChartComposition=ZChart,i}(Axis),addEvent$f=Utilities.addEvent,extend$u=Utilities.extend,wrap$4=Utilities.wrap,Tick3D=function(){function n(){}return n.compose=function(i){addEvent$f(i,"afterGetLabelPosition",n.onAfterGetLabelPosition);var t=i.prototype;wrap$4(t,"getMarkPath",n.wrapGetMarkPath)},n.onAfterGetLabelPosition=function(i){var t=this.axis.axis3D;t&&extend$u(i.pos,t.fix3dPosition(i.pos))},n.wrapGetMarkPath=function(i){this.axis.chart;var t=this.axis.axis3D,r=i.apply(this,[].slice.call(arguments,1));if(t){var o=r[0],a=r[1];if(o[0]==="M"&&a[0]==="L"){var s=[t.fix3dPosition({x:o[1],y:o[2],z:0}),t.fix3dPosition({x:a[1],y:a[2],z:0})];return this.axis.chart.renderer.toLineSegments(s)}}return r},n}(),deg2rad$1=H.deg2rad,perspective$3=mathModule.perspective,perspective3D=mathModule.perspective3D,shapeArea=mathModule.shapeArea,addEvent$e=Utilities.addEvent,merge$l=Utilities.merge,pick$o=Utilities.pick,wrap$3=Utilities.wrap,Axis3DAdditions=function(){function n(i){this.axis=i}return n.prototype.fix3dPosition=function(i,t){var r=this,o=r.axis,a=o.chart;if(o.coll==="colorAxis"||!a.chart3d||!a.is3d())return i;var s=deg2rad$1*a.options.chart.options3d.alpha,l=deg2rad$1*a.options.chart.options3d.beta,c=pick$o(t&&o.options.title.position3d,o.options.labels.position3d),h=pick$o(t&&o.options.title.skew3d,o.options.labels.skew3d),u=a.chart3d.frame3d,d=a.plotLeft,f=a.plotWidth+d,p=a.plotTop,m=a.plotHeight+p,g=0,v=0,_,y={x:0,y:1,z:0},b=!1;if(i=o.axis3D.swapZ({x:i.x,y:i.y,z:0}),o.isZAxis)if(o.opposite){if(u.axes.z.top===null)return{};v=i.y-p,i.x=u.axes.z.top.x,i.y=u.axes.z.top.y,_=u.axes.z.top.xDir,b=!u.top.frontFacing}else{if(u.axes.z.bottom===null)return{};v=i.y-m,i.x=u.axes.z.bottom.x,i.y=u.axes.z.bottom.y,_=u.axes.z.bottom.xDir,b=!u.bottom.frontFacing}else if(o.horiz)if(o.opposite){if(u.axes.x.top===null)return{};v=i.y-p,i.y=u.axes.x.top.y,i.z=u.axes.x.top.z,_=u.axes.x.top.xDir,b=!u.top.frontFacing}else{if(u.axes.x.bottom===null)return{};v=i.y-m,i.y=u.axes.x.bottom.y,i.z=u.axes.x.bottom.z,_=u.axes.x.bottom.xDir,b=!u.bottom.frontFacing}else if(o.opposite){if(u.axes.y.right===null)return{};g=i.x-f,i.x=u.axes.y.right.x,i.z=u.axes.y.right.z,_=u.axes.y.right.xDir,_={x:_.z,y:_.y,z:-_.x}}else{if(u.axes.y.left===null)return{};g=i.x-d,i.x=u.axes.y.left.x,i.z=u.axes.y.left.z,_=u.axes.y.left.xDir}if(c!=="chart")if(c==="flap")if(!o.horiz)_={x:Math.cos(l),y:0,z:Math.sin(l)};else{var x=Math.sin(s),E=Math.cos(s);o.opposite&&(x=-x),b&&(x=-x),y={x:_.z*x,y:E,z:-_.x*x}}else if(c==="ortho")if(!o.horiz)_={x:Math.cos(l),y:0,z:Math.sin(l)};else{var C=Math.sin(s),$=Math.cos(s),S=Math.sin(l),P=Math.cos(l),T={x:S*$,y:-C,z:-$*P};y={x:_.y*T.z-_.z*T.y,y:_.z*T.x-_.x*T.z,z:_.x*T.y-_.y*T.x};var k=1/Math.sqrt(y.x*y.x+y.y*y.y+y.z*y.z);b&&(k=-k),y={x:k*y.x,y:k*y.y,z:k*y.z}}else o.horiz?y={x:Math.sin(l)*Math.sin(s),y:Math.cos(s),z:-Math.cos(l)*Math.sin(s)}:_={x:Math.cos(l),y:0,z:Math.sin(l)};i.x+=g*_.x+v*y.x,i.y+=g*_.y+v*y.y,i.z+=g*_.z+v*y.z;var L=perspective$3([i],o.chart)[0];if(h){var N=shapeArea(perspective$3([i,{x:i.x+_.x,y:i.y+_.y,z:i.z+_.z},{x:i.x+y.x,y:i.y+y.y,z:i.z+y.z}],o.chart))<0;N&&(_={x:-_.x,y:-_.y,z:-_.z});var z=perspective$3([{x:i.x,y:i.y,z:i.z},{x:i.x+_.x,y:i.y+_.y,z:i.z+_.z},{x:i.x+y.x,y:i.y+y.y,z:i.z+y.z}],o.chart);L.matrix=[z[1].x-z[0].x,z[1].y-z[0].y,z[2].x-z[0].x,z[2].y-z[0].y,L.x,L.y],L.matrix[4]-=L.x*L.matrix[0]+L.y*L.matrix[2],L.matrix[5]-=L.x*L.matrix[1]+L.y*L.matrix[3]}return L},n.prototype.swapZ=function(i,t){var r=this.axis;if(r.isZAxis){var o=t?0:r.chart.plotLeft;return{x:o+i.z,y:i.y,z:i.x-o}}return i},n}(),Axis3D=function(){function n(){}return n.compose=function(i){merge$l(!0,i.defaultOptions,n.defaultOptions),i.keepProps.push("axis3D"),addEvent$e(i,"init",n.onInit),addEvent$e(i,"afterSetOptions",n.onAfterSetOptions),addEvent$e(i,"drawCrosshair",n.onDrawCrosshair);var t=i.prototype;wrap$3(t,"getLinePath",n.wrapGetLinePath),wrap$3(t,"getPlotBandPath",n.wrapGetPlotBandPath),wrap$3(t,"getPlotLinePath",n.wrapGetPlotLinePath),wrap$3(t,"getSlotWidth",n.wrapGetSlotWidth),wrap$3(t,"getTitlePosition",n.wrapGetTitlePosition),Tick3D.compose(Tick)},n.onAfterSetOptions=function(){var i=this,t=i.chart,r=i.options;t.is3d&&t.is3d()&&i.coll!=="colorAxis"&&(r.tickWidth=pick$o(r.tickWidth,0),r.gridLineWidth=pick$o(r.gridLineWidth,1))},n.onDrawCrosshair=function(i){var t=this;t.chart.is3d()&&t.coll!=="colorAxis"&&i.point&&(i.point.crosshairPos=t.isXAxis?i.point.axisXpos:t.len-i.point.axisYpos)},n.onInit=function(){var i=this;i.axis3D||(i.axis3D=new Axis3DAdditions(i))},n.wrapGetLinePath=function(i){var t=this;return!t.chart.is3d()||t.coll==="colorAxis"?i.apply(t,[].slice.call(arguments,1)):[]},n.wrapGetPlotBandPath=function(i){if(!this.chart.is3d()||this.coll==="colorAxis")return i.apply(this,[].slice.call(arguments,1));var t=arguments,r=t[1],o=t[2],a=[],s=this.getPlotLinePath({value:r}),l=this.getPlotLinePath({value:o});if(s&&l)for(var c=0;c<s.length;c+=2){var h=s[c],u=s[c+1],d=l[c],f=l[c+1];h[0]==="M"&&u[0]==="L"&&d[0]==="M"&&f[0]==="L"&&a.push(h,u,f,["L",d[1],d[2]],["Z"])}return a},n.wrapGetPlotLinePath=function(i){var t=this,r=t.axis3D,o=t.chart,a=i.apply(t,[].slice.call(arguments,1));if(t.coll==="colorAxis"||!o.chart3d||!o.is3d()||a===null)return a;var s=o.options.chart.options3d,l=t.isZAxis?o.plotWidth:s.depth,c=o.chart3d.frame3d,h=a[0],u=a[1],d,f=[];return h[0]==="M"&&u[0]==="L"&&(d=[r.swapZ({x:h[1],y:h[2],z:0}),r.swapZ({x:h[1],y:h[2],z:l}),r.swapZ({x:u[1],y:u[2],z:0}),r.swapZ({x:u[1],y:u[2],z:l})],this.horiz?this.isZAxis?(c.left.visible&&f.push(d[0],d[2]),c.right.visible&&f.push(d[1],d[3]),c.top.visible&&f.push(d[0],d[1]),c.bottom.visible&&f.push(d[2],d[3])):(c.front.visible&&f.push(d[0],d[2]),c.back.visible&&f.push(d[1],d[3]),c.top.visible&&f.push(d[0],d[1]),c.bottom.visible&&f.push(d[2],d[3])):(c.front.visible&&f.push(d[0],d[2]),c.back.visible&&f.push(d[1],d[3]),c.left.visible&&f.push(d[0],d[1]),c.right.visible&&f.push(d[2],d[3])),f=perspective$3(f,this.chart,!1)),o.renderer.toLineSegments(f)},n.wrapGetSlotWidth=function(i,t){var r=this,o=r.chart,a=r.ticks,s=r.gridGroup;if(r.categories&&o.frameShapes&&o.is3d()&&s&&t&&t.label){var l=s.element.childNodes[0].getBBox(),c=o.frameShapes.left.getBBox(),h=o.options.chart.options3d,u={x:o.plotWidth/2,y:o.plotHeight/2,z:h.depth/2,vd:pick$o(h.depth,1)*pick$o(h.viewDistance,0)},d=t.pos,f=a[d-1],p=a[d+1],m=void 0,g=void 0,v=void 0;return d!==0&&f&&f.label&&f.label.xy&&(g=perspective3D({x:f.label.xy.x,y:f.label.xy.y,z:null},u,u.vd)),p&&p.label&&p.label.xy&&(v=perspective3D({x:p.label.xy.x,y:p.label.xy.y,z:null},u,u.vd)),m={x:t.label.xy.x,y:t.label.xy.y,z:null},m=perspective3D(m,u,u.vd),Math.abs(g?m.x-g.x:v?v.x-m.x:l.x-c.x)}return i.apply(r,[].slice.call(arguments,1))},n.wrapGetTitlePosition=function(i){var t=i.apply(this,[].slice.call(arguments,1));return this.axis3D?this.axis3D.fix3dPosition(t,!0):t},n.defaultOptions={labels:{position3d:"offset",skew3d:!1},title:{position3d:null,skew3d:null}},n}(),__extends$1E=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),perspective$2=mathModule.perspective,addEvent$d=Utilities.addEvent,extend$t=Utilities.extend,merge$k=Utilities.merge,pick$n=Utilities.pick,isNumber$9=Utilities.isNumber,Series3D=function(n){__extends$1E(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i.prototype.translate=function(){n.prototype.translate.apply(this,arguments),this.chart.is3d()&&this.translate3dPoints()},i.prototype.translate3dPoints=function(){var t=this,r=t.options,o=t.chart,a=pick$n(t.zAxis,o.options.zAxis[0]),s=[],l,c,h,u,d,f=[],p=r.stacking?isNumber$9(r.stack)?r.stack:0:t.index||0;for(t.zPadding=p*(r.depth||0+(r.groupZPadding||1)),d=0;d<t.data.length;d++)l=t.data[d],a&&a.translate?(u=a.logarithmic&&a.val2lin?a.val2lin(l.z):l.z,l.plotZ=a.translate(u),l.isInside=l.isInside?u>=a.min&&u<=a.max:!1):l.plotZ=t.zPadding,l.axisXpos=l.plotX,l.axisYpos=l.plotY,l.axisZpos=l.plotZ,s.push({x:l.plotX,y:l.plotY,z:l.plotZ}),f.push(l.plotX||0);for(t.rawPointsX=f,c=perspective$2(s,o,!0),d=0;d<t.data.length;d++)l=t.data[d],h=c[d],l.plotX=h.x,l.plotY=h.y,l.plotZ=h.z},i.defaultOptions=merge$k(Series$e.defaultOptions),i}(Series$e);addEvent$d(Series$e,"afterTranslate",function(){this.chart.is3d()&&this.translate3dPoints()});extend$t(Series$e.prototype,{translate3dPoints:Series3D.prototype.translate3dPoints});var columnProto$1=ColumnSeries$h.prototype,svg$1=H.svg,perspective$1=mathModule.perspective,addEvent$c=Utilities.addEvent,pick$m=Utilities.pick,wrap$2=Utilities.wrap;function retrieveStacks(n,i){var t=n.series,r={totalStacks:0},o,a=1;return t.forEach(function(s){o=pick$m(s.options.stack,i?0:t.length-1-s.index),r[o]?r[o].series.push(s):(r[o]={series:[s],position:a},a++)}),r.totalStacks=a+1,r}wrap$2(columnProto$1,"translate",function(n){n.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.translate3dShapes()});wrap$2(Series$e.prototype,"justifyDataLabel",function(n){return arguments[2].outside3dPlot?!1:n.apply(this,[].slice.call(arguments,1))});columnProto$1.translate3dPoints=function(){};columnProto$1.translate3dShapes=function(){var n=this,i=n.chart,t=n.options,r=t.depth,o=t.stacking?t.stack||0:n.index,a=o*(r+(t.groupZPadding||1)),s=n.borderWidth%2?.5:0,l;i.inverted&&!n.yAxis.reversed&&(s*=-1),t.grouping!==!1&&(a=0),a+=t.groupZPadding||1,n.data.forEach(function(c){if(c.outside3dPlot=null,c.y!==null){var h=c.shapeArgs,u=c.tooltipPos,d=[["x","width"],["y","height"]],f;d.forEach(function(p){if(f=h[p[0]]-s,f<0&&(h[p[1]]+=h[p[0]]+s,h[p[0]]=-s,f=0),f+h[p[1]]>n[p[0]+"Axis"].len&&h[p[1]]!==0&&(h[p[1]]=n[p[0]+"Axis"].len-h[p[0]]),h[p[1]]!==0&&(h[p[0]]>=n[p[0]+"Axis"].len||h[p[0]]+h[p[1]]<=s)){for(var m in h)h[m]=m==="y"?-9999:0;c.outside3dPlot=!0}}),c.shapeType==="rect"&&(c.shapeType="cuboid"),h.z=a,h.depth=r,h.insidePlotArea=!0,l={x:h.x+h.width/2,y:h.y,z:a+r/2},i.inverted&&(l.x=h.height,l.y=c.clientX),c.plot3d=perspective$1([l],i,!0,!1)[0],u=perspective$1([{x:u[0],y:u[1],z:a+r/2}],i,!0,!1)[0],c.tooltipPos=[u.x,u.y]}}),n.z=a};wrap$2(columnProto$1,"animate",function(n){if(!this.chart.is3d())n.apply(this,[].slice.call(arguments,1));else{var i=arguments,t=i[1],r=this.yAxis,o=this,a=this.yAxis.reversed;svg$1&&(t?o.data.forEach(function(s){s.y!==null&&(s.height=s.shapeArgs.height,s.shapey=s.shapeArgs.y,s.shapeArgs.height=1,a||(s.stackY?s.shapeArgs.y=s.plotY+r.translate(s.stackY):s.shapeArgs.y=s.plotY+(s.negative?-s.height:s.height)))}):(o.data.forEach(function(s){s.y!==null&&(s.shapeArgs.height=s.height,s.shapeArgs.y=s.shapey,s.graphic&&s.graphic[s.outside3dPlot?"attr":"animate"](s.shapeArgs,o.options.animation))}),this.drawDataLabels()))}});wrap$2(columnProto$1,"plotGroup",function(n,i,t,r,o,a){return i!=="dataLabelsGroup"&&this.chart.is3d()&&(this[i]&&delete this[i],a&&(this.chart.columnGroup||(this.chart.columnGroup=this.chart.renderer.g("columnGroup").add(a)),this[i]=this.chart.columnGroup,this.chart.columnGroup.attr(this.getPlotBox()),this[i].survive=!0,(i==="group"||i==="markerGroup")&&(arguments[3]="visible"))),n.apply(this,Array.prototype.slice.call(arguments,1))});wrap$2(columnProto$1,"setVisible",function(n,i){var t=this;t.chart.is3d()&&t.data.forEach(function(r){r.visible=r.options.visible=i=typeof i>"u"?!pick$m(t.visible,r.visible):i,t.options.data[t.data.indexOf(r)]=r.options,r.graphic&&r.graphic.attr({visibility:i?"visible":"hidden"})}),n.apply(this,Array.prototype.slice.call(arguments,1))});addEvent$c(ColumnSeries$h,"afterInit",function(){if(this.chart.is3d()){var n=this,i=this.options,t=i.grouping,r=i.stacking,o=this.yAxis.options.reversedStacks,a=0;if(!(typeof t<"u"&&!t)){var s=retrieveStacks(this.chart,r),l=i.stack||0,c=void 0;for(c=0;c<s[l].series.length&&s[l].series[c]!==this;c++);a=10*(s.totalStacks-s[l].position)+(o?c:-c),this.xAxis.reversed||(a=s.totalStacks*10-a)}i.depth=i.depth||25,n.z=n.z||0,i.zIndex=a}});function pointAttribs(n){var i=n.apply(this,[].slice.call(arguments,1));return this.chart.is3d&&this.chart.is3d()&&(i.stroke=this.options.edgeColor||i.fill,i["stroke-width"]=pick$m(this.options.edgeWidth,1)),i}function setState(n,i,t){var r=this.chart.is3d&&this.chart.is3d();r&&(this.options.inactiveOtherPoints=!0),n.call(this,i,t),r&&(this.options.inactiveOtherPoints=!1)}function hasNewShapeType(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];return this.series.chart.is3d()?this.graphic&&this.graphic.element.nodeName!=="g":n.apply(this,i)}wrap$2(columnProto$1,"pointAttribs",pointAttribs);wrap$2(columnProto$1,"setState",setState);wrap$2(columnProto$1.pointClass.prototype,"hasNewShapeType",hasNewShapeType);if(SeriesRegistry$1.seriesTypes.columnRange){var columnRangeProto=SeriesRegistry$1.seriesTypes.columnrange.prototype;wrap$2(columnRangeProto,"pointAttribs",pointAttribs),wrap$2(columnRangeProto,"setState",setState),wrap$2(columnRangeProto.pointClass.prototype,"hasNewShapeType",hasNewShapeType),columnRangeProto.plotGroup=columnProto$1.plotGroup,columnRangeProto.setVisible=columnProto$1.setVisible}wrap$2(Series$e.prototype,"alignDataLabel",function(n,i,t,r,o){var a=this.chart;if(r.outside3dPlot=i.outside3dPlot,a.is3d()&&this.is("column")){var s=this,l=s.options,c=pick$m(r.inside,!!s.options.stacking),h=a.options.chart.options3d,u=i.pointWidth/2||0,d={x:o.x+u,y:o.y,z:s.z+l.depth/2};a.inverted&&(c&&(o.width=0,d.x+=i.shapeArgs.height/2),h.alpha>=90&&h.alpha<=270&&(d.y+=i.shapeArgs.width)),d=perspective$1([d],a,!0,!1)[0],o.x=d.x-u,o.y=i.outside3dPlot?-9e9:d.y}n.apply(this,[].slice.call(arguments,1))});wrap$2(StackItem$1.prototype,"getStackBox",function(n,i,t,r,o,a,s,l){var c=n.apply(this,[].slice.call(arguments,1));if(i.is3d()&&t.base){var h=+t.base.split(",")[0],u=i.series[h],d=i.options.chart.options3d;if(u&&u instanceof SeriesRegistry$1.seriesTypes.column){var f={x:c.x+(i.inverted?s:a/2),y:c.y,z:u.options.depth/2};i.inverted&&(c.width=0,d.alpha>=90&&d.alpha<=270&&(f.y+=a)),f=perspective$1([f],i,!0,!1)[0],c.x=f.x-a/2,c.y=f.y}}return c});var __extends$1D=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),PiePoint$2=SeriesRegistry$1.seriesTypes.pie.prototype.pointClass,superHaloPath=PiePoint$2.prototype.haloPath,Pie3DPoint=function(n){__extends$1D(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.series=void 0,t}return i.prototype.haloPath=function(){return this.series.chart.is3d()?[]:superHaloPath.apply(this,arguments)},i}(PiePoint$2),__extends$1C=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),deg2rad=H.deg2rad,svg=H.svg,PieSeries$2=SeriesRegistry$1.seriesTypes.pie,extend$s=Utilities.extend,pick$l=Utilities.pick,Pie3DSeries=function(n){__extends$1C(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i.prototype.addPoint=function(){n.prototype.addPoint.apply(this,arguments),this.chart.is3d()&&this.update(this.userOptions,!0)},i.prototype.animate=function(t){if(!this.chart.is3d())n.prototype.animate.apply(this,arguments);else{var r=this.options.animation,o=void 0,a=this.center,s=this.group,l=this.markerGroup;svg&&(r===!0&&(r={}),t?(s.oldtranslateX=pick$l(s.oldtranslateX,s.translateX),s.oldtranslateY=pick$l(s.oldtranslateY,s.translateY),o={translateX:a[0],translateY:a[1],scaleX:.001,scaleY:.001},s.attr(o),l&&(l.attrSetters=s.attrSetters,l.attr(o))):(o={translateX:s.oldtranslateX,translateY:s.oldtranslateY,scaleX:1,scaleY:1},s.animate(o,r),l&&l.animate(o,r)))}},i.prototype.drawDataLabels=function(){if(this.chart.is3d()){var t=this,r=t.chart,o=r.options.chart.options3d;t.data.forEach(function(a){var s=a.shapeArgs,l=s.r,c=(s.alpha||o.alpha)*deg2rad,h=(s.beta||o.beta)*deg2rad,u=(s.start+s.end)/2,d=a.labelPosition,f=d.connectorPosition,p=-l*(1-Math.cos(c))*Math.sin(u),m=l*(Math.cos(h)-1)*Math.cos(u);[d.natural,f.breakAt,f.touchingSliceAt].forEach(function(g){g.x+=m,g.y+=p})})}n.prototype.drawDataLabels.apply(this,arguments)},i.prototype.pointAttribs=function(t){var r=n.prototype.pointAttribs.apply(this,arguments),o=this.options;return this.chart.is3d()&&!this.chart.styledMode&&(r.stroke=o.edgeColor||t.color||this.color,r["stroke-width"]=pick$l(o.edgeWidth,1)),r},i.prototype.translate=function(){if(n.prototype.translate.apply(this,arguments),!!this.chart.is3d()){var t=this,r=t.options,o=r.depth||0,a=t.chart.options.chart.options3d,s=a.alpha,l=a.beta,c=r.stacking?(r.stack||0)*o:t._i*o;c+=o/2,r.grouping!==!1&&(c=0),t.data.forEach(function(h){var u=h.shapeArgs,d;h.shapeType="arc3d",u.z=c,u.depth=o*.75,u.alpha=s,u.beta=l,u.center=t.center,d=(u.end+u.start)/2,h.slicedTranslation={translateX:Math.round(Math.cos(d)*r.slicedOffset*Math.cos(s*deg2rad)),translateY:Math.round(Math.sin(d)*r.slicedOffset*Math.cos(s*deg2rad))}})}},i}(PieSeries$2);extend$s(Pie3DSeries.prototype,{pointClass:Pie3DPoint});SeriesRegistry$1.seriesTypes.pie.prototype.pointClass.prototype.haloPath=Pie3DPoint.prototype.haloPath;SeriesRegistry$1.seriesTypes.pie=Pie3DSeries;var __extends$1B=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),defined$9=Utilities.defined,Scatter3DPoint=function(n){__extends$1B(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t}return i.prototype.applyOptions=function(){return n.prototype.applyOptions.apply(this,arguments),defined$9(this.z)||(this.z=0),this},i}(ScatterSeries$4.prototype.pointClass),__extends$1A=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pointCameraDistance=mathModule.pointCameraDistance,extend$r=Utilities.extend,merge$j=Utilities.merge,Scatter3DSeries=function(n){__extends$1A(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return i.prototype.pointAttribs=function(t){var r=n.prototype.pointAttribs.apply(this,arguments);return this.chart.is3d()&&t&&(r.zIndex=pointCameraDistance(t,this.chart)),r},i.defaultOptions=merge$j(ScatterSeries$4.defaultOptions,{tooltip:{pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>"}}),i}(ScatterSeries$4);extend$r(Scatter3DSeries.prototype,{axisTypes:["xAxis","yAxis","zAxis"],directTouch:!0,parallelArrays:["x","y","z"],pointArrayMap:["x","y","z"],pointClass:Scatter3DPoint});SeriesRegistry$1.registerSeriesType("scatter3d",Scatter3DSeries);var perspective=mathModule.perspective,_a$6=SeriesRegistry$1.seriesTypes,AreaSeriesClass=_a$6.area,LineSeriesClass=_a$6.line,pick$k=Utilities.pick,wrap$1=Utilities.wrap;wrap$1(AreaSeriesClass.prototype,"getGraphPath",function(n){var i=this,t=n.apply(i,[].slice.call(arguments,1));if(!i.chart.is3d())return t;var r=LineSeriesClass.prototype.getGraphPath,o=i.options,a=o.stacking,s,l=[],c=[],h,u=pick$k(o.connectNulls,a==="percent"),d=Math.round(i.yAxis.getThreshold(o.threshold)),f;if(i.rawPointsX)for(var p=0;p<i.points.length;p++)l.push({x:i.rawPointsX[p],y:o.stacking?i.points[p].yBottom:d,z:i.zPadding});return f=i.chart.options.chart.options3d,l=perspective(l,i.chart,!0).map(function(m){return{plotX:m.x,plotY:m.y,plotZ:m.z}}),i.group&&f&&f.depth&&f.beta&&(i.markerGroup&&(i.markerGroup.add(i.group),i.markerGroup.attr({translateX:0,translateY:0})),i.group.attr({zIndex:Math.max(1,f.beta>270||f.beta<90?f.depth-Math.round(i.zPadding||0):Math.round(i.zPadding||0))})),l.reversed=!0,s=r.call(i,l,!0,!0),s[0]&&s[0][0]==="M"&&(s[0]=["L",s[0][1],s[0][2]]),i.areaPath&&(h=i.areaPath.splice(0,i.areaPath.length/2).concat(s),h.xMap=i.areaPath.xMap,i.areaPath=h,r.call(i,c,!1,u)),t});/**
 * @license Highcharts JS v9.2.2 (2021-08-24)
 * @module highcharts/highcharts-3d
 * @requires highcharts
 *
 * 3D features for Highcharts JS
 *
 * License: www.highcharts.com/license
 */var G$3=H;SVGRenderer3D.compose(G$3.SVGRenderer);Chart3D$1.compose(G$3.Chart,G$3.Fx);ZAxis.ZChartComposition.compose(G$3.Chart);Axis3D.compose(G$3.Axis);var doc$2=H.doc,createElement$1=Utilities.createElement,discardElement$1=Utilities.discardElement,merge$i=Utilities.merge,objectEach$5=Utilities.objectEach;function ajax$1(n){var i=merge$i(!0,{url:!1,type:"get",dataType:"json",success:!1,error:!1,data:!1,headers:{}},n),t={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},r=new XMLHttpRequest;function o(a,s){i.error&&i.error(a,s)}if(!i.url)return!1;r.open(i.type.toUpperCase(),i.url,!0),i.headers["Content-Type"]||r.setRequestHeader("Content-Type",t[i.dataType]||t.text),objectEach$5(i.headers,function(a,s){r.setRequestHeader(s,a)}),r.onreadystatechange=function(){var a;if(r.readyState===4){if(r.status===200){if(a=r.responseText,i.dataType==="json")try{a=JSON.parse(a)}catch(s){return o(r,s)}return i.success&&i.success(a)}o(r,r.responseText)}};try{i.data=JSON.stringify(i.data)}catch{}r.send(i.data||!0)}function getJSON(n,i){exports$5.ajax({url:n,success:i,dataType:"json",headers:{"Content-Type":"text/plain"}})}function post(n,i,t){var r=createElement$1("form",merge$i({method:"post",action:n,enctype:"multipart/form-data"},t),{display:"none"},doc$2.body);objectEach$5(i,function(o,a){createElement$1("input",{type:"hidden",name:a,value:o},null,r)}),r.submit(),discardElement$1(r)}var exports$5={ajax:ajax$1,getJSON,post},doc$1=H.doc,ajax=exports$5.ajax,seriesTypes$2=SeriesRegistry$1.seriesTypes,addEvent$b=Utilities.addEvent,defined$8=Utilities.defined,extend$q=Utilities.extend,fireEvent$5=Utilities.fireEvent,isNumber$8=Utilities.isNumber,merge$h=Utilities.merge,objectEach$4=Utilities.objectEach,pick$j=Utilities.pick,splat$1=Utilities.splat,Data=function(){function n(i,t,r){this.chart=void 0,this.chartOptions=void 0,this.firstRowAsNames=void 0,this.rawColumns=void 0,this.options=void 0,this.dateFormats={"YYYY/mm/dd":{regex:/^([0-9]{4})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{1,2})$/,parser:function(o){return o?Date.UTC(+o[1],o[2]-1,+o[3]):NaN}},"dd/mm/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(o){return o?Date.UTC(+o[3],o[2]-1,+o[1]):NaN},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(o){return o?Date.UTC(+o[3],o[1]-1,+o[2]):NaN}},"dd/mm/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(o){if(!o)return NaN;var a=+o[3],s=new Date;return a>s.getFullYear()-2e3?a+=1900:a+=2e3,Date.UTC(a,o[2]-1,+o[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(o){return o?Date.UTC(+o[3]+2e3,o[1]-1,+o[2]):NaN}}},this.init(i,t,r)}return n.prototype.init=function(i,t,r){var o=i.decimalPoint,a;t&&(this.chartOptions=t),r&&(this.chart=r),o!=="."&&o!==","&&(o=void 0),this.options=i,this.columns=i.columns||this.rowsToColumns(i.rows)||[],this.firstRowAsNames=pick$j(i.firstRowAsNames,this.firstRowAsNames,!0),this.decimalRegex=o&&new RegExp("^(-?[0-9]+)"+o+"([0-9]+)$"),this.rawColumns=[],this.columns.length&&(this.dataFound(),a=!0),this.hasURLOption(i)&&(clearTimeout(this.liveDataTimeout),a=!1),a||(a=this.fetchLiveData()),a||(a=!!this.parseCSV().length),a||(a=!!this.parseTable().length),a||(a=this.parseGoogleSpreadsheet()),!a&&i.afterComplete&&i.afterComplete()},n.prototype.hasURLOption=function(i){return!!(i&&(i.rowsURL||i.csvURL||i.columnsURL))},n.prototype.getColumnDistribution=function(){var i=this.chartOptions,t=this.options,r=[],o=function(p){return(seriesTypes$2[p||"line"].prototype.pointArrayMap||[0]).length},a=function(p){return seriesTypes$2[p||"line"].prototype.pointArrayMap},s=i&&i.chart&&i.chart.type,l=[],c=[],h=0,u=t&&t.seriesMapping||i&&i.series&&i.series.map(function(){return{x:0}})||[],d;(i&&i.series||[]).forEach(function(p){l.push(o(p.type||s))}),u.forEach(function(p){r.push(p.x||0)}),r.length===0&&r.push(0),u.forEach(function(p){var m=new SeriesBuilder,g=l[h]||o(s),v=i&&i.series||[],_=v[h]||{},y=a(_.type||s),b=y||["y"];for((defined$8(p.x)||_.isCartesian||!y)&&m.addColumnReader(p.x,"x"),objectEach$4(p,function(x,E){E!=="x"&&m.addColumnReader(x,E)}),d=0;d<g;d++)m.hasReader(b[d])||m.addColumnReader(void 0,b[d]);c.push(m),h++});var f=a(s);typeof f>"u"&&(f=["y"]),this.valueCount={global:o(s),xColumns:r,individual:l,seriesBuilders:c,globalPointArrayMap:f}},n.prototype.dataFound=function(){this.options.switchRowsAndColumns&&(this.columns=this.rowsToColumns(this.columns)),this.getColumnDistribution(),this.parseTypes(),this.parsed()!==!1&&this.complete()},n.prototype.parseCSV=function(i){var t=this,r=i||this.options,o=r.csv,a,s=typeof r.startRow<"u"&&r.startRow?r.startRow:0,l=r.endRow||Number.MAX_VALUE,c=typeof r.startColumn<"u"&&r.startColumn?r.startColumn:0,h=r.endColumn||Number.MAX_VALUE,u,d,f=0,p=[],m={",":0,";":0,"	":0};a=this.columns=[];function g(b,x,E,C){var $=0,S="",P="",T="",k="",L=0,N=0;function z(D){S=b[D],P=b[D-1],T=b[D+1]}function B(D){p.length<N+1&&p.push([D]),p[N][p[N].length-1]!==D&&p[N].push(D)}function U(){if(c>L||L>h){++L,k="";return}!isNaN(parseFloat(k))&&isFinite(k)?(k=parseFloat(k),B("number")):isNaN(Date.parse(k))?B("string"):(k=k.replace(/\//g,"-"),B("date")),a.length<N+1&&a.push([]),E||(a[N][x]=k),k="",++N,++L}if(b.trim().length&&b.trim()[0]!=="#"){for(;$<b.length;$++)if(z($),S==='"')for(z(++$);$<b.length&&!(S==='"'&&P!=='"'&&T!=='"');)(S!=='"'||S==='"'&&P!=='"')&&(k+=S),z(++$);else C&&C[S]?C[S](S,k)&&U():S===u?U():k+=S;U()}}function v(b){var x=0,E=0,C=!1;return b.some(function($,S){var P=!1,T,k,L,N="";if(S>13)return!0;for(var z=0;z<$.length;z++){if(T=$[z],k=$[z+1],L=$[z-1],T==="#")return;if(T==='"')if(P){if(L!=='"'&&k!=='"'){for(;k===" "&&z<$.length;)k=$[++z];typeof m[k]<"u"&&m[k]++,P=!1}}else P=!0;else typeof m[T]<"u"?(N=N.trim(),isNaN(Date.parse(N))?(isNaN(N)||!isFinite(N))&&m[T]++:m[T]++,N=""):N+=T;T===","&&E++,T==="."&&x++}}),m[";"]>m[","]?C=";":(m[","]>m[";"],C=","),r.decimalPoint||(x>E?r.decimalPoint=".":r.decimalPoint=",",t.decimalRegex=new RegExp("^(-?[0-9]+)"+r.decimalPoint+"([0-9]+)$")),C}function _(b,x){var E="YYYY/mm/dd",C,$=[],S,P=0,T=!1,k=[],L=[],N;for((!x||x>b.length)&&(x=b.length);P<x;P++)if(typeof b[P]<"u"&&b[P]&&b[P].length)for(C=b[P].trim().replace(/\//g," ").replace(/\-/g," ").replace(/\./g," ").split(" "),$=["","",""],N=0;N<C.length;N++)N<$.length&&(C[N]=parseInt(C[N],10),C[N]&&(L[N]=!L[N]||L[N]<C[N]?C[N]:L[N],typeof k[N]<"u"?k[N]!==C[N]&&(k[N]=!1):k[N]=C[N],C[N]>31?C[N]<100?$[N]="YY":$[N]="YYYY":C[N]>12&&C[N]<=31?($[N]="dd",T=!0):$[N].length||($[N]="mm")));if(T){for(N=0;N<k.length;N++)k[N]!==!1?L[N]>12&&$[N]!=="YY"&&$[N]!=="YYYY"&&($[N]="YY"):L[N]>12&&$[N]==="mm"&&($[N]="dd");return $.length===3&&$[1]==="dd"&&$[2]==="dd"&&($[2]="YY"),S=$.join("/"),(r.dateFormats||t.dateFormats)[S]?S:(fireEvent$5("deduceDateFailed"),E)}return E}if(o&&r.beforeParse&&(o=r.beforeParse.call(this,o)),o){d=o.replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(r.lineDelimiter||`
`),(!s||s<0)&&(s=0),(!l||l>=d.length)&&(l=d.length-1),r.itemDelimiter?u=r.itemDelimiter:(u=null,u=v(d));var y=0;for(f=s;f<=l;f++)d[f][0]==="#"?y++:g(d[f],f-s-y);(!r.columnTypes||r.columnTypes.length===0)&&p.length&&p[0].length&&p[0][1]==="date"&&!r.dateFormat&&(r.dateFormat=_(a[0])),this.dataFound()}return a},n.prototype.parseTable=function(){var i=this.options,t=i.table,r=this.columns||[],o=i.startRow||0,a=i.endRow||Number.MAX_VALUE,s=i.startColumn||0,l=i.endColumn||Number.MAX_VALUE;return t&&(typeof t=="string"&&(t=doc$1.getElementById(t)),[].forEach.call(t.getElementsByTagName("tr"),function(c,h){h>=o&&h<=a&&[].forEach.call(c.children,function(u,d){var f=r[d-s],p=1;if((u.tagName==="TD"||u.tagName==="TH")&&d>=s&&d<=l)for(r[d-s]||(r[d-s]=[]),r[d-s][h-o]=u.innerHTML;h-o>=p&&f[h-o-p]===void 0;)f[h-o-p]=null,p++})}),this.dataFound()),r},n.prototype.fetchLiveData=function(){var i=this,t=this.chart,r=this.options,o=3,a=0,s=r.enablePolling,l=(r.dataRefreshRate||2)*1e3,c=merge$h(r);if(!this.hasURLOption(r))return!1;l<1e3&&(l=1e3),delete r.csvURL,delete r.rowsURL,delete r.columnsURL;function h(u){function d(f,p,m){if(!f||!/^(http|\/|\.\/|\.\.\/)/.test(f))return f&&r.error&&r.error("Invalid URL"),!1;u&&(clearTimeout(i.liveDataTimeout),t.liveDataURL=f);function g(){s&&t.liveDataURL===f&&(i.liveDataTimeout=setTimeout(h,l))}return ajax({url:f,dataType:m||"json",success:function(v){t&&t.series&&p(v),g()},error:function(v,_){return++a<o&&g(),r.error&&r.error(_,v)}}),!0}d(c.csvURL,function(f){t.update({data:{csv:f}})},"text")||d(c.rowsURL,function(f){t.update({data:{rows:f}})})||d(c.columnsURL,function(f){t.update({data:{columns:f}})})}return h(!0),this.hasURLOption(r)},n.prototype.parseGoogleSpreadsheet=function(){var i=this,t=this.options,r=t.googleSpreadsheetKey,o=this.chart,a=Math.max((t.dataRefreshRate||2)*1e3,4e3),s=function(){if(t.googleSpreadsheetRange)return t.googleSpreadsheetRange;var c="ABCDEFGHIJKLMNOPQRSTUVWXYZ",h=(c.charAt(t.startColumn||0)||"A")+((t.startRow||0)+1),u=c.charAt(pick$j(t.endColumn,-1))||"ZZ";return defined$8(t.endRow)&&(u+=t.endRow+1),h+":"+u};function l(c){var h=["https://sheets.googleapis.com/v4/spreadsheets",r,"values",s(),"?alt=json&majorDimension=COLUMNS&valueRenderOption=UNFORMATTED_VALUE&dateTimeRenderOption=FORMATTED_STRING&key="+t.googleAPIKey].join("/");ajax({url:h,dataType:"json",success:function(u){c(u),t.enablePolling&&setTimeout(function(){l(c)},a)},error:function(u,d){return t.error&&t.error(d,u)}})}return r&&(delete t.googleSpreadsheetKey,l(function(c){var h=c.values;if(!h||h.length===0)return!1;var u=h.reduce(function(d,f){return Math.max(d,f.length)},0);h.forEach(function(d){for(var f=0;f<u;f++)typeof d[f]>"u"&&(d[f]=null)}),o&&o.series?o.update({data:{columns:h}}):(i.columns=h,i.dataFound())})),!1},n.prototype.trim=function(i,t){return typeof i=="string"&&(i=i.replace(/^\s+|\s+$/g,""),t&&/^[0-9\s]+$/.test(i)&&(i=i.replace(/\s/g,"")),this.decimalRegex&&(i=i.replace(this.decimalRegex,"$1.$2"))),i},n.prototype.parseTypes=function(){for(var i=this.columns,t=i.length;t--;)this.parseColumn(i[t],t)},n.prototype.parseColumn=function(i,t){var r=this.rawColumns,o=this.columns,a=i.length,s,l,c,h,u=this.firstRowAsNames,d=this.valueCount.xColumns.indexOf(t)!==-1,f,p=[],m,g=this.chartOptions,v,_=this.options.columnTypes||[],y=_[t],b=d&&(g&&g.xAxis&&splat$1(g.xAxis)[0].type==="category"||y==="string");for(r[t]||(r[t]=[]);a--;)s=p[a]||i[a],c=this.trim(s),h=this.trim(s,!0),l=parseFloat(h),typeof r[t][a]>"u"&&(r[t][a]=c),b||a===0&&u?i[a]=""+c:+h===l?(i[a]=l,l>365*24*3600*1e3&&y!=="float"?i.isDatetime=!0:i.isNumeric=!0,typeof i[a+1]<"u"&&(v=l>i[a+1])):(c&&c.length&&(f=this.parseDate(s)),d&&isNumber$8(f)&&y!=="float"?(p[a]=s,i[a]=f,i.isDatetime=!0,typeof i[a+1]<"u"&&(m=f>i[a+1],m!==v&&typeof v<"u"&&(this.alternativeFormat?(this.dateFormat=this.alternativeFormat,a=i.length,this.alternativeFormat=this.dateFormats[this.dateFormat].alternative):i.unsorted=!0),v=m)):(i[a]=c===""?null:c,a!==0&&(i.isDatetime||i.isNumeric)&&(i.mixed=!0)));if(d&&i.mixed&&(o[t]=r[t]),d&&v&&this.options.sort)for(t=0;t<o.length;t++)o[t].reverse(),u&&o[t].unshift(o[t].pop())},n.prototype.parseDate=function(i){var t=this.options.parseDate,r,o,a,s=this.options.dateFormat||this.dateFormat,l;if(t)r=t(i);else if(typeof i=="string"){if(s)a=this.dateFormats[s],a||(a=this.dateFormats["YYYY/mm/dd"]),l=i.match(a.regex),l&&(r=a.parser(l));else for(o in this.dateFormats)if(a=this.dateFormats[o],l=i.match(a.regex),l){this.dateFormat=s=o,this.alternativeFormat=a.alternative,r=a.parser(l);break}l||(i.match(/:.+(GMT|UTC|[Z+-])/)&&(i=i.replace(/\s*(?:GMT|UTC)?([+-])(\d\d)(\d\d)$/,"$1$2:$3").replace(/(?:\s+|GMT|UTC)([+-])/,"$1").replace(/(\d)\s*(?:GMT|UTC|Z)$/,"$1+00:00")),l=Date.parse(i),typeof l=="object"&&l!==null&&l.getTime?r=l.getTime()-l.getTimezoneOffset()*6e4:isNumber$8(l)&&(r=l-new Date(l).getTimezoneOffset()*6e4))}return r},n.prototype.rowsToColumns=function(i){var t,r,o,a,s;if(i)for(s=[],r=i.length,t=0;t<r;t++)for(a=i[t].length,o=0;o<a;o++)s[o]||(s[o]=[]),s[o][t]=i[t][o];return s},n.prototype.getData=function(){if(this.columns)return this.rowsToColumns(this.columns).slice(1)},n.prototype.parsed=function(){if(this.options.parsed)return this.options.parsed.call(this,this.columns)},n.prototype.getFreeIndexes=function(i,t){var r,o,a=[],s=[],l;for(o=0;o<i;o=o+1)a.push(!0);for(r=0;r<t.length;r=r+1)for(l=t[r].getReferencedColumnIndexes(),o=0;o<l.length;o=o+1)a[l[o]]=!1;for(o=0;o<a.length;o=o+1)a[o]&&s.push(o);return s},n.prototype.complete=function(){var i=this.columns,t,r=this.options,o,a,s,l,c,h,u,d=[],f,p,m,g;if(i.length,r.complete||r.afterComplete){if(this.firstRowAsNames)for(s=0;s<i.length;s++)i[s].name=i[s].shift();for(o=[],p=this.getFreeIndexes(i.length,this.valueCount.seriesBuilders),h=0;h<this.valueCount.seriesBuilders.length;h++)f=this.valueCount.seriesBuilders[h],f.populateColumns(p)&&d.push(f);for(;p.length>0;){for(f=new SeriesBuilder,f.addColumnReader(0,"x"),g=p.indexOf(0),g!==-1&&p.splice(g,1),s=0;s<this.valueCount.global;s++)f.addColumnReader(void 0,this.valueCount.globalPointArrayMap[s]);f.populateColumns(p)&&d.push(f)}if(d.length>0&&d[0].readers.length>0&&(m=i[d[0].readers[0].columnIndex],typeof m<"u"&&(m.isDatetime?t="datetime":m.isNumeric||(t="category"))),t==="category")for(h=0;h<d.length;h++)for(f=d[h],c=0;c<f.readers.length;c++)f.readers[c].configName==="x"&&(f.readers[c].configName="name");for(h=0;h<d.length;h++){for(f=d[h],a=[],l=0;l<i[0].length;l++)a[l]=f.read(i,l);o[h]={data:a},f.name&&(o[h].name=f.name),t==="category"&&(o[h].turboThreshold=0)}u={series:o},t&&(u.xAxis={type:t},t==="category"&&(u.xAxis.uniqueNames=!1)),r.complete&&r.complete(u),r.afterComplete&&r.afterComplete(u)}},n.prototype.update=function(i,t){var r=this.chart;i&&(i.afterComplete=function(o){o&&(o.xAxis&&r.xAxis[0]&&o.xAxis.type===r.xAxis[0].options.type&&delete o.xAxis,r.update(o,t,!0))},merge$h(!0,r.options.data,i),this.init(r.options.data))},n}();H.data=function(n,i,t){return new H.Data(n,i,t)};addEvent$b(Chart$1,"init",function(n){var i=this,t=n.args[0]||{},r=n.args[1];t&&t.data&&!i.hasDataDef&&(i.hasDataDef=!0,i.data=new H.Data(extend$q(t.data,{afterComplete:function(o){var a,s;if(Object.hasOwnProperty.call(t,"series"))if(typeof t.series=="object")for(a=Math.max(t.series.length,o&&o.series?o.series.length:0);a--;)s=t.series[a]||{},t.series[a]=merge$h(s,o&&o.series?o.series[a]:{});else delete t.series;t=merge$h(o,t),i.init(t,r)}}),t,i),n.preventDefault())});var SeriesBuilder=function(){function n(){this.readers=[],this.pointIsArray=!0,this.name=void 0}return n.prototype.populateColumns=function(i){var t=this,r=!0;return t.readers.forEach(function(o){typeof o.columnIndex>"u"&&(o.columnIndex=i.shift())}),t.readers.forEach(function(o){typeof o.columnIndex>"u"&&(r=!1)}),r},n.prototype.read=function(i,t){var r=this,o=r.pointIsArray,a=o?[]:{},s;return r.readers.forEach(function(l){var c=i[l.columnIndex][t];o?a.push(c):l.configName.indexOf(".")>0?Point$5.prototype.setNestedProperty(a,c,l.configName):a[l.configName]=c}),typeof this.name>"u"&&r.readers.length>=2&&(s=r.getReferencedColumnIndexes(),s.length>=2&&(s.shift(),s.sort(function(l,c){return l-c}),this.name=i[s.shift()].name)),a},n.prototype.addColumnReader=function(i,t){this.readers.push({columnIndex:i,configName:t}),t==="x"||t==="y"||typeof t>"u"||(this.pointIsArray=!1)},n.prototype.getReferencedColumnIndexes=function(){var i,t=[],r;for(i=0;i<this.readers.length;i=i+1)r=this.readers[i],typeof r.columnIndex<"u"&&t.push(r.columnIndex);return t},n.prototype.hasReader=function(i){var t,r;for(t=0;t<this.readers.length;t=t+1)if(r=this.readers[t],r.configName===i)return!0},n}();H.Data=Data;H.Data;/**
 * @license Highcharts JS v9.2.2 (2021-08-24)
 * @module highcharts/modules/data
 * @requires highcharts
 *
 * Data module
 *
 * (c) 2012-2021 Torstein Honsi
 *
 * License: www.highcharts.com/license
 */var G$2=H;G$2.HttpUtilities=exports$5;G$2.ajax=exports$5.ajax;G$2.getJSON=exports$5.getJSON;G$2.post=exports$5.post;var animObject=animationExports.animObject,format$1=FormatUtilities.format,noop$4=H.noop,defaultOptions$3=DefaultOptions.defaultOptions,seriesTypes$1=SeriesRegistry$1.seriesTypes,addEvent$a=Utilities.addEvent,removeEvent$1=Utilities.removeEvent,extend$p=Utilities.extend,fireEvent$4=Utilities.fireEvent,merge$g=Utilities.merge,objectEach$3=Utilities.objectEach,pick$i=Utilities.pick,syncTimeout=Utilities.syncTimeout,PieSeries$1=seriesTypes$1.pie,ddSeriesId=1;extend$p(defaultOptions$3.lang,{drillUpText:"◁ Back to {series.name}"});defaultOptions$3.drilldown={activeAxisLabelStyle:{cursor:"pointer",color:palette.highlightColor100,fontWeight:"bold",textDecoration:"underline"},activeDataLabelStyle:{cursor:"pointer",color:palette.highlightColor100,fontWeight:"bold",textDecoration:"underline"},animation:{duration:500},drillUpButton:{position:{align:"right",x:-10,y:10}}};SVGRenderer.prototype.Element.prototype.fadeIn=function(n){this.attr({opacity:.1,visibility:"inherit"}).animate({opacity:pick$i(this.newOpacity,1)},n||{duration:250})};Chart$1.prototype.addSeriesAsDrilldown=function(n,i){this.addSingleSeriesAsDrilldown(n,i),this.applyDrilldown()};Chart$1.prototype.addSingleSeriesAsDrilldown=function(n,i){var t=n.series,r=t.xAxis,o=t.yAxis,a,s,l=[],c=[],h,u,d,f;f=this.styledMode?{colorIndex:pick$i(n.colorIndex,t.colorIndex)}:{color:n.color||t.color},this.drilldownLevels||(this.drilldownLevels=[]),u=t.options._levelNumber||0,d=this.drilldownLevels[this.drilldownLevels.length-1],d&&d.levelNumber!==u&&(d=void 0),i=extend$p(extend$p({_ddSeriesId:ddSeriesId++},f),i),s=t.points.indexOf(n),t.chart.series.forEach(function(p){p.xAxis===r&&!p.isDrilling&&(p.options._ddSeriesId=p.options._ddSeriesId||ddSeriesId++,p.options._colorIndex=p.userOptions._colorIndex,p.options._levelNumber=p.options._levelNumber||u,d?(l=d.levelSeries,c=d.levelSeriesOptions):(l.push(p),p.purgedOptions=merge$g({_ddSeriesId:p.options._ddSeriesId,_levelNumber:p.options._levelNumber,selected:p.options.selected},p.userOptions),c.push(p.purgedOptions)))}),h=extend$p({levelNumber:u,seriesOptions:t.options,seriesPurgedOptions:t.purgedOptions,levelSeriesOptions:c,levelSeries:l,shapeArgs:n.shapeArgs,bBox:n.graphic?n.graphic.getBBox():{},color:n.isNull?Color.parse(f.color).setOpacity(0).get():f.color,lowerSeriesOptions:i,pointOptions:t.options.data[s],pointIndex:s,oldExtremes:{xMin:r&&r.userMin,xMax:r&&r.userMax,yMin:o&&o.userMin,yMax:o&&o.userMax},resetZoomButton:this.resetZoomButton},f),this.drilldownLevels.push(h),r&&r.names&&(r.names.length=0),a=h.lowerSeries=this.addSeries(i,!1),a.options._levelNumber=u+1,r&&(r.oldPos=r.pos,r.userMin=r.userMax=null,o.userMin=o.userMax=null),t.type===a.type&&(a.animate=a.animateDrilldown||noop$4,a.options.animation=!0)};Chart$1.prototype.applyDrilldown=function(){var n=this.drilldownLevels,i;n&&n.length>0&&(i=n[n.length-1].levelNumber,this.drilldownLevels.forEach(function(t){t.levelNumber===i&&t.levelSeries.forEach(function(r){r.options&&r.options._levelNumber===i&&r.remove(!1)})})),this.resetZoomButton&&(this.resetZoomButton.hide(),delete this.resetZoomButton),this.pointer.reset(),this.redraw(),this.showDrillUpButton(),fireEvent$4(this,"afterDrilldown")};Chart$1.prototype.getDrilldownBackText=function(){var n=this.drilldownLevels,i;if(n&&n.length>0)return i=n[n.length-1],i.series=i.seriesOptions,format$1(this.options.lang.drillUpText||"",i)};Chart$1.prototype.showDrillUpButton=function(){var n=this,i=this.getDrilldownBackText(),t=n.options.drilldown.drillUpButton,r,o,a=t.relativeTo==="chart"||t.relativeTo==="spacingBox"?null:"scrollablePlotBox";this.drillUpButton?this.drillUpButton.attr({text:i}).align():(r=t.theme,o=r&&r.states,this.drillUpButton=this.renderer.button(i,null,null,function(){n.drillUp()},r,o&&o.hover,o&&o.select).addClass("highcharts-drillup-button").attr({align:t.position.align,zIndex:7}).add().align(t.position,!1,a))};Chart$1.prototype.drillUp=function(){if(!(!this.drilldownLevels||this.drilldownLevels.length===0)){for(var n=this,i=n.drilldownLevels,t=i[i.length-1].levelNumber,r=i.length,o=n.series,a,s,l,c,h,u=function(d){var f;o.forEach(function(p){p.options._ddSeriesId===d._ddSeriesId&&(f=p)}),f=f||n.addSeries(d,!1),f.type===l.type&&f.animateDrillupTo&&(f.animate=f.animateDrillupTo),d===s.seriesPurgedOptions&&(c=f)};r--;)if(s=i[r],s.levelNumber===t){if(i.pop(),l=s.lowerSeries,!l.chart){for(a=o.length;a--;)if(o[a].options.id===s.lowerSeriesOptions.id&&o[a].options._levelNumber===t+1){l=o[a];break}}l.xData=[],s.levelSeriesOptions.forEach(u),fireEvent$4(n,"drillup",{seriesOptions:s.seriesPurgedOptions||s.seriesOptions}),this.resetZoomButton&&this.resetZoomButton.destroy(),c.type===l.type&&(c.drilldownLevel=s,c.options.animation=n.options.drilldown.animation,l.animateDrillupFrom&&l.chart&&l.animateDrillupFrom(s)),c.options._levelNumber=t,l.remove(!1),c.xAxis&&(h=s.oldExtremes,c.xAxis.setExtremes(h.xMin,h.xMax,!1),c.yAxis.setExtremes(h.yMin,h.yMax,!1)),s.resetZoomButton&&(n.resetZoomButton=s.resetZoomButton,n.resetZoomButton.show())}this.redraw(),this.drilldownLevels.length===0?this.drillUpButton=this.drillUpButton.destroy():this.drillUpButton.attr({text:this.getDrilldownBackText()}).align(),this.ddDupes.length=[],fireEvent$4(n,"drillupall")}};addEvent$a(Chart$1,"afterInit",function(){var n=this;n.drilldown={update:function(i,t){merge$g(!0,n.options.drilldown,i),pick$i(t,!0)&&n.redraw()}}});addEvent$a(Chart$1,"afterShowResetZoom",function(){var n=this,i=n.resetZoomButton&&n.resetZoomButton.getBBox(),t=n.options.drilldown&&n.options.drilldown.drillUpButton;this.drillUpButton&&i&&t&&t.position&&t.position.x&&this.drillUpButton.align({x:t.position.x-i.width-10,y:t.position.y,align:t.position.align},!1,t.relativeTo||"plotBox")});addEvent$a(Chart$1,"render",function(){(this.xAxis||[]).forEach(function(n){n.ddPoints={},n.series.forEach(function(i){var t,r=i.xData||[],o=i.points,a;for(t=0;t<r.length;t++)if(a=i.options.data[t],typeof a!="number"&&(a=i.pointClass.prototype.optionsToObject.call({series:i},a),a.drilldown)){n.ddPoints[r[t]]||(n.ddPoints[r[t]]=[]);var s=t-(i.cropStart||0);n.ddPoints[r[t]].push(o&&s>=0&&s<o.length?o[s]:!0)}}),objectEach$3(n.ticks,Tick.prototype.drillable)})});ColumnSeries$h.prototype.animateDrillupTo=function(n){if(!n){var i=this,t=i.drilldownLevel;this.points.forEach(function(r){var o=r.dataLabel;r.graphic&&r.graphic.hide(),o&&(o.hidden=o.attr("visibility")==="hidden",o.hidden||(o.hide(),r.connector&&r.connector.hide()))}),syncTimeout(function(){if(i.points){var r=[];i.data.forEach(function(o){r.push(o)}),i.nodes&&(r=r.concat(i.nodes)),r.forEach(function(o,a){var s=a===(t&&t.pointIndex)?"show":"fadeIn",l=s==="show"?!0:void 0,c=o.dataLabel;o.graphic&&o.graphic[s](l),c&&!c.hidden&&(c.fadeIn(),o.connector&&o.connector.fadeIn())})}},Math.max(this.chart.options.drilldown.animation.duration-50,0)),delete this.animate}};ColumnSeries$h.prototype.animateDrilldown=function(n){var i=this,t=this.chart,r=t.drilldownLevels,o,a=animObject(t.options.drilldown.animation),s=this.xAxis,l=t.styledMode;n||(r.forEach(function(c){i.options._ddSeriesId===c.lowerSeriesOptions._ddSeriesId&&(o=c.shapeArgs,l||(o.fill=c.color))}),o.x+=pick$i(s.oldPos,s.pos)-s.pos,this.points.forEach(function(c){var h=c.shapeArgs;l||(h.fill=c.color),c.graphic&&c.graphic.attr(o).animate(extend$p(c.shapeArgs,{fill:c.color||i.color}),a),c.dataLabel&&c.dataLabel.fadeIn(a)}),delete this.animate)};ColumnSeries$h.prototype.animateDrillupFrom=function(n){var i=animObject(this.chart.options.drilldown.animation),t=this.group,r=t!==this.chart.columnGroup,o=this;o.trackerGroups.forEach(function(a){o[a]&&o[a].on("mouseover")}),r&&delete this.group,this.points.forEach(function(a){var s=a.graphic,l=n.shapeArgs,c=function(){s.destroy(),t&&r&&(t=t.destroy())};s&&l&&(delete a.graphic,o.chart.styledMode||(l.fill=n.color),i.duration?s.animate(l,merge$g(i,{complete:c})):(s.attr(l),c()))})};PieSeries$1&&extend$p(PieSeries$1.prototype,{animateDrillupTo:ColumnSeries$h.prototype.animateDrillupTo,animateDrillupFrom:ColumnSeries$h.prototype.animateDrillupFrom,animateDrilldown:function(n){var i=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],t=this.chart.options.drilldown.animation;if(this.is("item")&&(t.duration=0),this.center){var r=i.shapeArgs,o=r.start,a=r.end-o,s=a/this.points.length,l=this.chart.styledMode;n||(this.points.forEach(function(c,h){var u=c.shapeArgs;l||(r.fill=i.color,u.fill=c.color),c.graphic&&c.graphic.attr(merge$g(r,{start:o+h*s,end:o+(h+1)*s}))[t?"animate":"attr"](u,t)}),delete this.animate)}}});Point$5.prototype.doDrilldown=function(){this.runDrilldown()};Point$5.prototype.runDrilldown=function(n,i,t){var r=this.series,o=r.chart,a=o.options.drilldown,s=(a.series||[]).length,l;for(o.ddDupes||(o.ddDupes=[]);s--&&!l;)a.series[s].id===this.drilldown&&o.ddDupes.indexOf(this.drilldown)===-1&&(l=a.series[s],o.ddDupes.push(this.drilldown));fireEvent$4(o,"drilldown",{point:this,seriesOptions:l,category:i,originalEvent:t,points:typeof i<"u"&&this.series.xAxis.getDDPoints(i).slice(0)},function(c){var h=c.point.series&&c.point.series.chart,u=c.seriesOptions;h&&u&&(n?h.addSingleSeriesAsDrilldown(c.point,u):h.addSeriesAsDrilldown(c.point,u))})};Axis.prototype.drilldownCategory=function(n,i){this.getDDPoints(n).forEach(function(t){t&&t.series&&t.series.visible&&t.runDrilldown&&t.runDrilldown(!0,n,i)}),this.chart.applyDrilldown()};Axis.prototype.getDDPoints=function(n){return this.ddPoints&&this.ddPoints[n]||[]};Tick.prototype.drillable=function(){var n=this.pos,i=this.label,t=this.axis,r=t.coll==="xAxis"&&t.getDDPoints,o=r&&t.getDDPoints(n),a=t.chart.styledMode;r&&(i&&o&&o.length?(i.drillable=!0,!i.basicStyles&&!a&&(i.basicStyles=merge$g(i.styles)),i.addClass("highcharts-drilldown-axis-label"),i.removeOnDrillableClick&&removeEvent$1(i.element,"click"),i.removeOnDrillableClick=addEvent$a(i.element,"click",function(s){s.preventDefault(),t.drilldownCategory(n,s)}),a||i.css(t.chart.options.drilldown.activeAxisLabelStyle)):i&&i.drillable&&i.removeOnDrillableClick&&(a||(i.styles={},i.css(i.basicStyles)),i.removeOnDrillableClick(),i.removeClass("highcharts-drilldown-axis-label")))};addEvent$a(Point$5,"afterInit",function(){var n=this;return n.drilldown&&!n.unbindDrilldownClick&&(n.unbindDrilldownClick=addEvent$a(n,"click",handlePointClick)),n});addEvent$a(Point$5,"update",function(n){var i=this,t=n.options||{};t.drilldown&&!i.unbindDrilldownClick?i.unbindDrilldownClick=addEvent$a(i,"click",handlePointClick):!t.drilldown&&t.drilldown!==void 0&&i.unbindDrilldownClick&&(i.unbindDrilldownClick=i.unbindDrilldownClick())});var handlePointClick=function(n){var i=this,t=i.series;t.xAxis&&t.chart.options.drilldown.allowPointDrilldown===!1?t.xAxis.drilldownCategory(i.x,n):i.runDrilldown(void 0,void 0,n)};addEvent$a(Series$e,"afterDrawDataLabels",function(){var n=this.chart.options.drilldown.activeDataLabelStyle,i=this.chart.renderer,t=this.chart.styledMode;this.points.forEach(function(r){var o=r.options.dataLabels,a=pick$i(r.dlOptions,o&&o.style,{});r.drilldown&&r.dataLabel&&(n.color==="contrast"&&!t&&(a.color=i.getContrast(r.color||this.color)),o&&o.color&&(a.color=o.color),r.dataLabel.addClass("highcharts-drilldown-data-label"),t||r.dataLabel.css(n).css(a))},this)});var applyCursorCSS=function(n,i,t,r){n[t?"addClass":"removeClass"]("highcharts-drilldown-point"),r||n.css({cursor:i})};addEvent$a(Series$e,"afterDrawTracker",function(){var n=this.chart.styledMode;this.points.forEach(function(i){i.drilldown&&i.graphic&&applyCursorCSS(i.graphic,"pointer",!0,n)})});addEvent$a(Point$5,"afterSetState",function(){var n=this.series.chart.styledMode;this.drilldown&&this.series.halo&&this.state==="hover"?applyCursorCSS(this.series.halo,"pointer",!0,n):this.series.halo&&applyCursorCSS(this.series.halo,"auto",!1,n)});addEvent$a(Chart$1,"selection",function(n){if(n.resetSelection===!0&&this.drillUpButton){var i=this.options.drilldown&&this.options.drilldown.drillUpButton;i&&i.position&&this.drillUpButton.align({x:i.position.x,y:i.position.y,align:i.position.align},!1,i.relativeTo||"plotBox")}});addEvent$a(Chart$1,"drillup",function(){this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy())});H.doc;var addEvent$9=Utilities.addEvent,Fullscreen=function(){function n(i){this.chart=i,this.isOpen=!1;var t=i.renderTo;this.browserProps||(typeof t.requestFullscreen=="function"?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:t.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:t.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:t.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}return n.prototype.close=function(){var i=this,t=i.chart,r=t.options.chart;i.isOpen&&i.browserProps&&t.container.ownerDocument instanceof Document&&t.container.ownerDocument[i.browserProps.exitFullscreen](),i.unbindFullscreenEvent&&(i.unbindFullscreenEvent=i.unbindFullscreenEvent()),t.setSize(i.origWidth,i.origHeight,!1),i.origWidth=void 0,i.origHeight=void 0,r.width=i.origWidthOption,r.height=i.origHeightOption,i.origWidthOption=void 0,i.origHeightOption=void 0,i.isOpen=!1,i.setButtonText()},n.prototype.open=function(){var i=this,t=i.chart,r=t.options.chart;if(r&&(i.origWidthOption=r.width,i.origHeightOption=r.height),i.origWidth=t.chartWidth,i.origHeight=t.chartHeight,i.browserProps){var o=addEvent$9(t.container.ownerDocument,i.browserProps.fullscreenChange,function(){i.isOpen?(i.isOpen=!1,i.close()):(t.setSize(null,null,!1),i.isOpen=!0,i.setButtonText())}),a=addEvent$9(t,"destroy",o);i.unbindFullscreenEvent=function(){o(),a()};var s=t.renderTo[i.browserProps.requestFullscreen]();s&&s.catch(function(){alert("Full screen is not supported inside a frame.")})}},n.prototype.setButtonText=function(){var i=this.chart,t=i.exportDivElements,r=i.options.exporting,o=r&&r.buttons&&r.buttons.contextButton.menuItems,a=i.options.lang;if(r&&r.menuItemDefinitions&&a&&a.exitFullscreen&&a.viewFullscreen&&o&&t){var s=t[o.indexOf("viewFullscreen")];s&&AST.setElementHTML(s,this.isOpen?a.exitFullscreen:r.menuItemDefinitions.viewFullscreen.text||a.viewFullscreen)}},n.prototype.toggle=function(){var i=this;i.isOpen?i.close():i.open()},n}();H.Fullscreen=Fullscreen;H.Fullscreen;addEvent$9(Chart$1,"beforeRender",function(){this.fullscreen=new H.Fullscreen(this)});var isTouchDevice=H.isTouchDevice,exporting={type:"image/png",url:"https://export.highcharts.com/",printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",titleKey:"contextButtonTitle",menuItems:["viewFullscreen","printChart","separator","downloadPNG","downloadJPEG","downloadPDF","downloadSVG"]}},menuItemDefinitions:{viewFullscreen:{textKey:"viewFullscreen",onclick:function(){this.fullscreen.toggle()}},printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},lang={viewFullscreen:"View in full screen",exitFullscreen:"Exit from full screen",printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"},navigation={buttonOptions:{symbolSize:14,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,verticalAlign:"top",width:24,symbolFill:palette.neutralColor60,symbolStroke:palette.neutralColor60,symbolStrokeWidth:3,theme:{padding:5}},menuStyle:{border:"1px solid "+palette.neutralColor40,background:palette.backgroundColor,padding:"5px 0"},menuItemStyle:{padding:"0.5em 1em",color:palette.neutralColor80,background:"none",fontSize:isTouchDevice?"14px":"11px",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:palette.highlightColor80,color:palette.backgroundColor}},ExportingDefaults={exporting,lang,navigation},ExportingSymbols;(function(n){var i=[];function t(a){if(i.indexOf(a)===-1){i.push(a);var s=a.prototype.symbols;s.menu=r,s.menuball=o.bind(s)}}n.compose=t;function r(a,s,l,c){var h=[["M",a,s+2.5],["L",a+l,s+2.5],["M",a,s+c/2+.5],["L",a+l,s+c/2+.5],["M",a,s+c-1.5],["L",a+l,s+c-1.5]];return h}function o(a,s,l,c){var h=c/3-2,u=[];return u=u.concat(this.circle(l-h,s,h,h),this.circle(l-h,s+h+4,h,h),this.circle(l-h,s+2*(h+4),h,h)),u}})(ExportingSymbols||(ExportingSymbols={}));const ExportingSymbols$1=ExportingSymbols;var defaultOptions$2=DefaultOptions.defaultOptions,doc=H.doc,win$1=H.win,addEvent$8=Utilities.addEvent,css$1=Utilities.css,createElement=Utilities.createElement,discardElement=Utilities.discardElement,extend$o=Utilities.extend,find$3=Utilities.find,fireEvent$3=Utilities.fireEvent,isObject$4=Utilities.isObject,merge$f=Utilities.merge,objectEach$2=Utilities.objectEach,pick$h=Utilities.pick,removeEvent=Utilities.removeEvent,uniqueKey=Utilities.uniqueKey,Exporting;(function(n){var i=[],t=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/perspective/,/TapHighlightColor/,/^transition/,/^length$/],r=["fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","textAnchor","x","y"];n.inlineWhitelist=[];var o=["clipPath","defs","desc"],a;function s(P){var T=this,k=T.renderer,L=merge$f(T.options.navigation.buttonOptions,P),N=L.onclick,z=L.menuItems,B=L.symbolSize||12,U;if(T.btnCount||(T.btnCount=0),T.exportDivElements||(T.exportDivElements=[],T.exportSVGElements=[]),!(L.enabled===!1||!L.theme)){var D=L.theme,M=D.states,F=M&&M.hover,j=M&&M.select,Y;T.styledMode||(D.fill=pick$h(D.fill,palette.backgroundColor),D.stroke=pick$h(D.stroke,"none")),delete D.states,N?Y=function(q){q&&q.stopPropagation(),N.call(T,q)}:z&&(Y=function(q){q&&q.stopPropagation(),T.contextMenu(W.menuClassName,z,W.translateX,W.translateY,W.width,W.height,W),W.setState(2)}),L.text&&L.symbol?D.paddingLeft=pick$h(D.paddingLeft,30):L.text||extend$o(D,{width:L.width,height:L.height,padding:0}),T.styledMode||(D["stroke-linecap"]="round",D.fill=pick$h(D.fill,palette.backgroundColor),D.stroke=pick$h(D.stroke,"none"));var W=k.button(L.text,0,0,Y,D,F,j).addClass(P.className).attr({title:pick$h(T.options.lang[L._titleKey||L.titleKey],"")});W.menuClassName=P.menuClassName||"highcharts-menu-"+T.btnCount++,L.symbol&&(U=k.symbol(L.symbol,L.symbolX-B/2,L.symbolY-B/2,B,B,{width:B,height:B}).addClass("highcharts-button-symbol").attr({zIndex:1}).add(W),T.styledMode||U.attr({stroke:L.symbolStroke,fill:L.symbolFill,"stroke-width":L.symbolStrokeWidth||1})),W.add(T.exportingGroup).align(extend$o(L,{width:W.width,x:pick$h(L.x,T.buttonOffset)}),!0,"spacingBox"),T.buttonOffset+=(W.width+L.buttonSpacing)*(L.align==="right"?-1:1),T.exportSVGElements.push(W,U)}}function l(){var P=this;if(P.printReverseInfo){var T=P.printReverseInfo,k=T.childNodes,L=T.origDisplay,N=T.resetParams;P.moveContainers(P.renderTo),[].forEach.call(k,function(z,B){z.nodeType===1&&(z.style.display=L[B]||"")}),P.isPrinting=!1,N&&P.setSize.apply(P,N),delete P.printReverseInfo,a=void 0,fireEvent$3(P,"afterPrint")}}function c(){var P=this,T=doc.body,k=P.options.exporting.printMaxWidth,L={childNodes:T.childNodes,origDisplay:[],resetParams:void 0};P.isPrinting=!0,P.pointer.reset(null,0),fireEvent$3(P,"beforePrint");var N=k&&P.chartWidth>k;N&&(L.resetParams=[P.options.chart.width,void 0,!1],P.setSize(k,void 0,!1)),[].forEach.call(L.childNodes,function(z,B){z.nodeType===1&&(L.origDisplay[B]=z.style.display,z.style.display="none")}),P.moveContainers(T),P.printReverseInfo=L}function h(P){var T=P;T.renderExporting(),addEvent$8(P,"redraw",T.renderExporting),addEvent$8(P,"destroy",T.destroyExport)}function u(P,T){if(ExportingSymbols$1.compose(T),i.indexOf(P)===-1){i.push(P);var k=P.prototype;k.afterPrint=l,k.exportChart=p,k.inlineStyles=b,k.print=C,k.sanitizeSVG=S,k.getChartHTML=m,k.getSVG=v,k.getSVGForExport=_,k.getFilename=g,k.moveContainers=x,k.beforePrint=c,k.contextMenu=d,k.addButton=s,k.destroyExport=f,k.renderExporting=$,k.callbacks.push(h),addEvent$8(P,"init",E),H.isSafari&&H.win.matchMedia("print").addListener(function(L){a&&(L.matches?a.beforePrint():a.afterPrint())})}}n.compose=u;function d(P,T,k,L,N,z,B){var U=this,D=U.options.navigation,M=U.chartWidth,F=U.chartHeight,j="cache-"+P,Y=Math.max(N,z),W,q=U[j];q||(U.exportContextMenu=U[j]=q=createElement("div",{className:P},{position:"absolute",zIndex:1e3,padding:Y+"px",pointerEvents:"auto"},U.fixedDiv||U.container),W=createElement("ul",{className:"highcharts-menu"},{listStyle:"none",margin:0,padding:0},q),U.styledMode||css$1(W,extend$o({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},D.menuStyle)),q.hideMenu=function(){css$1(q,{display:"none"}),B&&B.setState(0),U.openMenu=!1,css$1(U.renderTo,{overflow:"hidden"}),css$1(U.container,{overflow:"hidden"}),Utilities.clearTimeout(q.hideTimer),fireEvent$3(U,"exportMenuHidden")},U.exportEvents.push(addEvent$8(q,"mouseleave",function(){q.hideTimer=win$1.setTimeout(q.hideMenu,500)}),addEvent$8(q,"mouseenter",function(){Utilities.clearTimeout(q.hideTimer)}),addEvent$8(doc,"mouseup",function(K){U.pointer.inClass(K.target,P)||q.hideMenu()}),addEvent$8(q,"click",function(){U.openMenu&&q.hideMenu()})),T.forEach(function(K){if(typeof K=="string"&&(K=U.options.exporting.menuItemDefinitions[K]),isObject$4(K,!0)){var Q=void 0;K.separator?Q=createElement("hr",void 0,void 0,W):(K.textKey==="viewData"&&U.isDataTableVisible&&(K.textKey="hideData"),Q=createElement("li",{className:"highcharts-menu-item",onclick:function(rt){rt&&rt.stopPropagation(),q.hideMenu(),K.onclick&&K.onclick.apply(U,arguments)}},void 0,W),AST.setElementHTML(Q,K.text||U.options.lang[K.textKey]),U.styledMode||(Q.onmouseover=function(){css$1(this,D.menuItemHoverStyle)},Q.onmouseout=function(){css$1(this,D.menuItemStyle)},css$1(Q,extend$o({cursor:"pointer"},D.menuItemStyle)))),U.exportDivElements.push(Q)}}),U.exportDivElements.push(W,q),U.exportMenuWidth=q.offsetWidth,U.exportMenuHeight=q.offsetHeight);var X={display:"block"};k+U.exportMenuWidth>M?X.right=M-k-N-Y+"px":X.left=k-Y+"px",L+z+U.exportMenuHeight>F&&B.alignOptions.verticalAlign!=="top"?X.bottom=F-L-Y+"px":X.top=L+z-Y+"px",css$1(q,X),css$1(U.renderTo,{overflow:""}),css$1(U.container,{overflow:""}),U.openMenu=!0,fireEvent$3(U,"exportMenuShown")}function f(P){var T=P?P.target:this,k=T.exportSVGElements,L=T.exportDivElements,N=T.exportEvents,z;k&&(k.forEach(function(B,U){B&&(B.onclick=B.ontouchstart=null,z="cache-"+B.menuClassName,T[z]&&delete T[z],k[U]=B.destroy())}),k.length=0),T.exportingGroup&&(T.exportingGroup.destroy(),delete T.exportingGroup),L&&(L.forEach(function(B,U){B&&(Utilities.clearTimeout(B.hideTimer),removeEvent(B,"mouseleave"),L[U]=B.onmouseout=B.onmouseover=B.ontouchstart=B.onclick=null,discardElement(B))}),L.length=0),N&&(N.forEach(function(B){B()}),N.length=0)}function p(P,T){var k=this.getSVGForExport(P,T);P=merge$f(this.options.exporting,P),exports$5.post(P.url,{filename:P.filename?P.filename.replace(/\//g,"-"):this.getFilename(),type:P.type,width:P.width||0,scale:P.scale,svg:k},P.formAttributes)}function m(){return this.styledMode&&this.inlineStyles(),this.container.innerHTML}function g(){var P=this.userOptions.title&&this.userOptions.title.text,T=this.options.exporting.filename;return T?T.replace(/\//g,"-"):(typeof P=="string"&&(T=P.toLowerCase().replace(/<\/?[^>]+(>|$)/g,"").replace(/[\s_]+/g,"-").replace(/[^a-z0-9\-]/g,"").replace(/^[\-]+/g,"").replace(/[\-]+/g,"-").substr(0,24).replace(/[\-]+$/g,"")),(!T||T.length<5)&&(T="chart"),T)}function v(P){var T=this,k,L,N=merge$f(T.options,P);N.plotOptions=merge$f(T.userOptions.plotOptions,P&&P.plotOptions),N.time=merge$f(T.userOptions.time,P&&P.time);var z=createElement("div",null,{position:"absolute",top:"-9999em",width:T.chartWidth+"px",height:T.chartHeight+"px"},doc.body),B=T.renderTo.style.width,U=T.renderTo.style.height,D=N.exporting.sourceWidth||N.chart.width||/px$/.test(B)&&parseInt(B,10)||(N.isGantt?800:600),M=N.exporting.sourceHeight||N.chart.height||/px$/.test(U)&&parseInt(U,10)||400;extend$o(N.chart,{animation:!1,renderTo:z,forExport:!0,renderer:"SVGRenderer",width:D,height:M}),N.exporting.enabled=!1,delete N.data,N.series=[],T.series.forEach(function(Y){L=merge$f(Y.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:Y.visible}),L.isInternal||N.series.push(L)});var F={};T.axes.forEach(function(Y){Y.userOptions.internalKey||(Y.userOptions.internalKey=uniqueKey()),Y.options.isInternal||(F[Y.coll]||(F[Y.coll]=!0,N[Y.coll]=[]),N[Y.coll].push(merge$f(Y.userOptions,{visible:Y.visible})))});var j=new Chart$1(N,T.callback);return P&&["xAxis","yAxis","series"].forEach(function(Y){var W={};P[Y]&&(W[Y]=P[Y],j.update(W))}),T.axes.forEach(function(Y){var W=find$3(j.axes,function(Q){return Q.options.internalKey===Y.userOptions.internalKey}),q=Y.getExtremes(),X=q.userMin,K=q.userMax;W&&(typeof X<"u"&&X!==W.min||typeof K<"u"&&K!==W.max)&&W.setExtremes(X,K,!0,!1)}),k=j.getChartHTML(),fireEvent$3(this,"getSVG",{chartCopy:j}),k=T.sanitizeSVG(k,N),N=null,j.destroy(),discardElement(z),k}function _(P,T){var k=this.options.exporting;return this.getSVG(merge$f({chart:{borderRadius:0}},k.chartOptions,T,{exporting:{sourceWidth:P&&P.sourceWidth||k.sourceWidth,sourceHeight:P&&P.sourceHeight||k.sourceHeight}}))}function y(P){return P.replace(/([A-Z])/g,function(T,k){return"-"+k.toLowerCase()})}function b(){var P=t,T=n.inlineWhitelist,k={},L,N=doc.createElement("iframe");css$1(N,{width:"1px",height:"1px",visibility:"hidden"}),doc.body.appendChild(N);var z=N.contentWindow.document;z.open(),z.write('<svg xmlns="http://www.w3.org/2000/svg"></svg>'),z.close();function B(D){var M,F,j="",Y,W,q,X,K;function Q(J,et){if(q=X=!1,T.length){for(K=T.length;K--&&!X;)X=T[K].test(et);q=!X}for(et==="transform"&&J==="none"&&(q=!0),K=P.length;K--&&!q;)q=P[K].test(et)||typeof J=="function";q||(F[et]!==J||D.nodeName==="svg")&&k[D.nodeName][et]!==J&&(!r||r.indexOf(et)!==-1?J&&D.setAttribute(y(et),J):j+=y(et)+":"+J+";")}if(D.nodeType===1&&o.indexOf(D.nodeName)===-1){if(M=win$1.getComputedStyle(D,null),F=D.nodeName==="svg"?{}:win$1.getComputedStyle(D.parentNode,null),k[D.nodeName]||(L=z.getElementsByTagName("svg")[0],Y=z.createElementNS(D.namespaceURI,D.nodeName),L.appendChild(Y),k[D.nodeName]=merge$f(win$1.getComputedStyle(Y,null)),D.nodeName==="text"&&delete k.text.fill,L.removeChild(Y)),H.isFirefox||H.isMS)for(var rt in M)Q(M[rt],rt);else objectEach$2(M,Q);if(j&&(W=D.getAttribute("style"),D.setAttribute("style",(W?W+";":"")+j)),D.nodeName==="svg"&&D.setAttribute("stroke-width","1px"),D.nodeName==="text")return;[].forEach.call(D.children||D.childNodes,B)}}function U(){L.parentNode.removeChild(L),N.parentNode.removeChild(N)}B(this.container.querySelector("svg")),U()}function x(P){var T=this;(T.fixedDiv?[T.fixedDiv,T.scrollingContainer]:[T.container]).forEach(function(k){P.appendChild(k)})}function E(){var P=this,T=function(k,L,N){P.isDirtyExporting=!0,merge$f(!0,P.options[k],L),pick$h(N,!0)&&P.redraw()};P.exporting={update:function(k,L){T("exporting",k,L)}},chartNavigation.addUpdate(function(k,L){T("navigation",k,L)},P)}function C(){var P=this;P.isPrinting||(a=P,H.isSafari||P.beforePrint(),setTimeout(function(){win$1.focus(),win$1.print(),H.isSafari||setTimeout(function(){P.afterPrint()},1e3)},1))}function $(){var P=this,T=P.options.exporting,k=T.buttons,L=P.isDirtyExporting||!P.exportSVGElements;P.buttonOffset=0,P.isDirtyExporting&&P.destroyExport(),L&&T.enabled!==!1&&(P.exportEvents=[],P.exportingGroup=P.exportingGroup||P.renderer.g("exporting-group").attr({zIndex:3}).add(),objectEach$2(k,function(N){P.addButton(N)}),P.isDirtyExporting=!1)}function S(P,T){var k=P.indexOf("</svg>")+6,L=P.substr(k);return P=P.substr(0,k),T&&T.exporting&&T.exporting.allowHTML&&L&&(L='<foreignObject x="0" y="0" width="'+T.chart.width+'" height="'+T.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+L.replace(/(<(?:img|br).*?(?=\>))>/g,"$1 />")+"</body></foreignObject>",P=P.replace("</svg>",L+"</svg>")),P=P.replace(/zIndex="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(.*?)("|&quot;)\;?\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (|NS[0-9]+\:)href=/g," xlink:href=").replace(/\n/," ").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­"),this.ieSanitizeSVG&&(P=this.ieSanitizeSVG(P)),P}})(Exporting||(Exporting={}));defaultOptions$2.exporting=merge$f(ExportingDefaults.exporting,defaultOptions$2.exporting);defaultOptions$2.lang=merge$f(ExportingDefaults.lang,defaultOptions$2.lang);defaultOptions$2.navigation=merge$f(ExportingDefaults.navigation,defaultOptions$2.navigation);const Exporting$1=Exporting;/**
 * @license Highcharts JS v9.2.2 (2021-08-24)
 * @module highcharts/modules/exporting
 * @requires highcharts
 *
 * Exporting module
 *
 * (c) 2010-2021 Torstein Honsi
 *
 * License: www.highcharts.com/license
 */var G$1=H;G$1.HttpUtilities=exports$5;G$1.ajax=exports$5.ajax;G$1.getJSON=exports$5.getJSON;G$1.post=exports$5.post;Exporting$1.compose(G$1.Chart,G$1.Renderer);var __extends$1z=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),noop$3=H.noop,Series$7=SeriesRegistry$1.series,PieSeries=SeriesRegistry$1.seriesTypes.pie,addEvent$7=Utilities.addEvent,extend$n=Utilities.extend,fireEvent$2=Utilities.fireEvent,isArray$2=Utilities.isArray,merge$e=Utilities.merge,pick$g=Utilities.pick,FunnelSeries=function(n){__extends$1z(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return i.prototype.alignDataLabel=function(t,r,o,a,s){var l=t.series,c=l.options.reversed,h=t.dlBox||t.shapeArgs,u=o.align,d=o.verticalAlign,f=((l.options||{}).dataLabels||{}).inside,p=l.center[1],m=c?2*p-t.plotY:t.plotY,g=l.getWidthAt(m-h.height/2+r.height),v=d==="middle"?(h.topWidth-h.bottomWidth)/4:(g-h.bottomWidth)/2,_=h.y,y=h.x;d==="middle"?_=h.y-h.height/2+r.height/2:d==="top"&&(_=h.y-h.height+r.height+o.padding),(d==="top"&&!c||d==="bottom"&&c||d==="middle")&&(u==="right"?y=h.x-o.padding+v:u==="left"&&(y=h.x+o.padding-v)),a={x:y,y:c?_-h.height:_,width:h.bottomWidth,height:h.height},o.verticalAlign="bottom",(!f||t.visible)&&Series$7.prototype.alignDataLabel.call(this,t,r,o,a,s),f&&(!t.visible&&t.dataLabel&&(t.dataLabel.placed=!1),t.contrastColor&&r.css({color:t.contrastColor}))},i.prototype.drawDataLabels=function(){var t=this,r=t.data,o=t.options.dataLabels.distance,a,s,l,c=r.length,h,u;for(t.center[2]-=2*o;c--;)l=r[c],a=l.half,s=a?1:-1,u=l.plotY,l.labelDistance=pick$g(l.options.dataLabels&&l.options.dataLabels.distance,o),t.maxLabelDistance=Math.max(l.labelDistance,t.maxLabelDistance||0),h=t.getX(u,a,l),l.labelPosition={natural:{x:0,y:u},final:{},alignment:a?"right":"left",connectorPosition:{breakAt:{x:h+(l.labelDistance-5)*s,y:u},touchingSliceAt:{x:h+l.labelDistance*s,y:u}}};SeriesRegistry$1.seriesTypes[t.options.dataLabels.inside?"column":"pie"].prototype.drawDataLabels.call(this)},i.prototype.translate=function(){var t=0,r=this,o=r.chart,a=r.options,s=a.reversed,l=a.ignoreHiddenPoint,c=o.plotWidth,h=o.plotHeight,u=0,d=a.center,f=B(d[0],c),p=B(d[1],h),m=B(a.width,c),g,v=B(a.height,h),_=B(a.neckWidth,c),y=B(a.neckHeight,h),b=p-v/2+v-y,x=r.data,E,C,$=a.dataLabels.position==="left"?1:0,S,P,T,k,L,N,z;function B(U,D){return/%$/.test(U)?D*parseInt(U,10)/100:parseInt(U,10)}r.getWidthAt=function(U){var D=p-v/2;return U>b||v===y?_:_+(m-_)*(1-(U-D)/(v-y))},r.getX=function(U,D,M){return f+(D?-1:1)*(r.getWidthAt(s?2*p-U:U)/2+M.labelDistance)},r.center=[f,p,v],r.centerX=f,x.forEach(function(U){(!l||U.visible!==!1)&&(t+=U.y)}),x.forEach(function(U){z=null,C=t?U.y/t:0,P=p-v/2+u*v,L=P+C*v,g=r.getWidthAt(P),S=f-g/2,T=S+g,g=r.getWidthAt(L),k=f-g/2,N=k+g,P>b?(S=k=f-_/2,T=N=f+_/2):L>b&&(z=L,g=r.getWidthAt(b),k=f-g/2,N=k+g,L=b),s&&(P=2*p-P,L=2*p-L,z!==null&&(z=2*p-z)),E=[["M",S,P],["L",T,P],["L",N,L]],z!==null&&E.push(["L",N,z],["L",k,z]),E.push(["L",k,L],["Z"]),U.shapeType="path",U.shapeArgs={d:E},U.percentage=C*100,U.plotX=f,U.plotY=(P+(z||L))/2,U.tooltipPos=[f,U.plotY],U.dlBox={x:k,y:P,topWidth:T-S,bottomWidth:N-k,height:Math.abs(pick$g(z,L)-P),width:NaN},U.slice=noop$3,U.half=$,(!l||U.visible!==!1)&&(u+=C)}),fireEvent$2(r,"afterTranslate")},i.prototype.sortByAngle=function(t){t.sort(function(r,o){return r.plotY-o.plotY})},i.defaultOptions=merge$e(PieSeries.defaultOptions,{animation:!1,center:["50%","50%"],width:"90%",neckWidth:"30%",height:"100%",neckHeight:"25%",reversed:!1,size:!0,dataLabels:{connectorWidth:1,verticalAlign:"middle"},states:{select:{color:palette.neutralColor20,borderColor:palette.neutralColor100}}}),i}(PieSeries);extend$n(FunnelSeries.prototype,{animate:noop$3});addEvent$7(Chart$1,"afterHideAllOverlappingLabels",function(){this.series.forEach(function(n){var i=n.options&&n.options.dataLabels;isArray$2(i)&&(i=i[0]),n.is("pie")&&n.placeDataLabels&&i&&!i.inside&&n.placeDataLabels()})});SeriesRegistry$1.registerSeriesType("funnel",FunnelSeries);var __extends$1y=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),merge$d=Utilities.merge,PyramidSeries=function(n){__extends$1y(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return i.defaultOptions=merge$d(FunnelSeries.defaultOptions,{neckWidth:"0%",neckHeight:"0%",reversed:!0}),i}(FunnelSeries);SeriesRegistry$1.registerSeriesType("pyramid",PyramidSeries);var colorPointMixin$1={setVisible:function(n){var i=this,t=n?"show":"hide";i.visible=i.options.visible=!!n,["graphic","dataLabel"].forEach(function(r){i[r]&&i[r][t]()}),this.series.buildKDTree()}},colorSeriesMixin$1={optionalAxis:"colorAxis",translateColors:function(){var n=this,i=this.data.length?this.data:this.points,t=this.options.nullColor,r=this.colorAxis,o=this.colorKey;i.forEach(function(a){var s=a.getNestedProperty(o),l;l=a.options.color||(a.isNull||a.value===null?t:r&&typeof s<"u"?r.toColor(s,a):a.color||n.color),l&&a.color!==l&&(a.color=l,n.options.legendType==="point"&&a.legendItem&&n.chart.legend.colorizeItem(a,a.visible))})}},exports$4={colorPointMixin:colorPointMixin$1,colorSeriesMixin:colorSeriesMixin$1},color$4=Color.parse,colorPointMixin=exports$4.colorPointMixin,colorSeriesMixin=exports$4.colorSeriesMixin,addEvent$6=Utilities.addEvent,extend$m=Utilities.extend,merge$c=Utilities.merge,pick$f=Utilities.pick,splat=Utilities.splat,ColorAxisComposition;(function(n){var i=[],t;function r(p,m,g,v,_){if(t||(t=p),i.indexOf(m)===-1){i.push(m);var y=m.prototype;y.collectionsWithUpdate.push("colorAxis"),y.collectionsWithInit.colorAxis=[y.addColorAxis],addEvent$6(m,"afterGetAxes",o),u(m)}if(i.indexOf(g)===-1){i.push(g);var b=g.prototype;b.fillSetter=d,b.strokeSetter=f}i.indexOf(v)===-1&&(i.push(v),addEvent$6(v,"afterGetAllItems",a),addEvent$6(v,"afterColorizeItem",s),addEvent$6(v,"afterUpdate",l)),i.indexOf(_)===-1&&(i.push(_),extend$m(_.prototype,colorSeriesMixin),extend$m(_.prototype.pointClass.prototype,colorPointMixin),addEvent$6(_,"afterTranslate",c),addEvent$6(_,"bindAxes",h))}n.compose=r;function o(){var p=this,m=this.options;this.colorAxis=[],m.colorAxis&&(m.colorAxis=splat(m.colorAxis),m.colorAxis.forEach(function(g,v){g.index=v,new t(p,g)}))}function a(p){var m=this,g=this.chart.colorAxis||[],v=function(x){var E=p.allItems.indexOf(x);E!==-1&&(m.destroyItem(p.allItems[E]),p.allItems.splice(E,1))},_=[],y,b;for(g.forEach(function(x){y=x.options,y&&y.showInLegend&&(y.dataClasses&&y.visible?_=_.concat(x.getDataClassLegendSymbols()):y.visible&&_.push(x),x.series.forEach(function(E){(!E.options.showInLegend||y.dataClasses)&&(E.options.legendType==="point"?E.points.forEach(function(C){v(C)}):v(E))}))}),b=_.length;b--;)p.allItems.unshift(_[b])}function s(p){p.visible&&p.item.legendColor&&p.item.legendSymbol.attr({fill:p.item.legendColor})}function l(){var p=this.chart.colorAxis;p&&p.forEach(function(m){m.update({},arguments[2])})}function c(){(this.chart.colorAxis&&this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}function h(){var p=this.axisTypes;p?p.indexOf("colorAxis")===-1&&p.push("colorAxis"):this.axisTypes=["colorAxis"]}function u(p){var m=p.prototype.createAxis;p.prototype.createAxis=function(g,v){if(g!=="colorAxis")return m.apply(this,arguments);var _=new t(this,merge$c(v.axis,{index:this[g].length,isX:!1}));return this.isDirtyLegend=!0,this.axes.forEach(function(y){y.series=[]}),this.series.forEach(function(y){y.bindAxes(),y.isDirtyData=!0}),pick$f(v.redraw,!0)&&this.redraw(v.animation),_}}function d(){this.elem.attr("fill",color$4(this.start).tweenTo(color$4(this.end),this.pos),void 0,!0)}function f(){this.elem.attr("stroke",color$4(this.start).tweenTo(color$4(this.end),this.pos),void 0,!0)}})(ColorAxisComposition||(ColorAxisComposition={}));const ColorAxisComposition$1=ColorAxisComposition;var colorAxisDefaults={lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:palette.neutralColor40},labels:{overflow:"justify",rotation:0},minColor:palette.highlightColor10,maxColor:palette.highlightColor100,tickLength:5,showInLegend:!0},__extends$1x=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),color$3=Color.parse,noop$2=H.noop,Series$6=SeriesRegistry$1.series,extend$l=Utilities.extend,isNumber$7=Utilities.isNumber,merge$b=Utilities.merge,pick$e=Utilities.pick,ColorAxis=function(n){__extends$1x(i,n);function i(t,r){var o=n.call(this,t,r)||this;return o.beforePadding=!1,o.chart=void 0,o.coll="colorAxis",o.dataClasses=void 0,o.legendItem=void 0,o.legendItems=void 0,o.name="",o.options=void 0,o.stops=void 0,o.visible=!0,o.init(t,r),o}return i.compose=function(t,r,o,a){ColorAxisComposition$1.compose(i,t,r,o,a)},i.prototype.init=function(t,r){var o=this,a=t.options.legend||{},s=r.layout?r.layout!=="vertical":a.layout!=="vertical",l=r.visible,c=merge$b(i.defaultColorAxisOptions,r,{showEmpty:!1,title:null,visible:a.enabled&&l!==!1});o.coll="colorAxis",o.side=r.side||s?2:1,o.reversed=r.reversed||!s,o.opposite=!s,n.prototype.init.call(this,t,c),o.userOptions.visible=l,r.dataClasses&&o.initDataClasses(r),o.initStops(),o.horiz=s,o.zoomEnabled=!1},i.prototype.initDataClasses=function(t){var r=this,o=r.chart,a=r.options,s=t.dataClasses.length,l,c=0,h=o.options.chart.colorCount;r.dataClasses=l=[],r.legendItems=[],(t.dataClasses||[]).forEach(function(u,d){var f;u=merge$b(u),l.push(u),!(!o.styledMode&&u.color)&&(a.dataClassColor==="category"?(o.styledMode||(f=o.options.colors,h=f.length,u.color=f[c]),u.colorIndex=c,c++,c===h&&(c=0)):u.color=color$3(a.minColor).tweenTo(color$3(a.maxColor),s<2?.5:d/(s-1)))})},i.prototype.hasData=function(){return!!(this.tickPositions||[]).length},i.prototype.setTickPositions=function(){if(!this.dataClasses)return n.prototype.setTickPositions.call(this)},i.prototype.initStops=function(){var t=this;t.stops=t.options.stops||[[0,t.options.minColor],[1,t.options.maxColor]],t.stops.forEach(function(r){r.color=color$3(r[1])})},i.prototype.setOptions=function(t){var r=this;n.prototype.setOptions.call(this,t),r.options.crosshair=r.options.marker},i.prototype.setAxisSize=function(){var t=this,r=t.legendSymbol,o=t.chart,a=o.options.legend||{},s,l,c,h;r?(this.left=s=r.attr("x"),this.top=l=r.attr("y"),this.width=c=r.attr("width"),this.height=h=r.attr("height"),this.right=o.chartWidth-s-c,this.bottom=o.chartHeight-l-h,this.len=this.horiz?c:h,this.pos=this.horiz?s:l):this.len=(this.horiz?a.symbolWidth:a.symbolHeight)||i.defaultLegendLength},i.prototype.normalizedValue=function(t){var r=this;return r.logarithmic&&(t=r.logarithmic.log2lin(t)),1-(r.max-t)/(r.max-r.min||1)},i.prototype.toColor=function(t,r){var o=this,a=o.dataClasses,s=o.stops,l,c,h,u,d,f;if(a){for(f=a.length;f--;)if(d=a[f],c=d.from,h=d.to,(typeof c>"u"||t>=c)&&(typeof h>"u"||t<=h)){u=d.color,r&&(r.dataClass=f,r.colorIndex=d.colorIndex);break}}else{for(l=o.normalizedValue(t),f=s.length;f--&&!(l>s[f][0]););c=s[f]||s[f+1],h=s[f+1]||c,l=1-(h[0]-l)/(h[0]-c[0]||1),u=c.color.tweenTo(h.color,l)}return u},i.prototype.getOffset=function(){var t=this,r=t.legendGroup,o=t.chart.axisOffset[t.side];r&&(t.axisParent=r,n.prototype.getOffset.call(this),t.added||(t.added=!0,t.labelLeft=0,t.labelRight=t.width),t.chart.axisOffset[t.side]=o)},i.prototype.setLegendColor=function(){var t=this,r=t.horiz,o=t.reversed,a=o?1:0,s=o?0:1,l=r?[a,0,s,0]:[0,s,0,a];t.legendColor={linearGradient:{x1:l[0],y1:l[1],x2:l[2],y2:l[3]},stops:t.stops}},i.prototype.drawLegendSymbol=function(t,r){var o=this,a=t.padding,s=t.options,l=o.horiz,c=pick$e(s.symbolWidth,l?i.defaultLegendLength:12),h=pick$e(s.symbolHeight,l?12:i.defaultLegendLength),u=pick$e(s.labelPadding,l?16:30),d=pick$e(s.itemDistance,10);this.setLegendColor(),r.legendSymbol=this.chart.renderer.rect(0,t.baseline-11,c,h).attr({zIndex:1}).add(r.legendGroup),o.legendItemWidth=c+a+(l?d:u),o.legendItemHeight=h+a+(l?u:0)},i.prototype.setState=function(t){this.series.forEach(function(r){r.setState(t)})},i.prototype.setVisible=function(){},i.prototype.getSeriesExtremes=function(){var t=this,r=t.series,o,a,s,l,c,h,u=r.length,d,f;for(this.dataMin=1/0,this.dataMax=-1/0;u--;){if(h=r[u],a=h.colorKey=pick$e(h.options.colorKey,h.colorKey,h.pointValKey,h.zoneAxis,"y"),l=h.pointArrayMap,c=h[a+"Min"]&&h[a+"Max"],h[a+"Data"])o=h[a+"Data"];else if(!l)o=h.yData;else if(o=[],s=l.indexOf(a),d=h.yData,s>=0&&d)for(f=0;f<d.length;f++)o.push(pick$e(d[f][s],d[f]));if(c)h.minColorValue=h[a+"Min"],h.maxColorValue=h[a+"Max"];else{var p=Series$6.prototype.getExtremes.call(h,o);h.minColorValue=p.dataMin,h.maxColorValue=p.dataMax}typeof h.minColorValue<"u"&&(this.dataMin=Math.min(this.dataMin,h.minColorValue),this.dataMax=Math.max(this.dataMax,h.maxColorValue)),c||Series$6.prototype.applyExtremes.call(h)}},i.prototype.drawCrosshair=function(t,r){var o=this,a=r&&r.plotX,s=r&&r.plotY,l=o.pos,c=o.len,h;r&&(h=o.toPixels(r.getNestedProperty(r.series.colorKey)),h<l?h=l-2:h>l+c&&(h=l+c+2),r.plotX=h,r.plotY=o.len-h,n.prototype.drawCrosshair.call(this,t,r),r.plotX=a,r.plotY=s,o.cross&&!o.cross.addedToColorAxis&&o.legendGroup&&(o.cross.addClass("highcharts-coloraxis-marker").add(o.legendGroup),o.cross.addedToColorAxis=!0,!o.chart.styledMode&&typeof o.crosshair=="object"&&o.cross.attr({fill:o.crosshair.color})))},i.prototype.getPlotLinePath=function(t){var r=this,o=r.left,a=t.translatedValue,s=r.top;return isNumber$7(a)?r.horiz?[["M",a-4,s-6],["L",a+4,s-6],["L",a,s],["Z"]]:[["M",o,a],["L",o-6,a+6],["L",o-6,a-6],["Z"]]:n.prototype.getPlotLinePath.call(this,t)},i.prototype.update=function(t,r){var o=this,a=o.chart,s=a.legend;this.series.forEach(function(l){l.isDirtyData=!0}),(t.dataClasses&&s.allItems||o.dataClasses)&&o.destroyItems(),n.prototype.update.call(this,t,r),o.legendItem&&(o.setLegendColor(),s.colorizeItem(this,!0))},i.prototype.destroyItems=function(){var t=this,r=t.chart;t.legendItem?r.legend.destroyItem(t):t.legendItems&&t.legendItems.forEach(function(o){r.legend.destroyItem(o)}),r.isDirtyLegend=!0},i.prototype.destroy=function(){this.chart.isDirtyLegend=!0,this.destroyItems(),n.prototype.destroy.apply(this,[].slice.call(arguments))},i.prototype.remove=function(t){this.destroyItems(),n.prototype.remove.call(this,t)},i.prototype.getDataClassLegendSymbols=function(){var t=this,r=t.chart,o=t.legendItems,a=r.options.legend,s=a.valueDecimals,l=a.valueSuffix||"",c;return o.length||t.dataClasses.forEach(function(h,u){var d=h.from,f=h.to,p=r.numberFormatter,m=!0;c="",typeof d>"u"?c="< ":typeof f>"u"&&(c="> "),typeof d<"u"&&(c+=p(d,s)+l),typeof d<"u"&&typeof f<"u"&&(c+=" - "),typeof f<"u"&&(c+=p(f,s)+l),o.push(extend$l({chart:r,name:c,options:{},drawLegendSymbol:LegendSymbol$1.drawRectangle,visible:!0,setState:noop$2,isDataClass:!0,setVisible:function(){m=t.visible=!m,t.series.forEach(function(g){g.points.forEach(function(v){v.dataClass===u&&v.setVisible(m)})}),r.legend.colorizeItem(this,m)}},h))}),o},i.defaultColorAxisOptions=colorAxisDefaults,i.defaultLegendLength=200,i.keepProps=["legendGroup","legendItemHeight","legendItemWidth","legendItem","legendSymbol"],i}(Axis);Array.prototype.push.apply(Axis.keepProps,ColorAxis.keepProps);var defined$7=Utilities.defined,addEvent$5=Utilities.addEvent,noop$1=H.noop,seriesTypes=H.seriesTypes;addEvent$5(Point$5,"afterSetState",function(n){var i=this;i.moveToTopOnHover&&i.graphic&&i.graphic.attr({zIndex:n&&n.state==="hover"?1:0})});var colorMapPointMixin$1={dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return this.value!==null&&this.value!==1/0&&this.value!==-1/0}},colorMapSeriesMixin$2={pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:noop$1,parallelArrays:["x","y","value"],colorKey:"value",pointAttribs:seriesTypes.column.prototype.pointAttribs,colorAttribs:function(n){var i={};return defined$7(n.color)&&(!n.state||n.state==="normal")&&(i[this.colorProp||"fill"]=n.color),i}},exports$3={colorMapPointMixin:colorMapPointMixin$1,colorMapSeriesMixin:colorMapSeriesMixin$2},__extends$1w=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),colorMapPointMixin=exports$3.colorMapPointMixin,ScatterPoint$1=SeriesRegistry$1.seriesTypes.scatter.prototype.pointClass,clamp$3=Utilities.clamp,extend$k=Utilities.extend,pick$d=Utilities.pick,HeatmapPoint=function(n){__extends$1w(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t.value=void 0,t.x=void 0,t.y=void 0,t}return i.prototype.applyOptions=function(t,r){var o=n.prototype.applyOptions.call(this,t,r);return o.formatPrefix=o.isNull||o.value===null?"null":"point",o},i.prototype.getCellAttributes=function(){var t=this,r=t.series,o=r.options,a=(o.colsize||1)/2,s=(o.rowsize||1)/2,l=r.xAxis,c=r.yAxis,h=t.options.marker||r.options.marker,u=r.pointPlacementToXValue(),d=pick$d(t.pointPadding,o.pointPadding,0),f={x1:clamp$3(Math.round(l.len-(l.translate(t.x-a,!1,!0,!1,!0,-u)||0)),-l.len,2*l.len),x2:clamp$3(Math.round(l.len-(l.translate(t.x+a,!1,!0,!1,!0,-u)||0)),-l.len,2*l.len),y1:clamp$3(Math.round(c.translate(t.y-s,!1,!0,!1,!0)||0),-c.len,2*c.len),y2:clamp$3(Math.round(c.translate(t.y+s,!1,!0,!1,!0)||0),-c.len,2*c.len)};return[["width","x"],["height","y"]].forEach(function(p){var m=p[0],g=p[1],v=g+"1",_=g+"2",y=Math.abs(f[v]-f[_]),b=h&&h.lineWidth||0,x=Math.abs(f[v]+f[_])/2;h[m]&&h[m]<y&&(f[v]=x-h[m]/2-b/2,f[_]=x+h[m]/2+b/2),d&&(g==="y"&&(v=_,_=g+"1"),f[v]+=d,f[_]-=d)}),f},i.prototype.haloPath=function(t){if(!t)return[];var r=this.shapeArgs;return["M",r.x-t,r.y-t,"L",r.x-t,r.y+r.height+t,r.x+r.width+t,r.y+r.height+t,r.x+r.width+t,r.y-t,"Z"]},i.prototype.isValid=function(){return this.value!==1/0&&this.value!==-1/0},i}(ScatterPoint$1);extend$k(HeatmapPoint.prototype,{dataLabelOnNull:colorMapPointMixin.dataLabelOnNull,moveToTopOnHover:colorMapPointMixin.moveToTopOnHover});var __extends$1v=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),colorMapSeriesMixin$1=exports$3.colorMapSeriesMixin,Series$5=SeriesRegistry$1.series,_a$5=SeriesRegistry$1.seriesTypes,ColumnSeries$7=_a$5.column,ScatterSeries$1=_a$5.scatter,symbols$1=SVGRenderer.prototype.symbols,extend$j=Utilities.extend,fireEvent$1=Utilities.fireEvent,isNumber$6=Utilities.isNumber,merge$a=Utilities.merge,pick$c=Utilities.pick,HeatmapSeries$1=function(n){__extends$1v(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.colorAxis=void 0,t.data=void 0,t.options=void 0,t.points=void 0,t.valueMax=NaN,t.valueMin=NaN,t}return i.prototype.drawPoints=function(){var t=this,r=this.options.marker||{};(r.enabled||this._hasPointMarkers)&&(Series$5.prototype.drawPoints.call(this),this.points.forEach(function(o){o.graphic&&(o.graphic[t.chart.styledMode?"css":"animate"](t.colorAttribs(o)),t.options.borderRadius&&o.graphic.attr({r:t.options.borderRadius}),o.value===null&&o.graphic.addClass("highcharts-null-point"))}))},i.prototype.getExtremes=function(){var t=Series$5.prototype.getExtremes.call(this,this.valueData),r=t.dataMin,o=t.dataMax;return isNumber$6(r)&&(this.valueMin=r),isNumber$6(o)&&(this.valueMax=o),Series$5.prototype.getExtremes.call(this)},i.prototype.getValidPoints=function(t,r){return Series$5.prototype.getValidPoints.call(this,t,r,!0)},i.prototype.hasData=function(){return!!this.processedXData.length},i.prototype.init=function(){var t;Series$5.prototype.init.apply(this,arguments),t=this.options,t.pointRange=pick$c(t.pointRange,t.colsize||1),this.yAxis.axisPointRange=t.rowsize||1,symbols$1.ellipse=symbols$1.circle},i.prototype.markerAttribs=function(t,r){var o=t.marker||{},a=this.options.marker||{},s,l,c=t.shapeArgs||{},h=t.hasImage,u={};return h?{x:t.plotX,y:t.plotY}:(r&&(s=a.states[r]||{},l=o.states&&o.states[r]||{},[["width","x"],["height","y"]].forEach(function(d){u[d[0]]=(l[d[0]]||s[d[0]]||c[d[0]])+(l[d[0]+"Plus"]||s[d[0]+"Plus"]||0),u[d[1]]=c[d[1]]+(c[d[0]]-u[d[0]])/2})),r?u:c)},i.prototype.pointAttribs=function(t,r){var o=this,a=Series$5.prototype.pointAttribs.call(o,t,r),s=o.options||{},l=o.chart.options.plotOptions||{},c=l.series||{},h=l.heatmap||{},u,d,f=t&&t.options.borderColor||s.borderColor||h.borderColor||c.borderColor,p=t&&t.options.borderWidth||s.borderWidth||h.borderWidth||c.borderWidth||a["stroke-width"];return a.stroke=t&&t.marker&&t.marker.lineColor||s.marker&&s.marker.lineColor||f||this.color,a["stroke-width"]=p,r&&(u=merge$a(s.states[r],s.marker&&s.marker.states[r],t&&t.options.states&&t.options.states[r]||{}),d=u.brightness,a.fill=u.color||Color.parse(a.fill).brighten(d||0).get(),a.stroke=u.lineColor),a},i.prototype.setClip=function(t){var r=this,o=r.chart;Series$5.prototype.setClip.apply(r,arguments),(r.options.clip!==!1||t)&&r.markerGroup.clip((t||r.clipBox)&&r.sharedClipKey?o.sharedClips[r.sharedClipKey]:o.clipRect)},i.prototype.translate=function(){var t=this,r=t.options,o=r.marker&&r.marker.symbol||"rect",a=symbols$1[o]?o:"rect",s=["circle","square"].indexOf(a)!==-1;t.generatePoints(),t.points.forEach(function(l){var c,h,u,d=l.getCellAttributes(),f={};f.x=Math.min(d.x1,d.x2),f.y=Math.min(d.y1,d.y2),f.width=Math.max(Math.abs(d.x2-d.x1),0),f.height=Math.max(Math.abs(d.y2-d.y1),0),u=l.hasImage=(l.marker&&l.marker.symbol||o||"").indexOf("url")===0,s&&(h=Math.abs(f.width-f.height),f.x=Math.min(d.x1,d.x2)+(f.width<f.height?0:h/2),f.y=Math.min(d.y1,d.y2)+(f.width<f.height?h/2:0),f.width=f.height=Math.min(f.width,f.height)),c={plotX:(d.x1+d.x2)/2,plotY:(d.y1+d.y2)/2,clientX:(d.x1+d.x2)/2,shapeType:"path",shapeArgs:merge$a(!0,f,{d:symbols$1[a](f.x,f.y,f.width,f.height)})},u&&(l.marker={width:f.width,height:f.height}),extend$j(l,c)}),fireEvent$1(t,"afterTranslate")},i.defaultOptions=merge$a(ScatterSeries$1.defaultOptions,{animation:!1,borderRadius:0,borderWidth:0,nullColor:palette.neutralColor3,dataLabels:{formatter:function(){var t=this.series.chart.numberFormatter,r=this.point.value;return isNumber$6(r)?t(r,-1):""},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}}}),i}(ScatterSeries$1);extend$j(HeatmapSeries$1.prototype,{alignDataLabel:ColumnSeries$7.prototype.alignDataLabel,axisTypes:colorMapSeriesMixin$1.axisTypes,colorAttribs:colorMapSeriesMixin$1.colorAttribs,colorKey:colorMapSeriesMixin$1.colorKey,directTouch:!0,drawLegendSymbol:LegendSymbol$1.drawRectangle,getExtremesFromAll:!0,getSymbol:Series$5.prototype.getSymbol,parallelArrays:colorMapSeriesMixin$1.parallelArrays,pointArrayMap:["y","value"],pointClass:HeatmapPoint,trackerGroups:colorMapSeriesMixin$1.trackerGroups});SeriesRegistry$1.registerSeriesType("heatmap",HeatmapSeries$1);/**
 * @license Highmaps JS v9.2.2 (2021-08-24)
 * @module highcharts/modules/heatmap
 * @requires highcharts
 *
 * (c) 2009-2021 Torstein Honsi
 *
 * License: www.highcharts.com/license
 */var G=H;G.ColorAxis=ColorAxis;ColorAxis.compose(G.Chart,G.Fx,G.Legend,G.Series);var color$2=Color.parse,extend$i=Utilities.extend,merge$9=Utilities.merge,SolidGaugeAxis;(function(n){var i={initDataClasses:function(r){var o=this.chart,a,s=0,l=this.options;this.dataClasses=a=[],r.dataClasses.forEach(function(c,h){var u;c=merge$9(c),a.push(c),c.color||(l.dataClassColor==="category"?(u=o.options.colors,c.color=u[s++],s===u.length&&(s=0)):c.color=color$2(l.minColor).tweenTo(color$2(l.maxColor),h/(r.dataClasses.length-1)))})},initStops:function(r){this.stops=r.stops||[[0,this.options.minColor],[1,this.options.maxColor]],this.stops.forEach(function(o){o.color=color$2(o[1])})},toColor:function(r,o){var a,s=this.stops,l,c,h,u=this.dataClasses,d,f;if(u){for(f=u.length;f--;)if(d=u[f],l=d.from,c=d.to,(typeof l>"u"||r>=l)&&(typeof c>"u"||r<=c)){h=d.color,o&&(o.dataClass=f);break}}else{for(this.logarithmic&&(r=this.val2lin(r)),a=1-(this.max-r)/(this.max-this.min),f=s.length;f--&&!(a>s[f][0]););l=s[f]||s[f+1],c=s[f+1]||l,a=1-(c[0]-a)/(c[0]-l[0]||1),h=l.color.tweenTo(c.color,a)}return h}};function t(r){extend$i(r,i)}n.init=t})(SolidGaugeAxis||(SolidGaugeAxis={}));const SolidGaugeAxis$1=SolidGaugeAxis;var _a$4=SVGRenderer.prototype,symbols=_a$4.symbols,arc=_a$4.symbols.arc;symbols.arc=function(n,i,t,r,o){var a=arc(n,i,t,r,o);if(o&&o.rounded){var s=o.r||t,l=(s-(o.innerR||0))/2,c=a[0],h=a[2];if(c[0]==="M"&&h[0]==="L"){var u=c[1],d=c[2],f=h[1],p=h[2],m=["A",l,l,0,1,1,u,d],g=["A",l,l,0,1,1,f,p];a[2]=g,a[4]=m}}return a};var __extends$1u=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_a$3=SeriesRegistry$1.seriesTypes,GaugeSeries=_a$3.gauge,pieProto=_a$3.pie.prototype,clamp$2=Utilities.clamp,extend$h=Utilities.extend,isNumber$5=Utilities.isNumber,merge$8=Utilities.merge,pick$b=Utilities.pick,pInt=Utilities.pInt,solidGaugeOptions={colorByPoint:!0,dataLabels:{y:0}},SolidGaugeSeries=function(n){__extends$1u(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.data=void 0,t.points=void 0,t.options=void 0,t.axis=void 0,t.yAxis=void 0,t.startAngleRad=void 0,t.thresholdAngleRad=void 0,t}return i.prototype.translate=function(){var t=this.yAxis;SolidGaugeAxis$1.init(t),!t.dataClasses&&t.options.dataClasses&&t.initDataClasses(t.options),t.initStops(t.options),GaugeSeries.prototype.translate.call(this)},i.prototype.drawPoints=function(){var t=this,r=t.yAxis,o=r.center,a=t.options,s=t.chart.renderer,l=a.overshoot,c=isNumber$5(l)?l/180*Math.PI:0,h;isNumber$5(a.threshold)&&(h=r.startAngleRad+r.translate(a.threshold,null,null,null,!0)),this.thresholdAngleRad=pick$b(h,r.startAngleRad),t.points.forEach(function(u){if(!u.isNull){var d=u.graphic,f=r.startAngleRad+r.translate(u.y,null,null,null,!0),p=pInt(pick$b(u.options.radius,a.radius,100))*o[2]/200,m=pInt(pick$b(u.options.innerRadius,a.innerRadius,60))*o[2]/200,g=void 0,v=void 0,_=r.toColor(u.y,u),y=Math.min(r.startAngleRad,r.endAngleRad),b=Math.max(r.startAngleRad,r.endAngleRad),x=void 0,E=void 0;_==="none"&&(_=u.color||t.color||"none"),_!=="none"&&(u.color=_),f=clamp$2(f,y-c,b+c),a.wrap===!1&&(f=clamp$2(f,y,b)),x=Math.min(f,t.thresholdAngleRad),E=Math.max(f,t.thresholdAngleRad),E-x>2*Math.PI&&(E=x+2*Math.PI),u.shapeArgs=g={x:o[0],y:o[1],r:p,innerR:m,start:x,end:E,rounded:a.rounded},u.startR=p,d?(v=g.d,d.animate(extend$h({fill:_},g)),v&&(g.d=v)):u.graphic=d=s.arc(g).attr({fill:_,"sweep-flag":0}).add(t.group),t.chart.styledMode||(a.linecap!=="square"&&d.attr({"stroke-linecap":"round","stroke-linejoin":"round"}),d.attr({stroke:a.borderColor||"none","stroke-width":a.borderWidth||0})),d&&d.addClass(u.getClassName(),!0)}})},i.prototype.animate=function(t){t||(this.startAngleRad=this.thresholdAngleRad,pieProto.animate.call(this,t))},i.defaultOptions=merge$8(GaugeSeries.defaultOptions,solidGaugeOptions),i}(GaugeSeries);extend$h(SolidGaugeSeries.prototype,{drawLegendSymbol:LegendSymbol$1.drawRectangle});SeriesRegistry$1.registerSeriesType("solidgauge",SolidGaugeSeries);var TreemapAlgorithmGroup=function(){function n(i,t,r,o){this.height=i,this.width=t,this.plot=o,this.direction=r,this.startDirection=r,this.total=0,this.nW=0,this.lW=0,this.nH=0,this.lH=0,this.elArr=[],this.lP={total:0,lH:0,nH:0,lW:0,nW:0,nR:0,lR:0,aspectRatio:function(a,s){return Math.max(a/s,s/a)}}}return n.prototype.addElement=function(i){this.lP.total=this.elArr[this.elArr.length-1],this.total=this.total+i,this.direction===0?(this.lW=this.nW,this.lP.lH=this.lP.total/this.lW,this.lP.lR=this.lP.aspectRatio(this.lW,this.lP.lH),this.nW=this.total/this.height,this.lP.nH=this.lP.total/this.nW,this.lP.nR=this.lP.aspectRatio(this.nW,this.lP.nH)):(this.lH=this.nH,this.lP.lW=this.lP.total/this.lH,this.lP.lR=this.lP.aspectRatio(this.lP.lW,this.lH),this.nH=this.total/this.width,this.lP.nW=this.lP.total/this.nH,this.lP.nR=this.lP.aspectRatio(this.lP.nW,this.nH)),this.elArr.push(i)},n.prototype.reset=function(){this.nW=0,this.lW=0,this.elArr=[],this.total=0},n}(),isFn$1=function(n){return typeof n=="function"},draw=function(i){var t=this,r=i.animatableAttribs,o=i.onComplete,a=i.css,s=i.renderer,l=this.series&&this.series.chart.hasRendered?void 0:this.series&&this.series.options.animation,c=this.graphic;if(this.shouldDraw())c||(this.graphic=c=s[i.shapeType](i.shapeArgs).add(i.group)),c.css(a).attr(i.attribs).animate(r,i.isNew?!1:l,o);else if(c){var h=function(){t.graphic=c=c&&c.destroy(),isFn$1(o)&&o()};Object.keys(r).length?c.animate(r,void 0,function(){h()}):h()}},drawPoint=function(i){var t=this,r=i.attribs=i.attribs||{};r.class=t.getClassName(),draw.call(t,i)},drawPointModule={draw,drawPoint,isFn:isFn$1},__extends$1t=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Point$3=SeriesRegistry$1.series.prototype.pointClass,_a$2=SeriesRegistry$1.seriesTypes,PiePoint$1=_a$2.pie.prototype.pointClass,ScatterPoint=_a$2.scatter.prototype.pointClass,extend$g=Utilities.extend,isNumber$4=Utilities.isNumber,pick$a=Utilities.pick,TreemapPoint=function(n){__extends$1t(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.name=void 0,t.node=void 0,t.options=void 0,t.series=void 0,t.value=void 0,t}return i.prototype.getClassName=function(){var t=Point$3.prototype.getClassName.call(this),r=this.series,o=r.options;return this.node.level<=r.nodeMap[r.rootNode].level?t+=" highcharts-above-level":!this.node.isLeaf&&!pick$a(o.interactByLeaf,!o.allowTraversingTree)?t+=" highcharts-internal-node-interactive":this.node.isLeaf||(t+=" highcharts-internal-node"),t},i.prototype.isValid=function(){return!!(this.id||isNumber$4(this.value))},i.prototype.setState=function(t){Point$3.prototype.setState.call(this,t),this.graphic&&this.graphic.attr({zIndex:t==="hover"?1:0})},i.prototype.shouldDraw=function(){return isNumber$4(this.plotY)&&this.y!==null},i}(ScatterPoint);extend$g(TreemapPoint.prototype,{draw:drawPointModule.drawPoint,setVisible:PiePoint$1.prototype.setVisible});var objectEach$1=Utilities.objectEach,TreemapUtilities;(function(n){n.AXIS_MAX=100;function i(o){return typeof o=="boolean"}n.isBoolean=i;function t(o,a,s){s=s||this,objectEach$1(o,function(l,c){a.call(s,l,c,o)})}n.eachObject=t;function r(o,a,s){s===void 0&&(s=this);var l;l=a.call(s,o),l!==!1&&r(l,a,s)}n.recursive=r})(TreemapUtilities||(TreemapUtilities={}));const TreemapUtilities$1=TreemapUtilities;var extend$f=Utilities.extend,isArray$1=Utilities.isArray,isNumber$3=Utilities.isNumber,isObject$3=Utilities.isObject,merge$7=Utilities.merge,pick$9=Utilities.pick,isBoolean=function(n){return typeof n=="boolean"},isFn=function(n){return typeof n=="function"},setTreeValues=function n(i,t){var r=t.before,o=t.idRoot,a=t.mapIdToNode,s=a[o],l=isBoolean(t.levelIsConstant)?t.levelIsConstant:!0,c=t.points,h=c[i.i],u=h&&h.options||{},d=0,f=[],p;return i.levelDynamic=i.level-(l?0:s.level),i.name=pick$9(h&&h.name,""),i.visible=o===i.id||(isBoolean(t.visible)?t.visible:!1),isFn(r)&&(i=r(i,t)),i.children.forEach(function(m,g){var v=extend$f({},t);extend$f(v,{index:g,siblings:i.children.length,visible:i.visible}),m=n(m,v),f.push(m),m.visible&&(d+=m.val)}),p=pick$9(u.value,d),i.visible=p>=0&&(d>0||i.visible),i.children=f,i.childrenTotal=d,i.isLeaf=i.visible&&!d,i.val=p,i},getColor$1=function(i,t){var r=t.index,o=t.mapOptionsToLevel,a=t.parentColor,s=t.parentColorIndex,l=t.series,c=t.colors,h=t.siblings,u=l.points,d,f=l.chart.options.chart,p,m,g,v,_,y;function b(x){var E=m&&m.colorVariation;return E&&E.key==="brightness"?Color.parse(x).brighten(E.to*(r/h)).get():x}return i&&(p=u[i.i],m=o[i.level]||{},d=p&&m.colorByPoint,d&&(v=p.index%(c?c.length:f.colorCount),g=c&&c[v]),l.chart.styledMode||(_=pick$9(p&&p.options.color,m&&m.color,g,a&&b(a),l.color)),y=pick$9(p&&p.options.colorIndex,m&&m.colorIndex,v,s,t.colorIndex)),{color:_,colorIndex:y}},getLevelOptions$2=function(i){var t=null,r,o,a,s,l,c;if(isObject$3(i))for(t={},s=isNumber$3(i.from)?i.from:1,c=i.levels,o={},r=isObject$3(i.defaults)?i.defaults:{},isArray$1(c)&&(o=c.reduce(function(h,u){var d,f,p;return isObject$3(u)&&isNumber$3(u.level)&&(p=merge$7({},u),f=isBoolean(p.levelIsConstant)?p.levelIsConstant:r.levelIsConstant,delete p.levelIsConstant,delete p.level,d=u.level+(f?0:s-1),isObject$3(h[d])?extend$f(h[d],p):h[d]=p),h},{})),l=isNumber$3(i.to)?i.to:1,a=0;a<=l;a++)t[a]=merge$7({},r,isObject$3(o[a])?o[a]:{});return t},updateRootId$1=function(n){var i,t;return isObject$3(n)&&(t=isObject$3(n.options)?n.options:{},i=pick$9(n.rootNode,t.rootId,""),isObject$3(n.userOptions)&&(n.userOptions.rootId=i),n.rootNode=i),i},result={getColor:getColor$1,getLevelOptions:getLevelOptions$2,setTreeValues,updateRootId:updateRootId$1},Series$4=SeriesRegistry$1.series,addEvent$4=Utilities.addEvent,extend$e=Utilities.extend,treemapAxisDefaultValues=!1;addEvent$4(Series$4,"afterBindAxes",function(){var n=this,i=n.xAxis,t=n.yAxis,r;i&&t&&(n.is("treemap")?(r={endOnTick:!1,gridLineWidth:0,lineWidth:0,min:0,minPadding:0,max:TreemapUtilities$1.AXIS_MAX,maxPadding:0,startOnTick:!1,title:void 0,tickPositions:[]},extend$e(t.options,r),extend$e(i.options,r),treemapAxisDefaultValues=!0):treemapAxisDefaultValues&&(t.setOptions(t.userOptions),i.setOptions(i.userOptions),treemapAxisDefaultValues=!1))});var __extends$1s=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),color$1=Color.parse,colorMapSeriesMixin=exports$3.colorMapSeriesMixin,noop=H.noop,Series$3=SeriesRegistry$1.series,_a$1=SeriesRegistry$1.seriesTypes,ColumnSeries$6=_a$1.column,HeatmapSeries=_a$1.heatmap,ScatterSeries=_a$1.scatter,getColor=result.getColor,getLevelOptions$1=result.getLevelOptions,updateRootId=result.updateRootId,addEvent$3=Utilities.addEvent,correctFloat$1=Utilities.correctFloat,defined$6=Utilities.defined,error=Utilities.error,extend$d=Utilities.extend,fireEvent=Utilities.fireEvent,isArray=Utilities.isArray,isObject$2=Utilities.isObject,isString=Utilities.isString,merge$6=Utilities.merge,pick$8=Utilities.pick,stableSort$1=Utilities.stableSort,TreemapSeries=function(n){__extends$1s(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.axisRatio=void 0,t.data=void 0,t.mapOptionsToLevel=void 0,t.nodeMap=void 0,t.options=void 0,t.points=void 0,t.rootNode=void 0,t.tree=void 0,t}return i.prototype.algorithmCalcPoints=function(t,r,o,a){var s,l,c,h,u=o.lW,d=o.lH,f=o.plot,p,m=0,g=o.elArr.length-1;r?(u=o.nW,d=o.nH):p=o.elArr[o.elArr.length-1],o.elArr.forEach(function(v){(r||m<g)&&(o.direction===0?(s=f.x,l=f.y,c=u,h=v/c):(s=f.x,l=f.y,h=d,c=v/h),a.push({x:s,y:l,width:c,height:correctFloat$1(h)}),o.direction===0?f.y=f.y+h:f.x=f.x+c),m=m+1}),o.reset(),o.direction===0?o.width=o.width-u:o.height=o.height-d,f.y=f.parent.y+(f.parent.height-o.height),f.x=f.parent.x+(f.parent.width-o.width),t&&(o.direction=1-o.direction),r||o.addElement(p)},i.prototype.algorithmFill=function(t,r,o){var a=[],s,l=r.direction,c=r.x,h=r.y,u=r.width,d=r.height,f,p,m,g;return o.forEach(function(v){s=r.width*r.height*(v.val/r.val),f=c,p=h,l===0?(g=d,m=s/g,u=u-m,c=c+m):(m=u,g=s/m,d=d-g,h=h+g),a.push({x:f,y:p,width:m,height:g}),t&&(l=1-l)}),a},i.prototype.algorithmLowAspectRatio=function(t,r,o){var a=[],s=this,l,c={x:r.x,y:r.y,parent:r},h=r.direction,u=0,d=o.length-1,f=new TreemapAlgorithmGroup(r.height,r.width,h,c);return o.forEach(function(p){l=r.width*r.height*(p.val/r.val),f.addElement(l),f.lP.nR>f.lP.lR&&s.algorithmCalcPoints(t,!1,f,a,c),u===d&&s.algorithmCalcPoints(t,!0,f,a,c),u=u+1}),a},i.prototype.alignDataLabel=function(t,r,o){var a=o.style;a&&!defined$6(a.textOverflow)&&r.text&&r.getBBox().width>r.text.textWidth&&r.css({textOverflow:"ellipsis",width:a.width+="px"}),ColumnSeries$6.prototype.alignDataLabel.apply(this,arguments),t.dataLabel&&t.dataLabel.attr({zIndex:(t.node.zIndex||0)+1})},i.prototype.buildNode=function(t,r,o,a,s){var l=this,c=[],h=l.points[r],u=0,d,f;return(a[t]||[]).forEach(function(p){f=l.buildNode(l.points[p].id,p,o+1,a,t),u=Math.max(f.height+1,u),c.push(f)}),d={id:t,i:r,children:c,height:u,level:o,parent:s,visible:!1},l.nodeMap[d.id]=d,h&&(h.node=d),d},i.prototype.calculateChildrenAreas=function(t,r){var o=this,a=o.options,s=o.mapOptionsToLevel,l=s[t.level+1],c=pick$8(o[l&&l.layoutAlgorithm]&&l.layoutAlgorithm,a.layoutAlgorithm),h=a.alternateStartingDirection,u=[],d;d=t.children.filter(function(f){return!f.ignore}),l&&l.layoutStartingDirection&&(r.direction=l.layoutStartingDirection==="vertical"?0:1),u=o[c](r,d),d.forEach(function(f,p){var m=u[p];f.values=merge$6(m,{val:f.childrenTotal,direction:h?1-r.direction:r.direction}),f.pointValues=merge$6(m,{x:m.x/o.axisRatio,y:TreemapUtilities$1.AXIS_MAX-m.y-m.height,width:m.width/o.axisRatio}),f.children.length&&o.calculateChildrenAreas(f,f.values)})},i.prototype.drawDataLabels=function(){var t=this,r=t.mapOptionsToLevel,o=t.points.filter(function(l){return l.node.visible}),a,s;o.forEach(function(l){s=r[l.node.level],a={style:{}},l.node.isLeaf||(a.enabled=!1),s&&s.dataLabels&&(a=merge$6(a,s.dataLabels),t._hasPointLabels=!0),l.shapeArgs&&(a.style.width=l.shapeArgs.width,l.dataLabel&&l.dataLabel.css({width:l.shapeArgs.width+"px"})),l.dlOptions=merge$6(a,l.options.dataLabels)}),Series$3.prototype.drawDataLabels.call(this)},i.prototype.drawPoints=function(){var t=this,r=t.chart,o=r.renderer,a=t.points,s=r.styledMode,l=t.options,c=s?{}:l.shadow,h=l.borderRadius,u=r.pointCount<l.animationLimit,d=l.allowTraversingTree;a.forEach(function(f){var p=f.node.levelDynamic,m={},g={},v={},_="level-group-"+f.node.level,y=!!f.graphic,b=u&&y,x=f.shapeArgs;f.shouldDraw()&&(f.isInside=!0,h&&(g.r=h),merge$6(!0,b?m:g,y?x:{},s?{}:t.pointAttribs(f,f.selected?"select":void 0)),t.colorAttribs&&s&&extend$d(v,t.colorAttribs(f)),t[_]||(t[_]=o.g(_).attr({zIndex:1e3-(p||0)}).add(t.group),t[_].survive=!0)),f.draw({animatableAttribs:m,attribs:g,css:v,group:t[_],renderer:o,shadow:c,shapeArgs:x,shapeType:"rect"}),d&&f.graphic&&(f.drillId=l.interactByLeaf?t.drillToByLeaf(f):t.drillToByGroup(f))})},i.prototype.drillToByGroup=function(t){var r=this,o=!1;return t.node.level-r.nodeMap[r.rootNode].level===1&&!t.node.isLeaf&&(o=t.id),o},i.prototype.drillToByLeaf=function(t){var r=this,o=!1,a;if(t.node.parent!==r.rootNode&&t.node.isLeaf)for(a=t.node;!o;)a=r.nodeMap[a.parent],a.parent===r.rootNode&&(o=a.id);return o},i.prototype.drillToNode=function(t,r){error(32,!1,void 0,{"treemap.drillToNode":"use treemap.setRootNode"}),this.setRootNode(t,r)},i.prototype.drillUp=function(){var t=this,r=t.nodeMap[t.rootNode];r&&isString(r.parent)&&t.setRootNode(r.parent,!0,{trigger:"traverseUpButton"})},i.prototype.getExtremes=function(){var t=Series$3.prototype.getExtremes.call(this,this.colorValueData),r=t.dataMin,o=t.dataMax;return this.valueMin=r,this.valueMax=o,Series$3.prototype.getExtremes.call(this)},i.prototype.getListOfParents=function(t,r){var o=isArray(t)?t:[],a=isArray(r)?r:[],s=o.reduce(function(l,c,h){var u=pick$8(c.parent,"");return typeof l[u]>"u"&&(l[u]=[]),l[u].push(h),l},{"":[]});return TreemapUtilities$1.eachObject(s,function(l,c,h){c!==""&&a.indexOf(c)===-1&&(l.forEach(function(u){h[""].push(u)}),delete h[c])}),s},i.prototype.getTree=function(){var t=this,r=this.data.map(function(a){return a.id}),o=t.getListOfParents(this.data,r);return t.nodeMap={},t.buildNode("",-1,0,o)},i.prototype.hasData=function(){return!!this.processedXData.length},i.prototype.init=function(t,r){var o=this,a;colorMapSeriesMixin&&(this.colorAttribs=colorMapSeriesMixin.colorAttribs),a=addEvent$3(o,"setOptions",function(s){var l=s.userOptions;defined$6(l.allowDrillToNode)&&!defined$6(l.allowTraversingTree)&&(l.allowTraversingTree=l.allowDrillToNode,delete l.allowDrillToNode),defined$6(l.drillUpButton)&&!defined$6(l.traverseUpButton)&&(l.traverseUpButton=l.drillUpButton,delete l.drillUpButton)}),Series$3.prototype.init.call(o,t,r),delete o.opacity,o.eventsToUnbind.push(a),o.options.allowTraversingTree&&o.eventsToUnbind.push(addEvent$3(o,"click",o.onClickDrillToNode))},i.prototype.onClickDrillToNode=function(t){var r=this,o=t.point,a=o&&o.drillId;isString(a)&&(o.setState(""),r.setRootNode(a,!0,{trigger:"click"}))},i.prototype.pointAttribs=function(t,r){var o=this,a=isObject$2(o.mapOptionsToLevel)?o.mapOptionsToLevel:{},s=t&&a[t.node.level]||{},l=this.options,c,h=r&&l.states[r]||{},u=t&&t.getClassName()||"",d;return c={stroke:t&&t.borderColor||s.borderColor||h.borderColor||l.borderColor,"stroke-width":pick$8(t&&t.borderWidth,s.borderWidth,h.borderWidth,l.borderWidth),dashstyle:t&&t.borderDashStyle||s.borderDashStyle||h.borderDashStyle||l.borderDashStyle,fill:t&&t.color||this.color},u.indexOf("highcharts-above-level")!==-1?(c.fill="none",c["stroke-width"]=0):u.indexOf("highcharts-internal-node-interactive")!==-1?(d=pick$8(h.opacity,l.opacity),c.fill=color$1(c.fill).setOpacity(d).get(),c.cursor="pointer"):u.indexOf("highcharts-internal-node")!==-1?c.fill="none":r&&(c.fill=color$1(c.fill).brighten(h.brightness).get()),c},i.prototype.renderTraverseUpButton=function(t){var r=this,o=r.nodeMap,a=o[t],s=a.name,l=r.options.traverseUpButton,c=pick$8(l.text,s,"◁ Back"),h,u;t===""||r.is("sunburst")&&r.tree.children.length===1&&t===r.tree.children[0].id?r.drillUpButton&&(r.drillUpButton=r.drillUpButton.destroy()):this.drillUpButton?(this.drillUpButton.placed=!1,this.drillUpButton.attr({text:c}).align()):(h=l.theme,u=h&&h.states,this.drillUpButton=this.chart.renderer.button(c,0,0,function(){r.drillUp()},h,u&&u.hover,u&&u.select).addClass("highcharts-drillup-button").attr({align:l.position.align,zIndex:7}).add().align(l.position,!1,l.relativeTo||"plotBox"))},i.prototype.setColorRecursive=function(t,r,o,a,s){var l=this,c=l&&l.chart,h=c&&c.options&&c.options.colors,u,d;t&&(u=getColor(t,{colors:h,index:a,mapOptionsToLevel:l.mapOptionsToLevel,parentColor:r,parentColorIndex:o,series:l,siblings:s}),d=l.points[t.i],d&&(d.color=u.color,d.colorIndex=u.colorIndex),(t.children||[]).forEach(function(f,p){l.setColorRecursive(f,u.color,u.colorIndex,p,t.children.length)}))},i.prototype.setPointValues=function(){var t=this,r=t.points,o=t.xAxis,a=t.yAxis,s=t.chart.styledMode,l=function(c){return s?0:(t.pointAttribs(c)["stroke-width"]||0)%2/2};r.forEach(function(c){var h=c.node,u=h.pointValues,d=h.visible;if(u&&d){var f=u.height,p=u.width,m=u.x,g=u.y,v=l(c),_=Math.round(o.toPixels(m,!0))-v,y=Math.round(o.toPixels(m+p,!0))-v,b=Math.round(a.toPixels(g,!0))-v,x=Math.round(a.toPixels(g+f,!0))-v,E={x:Math.min(_,y),y:Math.min(b,x),width:Math.abs(y-_),height:Math.abs(x-b)};c.plotX=E.x+E.width/2,c.plotY=E.y+E.height/2,c.shapeArgs=E}else delete c.plotX,delete c.plotY})},i.prototype.setRootNode=function(t,r,o){var a=this,s=extend$d({newRootId:t,previousRootId:a.rootNode,redraw:pick$8(r,!0),series:a},o),l=function(c){var h=c.series;h.idPreviousRoot=c.previousRootId,h.rootNode=c.newRootId,h.isDirty=!0,c.redraw&&h.chart.redraw()};fireEvent(a,"setRootNode",s,l)},i.prototype.setState=function(t){this.options.inactiveOtherPoints=!0,Series$3.prototype.setState.call(this,t,!1),this.options.inactiveOtherPoints=!1},i.prototype.setTreeValues=function(t){var r=this,o=r.options,a=r.rootNode,s=r.nodeMap,l=s[a],c=TreemapUtilities$1.isBoolean(o.levelIsConstant)?o.levelIsConstant:!0,h=0,u=[],d,f=r.points[t.i];return t.children.forEach(function(p){p=r.setTreeValues(p),u.push(p),p.ignore||(h+=p.val)}),stableSort$1(u,function(p,m){return(p.sortIndex||0)-(m.sortIndex||0)}),d=pick$8(f&&f.options.value,h),f&&(f.value=d),extend$d(t,{children:u,childrenTotal:h,ignore:!(pick$8(f&&f.visible,!0)&&d>0),isLeaf:t.visible&&!h,levelDynamic:t.level-(c?0:l.level),name:pick$8(f&&f.name,""),sortIndex:pick$8(f&&f.sortIndex,-d),val:d}),t},i.prototype.sliceAndDice=function(t,r){return this.algorithmFill(!0,t,r)},i.prototype.squarified=function(t,r){return this.algorithmLowAspectRatio(!0,t,r)},i.prototype.strip=function(t,r){return this.algorithmLowAspectRatio(!1,t,r)},i.prototype.stripes=function(t,r){return this.algorithmFill(!1,t,r)},i.prototype.translate=function(){var t=this,r=t.options,o=updateRootId(t),a,s,l,c,h;Series$3.prototype.translate.call(t),c=t.tree=t.getTree(),a=t.nodeMap[o],o!==""&&(!a||!a.children.length)&&(t.setRootNode("",!1),o=t.rootNode,a=t.nodeMap[o]),t.renderTraverseUpButton(o),t.mapOptionsToLevel=getLevelOptions$1({from:a.level+1,levels:r.levels,to:c.height,defaults:{levelIsConstant:t.options.levelIsConstant,colorByPoint:r.colorByPoint}}),TreemapUtilities$1.recursive(t.nodeMap[t.rootNode],function(u){var d=!1,f=u.parent;return u.visible=!0,(f||f==="")&&(d=t.nodeMap[f]),d}),TreemapUtilities$1.recursive(t.nodeMap[t.rootNode].children,function(u){var d=!1;return u.forEach(function(f){f.visible=!0,f.children.length&&(d=(d||[]).concat(f.children))}),d}),t.setTreeValues(c),t.axisRatio=t.xAxis.len/t.yAxis.len,t.nodeMap[""].pointValues=s={x:0,y:0,width:TreemapUtilities$1.AXIS_MAX,height:TreemapUtilities$1.AXIS_MAX},t.nodeMap[""].values=l=merge$6(s,{width:s.width*t.axisRatio,direction:r.layoutStartingDirection==="vertical"?0:1,val:c.val}),t.calculateChildrenAreas(c,l),!t.colorAxis&&!r.colorByPoint&&t.setColorRecursive(t.tree),r.allowTraversingTree&&(h=a.pointValues,t.xAxis.setExtremes(h.x,h.x+h.width,!1),t.yAxis.setExtremes(h.y,h.y+h.height,!1),t.xAxis.setScale(),t.yAxis.setScale()),t.setPointValues()},i.defaultOptions=merge$6(ScatterSeries.defaultOptions,{allowTraversingTree:!1,animationLimit:250,borderRadius:0,showInLegend:!1,marker:void 0,colorByPoint:!1,dataLabels:{defer:!1,enabled:!0,formatter:function(){var t=this&&this.point?this.point:{},r=isString(t.name)?t.name:"";return r},inside:!0,verticalAlign:"middle"},tooltip:{headerFormat:"",pointFormat:"<b>{point.name}</b>: {point.value}<br/>"},ignoreHiddenPoint:!0,layoutAlgorithm:"sliceAndDice",layoutStartingDirection:"vertical",alternateStartingDirection:!1,levelIsConstant:!0,drillUpButton:{position:{align:"right",x:-10,y:10}},traverseUpButton:{position:{align:"right",x:-10,y:10}},borderColor:palette.neutralColor10,borderWidth:1,colorKey:"colorValue",opacity:.15,states:{hover:{borderColor:palette.neutralColor40,brightness:HeatmapSeries?0:.1,halo:!1,opacity:.75,shadow:!1}}}),i}(ScatterSeries);extend$d(TreemapSeries.prototype,{buildKDTree:noop,colorKey:"colorValue",directTouch:!0,drawLegendSymbol:LegendSymbol$1.drawRectangle,getExtremesFromAll:!0,getSymbol:noop,optionalAxis:"colorAxis",parallelArrays:["x","y","value","colorValue"],pointArrayMap:["value"],pointClass:TreemapPoint,trackerGroups:["group","dataLabelsGroup"],utils:{recursive:TreemapUtilities$1.recursive}});SeriesRegistry$1.registerSeriesType("treemap",TreemapSeries);var getOptions=DefaultOptions.getOptions,addEvent$2=Utilities.addEvent,extend$c=Utilities.extend,chartPrototype=Chart$1.prototype,defaultOptions$1=getOptions();extend$c(defaultOptions$1.lang,{noData:"No data to display"});defaultOptions$1.noData={attr:{zIndex:1},position:{x:0,y:0,align:"center",verticalAlign:"middle"},style:{fontWeight:"bold",fontSize:"12px",color:palette.neutralColor60}};chartPrototype.showNoData=function(n){var i=this,t=i.options,r=n||t&&t.lang.noData||"",o=t&&(t.noData||{});i.renderer&&(i.noDataLabel||(i.noDataLabel=i.renderer.label(r,0,0,void 0,void 0,void 0,o.useHTML,void 0,"no-data").add()),i.styledMode||i.noDataLabel.attr(AST.filterUserAttributes(o.attr||{})).css(o.style||{}),i.noDataLabel.align(extend$c(i.noDataLabel.getBBox(),o.position||{}),!1,"plotBox"))};chartPrototype.hideNoData=function(){var n=this;n.noDataLabel&&(n.noDataLabel=n.noDataLabel.destroy())};chartPrototype.hasData=function(){for(var n=this,i=n.series||[],t=i.length;t--;)if(i[t].hasData()&&!i[t].options.isInternal)return!0;return n.loadingShown};addEvent$2(Chart$1,"render",function(){this.hasData()?this.hideNoData():this.showNoData()});var defined$5=Utilities.defined,extend$b=Utilities.extend,find$2=Utilities.find,pick$7=Utilities.pick,NodesMixin=H.NodesMixin={createNode:function(n){function i(a,s){return find$2(a,function(l){return l.id===s})}var t=i(this.nodes,n),r=this.pointClass,o;return t||(o=this.options.nodes&&i(this.options.nodes,n),t=new r().init(this,extend$b({className:"highcharts-node",isNode:!0,id:n,y:1},o)),t.linksTo=[],t.linksFrom=[],t.formatPrefix="node",t.name=t.name||t.options.id||"",t.mass=pick$7(t.options.mass,t.options.marker&&t.options.marker.radius,this.options.marker&&this.options.marker.radius,4),t.getSum=function(){var a=0,s=0;return t.linksTo.forEach(function(l){a+=l.weight}),t.linksFrom.forEach(function(l){s+=l.weight}),Math.max(a,s)},t.offset=function(a,s){for(var l=0,c=0;c<t[s].length;c++){if(t[s][c]===a)return l;l+=t[s][c].weight}},t.hasShape=function(){var a=0;return t.linksTo.forEach(function(s){s.outgoing&&a++}),!t.linksTo.length||a!==t.linksTo.length},this.nodes.push(t)),t},generatePoints:function(){var n=this.chart,i={};Series$e.prototype.generatePoints.call(this),this.nodes||(this.nodes=[]),this.colorCounter=0,this.nodes.forEach(function(t){t.linksFrom.length=0,t.linksTo.length=0,t.level=t.options.level}),this.points.forEach(function(t){defined$5(t.from)&&(i[t.from]||(i[t.from]=this.createNode(t.from)),i[t.from].linksFrom.push(t),t.fromNode=i[t.from],n.styledMode?t.colorIndex=pick$7(t.options.colorIndex,i[t.from].colorIndex):t.color=t.options.color||i[t.from].color),defined$5(t.to)&&(i[t.to]||(i[t.to]=this.createNode(t.to)),i[t.to].linksTo.push(t),t.toNode=i[t.to]),t.name=t.name||t.id},this),this.nodeLookup=i},setData:function(){this.nodes&&(this.nodes.forEach(function(n){n.destroy()}),this.nodes.length=0),Series$e.prototype.setData.apply(this,arguments)},destroy:function(){return this.data=[].concat(this.points||[],this.nodes),Series$e.prototype.destroy.apply(this,arguments)},setNodeState:function(n){var i=arguments,t=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];n!=="select"&&t.forEach(function(r){r&&r.series&&(Point$5.prototype.setState.apply(r,i),r.isNode||(r.fromNode.graphic&&Point$5.prototype.setState.apply(r.fromNode,i),r.toNode&&r.toNode.graphic&&Point$5.prototype.setState.apply(r.toNode,i)))}),Point$5.prototype.setState.apply(this,i)}},__extends$1r=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ColumnSeries$5=SeriesRegistry$1.seriesTypes.column,defined$4=Utilities.defined,extend$a=Utilities.extend,SankeyPoint$1=function(n){__extends$1r(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.className=void 0,t.fromNode=void 0,t.level=void 0,t.linkBase=void 0,t.linksFrom=void 0,t.linksTo=void 0,t.mass=void 0,t.nodeX=void 0,t.nodeY=void 0,t.options=void 0,t.series=void 0,t.toNode=void 0,t}return i.prototype.applyOptions=function(t,r){return Point$5.prototype.applyOptions.call(this,t,r),defined$4(this.options.level)&&(this.options.column=this.column=this.options.level),this},i.prototype.getClassName=function(){return(this.isNode?"highcharts-node ":"highcharts-link ")+Point$5.prototype.getClassName.call(this)},i.prototype.isValid=function(){return this.isNode||typeof this.weight=="number"},i}(ColumnSeries$5.prototype.pointClass);extend$a(SankeyPoint$1.prototype,{setState:NodesMixin.setNodeState});var __extends$1q=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Series$2=SeriesRegistry$1.series,ColumnSeries$4=SeriesRegistry$1.seriesTypes.column,getLevelOptions=result.getLevelOptions,defined$3=Utilities.defined,extend$9=Utilities.extend,find$1=Utilities.find,isObject$1=Utilities.isObject,merge$5=Utilities.merge,pick$6=Utilities.pick,relativeLength$1=Utilities.relativeLength,stableSort=Utilities.stableSort,SankeySeries$1=function(n){__extends$1q(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.colDistance=void 0,t.data=void 0,t.group=void 0,t.nodeLookup=void 0,t.nodePadding=void 0,t.nodes=void 0,t.nodeWidth=void 0,t.options=void 0,t.points=void 0,t.translationFactor=void 0,t}return i.getDLOptions=function(t){var r=isObject$1(t.optionsPoint)?t.optionsPoint.dataLabels:{},o=isObject$1(t.level)?t.level.dataLabels:{},a=merge$5({style:{}},o,r);return a},i.prototype.createNodeColumn=function(){var t=this,r=this.chart,o=[];return o.sum=function(){return this.reduce(function(a,s){return a+s.getSum()},0)},o.offset=function(a,s){for(var l=0,c,h=t.nodePadding,u=0;u<o.length;u++){var d=o[u].getSum(),f=Math.max(d*s,t.options.minLinkWidth);if(d?c=f+h:c=0,o[u]===a)return{relativeTop:l+relativeLength$1(a.options.offset||0,c)};l+=c}},o.top=function(a){var s=t.nodePadding,l=this.reduce(function(c,h){c>0&&(c+=s);var u=Math.max(h.getSum()*a,t.options.minLinkWidth);return c+=u,c},0);return(r.plotSizeY-l)/2},o},i.prototype.createNodeColumns=function(){var t=[];this.nodes.forEach(function(o){var a=-1,s;if(!defined$3(o.options.column))if(o.linksTo.length===0)o.column=0;else{for(var l=0;l<o.linksTo.length;l++){var c=o.linksTo[l];c.fromNode.column>a&&c.fromNode!==o&&(s=c.fromNode,a=s.column)}if(o.column=a+1,s&&s.options.layout==="hanging"){o.hangsFrom=s;var h=-1;find$1(s.linksFrom,function(u,d){var f=u.toNode===o;return f&&(h=d),f}),o.column+=h}}t[o.column]||(t[o.column]=this.createNodeColumn()),t[o.column].push(o)},this);for(var r=0;r<t.length;r++)typeof t[r]>"u"&&(t[r]=this.createNodeColumn());return t},i.prototype.generatePoints=function(){NodesMixin.generatePoints.apply(this,arguments);function t(r,o){typeof r.level>"u"&&(r.level=o,r.linksFrom.forEach(function(a){a.toNode&&t(a.toNode,o+1)}))}this.orderNodes&&(this.nodes.filter(function(r){return r.linksTo.length===0}).forEach(function(r){t(r,0)}),stableSort(this.nodes,function(r,o){return r.level-o.level}))},i.prototype.getNodePadding=function(){var t=this.options.nodePadding||0;if(this.nodeColumns){var r=this.nodeColumns.reduce(function(o,a){return Math.max(o,a.length)},0);r*t>this.chart.plotSizeY&&(t=this.chart.plotSizeY/r)}return t},i.prototype.hasData=function(){return!!this.processedXData.length},i.prototype.pointAttribs=function(t,r){if(!t)return{};var o=this,a=t.isNode?t.level:t.fromNode.level,s=o.mapOptionsToLevel[a||0]||{},l=t.options,c=s.states&&s.states[r||""]||{},h=["colorByPoint","borderColor","borderWidth","linkOpacity"].reduce(function(d,f){return d[f]=pick$6(c[f],l[f],s[f],o.options[f]),d},{}),u=pick$6(c.color,l.color,h.colorByPoint?t.color:s.color);return t.isNode?{fill:u,stroke:h.borderColor,"stroke-width":h.borderWidth}:{fill:Color.parse(u).setOpacity(h.linkOpacity).get()}},i.prototype.render=function(){var t=this.points;this.points=this.points.concat(this.nodes||[]),ColumnSeries$4.prototype.render.call(this),this.points=t},i.prototype.translate=function(){var t=this,r=function(h){for(var u=h.slice(),d=t.options.minLinkWidth||0,f,p=0,m,g=a.plotSizeY-s.borderWidth-(h.length-1)*o.nodePadding;h.length;){for(p=g/h.sum(),f=!1,m=h.length;m--;)h[m].getSum()*p<d&&(h.splice(m,1),g-=d,f=!0);if(!f)break}return h.length=0,u.forEach(function(v){return h.push(v)}),p};this.processedXData||this.processData(),this.generatePoints(),this.nodeColumns=this.createNodeColumns(),this.nodeWidth=relativeLength$1(this.options.nodeWidth,this.chart.plotSizeX);var o=this,a=this.chart,s=this.options,l=this.nodeWidth,c=this.nodeColumns;this.nodePadding=this.getNodePadding(),this.translationFactor=c.reduce(function(h,u){return Math.min(h,r(u))},1/0),this.colDistance=(a.plotSizeX-l-s.borderWidth)/Math.max(1,c.length-1),o.mapOptionsToLevel=getLevelOptions({from:1,levels:s.levels,to:c.length-1,defaults:{borderColor:s.borderColor,borderRadius:s.borderRadius,borderWidth:s.borderWidth,color:o.color,colorByPoint:s.colorByPoint,levelIsConstant:!0,linkColor:s.linkColor,linkLineWidth:s.linkLineWidth,linkOpacity:s.linkOpacity,states:s.states}}),c.forEach(function(h){h.forEach(function(u){o.translateNode(u,h)})},this),this.nodes.forEach(function(h){h.linksFrom.forEach(function(u){(u.weight||u.isNull)&&u.to&&(o.translateLink(u),u.allowShadow=!1)})})},i.prototype.translateLink=function(t){var r=function(X,K){var Q=X.offset(t,K)*l,rt=Math.min(X.nodeY+Q,X.nodeY+(X.shapeArgs&&X.shapeArgs.height||0)-c);return rt},o=t.fromNode,a=t.toNode,s=this.chart,l=this.translationFactor,c=Math.max(t.weight*l,this.options.minLinkWidth),h=this.options,u=(s.inverted?-this.colDistance:this.colDistance)*h.curveFactor,d=r(o,"linksFrom"),f=r(a,"linksTo"),p=o.nodeX,m=this.nodeWidth,g=a.column*this.colDistance,v=t.outgoing,_=g>p+m;if(s.inverted&&(d=s.plotSizeY-d,f=(s.plotSizeY||0)-f,g=s.plotSizeX-g,m=-m,c=-c,_=p>g),t.shapeType="path",t.linkBase=[d,d+c,f,f+c],_&&typeof f=="number")t.shapeArgs={d:[["M",p+m,d],["C",p+m+u,d,g-u,f,g,f],["L",g+(v?m:0),f+c/2],["L",g,f+c],["C",g-u,f+c,p+m+u,d+c,p+m,d+c],["Z"]]};else if(typeof f=="number"){var y=20,b=s.plotHeight-d-c,x=g-y-c,E=g-y,C=g,$=p+m,S=$+y,P=S+c,T=d,k=d+c,L=k+y,N=L+b,z=N+y,B=z+c,U=f,D=U+c,M=D+y,F=k-c*.7,j=z+c*.7,Y=D-c*.7,W=C-c*.7,q=$+c*.7;t.shapeArgs={d:[["M",$,T],["C",q,T,P,F,P,L],["L",P,N],["C",P,j,q,B,$,B],["L",C,B],["C",W,B,x,j,x,N],["L",x,M],["C",x,Y,W,U,C,U],["L",C,D],["C",E,D,E,D,E,M],["L",E,N],["C",E,z,E,z,C,z],["L",$,z],["C",S,z,S,z,S,N],["L",S,L],["C",S,k,S,k,$,k],["Z"]]}}t.dlBox={x:p+(g-p+m)/2,y:d+(f-d)/2,height:c,width:0},t.tooltipPos=s.inverted?[s.plotSizeY-t.dlBox.y-c/2,s.plotSizeX-t.dlBox.x]:[t.dlBox.x,t.dlBox.y+c/2],t.y=t.plotY=1,t.color||(t.color=o.color)},i.prototype.translateNode=function(t,r){var o=this.translationFactor,a=this.chart,s=this.options,l=t.getSum(),c=Math.max(Math.round(l*o),this.options.minLinkWidth),h=Math.round(s.borderWidth)%2/2,u=r.offset(t,o),d=Math.floor(pick$6(u.absoluteTop,r.top(o)+u.relativeTop))+h,f=Math.floor(this.colDistance*t.column+s.borderWidth/2)+h,p=a.inverted?a.plotSizeX-f:f,m=Math.round(this.nodeWidth);if(t.sum=l,l){t.shapeType="rect",t.nodeX=p,t.nodeY=d;var g=p,v=d,_=t.options.width||s.width||m,y=t.options.height||s.height||c;a.inverted&&(g=p-m,v=a.plotSizeY-d-c,_=t.options.height||s.height||m,y=t.options.width||s.width||c),t.dlOptions=i.getDLOptions({level:this.mapOptionsToLevel[t.level],optionsPoint:t.options}),t.plotX=1,t.plotY=1,t.tooltipPos=a.inverted?[a.plotSizeY-v-y/2,a.plotSizeX-g-_/2]:[g+_/2,v+y/2],t.shapeArgs={x:g,y:v,width:_,height:y,display:t.hasShape()?"":"none"}}else t.dlOptions={enabled:!1}},i.defaultOptions=merge$5(ColumnSeries$4.defaultOptions,{borderWidth:0,colorByPoint:!0,curveFactor:.33,dataLabels:{enabled:!0,backgroundColor:"none",crop:!1,nodeFormat:void 0,nodeFormatter:function(){return this.point.name},format:void 0,formatter:function(){},inside:!0},inactiveOtherPoints:!0,linkOpacity:.5,minLinkWidth:0,nodeWidth:20,nodePadding:10,showInLegend:!1,states:{hover:{linkOpacity:1},inactive:{linkOpacity:.1,opacity:.1,animation:{duration:50}}},tooltip:{followPointer:!0,headerFormat:'<span style="font-size: 10px">{series.name}</span><br/>',pointFormat:"{point.fromNode.name} → {point.toNode.name}: <b>{point.weight}</b><br/>",nodeFormat:"{point.name}: <b>{point.sum}</b><br/>"}}),i}(ColumnSeries$4);extend$9(SankeySeries$1.prototype,{animate:Series$2.prototype.animate,createNode:NodesMixin.createNode,destroy:NodesMixin.destroy,forceDL:!0,invertible:!0,isCartesian:!1,orderNodes:!0,pointArrayMap:["from","to"],pointClass:SankeyPoint$1,searchPoint:H.noop,setData:NodesMixin.setData});SeriesRegistry$1.registerSeriesType("sankey",SankeySeries$1);var __extends$1p=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Series$1=SeriesRegistry$1.series,PiePoint=SeriesRegistry$1.seriesTypes.pie.prototype.pointClass,defined$2=Utilities.defined,isNumber$2=Utilities.isNumber,merge$4=Utilities.merge,objectEach=Utilities.objectEach,pick$5=Utilities.pick,TimelinePoint=function(n){__extends$1p(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t}return i.prototype.alignConnector=function(){var t=this,r=t.series,o=t.connector,a=t.dataLabel,s=t.dataLabel.options=merge$4(r.options.dataLabels,t.options.dataLabels),l=t.series.chart,c=o.getBBox(),h={x:c.x+a.translateX,y:c.y+a.translateY},u;l.inverted?h.y-=a.options.connectorWidth/2:h.x+=a.options.connectorWidth/2,u=l.isInsidePlot(h.x,h.y),o[u?"animate":"attr"]({d:t.getConnectorPath()}),r.chart.styledMode||o.attr({stroke:s.connectorColor||t.color,"stroke-width":s.connectorWidth,opacity:a[defined$2(a.newOpacity)?"newOpacity":"opacity"]})},i.prototype.drawConnector=function(){var t=this,r=t.series;t.connector||(t.connector=r.chart.renderer.path(t.getConnectorPath()).attr({zIndex:-1}).add(t.dataLabel)),t.series.chart.isInsidePlot(t.dataLabel.x,t.dataLabel.y)&&t.alignConnector()},i.prototype.getConnectorPath=function(){var t=this,r=t.series.chart,o=t.series.xAxis.len,a=r.inverted,s=a?"x2":"y2",l=t.dataLabel,c=l.targetPosition,h={x1:t.plotX,y1:t.plotY,x2:t.plotX,y2:isNumber$2(c.y)?c.y:l.y},u=(l.alignAttr||l)[s[0]]<t.series.yAxis.len/2,d;return a&&(h={x1:t.plotY,y1:o-t.plotX,x2:c.x||l.x,y2:o-t.plotX}),u&&(h[s]+=l[a?"width":"height"]),objectEach(h,function(f,p){h[p]-=(l.alignAttr||l)[p[0]]}),d=r.renderer.crispLine([["M",h.x1,h.y1],["L",h.x2,h.y2]],l.options.connectorWidth),d},i.prototype.init=function(){var t=n.prototype.init.apply(this,arguments);return t.name=pick$5(t.name,"Event"),t.y=1,t},i.prototype.isValid=function(){return this.options.y!==null},i.prototype.setState=function(){var t=n.prototype.setState;this.isNull||t.apply(this,arguments)},i.prototype.setVisible=function(t,r){var o=this,a=o.series;r=pick$5(r,a.options.ignoreHiddenPoint),PiePoint.prototype.setVisible.call(o,t,!1),a.processData(),r&&a.chart.redraw()},i.prototype.applyOptions=function(t,r){return t=Point$5.prototype.optionsToObject.call(this,t),this.userDLOptions=merge$4(this.userDLOptions,t.dataLabels),n.prototype.applyOptions.call(this,t,r)},i}(Series$1.prototype.pointClass),__extends$1o=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_a=SeriesRegistry$1.seriesTypes,ColumnSeries$3=_a.column,LineSeries=_a.line,addEvent$1=Utilities.addEvent,arrayMax=Utilities.arrayMax,arrayMin=Utilities.arrayMin,defined$1=Utilities.defined,extend$8=Utilities.extend,merge$3=Utilities.merge,pick$4=Utilities.pick,TimelineSeries=function(n){__extends$1o(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t.userOptions=void 0,t.visibilityMap=void 0,t}return i.prototype.alignDataLabel=function(t,r,o,a){var s=this,l=s.chart.inverted,c=s.visibilityMap.filter(function(x){return x}),h=s.visiblePointsCount,u=c.indexOf(t),d=!u||u===h-1,f=s.options.dataLabels,p=t.userDLOptions||{},m=f.alternate?d?1.5:2:1,g,v=Math.floor(s.xAxis.len/h),_=r.padding,y,b;t.visible&&(g=Math.abs(p.x||t.options.dataLabels.x),l?(y=(g-_)*2-t.itemHeight/2,b={width:y+"px",textOverflow:r.width/y*r.height/2>v*m?"ellipsis":"none"}):b={width:(p.width||f.width||v*m-_*2)+"px"},r.css(b),s.chart.styledMode||r.shadow(f.shadow)),n.prototype.alignDataLabel.apply(s,arguments)},i.prototype.bindAxes=function(){var t=this;n.prototype.bindAxes.call(t),["xAxis","yAxis"].forEach(function(r){r==="xAxis"&&!t[r].userOptions.type&&(t[r].categories=t[r].hasNames=!0)})},i.prototype.distributeDL=function(){var t=this,r=t.options.dataLabels,o=1;if(r){var a=r.distance||0;t.points.forEach(function(s){var l;s.options.dataLabels=merge$3((l={},l[t.chart.inverted?"x":"y"]=r.alternate&&o%2?-a:a,l),s.userDLOptions),o++})}},i.prototype.generatePoints=function(){var t=this;n.prototype.generatePoints.apply(t),t.points.forEach(function(r,o){r.applyOptions({x:t.xData[o]},t.xData[o])})},i.prototype.getVisibilityMap=function(){var t=this,r=(t.data.length?t.data:t.userOptions.data).map(function(o){return o&&o.visible!==!1&&!o.isNull?o:!1});return r},i.prototype.getXExtremes=function(t){var r=this,o=t.filter(function(a,s){return r.points[s].isValid()&&r.points[s].visible});return{min:arrayMin(o),max:arrayMax(o)}},i.prototype.init=function(){var t=this;n.prototype.init.apply(t,arguments),t.eventsToUnbind.push(addEvent$1(t,"afterTranslate",function(){var r,o=Number.MAX_VALUE;t.points.forEach(function(a){a.isInside=a.isInside&&a.visible,a.visible&&!a.isNull&&(defined$1(r)&&(o=Math.min(o,Math.abs(a.plotX-r))),r=a.plotX)}),t.closestPointRangePx=o})),t.eventsToUnbind.push(addEvent$1(t,"drawDataLabels",function(){t.distributeDL()})),t.eventsToUnbind.push(addEvent$1(t,"afterDrawDataLabels",function(){var r;t.points.forEach(function(o){if(r=o.dataLabel,r)return r.animate=function(a){return this.targetPosition&&(this.targetPosition=a),SVGElement.prototype.animate.apply(this,arguments)},r.targetPosition||(r.targetPosition={}),o.drawConnector()})})),t.eventsToUnbind.push(addEvent$1(t.chart,"afterHideOverlappingLabel",function(){t.points.forEach(function(r){r.connector&&r.dataLabel&&r.dataLabel.oldOpacity!==r.dataLabel.newOpacity&&r.alignConnector()})}))},i.prototype.markerAttribs=function(t,r){var o=this,a=o.options.marker,s,l=t.marker||{},c=l.symbol||a.symbol,h,u=pick$4(l.width,a.width,o.closestPointRangePx),d=pick$4(l.height,a.height),f=0,p;return o.xAxis.dateTime?n.prototype.markerAttribs.call(this,t,r):(r&&(s=a.states[r]||{},h=l.states&&l.states[r]||{},f=pick$4(h.radius,s.radius,f+(s.radiusPlus||0))),t.hasImage=c&&c.indexOf("url")===0,p={x:Math.floor(t.plotX)-u/2-f/2,y:t.plotY-d/2-f/2,width:u+f,height:d+f},p)},i.prototype.processData=function(){var t=this,r=0,o;for(t.visibilityMap=t.getVisibilityMap(),t.visibilityMap.forEach(function(a){a&&r++}),t.visiblePointsCount=r,o=0;o<t.xData.length;o++)t.yData[o]=1;n.prototype.processData.call(this,arguments)},i.defaultOptions=merge$3(LineSeries.defaultOptions,{colorByPoint:!0,stickyTracking:!1,ignoreHiddenPoint:!0,legendType:"point",lineWidth:4,tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 10px"> {point.key}</span><br/>',pointFormat:"{point.description}"},states:{hover:{lineWidthPlus:0}},dataLabels:{enabled:!0,allowOverlap:!0,alternate:!0,backgroundColor:palette.backgroundColor,borderWidth:1,borderColor:palette.neutralColor40,borderRadius:3,color:palette.neutralColor80,connectorWidth:1,distance:100,formatter:function(){var t;return this.series.chart.styledMode?t="<span>● </span>":t='<span style="color:'+this.point.color+'">● </span>',t+='<span class="highcharts-strong">'+(this.key||"")+"</span><br/>"+(this.point.label||""),t},style:{textOutline:"none",fontWeight:"normal",fontSize:"12px"},shadow:!1,verticalAlign:"middle"},marker:{enabledThreshold:0,symbol:"square",radius:6,lineWidth:2,height:15},showInLegend:!1,colorKey:"x"}),i}(LineSeries);extend$8(TimelineSeries.prototype,{drawLegendSymbol:LegendSymbol$1.drawRectangle,drawTracker:ColumnSeries$3.prototype.drawTracker,pointClass:TimelinePoint,trackerGroups:["markerGroup","dataLabelsGroup"]});SeriesRegistry$1.registerSeriesType("timeline",TimelineSeries);var __extends$1n=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),SankeyPoint=SeriesRegistry$1.seriesTypes.sankey.prototype.pointClass,OrganizationPoint=function(n){__extends$1n(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.fromNode=void 0,t.linksFrom=void 0,t.linksTo=void 0,t.options=void 0,t.series=void 0,t.toNode=void 0,t}return i.prototype.getSum=function(){return 1},i}(SankeyPoint),__extends$1m=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),SankeySeries=SeriesRegistry$1.seriesTypes.sankey,css=Utilities.css,extend$7=Utilities.extend,merge$2=Utilities.merge,pick$3=Utilities.pick,wrap=Utilities.wrap,OrganizationSeries=function(n){__extends$1m(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return i.curvedPath=function(t,r){for(var o=[],a=0;a<t.length;a++){var s=t[a][1],l=t[a][2];if(typeof s=="number"&&typeof l=="number")if(a===0)o.push(["M",s,l]);else if(a===t.length-1)o.push(["L",s,l]);else if(r){var c=t[a-1],h=t[a+1];if(c&&h){var u=c[1],d=c[2],f=h[1],p=h[2];if(typeof u=="number"&&typeof f=="number"&&typeof d=="number"&&typeof p=="number"&&u!==f&&d!==p){var m=u<f?1:-1,g=d<p?1:-1;o.push(["L",s-m*Math.min(Math.abs(s-u),r),l-g*Math.min(Math.abs(l-d),r)],["C",s,l,s,l,s+m*Math.min(Math.abs(s-f),r),l+g*Math.min(Math.abs(l-p),r)])}}}else o.push(["L",s,l])}return o},i.prototype.alignDataLabel=function(t,r,o){if(o.useHTML){var a=t.shapeArgs.width,s=t.shapeArgs.height,l=this.options.borderWidth+2*this.options.dataLabels.padding;this.chart.inverted&&(a=s,s=t.shapeArgs.width),s-=l,a-=l;var c=r.text;c&&(css(c.element.parentNode,{width:a+"px",height:s+"px"}),css(c.element,{left:0,top:0,width:"100%",height:"100%",overflow:"hidden"})),r.getBBox=function(){return{width:a,height:s}},r.width=a,r.height=s}n.prototype.alignDataLabel.apply(this,arguments)},i.prototype.createNode=function(t){var r=n.prototype.createNode.call(this,t);return r.getSum=function(){return 1},r},i.prototype.createNodeColumn=function(){var t=n.prototype.createNodeColumn.call(this);return wrap(t,"offset",function(r,o,a){var s=r.call(this,o,a);return o.hangsFrom?{absoluteTop:o.hangsFrom.nodeY}:s}),t},i.prototype.pointAttribs=function(t,r){var o=this,a=SankeySeries.prototype.pointAttribs.call(o,t,r),s=t.isNode?t.level:t.fromNode.level,l=o.mapOptionsToLevel[s||0]||{},c=t.options,h=l.states&&l.states[r]||{},u=["borderRadius","linkColor","linkLineWidth"].reduce(function(d,f){return d[f]=pick$3(h[f],c[f],l[f],o.options[f]),d},{});return t.isNode?u.borderRadius&&(a.r=u.borderRadius):(a.stroke=u.linkColor,a["stroke-width"]=u.linkLineWidth,delete a.fill),a},i.prototype.translateLink=function(t){var r=t.fromNode,o=t.toNode,a=Math.round(this.options.linkLineWidth)%2/2,s=Math.floor(r.shapeArgs.x+r.shapeArgs.width)+a,l=Math.floor(r.shapeArgs.y+r.shapeArgs.height/2)+a,c=Math.floor(o.shapeArgs.x)+a,h=Math.floor(o.shapeArgs.y+o.shapeArgs.height/2)+a,u,d=this.options.hangingIndent,f=o.options.offset,p=/%$/.test(f)&&parseInt(f,10),m=this.chart.inverted;m&&(s-=r.shapeArgs.width,c+=o.shapeArgs.width),u=Math.floor(c+(m?1:-1)*(this.colDistance-this.nodeWidth)/2)+a,p&&(p>=50||p<=-50)&&(u=c=Math.floor(c+(m?-.5:.5)*o.shapeArgs.width)+a,h=o.shapeArgs.y,p>0&&(h+=o.shapeArgs.height)),o.hangsFrom===r&&(this.chart.inverted?(l=Math.floor(r.shapeArgs.y+r.shapeArgs.height-d/2)+a,h=o.shapeArgs.y+o.shapeArgs.height):l=Math.floor(r.shapeArgs.y+d/2)+a,u=c=Math.floor(o.shapeArgs.x+o.shapeArgs.width/2)+a),t.plotY=1,t.shapeType="path",t.shapeArgs={d:i.curvedPath([["M",s,l],["L",u,l],["L",u,h],["L",c,h]],this.options.linkRadius)}},i.prototype.translateNode=function(t,r){SankeySeries.prototype.translateNode.call(this,t,r),t.hangsFrom&&(t.shapeArgs.height-=this.options.hangingIndent,this.chart.inverted||(t.shapeArgs.y+=this.options.hangingIndent)),t.nodeHeight=this.chart.inverted?t.shapeArgs.width:t.shapeArgs.height},i.defaultOptions=merge$2(SankeySeries.defaultOptions,{borderColor:palette.neutralColor60,borderRadius:3,linkRadius:10,borderWidth:1,dataLabels:{nodeFormatter:function(){var t={width:"100%",height:"100%",display:"flex","flex-direction":"row","align-items":"center","justify-content":"center"},r={"max-height":"100%","border-radius":"50%"},o={width:"100%",padding:0,"text-align":"center","white-space":"normal"},a={margin:0},s={margin:0},l={opacity:.75,margin:"5px"};function c(u){return Object.keys(u).reduce(function(d,f){return d+f+":"+u[f]+";"},'style="')+'"'}this.point.image&&(r["max-width"]="30%",o.width="70%"),this.series.chart.renderer.forExport&&(t.display="block",o.position="absolute",o.left=this.point.image?"30%":0,o.top=0);var h="<div "+c(t)+">";return this.point.image&&(h+='<img src="'+this.point.image+'" '+c(r)+">"),h+="<div "+c(o)+">",this.point.name&&(h+="<h4 "+c(a)+">"+this.point.name+"</h4>"),this.point.title&&(h+="<p "+c(s)+">"+(this.point.title||"")+"</p>"),this.point.description&&(h+="<p "+c(l)+">"+this.point.description+"</p>"),h+="</div></div>",h},style:{fontWeight:"normal",fontSize:"13px"},useHTML:!0},hangingIndent:20,linkColor:palette.neutralColor60,linkLineWidth:1,nodeWidth:50,tooltip:{nodeFormat:"{point.name}<br>{point.title}<br>{point.description}"}}),i}(SankeySeries);extend$7(OrganizationSeries.prototype,{pointClass:OrganizationPoint});SeriesRegistry$1.registerSeriesType("organization",OrganizationSeries);var __extends$1l=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ColumnSeries$2=SeriesRegistry$1.seriesTypes.column,extend$6=Utilities.extend,XRangePoint=function(n){__extends$1l(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t}return i.getColorByCategory=function(t,r){var o=t.options.colors||t.chart.options.colors,a=o?o.length:t.chart.options.chart.colorCount,s=r.y%a,l=o&&o[s];return{colorIndex:s,color:l}},i.prototype.resolveColor=function(){var t=this.series,r;t.options.colorByPoint&&!this.options.color?(r=i.getColorByCategory(t,this),t.chart.styledMode||(this.color=r.color),this.options.colorIndex||(this.colorIndex=r.colorIndex)):this.color||(this.color=t.color)},i.prototype.init=function(){return Point$5.prototype.init.apply(this,arguments),this.y||(this.y=0),this},i.prototype.setState=function(){Point$5.prototype.setState.apply(this,arguments),this.series.drawPoint(this,this.series.getAnimationVerb())},i.prototype.getLabelConfig=function(){var t=this,r=Point$5.prototype.getLabelConfig.call(t),o=t.series.yAxis.categories;return r.x2=t.x2,r.yCategory=t.yCategory=o&&o[t.y],r},i.prototype.isValid=function(){return typeof this.x=="number"&&typeof this.x2=="number"},i}(ColumnSeries$2.prototype.pointClass);extend$6(XRangePoint.prototype,{tooltipDateKeys:["x","x2"]});var addEvent=Utilities.addEvent,pick$2=Utilities.pick;addEvent(Axis,"afterGetSeriesExtremes",function(){var n=this,i=n.series,t,r;n.isXAxis&&(t=pick$2(n.dataMax,-Number.MAX_VALUE),i.forEach(function(o){o.x2Data&&o.x2Data.forEach(function(a){a>t&&(t=a,r=!0)})}),r&&(n.dataMax=t))});var __extends$1k=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),color=Color.parse,Series=SeriesRegistry$1.series,ColumnSeries$1=SeriesRegistry$1.seriesTypes.column,columnProto=ColumnSeries$1.prototype,clamp$1=Utilities.clamp,correctFloat=Utilities.correctFloat,defined=Utilities.defined,extend$5=Utilities.extend,find=Utilities.find,isNumber$1=Utilities.isNumber,isObject=Utilities.isObject,merge$1=Utilities.merge,pick$1=Utilities.pick,XRangeSeries=function(n){__extends$1k(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return i.prototype.init=function(){ColumnSeries$1.prototype.init.apply(this,arguments),this.options.stacking=void 0},i.prototype.getColumnMetrics=function(){var t,r=this.chart;function o(){r.series.forEach(function(a){var s=a.xAxis;a.xAxis=a.yAxis,a.yAxis=s})}return o(),t=columnProto.getColumnMetrics.call(this),o(),t},i.prototype.cropData=function(t,r,o,a){var s=Series.prototype.cropData,l=s.call(this,this.x2Data,r,o,a);return l.xData=t.slice(l.start,l.end),l},i.prototype.findPointIndex=function(t){var r=this,o=r.cropped,a=r.cropStart,s=r.points,l=t.id,c;if(l){var h=find(s,function(u){return u.id===l});c=h?h.index:void 0}if(typeof c>"u"){var h=find(s,function(d){return d.x===t.x&&d.x2===t.x2&&!d.touched});c=h?h.index:void 0}return o&&isNumber$1(c)&&isNumber$1(a)&&c>=a&&(c-=a),c},i.prototype.translatePoint=function(t){var r=this,o=r.xAxis,a=r.yAxis,s=r.columnMetrics,l=r.options,c=l.minPointLength||0,h=(t.shapeArgs&&t.shapeArgs.width||0)/2,u=r.pointXOffset=s.offset,d=t.plotX,f=pick$1(t.x2,t.x+(t.len||0)),p=o.translate(f,0,0,0,1),m=Math.abs(p-d),g,v,_=this.chart.inverted,y=pick$1(l.borderWidth,1),b=y%2/2,x=s.offset,E=Math.round(s.width),C,$,S,P,T;c&&(g=c-m,g<0&&(g=0),d-=g/2,p+=g/2),d=Math.max(d,-10),p=clamp$1(p,-10,o.len+10),defined(t.options.pointWidth)&&(x-=(Math.ceil(t.options.pointWidth)-E)/2,E=Math.ceil(t.options.pointWidth)),l.pointPlacement&&isNumber$1(t.plotY)&&a.categories&&(t.plotY=a.translate(t.y,0,1,0,1,l.pointPlacement));var k=Math.floor(Math.min(d,p))+b,L=Math.floor(Math.max(d,p))+b,N={x:k,y:Math.floor(t.plotY+x)+b,width:L-k,height:E,r:r.options.borderRadius};t.shapeArgs=N,_?t.tooltipPos[1]+=u+h:t.tooltipPos[0]-=h+u-N.width/2,C=N.x,$=C+N.width,C<0||$>o.len?(C=clamp$1(C,0,o.len),$=clamp$1($,0,o.len),S=$-C,t.dlBox=merge$1(N,{x:C,width:$-C,centerX:S?S/2:null})):t.dlBox=null;var z=t.tooltipPos,B=_?1:0,U=_?0:1;T=r.columnMetrics?r.columnMetrics.offset:-s.width/2,_?z[B]+=N.width/2:z[B]+=(o.reversed?-1:0)*N.width,z[U]=clamp$1(z[U]+(_?-1:1)*T,0,a.len-1),v=t.partialFill,v&&(isObject(v)&&(v=v.amount),isNumber$1(v)||(v=0),t.partShapeArgs=merge$1(N,{r:r.options.borderRadius}),P=Math.max(Math.round(m*v+t.plotX-d),0),t.clipRectArgs={x:o.reversed?N.x+m-P:N.x,y:N.y,width:P,height:N.height})},i.prototype.translate=function(){columnProto.translate.apply(this,arguments),this.points.forEach(function(t){this.translatePoint(t)},this)},i.prototype.drawPoint=function(t,r){var o=this,a=o.options,s=o.chart.renderer,l=t.graphic,c=t.shapeType,h=t.shapeArgs,u=t.partShapeArgs,d=t.clipRectArgs,f=t.partialFill,p=a.stacking&&!a.borderRadius,m=t.state,g=a.states[m||"normal"]||{},v=typeof m>"u"?"attr":r,_=o.pointAttribs(t,m),y=pick$1(o.chart.options.chart.animation,g.animation),b;!t.isNull&&t.visible!==!1?(l?l.rect[r](h):(t.graphic=l=s.g("point").addClass(t.getClassName()).add(t.group||o.group),l.rect=s[c](merge$1(h)).addClass(t.getClassName()).addClass("highcharts-partfill-original").add(l)),u&&(l.partRect?(l.partRect[r](merge$1(u)),l.partialClipRect[r](merge$1(d))):(l.partialClipRect=s.clipRect(d.x,d.y,d.width,d.height),l.partRect=s[c](u).addClass("highcharts-partfill-overlay").add(l).clip(l.partialClipRect))),o.chart.styledMode||(l.rect[r](_,y).shadow(a.shadow,null,p),u&&(isObject(f)||(f={}),isObject(a.partialFill)&&(f=merge$1(a.partialFill,f)),b=f.fill||color(_.fill).brighten(-.3).get()||color(t.color||o.color).brighten(-.3).get(),_.fill=b,l.partRect[v](_,y).shadow(a.shadow,null,p)))):l&&(t.graphic=l.destroy())},i.prototype.drawPoints=function(){var t=this,r=t.getAnimationVerb();t.points.forEach(function(o){t.drawPoint(o,r)})},i.prototype.getAnimationVerb=function(){return this.chart.pointCount<(this.options.animationLimit||250)?"animate":"attr"},i.prototype.isPointInside=function(t){var r=t.shapeArgs,o=t.plotX,a=t.plotY;if(!r)return n.prototype.isPointInside.apply(this,arguments);var s=typeof o<"u"&&typeof a<"u"&&a>=0&&a<=this.yAxis.len&&(r.x||0)+(r.width||0)>=0&&o<=this.xAxis.len;return s},i.defaultOptions=merge$1(ColumnSeries$1.defaultOptions,{colorByPoint:!0,dataLabels:{formatter:function(){var t=this.point,r=t.partialFill;if(isObject(r)&&(r=r.amount),isNumber$1(r)&&r>0)return correctFloat(r*100)+"%"},inside:!0,verticalAlign:"middle"},tooltip:{headerFormat:'<span style="font-size: 10px">{point.x} - {point.x2}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.yCategory}</b><br/>'},borderRadius:3,pointRange:0}),i}(ColumnSeries$1);extend$5(XRangeSeries.prototype,{type:"xrange",parallelArrays:["x","x2","y"],requireSorting:!1,animate:Series.prototype.animate,cropShoulder:1,getExtremesFromAll:!0,autoIncrement:H.noop,buildKDTree:H.noop,pointClass:XRangePoint});SeriesRegistry$1.registerSeriesType("xrange",XRangeSeries);var __extends$1j=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),BulletPoint=function(n){__extends$1j(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t}return i.prototype.destroy=function(){this.targetGraphic&&(this.targetGraphic=this.targetGraphic.destroy()),n.prototype.destroy.apply(this,arguments)},i}(ColumnSeries$h.prototype.pointClass),__extends$1i=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])},n(i,t)};return function(i,t){n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ColumnSeries=SeriesRegistry$1.seriesTypes.column,extend$4=Utilities.extend,isNumber=Utilities.isNumber,merge=Utilities.merge,pick=Utilities.pick,relativeLength=Utilities.relativeLength,BulletSeries=function(n){__extends$1i(i,n);function i(){var t=n!==null&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t.targetData=void 0,t}return i.prototype.drawPoints=function(){var t=this,r=t.chart,o=t.options,a=o.animationLimit||250;n.prototype.drawPoints.apply(this,arguments),t.points.forEach(function(s){var l=s.options,c=s.target,h=s.y,u,d=s.targetGraphic,f,p,m,g;if(isNumber(c)&&c!==null){m=merge(o.targetOptions,l.targetOptions),p=m.height;var v=s.shapeArgs;s.dlBox&&v&&!isNumber(v.width)&&(v=s.dlBox),f=relativeLength(m.width,v.width),g=t.yAxis.translate(c,!1,!0,!1,!0)-m.height/2-.5,u=t.crispCol.apply({chart:r,borderWidth:m.borderWidth,options:{crisp:o.crisp}},[v.x+v.width/2-f/2,g,f,p]),d?(d[r.pointCount<a?"animate":"attr"](u),isNumber(h)&&h!==null?d.element.point=s:d.element.point=void 0):s.targetGraphic=d=r.renderer.rect().attr(u).add(t.group),r.styledMode||d.attr({fill:pick(m.color,l.color,t.zones.length&&(s.getZone.call({series:t,x:s.x,y:c,options:{}}).color||t.color)||void 0,s.color,t.color),stroke:pick(m.borderColor,s.borderColor,t.options.borderColor),"stroke-width":m.borderWidth,r:m.borderRadius}),isNumber(h)&&h!==null&&(d.element.point=s),d.addClass(s.getClassName()+" highcharts-bullet-target",!0)}else d&&(s.targetGraphic=d.destroy())})},i.prototype.getExtremes=function(t){var r=n.prototype.getExtremes.call(this,t),o=this,a=o.targetData;if(a&&a.length){var s=n.prototype.getExtremes.call(this,a);isNumber(s.dataMin)&&(r.dataMin=Math.min(pick(r.dataMin,1/0),s.dataMin)),isNumber(s.dataMax)&&(r.dataMax=Math.max(pick(r.dataMax,-1/0),s.dataMax))}return r},i.defaultOptions=merge(ColumnSeries.defaultOptions,{targetOptions:{width:"140%",height:3,borderWidth:0,borderRadius:0},tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.y}</b>. Target: <b>{point.target}</b><br/>'}}),i}(ColumnSeries);extend$4(BulletSeries.prototype,{parallelArrays:["x","y","target"],pointArrayMap:["y","target"]});BulletSeries.prototype.pointClass=BulletPoint;SeriesRegistry$1.registerSeriesType("bullet",BulletSeries);/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function isSlot(n){return n.localName==="slot"}let FlattenedNodesObserver=class{static getFlattenedNodes(n){const i=wrap$e(n);return isSlot(n)?(n=n,i.assignedNodes({flatten:!0})):Array.from(i.childNodes).map(t=>isSlot(t)?(t=t,wrap$e(t).assignedNodes({flatten:!0})):[t]).reduce((t,r)=>t.concat(r),[])}constructor(n,i){this._shadyChildrenObserver=null,this._nativeChildrenObserver=null,this._connected=!1,this._target=n,this.callback=i,this._effectiveNodes=[],this._observer=null,this._scheduled=!1,this._boundSchedule=()=>{this._schedule()},this.connect(),this._schedule()}connect(){isSlot(this._target)?this._listenSlots([this._target]):wrap$e(this._target).children&&(this._listenSlots(wrap$e(this._target).children),window.ShadyDOM?this._shadyChildrenObserver=window.ShadyDOM.observeChildren(this._target,n=>{this._processMutations(n)}):(this._nativeChildrenObserver=new MutationObserver(n=>{this._processMutations(n)}),this._nativeChildrenObserver.observe(this._target,{childList:!0}))),this._connected=!0}disconnect(){isSlot(this._target)?this._unlistenSlots([this._target]):wrap$e(this._target).children&&(this._unlistenSlots(wrap$e(this._target).children),window.ShadyDOM&&this._shadyChildrenObserver?(window.ShadyDOM.unobserveChildren(this._shadyChildrenObserver),this._shadyChildrenObserver=null):this._nativeChildrenObserver&&(this._nativeChildrenObserver.disconnect(),this._nativeChildrenObserver=null)),this._connected=!1}_schedule(){this._scheduled||(this._scheduled=!0,microTask$1.run(()=>this.flush()))}_processMutations(n){this._processSlotMutations(n),this.flush()}_processSlotMutations(n){if(n)for(let i=0;i<n.length;i++){let t=n[i];t.addedNodes&&this._listenSlots(t.addedNodes),t.removedNodes&&this._unlistenSlots(t.removedNodes)}}flush(){if(!this._connected)return!1;window.ShadyDOM&&ShadyDOM.flush(),this._nativeChildrenObserver?this._processSlotMutations(this._nativeChildrenObserver.takeRecords()):this._shadyChildrenObserver&&this._processSlotMutations(this._shadyChildrenObserver.takeRecords()),this._scheduled=!1;let n={target:this._target,addedNodes:[],removedNodes:[]},i=this.constructor.getFlattenedNodes(this._target),t=calculateSplices(i,this._effectiveNodes);for(let o=0,a;o<t.length&&(a=t[o]);o++)for(let s=0,l;s<a.removed.length&&(l=a.removed[s]);s++)n.removedNodes.push(l);for(let o=0,a;o<t.length&&(a=t[o]);o++)for(let s=a.index;s<a.index+a.addedCount;s++)n.addedNodes.push(i[s]);this._effectiveNodes=i;let r=!1;return(n.addedNodes.length||n.removedNodes.length)&&(r=!0,this.callback.call(this._target,n)),r}_listenSlots(n){for(let i=0;i<n.length;i++){let t=n[i];isSlot(t)&&t.addEventListener("slotchange",this._boundSchedule)}}_unlistenSlots(n){for(let i=0;i<n.length;i++){let t=n[i];isSlot(t)&&t.removeEventListener("slotchange",this._boundSchedule)}}};function inflateFunctions(config){if(Array.isArray(config)){config.forEach(inflateFunctions);return}!(config instanceof Object)||config.constructor!==Object||Object.entries(config).forEach(([attr,targetProperty])=>{if(attr.startsWith("_fn_")&&(typeof targetProperty=="string"||targetProperty instanceof String)){try{config[attr.substr(4)]=eval(`(${targetProperty})`)}catch(e){config[attr.substr(4)]=eval(`(function(){${targetProperty}})`)}delete config[attr]}else targetProperty instanceof Object&&inflateFunctions(targetProperty)})}/**
 * @license
 * Copyright (c) 2000 - 2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See https://vaadin.com/commercial-license-and-service-terms for the full
 * license.
 */class ChartSeries extends PolymerElement{static get is(){return"vaadin-chart-series"}static get properties(){return{values:{type:Array,value:()=>[]},valueMin:{type:Number,reflectToAttribute:!0},valueMax:{type:Number,reflectToAttribute:!0},type:{type:String,reflectToAttribute:!0},title:{type:String,reflectToAttribute:!0},markers:{type:String,reflectToAttribute:!0},unit:{type:String,reflectToAttribute:!0},stack:{type:String,reflectToAttribute:!0},neckPosition:{type:String,reflectToAttribute:!0},neckWidth:{type:String,reflectToAttribute:!0},options:{type:Object},additionalOptions:{type:Object,reflectToAttribute:!0},_series:{type:Object}}}static get observers(){return["__additionalOptionsObserver(additionalOptions.*, _series)","__markersObserver(markers, _series)","__neckPositionObserver(neckPosition, _series)","__neckWidthObserver(neckWidth, _series)","__stackObserver(stack, _series)","__titleObserver(title, _series)","__typeObserver(type, _series)","__unitObserver(unit, valueMin, valueMax, _series)","__valueMinObserver(valueMin, _series)","__valueMaxObserver(valueMax, _series)","__valuesObserver(values.splices, _series)"]}get options(){const i=deepMerge({},this.additionalOptions);return this.type&&(i.type=this.type),this.title&&(i.name=this.title),this.values&&(i.data=this.values),this.markers&&(this.__isMarkersValid()||(this.markers="auto"),i.marker=this.__markersConfiguration),this.unit&&(i.yAxis=this.unit),this.stack&&(i.stack=this.stack),isFinite(this.valueMin)&&(i.yAxisValueMin=this.valueMin),isFinite(this.valueMax)&&(i.yAxisValueMax=this.valueMax),this.neckWidth&&(i.neckWidth=this.neckWidth),this.neckPosition&&(i.neckHeight=this.neckPosition),i}get __markersConfiguration(){const i={};switch(this.markers){case"shown":i.enabled=!0;break;case"hidden":i.enabled=!1;break;case"auto":default:i.enabled=null;break}return i}setSeries(i){this._series=i}__valuesObserver(i,t){t&&t.setData(this.values)}__additionalOptionsObserver(i,t){t&&i.base&&t.update(i.base)}__updateAxis(i,t,r){if(!isFinite(t)){this.__showWarn(`value-${r}`,"Numbers or null");return}i&&i.yAxis&&i.yAxis.update({[r]:t})}__valueMinObserver(i,t){i===void 0||t===void 0||this.__updateAxis(t,i,"min")}__valueMaxObserver(i,t){i===void 0||t===void 0||this.__updateAxis(t,i,"max")}__typeObserver(i,t){i&&t&&t.update({type:i})}__titleObserver(i,t){i===void 0||t===void 0||t.update({name:i})}__stackObserver(i,t){i===void 0||t===void 0||t.update({stack:i})}__neckPositionObserver(i,t){i===void 0||t===void 0||t.update({neckHeight:i})}__neckWidthObserver(i,t){i===void 0||t===void 0||t.update({neckWidth:i})}__unitObserver(i,t,r,o){if(o&&i!==this.__oldUnit){this.__oldUnit=i;const a=this.parentNode instanceof Chart&&this.parentNode;if(a&&a instanceof Chart){if(i&&!a.__getAxis(i)){const s={title:{text:i}};a.__addAxis({id:i,axisGenerated:!0,...s})}o.update({yAxis:i||0}),t!==void 0&&this.__updateAxis(o,t,"min"),r!==void 0&&this.__updateAxis(o,r,"max"),a.__removeAxisIfEmpty()}}}__isMarkersValid(){return["shown","hidden","auto"].indexOf(this.markers)===-1?(this.__showWarn("markers",'"shown", "hidden" or "auto"'),!1):!0}__markersObserver(i,t){if(!(i===void 0||t===void 0)){if(!this.__isMarkersValid()){this.markers="auto";return}t.update({marker:this.__markersConfiguration})}}__showWarn(i,t){console.warn(`<vaadin-chart-series> Acceptable values for "${i}" are ${t}`)}}defineCustomElement(ChartSeries);/**
 * @license
 * Copyright (c) 2000 - 2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See https://vaadin.com/commercial-license-and-service-terms for the full
 * license.
 */function deepMerge(n,i){const t=r=>r&&typeof r=="object"&&!Array.isArray(r);return t(i)&&t(n)&&Object.keys(i).forEach(r=>{t(i[r])?(n[r]||Object.assign(n,{[r]:{}}),deepMerge(n[r],i[r])):Object.assign(n,{[r]:i[r]})}),n}["exportChart","exportChartLocal","getSVG"].forEach(n=>{G$7.wrap(G$7.Chart.prototype,n,function(i,...t){G$7.fireEvent(this,"beforeExport");const r=i.apply(this,t);return G$7.fireEvent(this,"afterExport"),r})});G$7.setOptions({lang:{noData:""}});class Chart extends ResizeMixin(ElementMixin(ThemableMixin(PolymerElement))){static get template(){return html`
      <style>
        :host {
          display: block;
          width: 100%;
          overflow: hidden;
        }

        :host([hidden]) {
          display: none !important;
        }
      </style>
      <div id="chart"></div>
      <slot id="slot"></slot>
    `}static get is(){return"vaadin-chart"}static get cvdlName(){return"vaadin-chart"}static get properties(){return{configuration:Object,categories:{type:Object,reflectToAttribute:!0},categoryMax:{type:Number,reflectToAttribute:!0},categoryMin:{type:Number,reflectToAttribute:!0},categoryPosition:{type:String,reflectToAttribute:!0},noLegend:{type:Boolean,reflectToAttribute:!0},stacking:{type:String,reflectToAttribute:!0},timeline:{type:Boolean,reflectToAttribute:!0},title:{type:String,reflectToAttribute:!0},tooltip:{type:Boolean,reflectToAttribute:!0},type:{type:String,reflectToAttribute:!0},subtitle:{type:String,reflectToAttribute:!0},chart3d:{type:Boolean,reflectToAttribute:!0},emptyText:{type:String,reflectToAttribute:!0},additionalOptions:{type:Object,reflectToAttribute:!0},polar:{type:Boolean,reflectToAttribute:!0}}}static get observers(){return["__chart3dObserver(chart3d, configuration)","__emptyTextObserver(emptyText, configuration)","__hideLegend(noLegend, configuration)","__polarObserver(polar, configuration)","__stackingObserver(stacking, configuration)","__tooltipObserver(tooltip, configuration)","__updateCategories(categories, configuration)","__updateCategoryMax(categoryMax, configuration)","__updateCategoryMin(categoryMin, configuration)","__updateCategoryPosition(categoryPosition, configuration)","__updateSubtitle(subtitle, configuration)","__updateTitle(title, configuration)","__updateType(type, configuration)","__updateAdditionalOptions(additionalOptions.*)"]}static __callHighchartsFunction(i,t,...r){const o=G$7[i];o&&typeof o=="function"&&(r.forEach(a=>inflateFunctions(a)),o.apply(this.configuration,r),t&&G$7.charts.forEach(a=>a.redraw()))}constructor(){super(),this._baseConfig={annotations:[],chart:{styledMode:!0},credits:{enabled:!1},exporting:{enabled:!1},title:{text:null},series:[],xAxis:{},yAxis:{axisGenerated:!0}},this._baseChart3d={enabled:!0,alpha:15,beta:15,depth:50}}get options(){const i={...this._baseConfig};return deepMerge(i,this.additionalOptions),this.type&&(i.chart.type=this.type),this.polar&&(i.chart.polar=!0),this.title&&(i.title={text:this.title}),i.tooltip||(i.tooltip={},this.tooltip||(i.tooltip.enabled=!1)),this.subtitle&&(i.subtitle={text:this.subtitle}),this.categories&&(Array.isArray(i.xAxis)?i.xAxis[0].categories=this.categories:i.xAxis.categories=this.categories),isFinite(this.categoryMin)&&(Array.isArray(i.xAxis)?i.xAxis[0].min=this.categoryMin:i.xAxis.min=this.categoryMin),isFinite(this.categoryMax)&&(Array.isArray(i.xAxis)?i.xAxis[0].max=this.categoryMax:i.xAxis.max=this.categoryMax),this.noLegend&&(i.legend={enabled:!1}),this.emptyText&&(i.lang||(i.lang={}),i.lang.noData=this.emptyText),this.categoryPosition&&(i.chart.inverted=this.__shouldInvert(),Array.isArray(i.xAxis)?i.xAxis.forEach(t=>{t.opposite=this.__shouldFlipOpposite()}):i.xAxis&&(i.xAxis.opposite=this.__shouldFlipOpposite())),this.stacking&&(i.plotOptions||(i.plotOptions={}),i.plotOptions.series||(i.plotOptions.series={}),i.plotOptions.series.stacking=this.stacking),this.chart3d&&(i.chart.options3d={...this._baseChart3d,...i.chart.options3d}),i}get __chartEventNames(){return{addSeries:"chart-add-series",afterExport:"chart-after-export",afterPrint:"chart-after-print",beforeExport:"chart-before-export",beforePrint:"chart-before-print",click:"chart-click",drilldown:"chart-drilldown",drillup:"chart-drillup",drillupall:"chart-drillupall",load:"chart-load",redraw:"chart-redraw",selection:"chart-selection"}}get __seriesEventNames(){return{afterAnimate:"series-after-animate",checkboxClick:"series-checkbox-click",click:"series-click",hide:"series-hide",legendItemClick:"series-legend-item-click",mouseOut:"series-mouse-out",mouseOver:"series-mouse-over",show:"series-show"}}get __pointEventNames(){return{click:"point-click",legendItemClick:"point-legend-item-click",mouseOut:"point-mouse-out",mouseOver:"point-mouse-over",remove:"point-remove",select:"point-select",unselect:"point-unselect",update:"point-update"}}get __xAxesEventNames(){return{afterSetExtremes:"xaxes-extremes-set"}}get __yAxesEventNames(){return{afterSetExtremes:"yaxes-extremes-set"}}connectedCallback(){super.connectedCallback(),this.__updateStyles(),beforeNextRender(this,()=>{if(this.configuration){this.__reflow();return}const i={...this.options,...this._jsonConfigurationBuffer};this._jsonConfigurationBuffer=null,this.__initChart(i),this.__addChildObserver(),this.__checkTurboMode()})}ready(){super.ready(),this.addEventListener("chart-redraw",this.__onRedraw.bind(this))}_onResize(i){if(!this.configuration)return;const{height:t,width:r}=i,{chartHeight:o,chartWidth:a}=this.configuration;(t!==o||r!==a)&&this.__reflow()}__reflow(){this.configuration&&this.configuration.reflow()}__addChildObserver(){this._childObserver=new FlattenedNodesObserver(this.$.slot,i=>{this.__addSeries(i.addedNodes.filter(this.__filterSeriesNodes)),this.__removeSeries(i.removedNodes.filter(this.__filterSeriesNodes)),this.__cleanupAfterSeriesRemoved(i.removedNodes.filter(this.__filterSeriesNodes))})}__filterSeriesNodes(i){return i.nodeType===Node.ELEMENT_NODE&&i instanceof ChartSeries}__addSeries(i){if(this.__isSeriesEmpty(i))return;const t=Array.from(this.childNodes).filter(this.__filterSeriesNodes),r=this.configuration.yAxis.reduce((o,a,s)=>(o[a.options.id||s]=a,o),{});for(let o=0,a=i.length;o<a;o++){const s=i[o],{yAxis:l,yAxisValueMin:c,yAxisValueMax:h}=s.options,u=t.indexOf(s);!l&&!this.configuration.yAxis.some(f=>f.userOptions.id===void 0)?r[l]=this.__addAxis({axisGenerated:!0}):l&&!r[l]&&(r[l]=this.__addAxis({id:l,title:{text:l},axisGenerated:!0})),isFinite(c)&&this.__setYAxisProps(r,l,{min:c}),isFinite(h)&&this.__setYAxisProps(r,l,{max:h});const d=this.__updateOrAddSeriesInstance(s.options,u,!1);s.setSeries(d)}this.__removeAxisIfEmpty(),this.configuration.redraw()}__removeSeries(i){this.__isSeriesEmpty(i)||i.forEach(t=>{t instanceof ChartSeries&&t._series.remove()})}__setYAxisProps(i,t,r){t?i[t].update(r):this.configuration.yAxis[0].update(r)}__isSeriesEmpty(i){return i===null||i.length===0}__cleanupAfterSeriesRemoved(i){this.__isSeriesEmpty(i)||(this.__removeAxisIfEmpty(),this.__updateNoDataElement(this.configuration))}__initChart(i){this.__initEventsListeners(i),this.__updateStyledMode(i),this.timeline?this.configuration=G$7.stockChart(this.$.chart,i):this.configuration=G$7.chart(this.$.chart,i)}__updateStyledMode(i){const t=i.chart.styledMode;this.$.chart.toggleAttribute("styled-mode",!!t)}disconnectedCallback(){super.disconnectedCallback(),this._childObserver&&this._childObserver.disconnect()}__getAxis(i,t){if(i=Number.parseInt(i)||i,this.configuration)return(t?this.configuration.xAxis:this.configuration.yAxis).find(r=>r.options.id===i)}__addAxis(i,t){if(this.configuration)return this.__createEventListeners(t?this.__xAxesEventNames:this.__yAxesEventNames,i,"events","axis"),this.configuration.addAxis(i,t)}__removeAxisIfEmpty(i){this.configuration&&(i?this.configuration.xAxis:this.configuration.yAxis).forEach(t=>{t.userOptions.axisGenerated&&t.series.length===0&&t.remove()})}updateConfiguration(i,t){(t||!this._jsonConfigurationBuffer)&&(this._jsonConfigurationBuffer={});const r=deepMerge({},i);inflateFunctions(r),this._jsonConfigurationBuffer=this.__makeConfigurationBuffer(this._jsonConfigurationBuffer,r),beforeNextRender(this,()=>{if(!(!this.configuration||!this._jsonConfigurationBuffer)){if(t){const o={...this.options,...this._jsonConfigurationBuffer};this.__initChart(o),this._jsonConfigurationBuffer=null;return}this.configuration.update(this._jsonConfigurationBuffer,!1),this._jsonConfigurationBuffer.credits&&this.__updateOrAddCredits(this._jsonConfigurationBuffer.credits),this._jsonConfigurationBuffer.xAxis&&this.__updateOrAddAxes(this._jsonConfigurationBuffer.xAxis,!0,!1),this._jsonConfigurationBuffer.yAxis&&this.__updateOrAddAxes(this._jsonConfigurationBuffer.yAxis,!1,!1),this._jsonConfigurationBuffer.series&&this.__updateOrAddSeries(this._jsonConfigurationBuffer.series,!1),this._jsonConfigurationBuffer=null,this.configuration.redraw()}})}__makeConfigurationBuffer(i,t){const r=G$7.merge(t),o=G$7.merge(i);return this.__mergeConfigurationArray(o,r,"series"),this.__mergeConfigurationArray(o,r,"xAxis"),this.__mergeConfigurationArray(o,r,"yAxis"),G$7.merge(o,r)}__mergeConfigurationArray(i,t,r){if(!t||!t[r]||!Array.isArray(t[r]))return;if(!i[r]){i[r]=Array.from(t[r]);return}const o=Math.max(i[r].length,t[r].length);for(let a=0;a<o;a++)i[r][a]=G$7.merge(i[r][a],t[r][a]);delete t[r]}__initEventsListeners(i){this.__initChartEventsListeners(i),this.__initSeriesEventsListeners(i),this.__initPointsEventsListeners(i),this.__initAxisEventsListeners(i,!0),this.__initAxisEventsListeners(i,!1)}__initChartEventsListeners(i){this.__createEventListeners(this.__chartEventNames,i,"chart.events","chart")}__initSeriesEventsListeners(i){this.__createEventListeners(this.__seriesEventNames,i,"plotOptions.series.events","series")}__initPointsEventsListeners(i){this.__createEventListeners(this.__pointEventNames,i,"plotOptions.series.point.events","point")}__initAxisEventsListeners(i,t){let r,o;t?(r=this.__xAxesEventNames,o=i.xAxis):(r=this.__yAxesEventNames,o=i.yAxis),Array.isArray(o)?o.forEach(a=>this.__createEventListeners(r,a,"events","axis")):this.__createEventListeners(r,o,"events","axis")}__createEventListeners(i,t,r,o){const a=this.__ensureObjectPath(t,r);for(let s=Object.keys(i),l=0;l<s.length;l++){const c=s[l];a[c]||(a[c]=h=>{const u={bubbles:!1,composed:!0,detail:{originalEvent:h,[o]:h.target}};if(!(h.type==="afterSetExtremes"&&(h.min==null||h.max==null))){if(h.type==="selection"&&(h.xAxis&&h.xAxis[0]&&(u.detail.xAxisMin=h.xAxis[0].min,u.detail.xAxisMax=h.xAxis[0].max),h.yAxis&&h.yAxis[0]&&(u.detail.yAxisMin=h.yAxis[0].min,u.detail.yAxisMax=h.yAxis[0].max)),h.type==="click"&&(h.xAxis&&h.xAxis[0]&&(u.detail.xValue=h.xAxis[0].value),h.yAxis&&h.yAxis[0]&&(u.detail.yValue=h.yAxis[0].value)),["beforePrint","beforeExport"].indexOf(h.type)>=0&&!this.tempBodyStyle){let d="";[...this.shadowRoot.querySelectorAll("style")].forEach(f=>{d+=f.textContent}),d=d.replace(/:host\(.+?\)/gu,f=>{const p=f.substr(6,f.length-7);return this.matches(p)?"":f}),d=`${d}body {    -moz-transform: scale(0.9, 0.9);    zoom: 0.9;    zoom: 90%;}`,this.tempBodyStyle=document.createElement("style"),this.tempBodyStyle.textContent=d,document.body.appendChild(this.tempBodyStyle),this.options.chart.styledMode&&document.body.setAttribute("styled-mode","")}if(["afterPrint","afterExport"].indexOf(h.type)>=0&&this.tempBodyStyle&&(document.body.removeChild(this.tempBodyStyle),delete this.tempBodyStyle,this.options.chart.styledMode&&document.body.removeAttribute("styled-mode")),this.dispatchEvent(new CustomEvent(i[c],u)),h.type==="legendItemClick"&&this._visibilityTogglingDisabled)return!1}})}}__ensureObjectPath(i,t){if(typeof t=="string")return t=t.split("."),t.reduce((r,o)=>(r[o]||(r[o]={}),r[o]),i)}__updateOrAddCredits(i){this.configuration.credits?this.configuration.credits.update(i):this.configuration.addCredits(i)}__updateOrAddAxes(i,t,r){Array.isArray(i)||(i=[i]);const o=t?this.configuration.xAxis:this.configuration.yAxis;for(let a=0;a<i.length;a++){const s=i[a];o[a]?o[a].update(s,r):this.configuration.addAxis(s,t,r)}}__updateOrAddSeries(i,t){if(!Array.isArray(i))throw new Error("The type of jsonConfiguration.series should be Object[]");for(let r=0;r<i.length;r++){const o=i[r];this.__updateOrAddSeriesInstance(o,r,t)}}__updateOrAddSeriesInstance(i,t,r){return this.configuration.series[t]?this.configuration.series[t].update(i,r):this.configuration.addSeries(i,r),this.configuration.series[t]}__updateCategories(i,t){i===void 0||!t||this.__updateOrAddAxes([{categories:i}],!0)}__updateCategoryMax(i,t){if(!(i===void 0||!t)){if(!isFinite(i)){console.warn('<vaadin-chart> Acceptable value for "category-max" are Numbers or null');return}this.__updateOrAddAxes([{max:i}],!0)}}__updateCategoryMin(i,t){if(!(i===void 0||!t)){if(!isFinite(i)){console.warn('<vaadin-chart> Acceptable value for "category-min" are Numbers or null');return}this.__updateOrAddAxes([{min:i}],!0)}}__shouldInvert(){if(this.type==="bar"&&["top","bottom"].indexOf(this.categoryPosition)>=0){console.warn(`<vaadin-chart> Acceptable "category-position" values for bar charts are
          "left" and "right". For "top" and "bottom" positions please consider using a column chart.`);return}return["left","right"].indexOf(this.categoryPosition)>=0}__shouldFlipOpposite(){const i=["top","right"],t=["right"];return(this.type==="bar"?t:i).indexOf(this.categoryPosition)>=0}__updateCategoryPosition(i,t){if(i===void 0||!t)return;const r=["left","right","top","bottom"];if(r.indexOf(i)<0){console.warn(`<vaadin-chart> Acceptable "category-position" values are ${r}`);return}t.update({chart:{inverted:this.__shouldInvert()}}),t.xAxis.forEach(o=>o.update({opposite:this.__shouldFlipOpposite()}))}__hideLegend(i,t){i===void 0||!t||(t.legend?t.legend.update({enabled:!i}):t.legend={enabled:!i})}__updateTitle(i,t){i===void 0||!t||i&&i.length>0&&t.title.update({text:i})}__tooltipObserver(i,t){i===void 0||!t||t.tooltip.update({enabled:i})}__updateType(i,t){i===void 0||!t||i&&i.length>0&&t.update({chart:{type:i}})}__updateSubtitle(i,t){i===void 0||!t||i&&i.length>0&&(t.subtitle?t.subtitle.update({text:i}):t.setSubtitle({text:i}))}__updateAdditionalOptions(i){this.configuration&&i.base&&this.updateConfiguration(i.base)}__isStackingValid(){return["normal","percent",null].indexOf(this.stacking)===-1?(this.__showWarn("stacking",'"normal", "percent" or null'),!1):!0}__stackingObserver(i,t){if(!(i===void 0||!t)){if(!this.__isStackingValid()){this.stacking=null;return}t.update({plotOptions:{series:{stacking:i}}})}}__chart3dObserver(i,t){i===void 0||!t||(i?t.update({chart:{options3d:{...this._baseChart3d,...this.additionalOptions&&this.additionalOptions.chart&&this.additionalOptions.chart.options3d,enabled:!0}}}):t.update({chart:{options3d:{enabled:!1}}}))}__polarObserver(i,t){i===void 0||!t||t.update({chart:{polar:i}})}__emptyTextObserver(i,t){i===void 0||!t||(t.update({lang:{noData:i}}),this.__updateNoDataElement(t))}__updateNoDataElement(i){i.series.every(r=>r.data.length===0)&&(i.hideNoData(),i.showNoData(this.emptyText))}__callChartFunction(i,...t){if(this.configuration){const r=this.configuration[i];r&&typeof r=="function"&&(t.forEach(o=>inflateFunctions(o)),r.apply(this.configuration,t))}}__callSeriesFunction(i,t,...r){if(this.configuration&&this.configuration.series[t]){const o=this.configuration.series[t],a=o[i];a&&typeof a=="function"&&(r.forEach(s=>inflateFunctions(s)),a.apply(o,r))}}__callAxisFunction(i,t,r,...o){if(this.configuration){let a;switch(t){case 0:a=this.configuration.xAxis;break;case 1:a=this.configuration.yAxis;break;case 2:a=this.configuration.zAxis;break;case 3:a=this.configuration.colorAxis;break}if(a&&a[r]){const s=a[r],l=s[i];l&&typeof l=="function"&&(o.forEach(c=>inflateFunctions(c)),l.apply(s,o))}}}__callPointFunction(i,t,r,...o){if(this.configuration&&this.configuration.series[t]&&this.configuration.series[t].data[r]){const a=this.configuration.series[t].data[r],s=a[i];s&&typeof s=="function"&&s.apply(a,o)}}__updateStyles(){if(getComputedStyle(this).flex!=="0 1 auto"){this.$.chart.setAttribute("style","flex: 1; ");let t="";this.hasAttribute("style")&&(t=this.getAttribute("style"),t.endsWith(";")||(t+=";")),t+="display: flex;",this.setAttribute("style",t)}else this.$.chart.setAttribute("style","height:100%; width:100%;")}__showWarn(i,t){console.warn(`<vaadin-chart> Acceptable values for "${i}" are ${t}`)}__onRedraw(){this.__checkTurboMode()}__checkTurboMode(){const i=!!window.Vaadin.developmentMode;if(!this.configuration||!i||this.__turboModeWarningAlreadyLogged)return;this.configuration.series.some(r=>{const o=r.options&&r.options.turboThreshold||0,a=r.data.length;return o>0&&a>o})&&(this.__turboModeWarningAlreadyLogged=!0,console.warn("<vaadin-chart> Turbo mode has been enabled for one or more series, because the number of data items exceeds the configured threshold. Turbo mode improves the performance of charts with lots of data, but is not compatible with every type of series. Please consult the documentation on compatibility, or how to disable turbo mode."))}}defineCustomElement(Chart);/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const CheckedMixin=dedupingMixin(n=>class extends DelegateStateMixin(DisabledMixin(InputMixin(n))){static get properties(){return{checked:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0}}}static get delegateProps(){return[...super.delegateProps,"checked"]}_onChange(t){const r=t.target;this._toggleChecked(r.checked)}_toggleChecked(t){this.checked=t}});/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const CheckboxMixin=n=>class extends LabelMixin(CheckedMixin(DelegateFocusMixin(ActiveMixin(n)))){static get properties(){return{indeterminate:{type:Boolean,notify:!0,value:!1,reflectToAttribute:!0},name:{type:String,value:""},tabindex:{type:Number,value:0,reflectToAttribute:!0}}}static get delegateProps(){return[...super.delegateProps,"indeterminate"]}static get delegateAttrs(){return[...super.delegateAttrs,"name"]}constructor(){super(),this._setType("checkbox"),this.value="on"}ready(){super.ready(),this.addController(new InputController(this,t=>{this._setInputElement(t),this._setFocusElement(t),this.stateTarget=t,this.ariaTarget=t})),this.addController(new LabelledInputController(this.inputElement,this._labelController))}_shouldSetActive(t){return t.target.localName==="a"?!1:super._shouldSetActive(t)}_toggleChecked(t){this.indeterminate&&(this.indeterminate=!1),super._toggleChecked(t)}};/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const checkboxStyles=css$e`
  :host {
    display: inline-block;
  }

  :host([hidden]) {
    display: none !important;
  }

  :host([disabled]) {
    -webkit-tap-highlight-color: transparent;
  }

  .vaadin-checkbox-container {
    display: grid;
    grid-template-columns: auto 1fr;
    align-items: baseline;
  }

  [part='checkbox'],
  ::slotted(input),
  ::slotted(label) {
    grid-row: 1;
  }

  [part='checkbox'],
  ::slotted(input) {
    grid-column: 1;
  }

  [part='checkbox'] {
    width: var(--vaadin-checkbox-size, 1em);
    height: var(--vaadin-checkbox-size, 1em);
    --_input-border-width: var(--vaadin-input-field-border-width, 0);
    --_input-border-color: var(--vaadin-input-field-border-color, transparent);
    box-shadow: inset 0 0 0 var(--_input-border-width, 0) var(--_input-border-color);
  }

  [part='checkbox']::before {
    display: block;
    content: '\\202F';
    line-height: var(--vaadin-checkbox-size, 1em);
    contain: paint;
  }

  /* visually hidden */
  ::slotted(input) {
    opacity: 0;
    cursor: inherit;
    margin: 0;
    align-self: stretch;
    -webkit-appearance: none;
    width: initial;
    height: initial;
  }

  @media (forced-colors: active) {
    [part='checkbox'] {
      outline: 1px solid;
      outline-offset: -1px;
    }

    :host([disabled]) [part='checkbox'],
    :host([disabled]) [part='checkbox']::after {
      outline-color: GrayText;
    }

    :host(:is([checked], [indeterminate])) [part='checkbox']::after {
      outline: 1px solid;
      outline-offset: -1px;
      border-radius: inherit;
    }

    :host([focused]) [part='checkbox'],
    :host([focused]) [part='checkbox']::after {
      outline-width: 2px;
    }
  }
`;/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-checkbox",checkboxStyles,{moduleId:"vaadin-checkbox-styles"});class Checkbox extends CheckboxMixin(ElementMixin(ThemableMixin(PolymerElement))){static get is(){return"vaadin-checkbox"}static get template(){return html`
      <div class="vaadin-checkbox-container">
        <div part="checkbox" aria-hidden="true"></div>
        <slot name="input"></slot>
        <slot name="label"></slot>
      </div>
      <slot name="tooltip"></slot>
    `}ready(){super.ready(),this._tooltipController=new TooltipController(this),this._tooltipController.setAriaTarget(this.inputElement),this.addController(this._tooltipController)}}defineCustomElement(Checkbox);const checkboxGroup=css$e`
  :host {
    color: var(--lumo-body-text-color);
    font-size: var(--lumo-font-size-m);
    font-family: var(--lumo-font-family);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    padding: var(--lumo-space-xs) 0;
  }

  :host::before {
    /* Effective height of vaadin-checkbox */
    height: var(--lumo-size-s);
    box-sizing: border-box;
    display: inline-flex;
    align-items: center;
  }

  :host([theme~='vertical']) [part='group-field'] {
    flex-direction: column;
  }

  :host([disabled]) [part='label'] {
    color: var(--lumo-disabled-text-color);
    -webkit-text-fill-color: var(--lumo-disabled-text-color);
  }

  :host([focused]:not([disabled])) [part='label'] {
    color: var(--lumo-primary-text-color);
  }

  :host(:hover:not([disabled]):not([focused])) [part='label'],
  :host(:hover:not([disabled]):not([focused])) [part='helper-text'] {
    color: var(--lumo-body-text-color);
  }

  /* Touch device adjustment */
  @media (pointer: coarse) {
    :host(:hover:not([disabled]):not([focused])) [part='label'] {
      color: var(--lumo-secondary-text-color);
    }
  }
`;registerStyles$1("vaadin-checkbox-group",[requiredField,helper,checkboxGroup],{moduleId:"lumo-checkbox-group"});/**
 * @license
 * Copyright (c) 2018 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class CheckboxGroup extends FieldMixin(FocusMixin(DisabledMixin(ElementMixin(ThemableMixin(PolymerElement))))){static get is(){return"vaadin-checkbox-group"}static get template(){return html`
      <style>
        :host {
          display: inline-flex;
        }

        :host::before {
          content: '\\2003';
          width: 0;
          display: inline-block;
        }

        :host([hidden]) {
          display: none !important;
        }

        .vaadin-group-field-container {
          display: flex;
          flex-direction: column;
          width: 100%;
        }

        [part='group-field'] {
          display: flex;
          flex-wrap: wrap;
        }

        :host(:not([has-label])) [part='label'] {
          display: none;
        }
      </style>

      <div class="vaadin-group-field-container">
        <div part="label">
          <slot name="label"></slot>
          <span part="required-indicator" aria-hidden="true"></span>
        </div>

        <div part="group-field">
          <slot></slot>
        </div>

        <div part="helper-text">
          <slot name="helper"></slot>
        </div>

        <div part="error-message">
          <slot name="error-message"></slot>
        </div>
      </div>

      <slot name="tooltip"></slot>
    `}static get properties(){return{value:{type:Array,value:()=>[],notify:!0,observer:"__valueChanged"}}}constructor(){super(),this.__registerCheckbox=this.__registerCheckbox.bind(this),this.__unregisterCheckbox=this.__unregisterCheckbox.bind(this),this.__onCheckboxCheckedChanged=this.__onCheckboxCheckedChanged.bind(this),this._tooltipController=new TooltipController(this),this._tooltipController.addEventListener("tooltip-changed",i=>{const t=i.detail.node;if(t&&t.isConnected){const r=this.__checkboxes.map(o=>o.inputElement);this._tooltipController.setAriaTarget(r)}else this._tooltipController.setAriaTarget([])})}get __checkboxes(){return this.__filterCheckboxes([...this.children])}ready(){super.ready(),this.ariaTarget=this,this.setAttribute("role","group");const i=this.shadowRoot.querySelector("slot:not([name])");this._observer=new SlotObserver(i,({addedNodes:t,removedNodes:r})=>{const o=this.__filterCheckboxes(t),a=this.__filterCheckboxes(r);o.forEach(this.__registerCheckbox),a.forEach(this.__unregisterCheckbox);const s=this.__checkboxes.map(l=>l.inputElement);this._tooltipController.setAriaTarget(s),this.__warnOfCheckboxesWithoutValue(o)}),this.addController(this._tooltipController)}checkValidity(){return!this.required||this.value.length>0}__filterCheckboxes(i){return i.filter(t=>t instanceof Checkbox)}__warnOfCheckboxesWithoutValue(i){i.some(r=>{const{value:o}=r;return!r.hasAttribute("value")&&(!o||o==="on")})&&console.warn("Please provide the value attribute to all the checkboxes inside the checkbox group.")}__registerCheckbox(i){i.addEventListener("checked-changed",this.__onCheckboxCheckedChanged),this.disabled&&(i.disabled=!0),i.checked?this.__addCheckboxToValue(i.value):this.value.includes(i.value)&&(i.checked=!0)}__unregisterCheckbox(i){i.removeEventListener("checked-changed",this.__onCheckboxCheckedChanged),i.checked&&this.__removeCheckboxFromValue(i.value)}_disabledChanged(i,t){super._disabledChanged(i,t),!(!i&&t===void 0)&&t!==i&&this.__checkboxes.forEach(r=>{r.disabled=i})}__addCheckboxToValue(i){this.value.includes(i)||(this.value=[...this.value,i])}__removeCheckboxFromValue(i){this.value.includes(i)&&(this.value=this.value.filter(t=>t!==i))}__onCheckboxCheckedChanged(i){const t=i.target;t.checked?this.__addCheckboxToValue(t.value):this.__removeCheckboxFromValue(t.value)}__valueChanged(i,t){i.length===0&&t===void 0||(this.toggleAttribute("has-value",i.length>0),this.__checkboxes.forEach(r=>{r.checked=i.includes(r.value)}),t!==void 0&&this.validate())}_shouldRemoveFocus(i){return!this.contains(i.relatedTarget)}_setFocused(i){super._setFocused(i),!i&&document.hasFocus()&&this.validate()}}defineCustomElement(CheckboxGroup);const comboBoxItem=css$e`
  :host {
    transition: background-color 100ms;
    overflow: hidden;
    --_lumo-item-selected-icon-display: block;
    --_focus-ring-color: var(--vaadin-focus-ring-color, var(--lumo-primary-color-50pct));
    --_focus-ring-width: var(--vaadin-focus-ring-width, 2px);
  }

  @media (any-hover: hover) {
    :host([focused]:not([disabled])) {
      box-shadow: inset 0 0 0 var(--_focus-ring-width) var(--_focus-ring-color);
    }
  }
`;registerStyles$1("vaadin-combo-box-item",[item,comboBoxItem],{moduleId:"lumo-combo-box-item"});/**
 * @license
 * Copyright (c) 2022 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const loader=css$e`
  [part~='loader'] {
    box-sizing: border-box;
    width: var(--lumo-icon-size-s);
    height: var(--lumo-icon-size-s);
    border: 2px solid transparent;
    border-color: var(--lumo-primary-color-10pct) var(--lumo-primary-color-10pct) var(--lumo-primary-color)
      var(--lumo-primary-color);
    border-radius: calc(0.5 * var(--lumo-icon-size-s));
    opacity: 0;
    pointer-events: none;
  }

  :host(:not([loading])) [part~='loader'] {
    display: none;
  }

  :host([loading]) [part~='loader'] {
    animation: 1s linear infinite lumo-loader-rotate, 0.3s 0.1s lumo-loader-fade-in both;
  }

  @keyframes lumo-loader-fade-in {
    0% {
      opacity: 0;
    }

    100% {
      opacity: 1;
    }
  }

  @keyframes lumo-loader-rotate {
    0% {
      transform: rotate(0deg);
    }

    100% {
      transform: rotate(360deg);
    }
  }
`,comboBoxOverlay=css$e`
  [part='content'] {
    padding: 0;
  }

  /* When items are empty, the spinner needs some room */
  :host(:not([closing])) [part~='content'] {
    min-height: calc(2 * var(--lumo-space-s) + var(--lumo-icon-size-s));
  }

  [part~='overlay'] {
    position: relative;
  }

  :host([top-aligned]) [part~='overlay'] {
    margin-top: var(--lumo-space-xs);
  }

  :host([bottom-aligned]) [part~='overlay'] {
    margin-bottom: var(--lumo-space-xs);
  }
`,comboBoxLoader=css$e`
  [part~='loader'] {
    position: absolute;
    z-index: 1;
    left: var(--lumo-space-s);
    right: var(--lumo-space-s);
    top: var(--lumo-space-s);
    margin-left: auto;
    margin-inline-start: auto;
    margin-inline-end: 0;
  }

  :host([dir='rtl']) [part~='loader'] {
    left: auto;
    margin-left: 0;
    margin-right: auto;
    margin-inline-start: 0;
    margin-inline-end: auto;
  }
`;registerStyles$1("vaadin-combo-box-overlay",[overlay,menuOverlayCore,comboBoxOverlay,loader,comboBoxLoader,css$e`
      :host {
        --_vaadin-combo-box-items-container-border-width: var(--lumo-space-xs);
        --_vaadin-combo-box-items-container-border-style: solid;
      }
    `],{moduleId:"lumo-combo-box-overlay"});const comboBox=css$e`
  :host {
    outline: none;
  }

  [part='toggle-button']::before {
    content: var(--lumo-icons-dropdown);
  }
`;registerStyles$1("vaadin-combo-box",[inputFieldShared,comboBox],{moduleId:"lumo-combo-box"});/**
 * @license
 * Copyright (c) 2015 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const ComboBoxItemMixin=n=>class extends n{static get properties(){return{index:{type:Number},item:{type:Object},label:{type:String},selected:{type:Boolean,value:!1,reflectToAttribute:!0},focused:{type:Boolean,value:!1,reflectToAttribute:!0},renderer:{type:Function}}}static get observers(){return["__rendererOrItemChanged(renderer, index, item.*, selected, focused)","__updateLabel(label, renderer)"]}static get observedAttributes(){return[...super.observedAttributes,"hidden"]}attributeChangedCallback(t,r,o){t==="hidden"&&o!==null?this.index=void 0:super.attributeChangedCallback(t,r,o)}connectedCallback(){super.connectedCallback(),this._owner=this.parentNode.owner;const t=this._owner.getAttribute("dir");t&&this.setAttribute("dir",t)}requestContentUpdate(){if(!this.renderer)return;const t={index:this.index,item:this.item,focused:this.focused,selected:this.selected};this.renderer(this,this._owner,t)}__rendererOrItemChanged(t,r,o){o===void 0||r===void 0||(this._oldRenderer!==t&&(this.innerHTML="",delete this._$litPart$),t&&(this._oldRenderer=t,this.requestContentUpdate()))}__updateLabel(t,r){r||(this.textContent=t)}};/**
 * @license
 * Copyright (c) 2015 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class ComboBoxItem extends ComboBoxItemMixin(ThemableMixin(DirMixin(PolymerElement))){static get template(){return html`
      <style>
        :host {
          display: block;
        }

        :host([hidden]) {
          display: none;
        }
      </style>
      <span part="checkmark" aria-hidden="true"></span>
      <div part="content">
        <slot></slot>
      </div>
    `}static get is(){return"vaadin-combo-box-item"}}defineCustomElement(ComboBoxItem);/**
 * @license
 * Copyright (c) 2015 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const ComboBoxOverlayMixin=n=>class extends PositionMixin(n){static get observers(){return["_setOverlayWidth(positionTarget, opened)"]}constructor(){super(),this.requiredVerticalSpace=200}connectedCallback(){super.connectedCallback();const t=this._comboBox,r=t&&t.getAttribute("dir");r&&this.setAttribute("dir",r)}_shouldCloseOnOutsideClick(t){const r=t.composedPath();return!r.includes(this.positionTarget)&&!r.includes(this)}_updateOverlayWidth(){const t=this.localName;this.style.setProperty(`--_${t}-default-width`,`${this.positionTarget.clientWidth}px`);const r=getComputedStyle(this._comboBox).getPropertyValue(`--${t}-width`);r===""?this.style.removeProperty(`--${t}-width`):this.style.setProperty(`--${t}-width`,r)}_setOverlayWidth(t,r){t&&r&&(this._updateOverlayWidth(),this._updatePosition())}};/**
 * @license
 * Copyright (c) 2015 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const comboBoxOverlayStyles=css$e`
  #overlay {
    width: var(--vaadin-combo-box-overlay-width, var(--_vaadin-combo-box-overlay-default-width, auto));
  }

  [part='content'] {
    display: flex;
    flex-direction: column;
    height: 100%;
  }
`;registerStyles$1("vaadin-combo-box-overlay",[overlayStyles,comboBoxOverlayStyles],{moduleId:"vaadin-combo-box-overlay-styles"});class ComboBoxOverlay extends ComboBoxOverlayMixin(OverlayMixin(DirMixin(ThemableMixin(PolymerElement)))){static get is(){return"vaadin-combo-box-overlay"}static get template(){return html`
      <div id="backdrop" part="backdrop" hidden></div>
      <div part="overlay" id="overlay">
        <div part="loader"></div>
        <div part="content" id="content"><slot></slot></div>
      </div>
    `}}defineCustomElement(ComboBoxOverlay);/**
 * @license
 * Copyright (c) 2015 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const ComboBoxPlaceholder=class{toString(){return""}};/**
 * @license
 * Copyright (c) 2015 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const ComboBoxScrollerMixin=n=>class extends n{static get properties(){return{items:{type:Array,observer:"__itemsChanged"},focusedIndex:{type:Number,observer:"__focusedIndexChanged"},loading:{type:Boolean,observer:"__loadingChanged"},opened:{type:Boolean,observer:"__openedChanged"},selectedItem:{type:Object,observer:"__selectedItemChanged"},itemIdPath:{type:String},owner:{type:Object},getItemLabel:{type:Object},renderer:{type:Object,observer:"__rendererChanged"},theme:{type:String}}}constructor(){super(),this.__boundOnItemClick=this.__onItemClick.bind(this)}get _viewportTotalPaddingBottom(){if(this._cachedViewportTotalPaddingBottom===void 0){const t=window.getComputedStyle(this.$.selector);this._cachedViewportTotalPaddingBottom=[t.paddingBottom,t.borderBottomWidth].map(r=>parseInt(r,10)).reduce((r,o)=>r+o)}return this._cachedViewportTotalPaddingBottom}ready(){super.ready(),this.setAttribute("role","listbox"),this.id=`${this.localName}-${generateUniqueId()}`,this.__hostTagName=this.constructor.is.replace("-scroller",""),this.addEventListener("click",t=>t.stopPropagation()),this.__patchWheelOverScrolling(),this.__virtualizer=new Virtualizer({createElements:this.__createElements.bind(this),updateElement:this._updateElement.bind(this),elementsContainer:this,scrollTarget:this,scrollContainer:this.$.selector})}requestContentUpdate(){this.__virtualizer&&this.__virtualizer.update()}scrollIntoView(t){if(!(this.opened&&t>=0))return;const r=this._visibleItemsCount();let o=t;t>this.__virtualizer.lastVisibleIndex-1?(this.__virtualizer.scrollToIndex(t),o=t-r+1):t>this.__virtualizer.firstVisibleIndex&&(o=this.__virtualizer.firstVisibleIndex),this.__virtualizer.scrollToIndex(Math.max(0,o));const a=[...this.children].find(h=>!h.hidden&&h.index===this.__virtualizer.lastVisibleIndex);if(!a||t!==a.index)return;const s=a.getBoundingClientRect(),l=this.getBoundingClientRect(),c=s.bottom-l.bottom+this._viewportTotalPaddingBottom;c>0&&(this.scrollTop+=c)}_isItemSelected(t,r,o){return t instanceof ComboBoxPlaceholder?!1:o&&t!==void 0&&r!==void 0?get$5(o,t)===get$5(o,r):t===r}__itemsChanged(t){this.__virtualizer&&t&&(this.__virtualizer.size=t.length,this.__virtualizer.flush(),this.requestContentUpdate())}__loadingChanged(){this.requestContentUpdate()}__openedChanged(t){t&&this.requestContentUpdate()}__selectedItemChanged(){this.requestContentUpdate()}__focusedIndexChanged(t,r){t!==r&&this.requestContentUpdate(),t>=0&&!this.loading&&this.scrollIntoView(t)}__rendererChanged(t,r){(t||r)&&this.requestContentUpdate()}__createElements(t){return[...Array(t)].map(()=>{const r=document.createElement(`${this.__hostTagName}-item`);return r.addEventListener("click",this.__boundOnItemClick),r.tabIndex="-1",r.style.width="100%",r})}_updateElement(t,r){const o=this.items[r],a=this.focusedIndex,s=this._isItemSelected(o,this.selectedItem,this.itemIdPath);t.setProperties({item:o,index:r,label:this.getItemLabel(o),selected:s,renderer:this.renderer,focused:!this.loading&&a===r}),t.id=`${this.__hostTagName}-item-${r}`,t.setAttribute("role",r!==void 0?"option":!1),t.setAttribute("aria-selected",s.toString()),t.setAttribute("aria-posinset",r+1),t.setAttribute("aria-setsize",this.items.length),this.theme?t.setAttribute("theme",this.theme):t.removeAttribute("theme"),o instanceof ComboBoxPlaceholder&&this.__requestItemByIndex(r)}__onItemClick(t){this.dispatchEvent(new CustomEvent("selection-changed",{detail:{item:t.currentTarget.item}}))}__patchWheelOverScrolling(){this.$.selector.addEventListener("wheel",t=>{const r=this.scrollTop===0,o=this.scrollHeight-this.scrollTop-this.clientHeight<=1;(r&&t.deltaY<0||o&&t.deltaY>0)&&t.preventDefault()})}__requestItemByIndex(t){requestAnimationFrame(()=>{this.dispatchEvent(new CustomEvent("index-requested",{detail:{index:t,currentScrollerPos:this._oldScrollerPosition}}))})}_visibleItemsCount(){return this.__virtualizer.scrollToIndex(this.__virtualizer.firstVisibleIndex),this.__virtualizer.size>0?this.__virtualizer.lastVisibleIndex-this.__virtualizer.firstVisibleIndex+1:0}};/**
 * @license
 * Copyright (c) 2015 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class ComboBoxScroller extends ComboBoxScrollerMixin(PolymerElement){static get is(){return"vaadin-combo-box-scroller"}static get template(){return html`
      <style>
        :host {
          display: block;
          min-height: 1px;
          overflow: auto;

          /* Fixes item background from getting on top of scrollbars on Safari */
          transform: translate3d(0, 0, 0);

          /* Enable momentum scrolling on iOS */
          -webkit-overflow-scrolling: touch;

          /* Fixes scrollbar disappearing when 'Show scroll bars: Always' enabled in Safari */
          box-shadow: 0 0 0 white;
        }

        #selector {
          border-width: var(--_vaadin-combo-box-items-container-border-width);
          border-style: var(--_vaadin-combo-box-items-container-border-style);
          border-color: var(--_vaadin-combo-box-items-container-border-color, transparent);
          position: relative;
        }
      </style>
      <div id="selector">
        <slot></slot>
      </div>
    `}}defineCustomElement(ComboBoxScroller);/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const PatternMixin=n=>class extends InputConstraintsMixin(n){static get properties(){return{pattern:{type:String}}}static get delegateAttrs(){return[...super.delegateAttrs,"pattern"]}static get constraints(){return[...super.constraints,"pattern"]}};/**
 * @license
 * Copyright (c) 2015 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const ComboBoxDataProviderMixin=n=>class extends n{static get properties(){return{pageSize:{type:Number,value:50,observer:"_pageSizeChanged"},size:{type:Number,observer:"_sizeChanged"},dataProvider:{type:Object,observer:"_dataProviderChanged"},_pendingRequests:{value:()=>({})},__placeHolder:{value:new ComboBoxPlaceholder},__previousDataProviderFilter:{type:String}}}static get observers(){return["_dataProviderFilterChanged(filter)","_warnDataProviderValue(dataProvider, value)","_ensureFirstPage(opened)"]}ready(){super.ready(),this._scroller.addEventListener("index-requested",t=>{const r=t.detail.index,o=t.detail.currentScrollerPos,a=Math.floor(this.pageSize*1.5);if(!this._shouldSkipIndex(r,a,o)&&r!==void 0){const s=this._getPageForIndex(r);this._shouldLoadPage(s)&&this._loadPage(s)}})}_dataProviderFilterChanged(t){if(this.__previousDataProviderFilter===void 0&&t===""){this.__previousDataProviderFilter=t;return}this.__previousDataProviderFilter!==t&&(this.__previousDataProviderFilter=t,this._pendingRequests={},this.loading=this._shouldFetchData(),this.size=void 0,this.clearCache())}_shouldFetchData(){return this.dataProvider?this.opened||this.filter&&this.filter.length:!1}_ensureFirstPage(t){t&&this._shouldLoadPage(0)&&this._loadPage(0)}_shouldSkipIndex(t,r,o){return o!==0&&t>=o-r&&t<=o+r}_shouldLoadPage(t){if(!this.filteredItems||this._forceNextRequest)return this._forceNextRequest=!1,!0;const r=this.filteredItems[t*this.pageSize];return r!==void 0?r instanceof ComboBoxPlaceholder:this.size===void 0}_loadPage(t){if(this._pendingRequests[t]||!this.dataProvider)return;const r={page:t,pageSize:this.pageSize,filter:this.filter},o=(a,s)=>{if(this._pendingRequests[t]!==o)return;const l=this.filteredItems?[...this.filteredItems]:[];l.splice(r.page*r.pageSize,a.length,...a),this.filteredItems=l,!this.opened&&!this._isInputFocused()&&this._commitValue(),s!==void 0&&(this.size=s),delete this._pendingRequests[t],Object.keys(this._pendingRequests).length===0&&(this.loading=!1)};this._pendingRequests[t]=o,this.loading=!0,this.dataProvider(r,o)}_getPageForIndex(t){return Math.floor(t/this.pageSize)}clearCache(){if(!this.dataProvider)return;this._pendingRequests={};const t=[];for(let r=0;r<(this.size||0);r++)t.push(this.__placeHolder);this.filteredItems=t,this._shouldFetchData()?(this._forceNextRequest=!1,this._loadPage(0)):this._forceNextRequest=!0}_sizeChanged(t=0){const r=(this.filteredItems||[]).slice(0,t);for(let o=0;o<t;o++)r[o]=r[o]!==void 0?r[o]:this.__placeHolder;this.filteredItems=r,this._flushPendingRequests(t)}_pageSizeChanged(t,r){if(Math.floor(t)!==t||t<1)throw this.pageSize=r,new Error("`pageSize` value must be an integer > 0");this.clearCache()}_dataProviderChanged(t,r){this._ensureItemsOrDataProvider(()=>{this.dataProvider=r}),this.clearCache()}_ensureItemsOrDataProvider(t){if(this.items!==void 0&&this.dataProvider!==void 0)throw t(),new Error("Using `items` and `dataProvider` together is not supported");this.dataProvider&&!this.filteredItems&&(this.filteredItems=[])}_warnDataProviderValue(t,r){if(t&&r!==""&&(this.selectedItem===void 0||this.selectedItem===null)){const o=this.__getItemIndexByValue(this.filteredItems,r);(o<0||!this._getItemLabel(this.filteredItems[o]))&&console.warn("Warning: unable to determine the label for the provided `value`. Nothing to display in the text field. This usually happens when setting an initial `value` before any items are returned from the `dataProvider` callback. Consider setting `selectedItem` instead of `value`")}}_flushPendingRequests(t){if(this._pendingRequests){const r=Math.ceil(t/this.pageSize);Object.entries(this._pendingRequests).forEach(([o,a])=>{parseInt(o)>=r&&a([],t)})}}};/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class VirtualKeyboardController{constructor(i){this.host=i,i.addEventListener("opened-changed",()=>{i.opened||this.__setVirtualKeyboardEnabled(!1)}),i.addEventListener("blur",()=>this.__setVirtualKeyboardEnabled(!0)),i.addEventListener("touchstart",()=>this.__setVirtualKeyboardEnabled(!0))}__setVirtualKeyboardEnabled(i){this.host.inputElement&&(this.host.inputElement.inputMode=i?"":"none")}}/**
 * @license
 * Copyright (c) 2015 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */function isValidValue(n){return n!=null}function findItemIndex(n,i){return n.findIndex(t=>t instanceof ComboBoxPlaceholder?!1:i(t))}const ComboBoxMixin=n=>class extends OverlayClassMixin(ControllerMixin(ValidateMixin(FocusMixin(KeyboardMixin(InputMixin(DisabledMixin(n))))))){static get properties(){return{opened:{type:Boolean,notify:!0,value:!1,reflectToAttribute:!0,observer:"_openedChanged"},autoOpenDisabled:{type:Boolean},readonly:{type:Boolean,value:!1,reflectToAttribute:!0},renderer:Function,items:{type:Array,observer:"_itemsChanged"},allowCustomValue:{type:Boolean,value:!1},filteredItems:{type:Array,observer:"_filteredItemsChanged"},_lastCommittedValue:String,loading:{type:Boolean,value:!1,reflectToAttribute:!0},_focusedIndex:{type:Number,observer:"_focusedIndexChanged",value:-1},filter:{type:String,value:"",notify:!0},selectedItem:{type:Object,notify:!0},itemLabelPath:{type:String,value:"label",observer:"_itemLabelPathChanged"},itemValuePath:{type:String,value:"value"},itemIdPath:String,_toggleElement:{type:Object,observer:"_toggleElementChanged"},_dropdownItems:{type:Array},_closeOnBlurIsPrevented:Boolean,_scroller:Object,_overlayOpened:{type:Boolean,observer:"_overlayOpenedChanged"}}}static get observers(){return["_selectedItemChanged(selectedItem, itemValuePath, itemLabelPath)","_openedOrItemsChanged(opened, _dropdownItems, loading)","_updateScroller(_scroller, _dropdownItems, opened, loading, selectedItem, itemIdPath, _focusedIndex, renderer, theme)"]}constructor(){super(),this._boundOverlaySelectedItemChanged=this._overlaySelectedItemChanged.bind(this),this._boundOnClearButtonMouseDown=this.__onClearButtonMouseDown.bind(this),this._boundOnClick=this._onClick.bind(this),this._boundOnOverlayTouchAction=this._onOverlayTouchAction.bind(this),this._boundOnTouchend=this._onTouchend.bind(this)}get _tagNamePrefix(){return"vaadin-combo-box"}get _nativeInput(){return this.inputElement}_inputElementChanged(t){super._inputElementChanged(t);const r=this._nativeInput;r&&(r.autocomplete="off",r.autocapitalize="off",r.setAttribute("role","combobox"),r.setAttribute("aria-autocomplete","list"),r.setAttribute("aria-expanded",!!this.opened),r.setAttribute("spellcheck","false"),r.setAttribute("autocorrect","off"),this._revertInputValueToValue(),this.clearElement&&this.clearElement.addEventListener("mousedown",this._boundOnClearButtonMouseDown))}ready(){super.ready(),this._initOverlay(),this._initScroller(),this._lastCommittedValue=this.value,this.addEventListener("click",this._boundOnClick),this.addEventListener("touchend",this._boundOnTouchend);const t=()=>{requestAnimationFrame(()=>{this._overlayElement.bringToFront()})};this.addEventListener("mousedown",t),this.addEventListener("touchstart",t),processTemplates(this),this.addController(new VirtualKeyboardController(this))}disconnectedCallback(){super.disconnectedCallback(),this.close()}requestContentUpdate(){this._scroller&&(this._scroller.requestContentUpdate(),this._getItemElements().forEach(t=>{t.requestContentUpdate()}))}open(){!this.disabled&&!this.readonly&&(this.opened=!0)}close(){this.opened=!1}_propertiesChanged(t,r,o){super._propertiesChanged(t,r,o),r.filter!==void 0&&this._filterChanged(r.filter)}_initOverlay(){const t=this.$.overlay;t._comboBox=this,t.addEventListener("touchend",this._boundOnOverlayTouchAction),t.addEventListener("touchmove",this._boundOnOverlayTouchAction),t.addEventListener("mousedown",r=>r.preventDefault()),t.addEventListener("opened-changed",r=>{this._overlayOpened=r.detail.value}),this._overlayElement=t}_initScroller(t){const r=`${this._tagNamePrefix}-scroller`,o=this._overlayElement;o.renderer=s=>{s.firstChild||s.appendChild(document.createElement(r))},o.requestContentUpdate();const a=o.querySelector(r);a.owner=t||this,a.getItemLabel=this._getItemLabel.bind(this),a.addEventListener("selection-changed",this._boundOverlaySelectedItemChanged),this._scroller=a}_updateScroller(t,r,o,a,s,l,c,h,u){t&&(o&&(t.style.maxHeight=getComputedStyle(this).getPropertyValue(`--${this._tagNamePrefix}-overlay-max-height`)||"65vh"),t.setProperties({items:o?r:[],opened:o,loading:a,selectedItem:s,itemIdPath:l,focusedIndex:c,renderer:h,theme:u}))}_openedOrItemsChanged(t,r,o){this._overlayOpened=!!(t&&(o||r&&r.length))}_overlayOpenedChanged(t,r){t?(this.dispatchEvent(new CustomEvent("vaadin-combo-box-dropdown-opened",{bubbles:!0,composed:!0})),this._onOpened()):r&&this._dropdownItems&&this._dropdownItems.length&&(this.close(),this.dispatchEvent(new CustomEvent("vaadin-combo-box-dropdown-closed",{bubbles:!0,composed:!0})))}_focusedIndexChanged(t,r){r!==void 0&&this._updateActiveDescendant(t)}_isInputFocused(){return this.inputElement&&isElementFocused(this.inputElement)}_updateActiveDescendant(t){const r=this._nativeInput;if(!r)return;const o=this._getItemElements().find(a=>a.index===t);o?r.setAttribute("aria-activedescendant",o.id):r.removeAttribute("aria-activedescendant")}_openedChanged(t,r){if(r===void 0)return;t?(this._openedWithFocusRing=this.hasAttribute("focus-ring"),!this._isInputFocused()&&!isTouch&&this.inputElement&&this.inputElement.focus(),this._overlayElement.restoreFocusOnClose=!0):(this._onClosed(),this._openedWithFocusRing&&this._isInputFocused()&&this.setAttribute("focus-ring",""));const o=this._nativeInput;o&&(o.setAttribute("aria-expanded",!!t),t?o.setAttribute("aria-controls",this._scroller.id):o.removeAttribute("aria-controls"))}_onOverlayTouchAction(){this._closeOnBlurIsPrevented=!0,this.inputElement.blur(),this._closeOnBlurIsPrevented=!1}_isClearButton(t){return t.composedPath()[0]===this.clearElement}__onClearButtonMouseDown(t){t.preventDefault(),this.inputElement.focus()}_onClearButtonClick(t){t.preventDefault(),this._onClearAction(),this.opened&&this.requestContentUpdate()}_onToggleButtonClick(t){t.preventDefault(),this.opened?this.close():this.open()}_onHostClick(t){this.autoOpenDisabled||(t.preventDefault(),this.open())}_onClick(t){this._isClearButton(t)?this._onClearButtonClick(t):t.composedPath().includes(this._toggleElement)?this._onToggleButtonClick(t):this._onHostClick(t)}_onKeyDown(t){super._onKeyDown(t),t.key==="Tab"?this._overlayElement.restoreFocusOnClose=!1:t.key==="ArrowDown"?(this._onArrowDown(),t.preventDefault()):t.key==="ArrowUp"&&(this._onArrowUp(),t.preventDefault())}_getItemLabel(t){let r=t&&this.itemLabelPath?get$5(this.itemLabelPath,t):void 0;return r==null&&(r=t?t.toString():""),r}_getItemValue(t){let r=t&&this.itemValuePath?get$5(this.itemValuePath,t):void 0;return r===void 0&&(r=t?t.toString():""),r}_onArrowDown(){if(this.opened){const t=this._dropdownItems;t&&(this._focusedIndex=Math.min(t.length-1,this._focusedIndex+1),this._prefillFocusedItemLabel())}else this.open()}_onArrowUp(){if(this.opened){if(this._focusedIndex>-1)this._focusedIndex=Math.max(0,this._focusedIndex-1);else{const t=this._dropdownItems;t&&(this._focusedIndex=t.length-1)}this._prefillFocusedItemLabel()}else this.open()}_prefillFocusedItemLabel(){if(this._focusedIndex>-1){const t=this._dropdownItems[this._focusedIndex];this._inputElementValue=this._getItemLabel(t),this._markAllSelectionRange()}}_setSelectionRange(t,r){this._isInputFocused()&&this.inputElement.setSelectionRange&&this.inputElement.setSelectionRange(t,r)}_markAllSelectionRange(){this._inputElementValue!==void 0&&this._setSelectionRange(0,this._inputElementValue.length)}_clearSelectionRange(){if(this._inputElementValue!==void 0){const t=this._inputElementValue?this._inputElementValue.length:0;this._setSelectionRange(t,t)}}_closeOrCommit(){!this.opened&&!this.loading?this._commitValue():this.close()}_onEnter(t){const r=this._focusedIndex<0&&this._inputElementValue!==""&&this._getItemLabel(this.selectedItem)!==this._inputElementValue;if(!this.allowCustomValue&&r){t.preventDefault(),t.stopPropagation();return}this.opened&&(t.preventDefault(),t.stopPropagation()),this._closeOrCommit()}_onEscape(t){this.autoOpenDisabled?this.opened||this.value!==this._inputElementValue&&this._inputElementValue.length>0?(t.stopPropagation(),this._focusedIndex=-1,this.cancel()):this.clearButtonVisible&&!this.opened&&this.value&&(t.stopPropagation(),this._onClearAction()):this.opened?(t.stopPropagation(),this._focusedIndex>-1?(this._focusedIndex=-1,this._revertInputValue()):this.cancel()):this.clearButtonVisible&&this.value&&(t.stopPropagation(),this._onClearAction())}_toggleElementChanged(t){t&&(t.addEventListener("mousedown",r=>r.preventDefault()),t.addEventListener("click",()=>{isTouch&&!this._isInputFocused()&&document.activeElement.blur()}))}_onClearAction(){this.selectedItem=null,this.allowCustomValue&&(this.value=""),this._detectAndDispatchChange()}cancel(){this._revertInputValueToValue(),this._lastCommittedValue=this.value,this._closeOrCommit()}_onOpened(){this._lastCommittedValue=this.value}_onClosed(){(!this.loading||this.allowCustomValue)&&this._commitValue()}_commitValue(){if(this._focusedIndex>-1){const t=this._dropdownItems[this._focusedIndex];this.selectedItem!==t&&(this.selectedItem=t),this._inputElementValue=this._getItemLabel(this.selectedItem),this._focusedIndex=-1}else if(this._inputElementValue===""||this._inputElementValue===void 0)this.selectedItem=null,this.allowCustomValue&&(this.value="");else{const t=[this.selectedItem,...this._dropdownItems||[]],r=t[this.__getItemIndexByLabel(t,this._inputElementValue)];if(this.allowCustomValue&&!r){const o=this._inputElementValue;this._lastCustomValue=o;const a=new CustomEvent("custom-value-set",{detail:o,composed:!0,cancelable:!0,bubbles:!0});this.dispatchEvent(a),a.defaultPrevented||(this.value=o)}else!this.allowCustomValue&&!this.opened&&r?this.value=this._getItemValue(r):this._inputElementValue=this.selectedItem?this._getItemLabel(this.selectedItem):this.value||""}this._detectAndDispatchChange(),this._clearSelectionRange(),this.filter=""}_onInput(t){const r=this._inputElementValue,o={};this.filter===r?this._filterChanged(this.filter):o.filter=r,!this.opened&&!this._isClearButton(t)&&!this.autoOpenDisabled&&(o.opened=!0),this.setProperties(o)}_onChange(t){t.stopPropagation()}_itemLabelPathChanged(t){typeof t!="string"&&console.error("You should set itemLabelPath to a valid string")}_filterChanged(t){this._scrollIntoView(0),this._focusedIndex=-1,this.items?this.filteredItems=this._filterItems(this.items,t):this._filteredItemsChanged(this.filteredItems)}_revertInputValue(){this.filter!==""?this._inputElementValue=this.filter:this._revertInputValueToValue(),this._clearSelectionRange()}_revertInputValueToValue(){this.allowCustomValue&&!this.selectedItem?this._inputElementValue=this.value:this._inputElementValue=this._getItemLabel(this.selectedItem)}_selectedItemChanged(t){if(t==null)this.filteredItems&&(this.allowCustomValue||(this.value=""),this._toggleHasValue(this._hasValue),this._inputElementValue=this.value);else{const r=this._getItemValue(t);if(this.value!==r&&(this.value=r,this.value!==r))return;this._toggleHasValue(!0),this._inputElementValue=this._getItemLabel(t)}}_valueChanged(t,r){t===""&&r===void 0||(isValidValue(t)?(this._getItemValue(this.selectedItem)!==t&&this._selectItemForValue(t),!this.selectedItem&&this.allowCustomValue&&(this._inputElementValue=t),this._toggleHasValue(this._hasValue)):this.selectedItem=null,this.filter="",this._lastCommittedValue=void 0)}_detectAndDispatchChange(){document.hasFocus()&&this.validate(),this.value!==this._lastCommittedValue&&(this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this._lastCommittedValue=this.value)}_itemsChanged(t,r){this._ensureItemsOrDataProvider(()=>{this.items=r}),t?this.filteredItems=t.slice(0):r&&(this.filteredItems=null)}_filteredItemsChanged(t,r){this._setDropdownItems(t);const o=r?r[this._focusedIndex]:null,a=this.__getItemIndexByValue(t,this.value);(this.selectedItem===null||this.selectedItem===void 0)&&a>=0&&(this.selectedItem=t[a]);const s=this.__getItemIndexByValue(t,this._getItemValue(o));s>-1?this._focusedIndex=s:this._focusedIndex=this.__getItemIndexByLabel(this.filteredItems,this.filter)}_filterItems(t,r){return t&&t.filter(a=>(r=r?r.toString().toLowerCase():"",this._getItemLabel(a).toString().toLowerCase().indexOf(r)>-1))}_selectItemForValue(t){const r=this.__getItemIndexByValue(this.filteredItems,t),o=this.selectedItem;r>=0?this.selectedItem=this.filteredItems[r]:this.dataProvider&&this.selectedItem===void 0?this.selectedItem=void 0:this.selectedItem=null,this.selectedItem===null&&o===null&&this._selectedItemChanged(this.selectedItem)}_setDropdownItems(t){this._dropdownItems=t}_getItemElements(){return Array.from(this._scroller.querySelectorAll(`${this._tagNamePrefix}-item`))}_scrollIntoView(t){this._scroller&&this._scroller.scrollIntoView(t)}__getItemIndexByValue(t,r){return!t||!isValidValue(r)?-1:findItemIndex(t,o=>this._getItemValue(o)===r)}__getItemIndexByLabel(t,r){return!t||!r?-1:findItemIndex(t,o=>this._getItemLabel(o).toString().toLowerCase()===r.toString().toLowerCase())}_overlaySelectedItemChanged(t){t.stopPropagation(),!(t.detail.item instanceof ComboBoxPlaceholder)&&this.opened&&(this._focusedIndex=this.filteredItems.indexOf(t.detail.item),this.close())}_setFocused(t){if(super._setFocused(t),!t&&!this.readonly&&!this._closeOnBlurIsPrevented){if(!this.opened&&this.allowCustomValue&&this._inputElementValue===this._lastCustomValue){delete this._lastCustomValue;return}this._closeOrCommit()}}_shouldRemoveFocus(t){return t.relatedTarget&&t.relatedTarget.localName===`${this._tagNamePrefix}-item`?!1:t.relatedTarget===this._overlayElement?(t.composedPath()[0].focus(),!1):!0}_onTouchend(t){!this.clearElement||t.composedPath()[0]!==this.clearElement||(t.preventDefault(),this._onClearAction())}};/**
 * @license
 * Copyright (c) 2015 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-combo-box",inputFieldShared$1,{moduleId:"vaadin-combo-box-styles"});class ComboBox extends ComboBoxDataProviderMixin(ComboBoxMixin(PatternMixin(InputControlMixin(ThemableMixin(ElementMixin(PolymerElement)))))){static get is(){return"vaadin-combo-box"}static get template(){return html`
      <style>
        :host([opened]) {
          pointer-events: auto;
        }
      </style>

      <div class="vaadin-combo-box-container">
        <div part="label">
          <slot name="label"></slot>
          <span part="required-indicator" aria-hidden="true" on-click="focus"></span>
        </div>

        <vaadin-input-container
          part="input-field"
          readonly="[[readonly]]"
          disabled="[[disabled]]"
          invalid="[[invalid]]"
          theme$="[[_theme]]"
        >
          <slot name="prefix" slot="prefix"></slot>
          <slot name="input"></slot>
          <div id="clearButton" part="clear-button" slot="suffix" aria-hidden="true"></div>
          <div id="toggleButton" part="toggle-button" slot="suffix" aria-hidden="true"></div>
        </vaadin-input-container>

        <div part="helper-text">
          <slot name="helper"></slot>
        </div>

        <div part="error-message">
          <slot name="error-message"></slot>
        </div>
      </div>

      <vaadin-combo-box-overlay
        id="overlay"
        opened="[[_overlayOpened]]"
        loading$="[[loading]]"
        theme$="[[_theme]]"
        position-target="[[_positionTarget]]"
        no-vertical-overlap
        restore-focus-node="[[inputElement]]"
      ></vaadin-combo-box-overlay>

      <slot name="tooltip"></slot>
    `}static get properties(){return{_positionTarget:{type:Object}}}get clearElement(){return this.$.clearButton}ready(){super.ready(),this.addController(new InputController(this,i=>{this._setInputElement(i),this._setFocusElement(i),this.stateTarget=i,this.ariaTarget=i})),this.addController(new LabelledInputController(this.inputElement,this._labelController)),this._tooltipController=new TooltipController(this),this.addController(this._tooltipController),this._tooltipController.setPosition("top"),this._tooltipController.setAriaTarget(this.inputElement),this._tooltipController.setShouldShow(i=>!i.opened),this._positionTarget=this.shadowRoot.querySelector('[part="input-field"]'),this._toggleElement=this.$.toggleButton}_onClearButtonClick(i){i.stopPropagation(),super._onClearButtonClick(i)}_onHostClick(i){const t=i.composedPath();(t.includes(this._labelNode)||t.includes(this._positionTarget))&&super._onHostClick(i)}}defineCustomElement(ComboBox);/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/class Debouncer{constructor(){this._asyncModule=null,this._callback=null,this._timer=null}setConfig(i,t){this._asyncModule=i,this._callback=t,this._timer=this._asyncModule.run(()=>{this._timer=null,debouncerQueue.delete(this),this._callback()})}cancel(){this.isActive()&&(this._cancelAsync(),debouncerQueue.delete(this))}_cancelAsync(){this.isActive()&&(this._asyncModule.cancel(this._timer),this._timer=null)}flush(){this.isActive()&&(this.cancel(),this._callback())}isActive(){return this._timer!=null}static debounce(i,t,r){return i instanceof Debouncer?i._cancelAsync():i=new Debouncer,i.setConfig(t,r),i}}let debouncerQueue=new Set;const enqueueDebouncer=function(n){debouncerQueue.add(n)},flushDebouncers=function(){const n=!!debouncerQueue.size;return debouncerQueue.forEach(i=>{try{i.flush()}catch(t){setTimeout(()=>{throw t})}}),n};/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const flush=function(){let n,i;do n=window.ShadyDOM&&ShadyDOM.flush(),window.ShadyCSS&&window.ShadyCSS.ScopingShim&&window.ShadyCSS.ScopingShim.flush(),i=flushDebouncers();while(n||i)};/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let elementsHidden=!1;function hideElementsGlobally(){if(legacyOptimizations&&!useShadow){if(!elementsHidden){elementsHidden=!0;const n=document.createElement("style");n.textContent="dom-bind,dom-if,dom-repeat{display:none;}",document.head.appendChild(n)}return!0}return!1}/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function mutablePropertyChange(n,i,t,r,o){let a;o&&(a=typeof t=="object"&&t!==null,a&&(r=n.__dataTemp[i]));let s=r!==t&&(r===r||t===t);return a&&s&&(n.__dataTemp[i]=t),s}const MutableData=dedupingMixin(n=>{class i extends n{_shouldPropertyChange(r,o,a){return mutablePropertyChange(this,r,o,a,!0)}}return i}),OptionalMutableData=dedupingMixin(n=>{class i extends n{static get properties(){return{mutableData:Boolean}}_shouldPropertyChange(r,o,a){return mutablePropertyChange(this,r,o,a,this.mutableData)}}return i});MutableData._mutablePropertyChange=mutablePropertyChange;/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let newInstance=null;function HTMLTemplateElementExtension(){return newInstance}HTMLTemplateElementExtension.prototype=Object.create(HTMLTemplateElement.prototype,{constructor:{value:HTMLTemplateElementExtension,writable:!0}});const DataTemplate=PropertyEffects(HTMLTemplateElementExtension),MutableDataTemplate=MutableData(DataTemplate);function upgradeTemplate(n,i){newInstance=n,Object.setPrototypeOf(n,i.prototype),new i,newInstance=null}const templateInstanceBase=PropertyEffects(class{});function showHideChildren(n,i){for(let t=0;t<i.length;t++){let r=i[t];if(!!n!=!!r.__hideTemplateChildren__)if(r.nodeType===Node.TEXT_NODE)n?(r.__polymerTextContent__=r.textContent,r.textContent=""):r.textContent=r.__polymerTextContent__;else if(r.localName==="slot")if(n)r.__polymerReplaced__=document.createComment("hidden-slot"),wrap$e(wrap$e(r).parentNode).replaceChild(r.__polymerReplaced__,r);else{const o=r.__polymerReplaced__;o&&wrap$e(wrap$e(o).parentNode).replaceChild(r,o)}else r.style&&(n?(r.__polymerDisplay__=r.style.display,r.style.display="none"):r.style.display=r.__polymerDisplay__);r.__hideTemplateChildren__=n,r._showHideChildren&&r._showHideChildren(n)}}class TemplateInstanceBase extends templateInstanceBase{constructor(i){super(),this._configureProperties(i),this.root=this._stampTemplate(this.__dataHost);let t=[];this.children=t;for(let o=this.root.firstChild;o;o=o.nextSibling)t.push(o),o.__templatizeInstance=this;this.__templatizeOwner&&this.__templatizeOwner.__hideTemplateChildren__&&this._showHideChildren(!0);let r=this.__templatizeOptions;(i&&r.instanceProps||!r.instanceProps)&&this._enableProperties()}_configureProperties(i){if(this.__templatizeOptions.forwardHostProp)for(let r in this.__hostProps)this._setPendingProperty(r,this.__dataHost["_host_"+r]);for(let r in i)this._setPendingProperty(r,i[r])}forwardHostProp(i,t){this._setPendingPropertyOrPath(i,t,!1,!0)&&this.__dataHost._enqueueClient(this)}_addEventListenerToNode(i,t,r){if(this._methodHost&&this.__templatizeOptions.parentModel)this._methodHost._addEventListenerToNode(i,t,o=>{o.model=this,r(o)});else{let o=this.__dataHost.__dataHost;o&&o._addEventListenerToNode(i,t,r)}}_showHideChildren(i){showHideChildren(i,this.children)}_setUnmanagedPropertyToNode(i,t,r){i.__hideTemplateChildren__&&i.nodeType==Node.TEXT_NODE&&t=="textContent"?i.__polymerTextContent__=r:super._setUnmanagedPropertyToNode(i,t,r)}get parentModel(){let i=this.__parentModel;if(!i){let t;i=this;do i=i.__dataHost.__dataHost;while((t=i.__templatizeOptions)&&!t.parentModel);this.__parentModel=i}return i}dispatchEvent(i){return!0}}TemplateInstanceBase.prototype.__dataHost;TemplateInstanceBase.prototype.__templatizeOptions;TemplateInstanceBase.prototype._methodHost;TemplateInstanceBase.prototype.__templatizeOwner;TemplateInstanceBase.prototype.__hostProps;const MutableTemplateInstanceBase=MutableData(TemplateInstanceBase);function findMethodHost(n){let i=n.__dataHost;return i&&i._methodHost||i}function createTemplatizerClass(n,i,t){let r=t.mutableData?MutableTemplateInstanceBase:TemplateInstanceBase;templatize.mixin&&(r=templatize.mixin(r));let o=class extends r{};return o.prototype.__templatizeOptions=t,o.prototype._bindTemplate(n),addNotifyEffects(o,n,i,t),o}function addPropagateEffects(n,i,t,r){let o=t.forwardHostProp;if(o&&i.hasHostProps){const a=n.localName=="template";let s=i.templatizeTemplateClass;if(!s){if(a){let c=t.mutableData?MutableDataTemplate:DataTemplate;class h extends c{}s=i.templatizeTemplateClass=h}else{const c=n.constructor;class h extends c{}s=i.templatizeTemplateClass=h}let l=i.hostProps;for(let c in l)s.prototype._addPropertyEffect("_host_"+c,s.prototype.PROPERTY_EFFECT_TYPES.PROPAGATE,{fn:createForwardHostPropEffect(c,o)}),s.prototype._createNotifyingProperty("_host_"+c);legacyWarnings&&r&&warnOnUndeclaredProperties(i,t,r)}if(n.__dataProto&&Object.assign(n.__data,n.__dataProto),a)upgradeTemplate(n,s),n.__dataTemp={},n.__dataPending=null,n.__dataOld=null,n._enableProperties();else{Object.setPrototypeOf(n,s.prototype);const l=i.hostProps;for(let c in l)if(c="_host_"+c,c in n){const h=n[c];delete n[c],n.__data[c]=h}}}}function createForwardHostPropEffect(n,i){return function(r,o,a){i.call(r.__templatizeOwner,o.substring(6),a[o])}}function addNotifyEffects(n,i,t,r){let o=t.hostProps||{};for(let a in r.instanceProps){delete o[a];let s=r.notifyInstanceProp;s&&n.prototype._addPropertyEffect(a,n.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:createNotifyInstancePropEffect(a,s)})}if(r.forwardHostProp&&i.__dataHost)for(let a in o)t.hasHostProps||(t.hasHostProps=!0),n.prototype._addPropertyEffect(a,n.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:createNotifyHostPropEffect()})}function createNotifyInstancePropEffect(n,i){return function(r,o,a){i.call(r.__templatizeOwner,r,o,a[o])}}function createNotifyHostPropEffect(){return function(i,t,r){i.__dataHost._setPendingPropertyOrPath("_host_"+t,r[t],!0,!0)}}function templatize(n,i,t){if(strictTemplatePolicy&&!findMethodHost(n))throw new Error("strictTemplatePolicy: template owner not trusted");if(t=t||{},n.__templatizeOwner)throw new Error("A <template> can only be templatized once");n.__templatizeOwner=i;let o=(i?i.constructor:TemplateInstanceBase)._parseTemplate(n),a=o.templatizeInstanceClass;a||(a=createTemplatizerClass(n,o,t),o.templatizeInstanceClass=a);const s=findMethodHost(n);addPropagateEffects(n,o,t,s);let l=class extends a{};return l.prototype._methodHost=s,l.prototype.__dataHost=n,l.prototype.__templatizeOwner=i,l.prototype.__hostProps=o.hostProps,l=l,l}function warnOnUndeclaredProperties(n,i,t){const r=t.constructor._properties,{propertyEffects:o}=n,{instanceProps:a}=i;for(let s in o)if(!r[s]&&!(a&&a[s])){const l=o[s];for(let c=0;c<l.length;c++){const{part:h}=l[c].info;if(!(h.signature&&h.signature.static)){console.warn(`Property '${s}' used in template but not declared in 'properties'; attribute will not be observed.`);break}}}}function modelForElement(n,i){let t;for(;i;)if(t=i.__dataHost?i:i.__templatizeInstance)if(t.__dataHost!=n)i=t.__dataHost;else return t;else i=wrap$e(i).parentNode;return null}/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/class DomIfBase extends PolymerElement{static get is(){return"dom-if"}static get template(){return null}static get properties(){return{if:{type:Boolean,observer:"__debounceRender"},restamp:{type:Boolean,observer:"__debounceRender"},notifyDomChange:{type:Boolean}}}constructor(){super(),this.__renderDebouncer=null,this._lastIf=!1,this.__hideTemplateChildren__=!1,this.__template,this._templateInfo}__debounceRender(){this.__renderDebouncer=Debouncer.debounce(this.__renderDebouncer,microTask$1,()=>this.__render()),enqueueDebouncer(this.__renderDebouncer)}disconnectedCallback(){super.disconnectedCallback();const i=wrap$e(this).parentNode;(!i||i.nodeType==Node.DOCUMENT_FRAGMENT_NODE&&!wrap$e(i).host)&&this.__teardownInstance()}connectedCallback(){super.connectedCallback(),hideElementsGlobally()||(this.style.display="none"),this.if&&this.__debounceRender()}__ensureTemplate(){if(!this.__template){const i=this;let t=i._templateInfo?i:wrap$e(i).querySelector("template");if(!t){let r=new MutationObserver(()=>{if(wrap$e(this).querySelector("template"))r.disconnect(),this.__render();else throw new Error("dom-if requires a <template> child")});return r.observe(this,{childList:!0}),!1}this.__template=t}return!0}__ensureInstance(){let i=wrap$e(this).parentNode;if(this.__hasInstance()){let t=this.__getInstanceNodes();if(t&&t.length&&wrap$e(this).previousSibling!==t[t.length-1])for(let o=0,a;o<t.length&&(a=t[o]);o++)wrap$e(i).insertBefore(a,this)}else{if(!i||!this.__ensureTemplate())return!1;this.__createAndInsertInstance(i)}return!0}render(){flush()}__render(){if(this.if){if(!this.__ensureInstance())return}else this.restamp&&this.__teardownInstance();this._showHideChildren(),(!suppressTemplateNotifications||this.notifyDomChange)&&this.if!=this._lastIf&&(this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0})),this._lastIf=this.if)}__hasInstance(){}__getInstanceNodes(){}__createAndInsertInstance(i){}__teardownInstance(){}_showHideChildren(){}}class DomIfFast extends DomIfBase{constructor(){super(),this.__instance=null,this.__syncInfo=null}__hasInstance(){return!!this.__instance}__getInstanceNodes(){return this.__instance.templateInfo.childNodes}__createAndInsertInstance(i){const t=this.__dataHost||this;if(strictTemplatePolicy&&!this.__dataHost)throw new Error("strictTemplatePolicy: template owner not trusted");const r=t._bindTemplate(this.__template,!0);r.runEffects=(o,a,s)=>{let l=this.__syncInfo;if(this.if)l&&(this.__syncInfo=null,this._showHideChildren(),a=Object.assign(l.changedProps,a)),o(a,s);else if(this.__instance)if(l||(l=this.__syncInfo={runEffects:o,changedProps:{}}),s)for(const c in a){const h=root(c);l.changedProps[h]=this.__dataHost[h]}else Object.assign(l.changedProps,a)},this.__instance=t._stampTemplate(this.__template,r),wrap$e(i).insertBefore(this.__instance,this)}__syncHostProperties(){const i=this.__syncInfo;i&&(this.__syncInfo=null,i.runEffects(i.changedProps,!1))}__teardownInstance(){const i=this.__dataHost||this;this.__instance&&(i._removeBoundDom(this.__instance),this.__instance=null,this.__syncInfo=null)}_showHideChildren(){const i=this.__hideTemplateChildren__||!this.if;this.__instance&&!!this.__instance.__hidden!==i&&(this.__instance.__hidden=i,showHideChildren(i,this.__instance.templateInfo.childNodes)),i||this.__syncHostProperties()}}class DomIfLegacy extends DomIfBase{constructor(){super(),this.__ctor=null,this.__instance=null,this.__invalidProps=null}__hasInstance(){return!!this.__instance}__getInstanceNodes(){return this.__instance.children}__createAndInsertInstance(i){this.__ctor||(this.__ctor=templatize(this.__template,this,{mutableData:!0,forwardHostProp:function(t,r){this.__instance&&(this.if?this.__instance.forwardHostProp(t,r):(this.__invalidProps=this.__invalidProps||Object.create(null),this.__invalidProps[root(t)]=!0))}})),this.__instance=new this.__ctor,wrap$e(i).insertBefore(this.__instance.root,this)}__teardownInstance(){if(this.__instance){let i=this.__instance.children;if(i&&i.length){let t=wrap$e(i[0]).parentNode;if(t){t=wrap$e(t);for(let r=0,o;r<i.length&&(o=i[r]);r++)t.removeChild(o)}}this.__invalidProps=null,this.__instance=null}}__syncHostProperties(){let i=this.__invalidProps;if(i){this.__invalidProps=null;for(let t in i)this.__instance._setPendingProperty(t,this.__dataHost[t]);this.__instance._flushProperties()}}_showHideChildren(){const i=this.__hideTemplateChildren__||!this.if;this.__instance&&!!this.__instance.__hidden!==i&&(this.__instance.__hidden=i,this.__instance._showHideChildren(i)),i||this.__syncHostProperties()}}const DomIf=fastDomIf?DomIfFast:DomIfLegacy;customElements.define(DomIf.is,DomIf);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const notifyChildrenConnectedChanged=(n,i)=>{var r;const t=n._$disconnectableChildren;if(t===void 0)return!1;for(const o of t)(r=o._$notifyDirectiveConnectionChanged)==null||r.call(o,i,!1),notifyChildrenConnectedChanged(o,i);return!0},removeDisconnectableFromParent=n=>{let i,t;do{if((i=n._$parent)===void 0)break;t=i._$disconnectableChildren,t.delete(n),n=i}while((t==null?void 0:t.size)===0)},addDisconnectableToParent=n=>{for(let i;i=n._$parent;n=i){let t=i._$disconnectableChildren;if(t===void 0)i._$disconnectableChildren=t=new Set;else if(t.has(n))break;t.add(n),installDisconnectAPI(i)}};function reparentDisconnectables(n){this._$disconnectableChildren!==void 0?(removeDisconnectableFromParent(this),this._$parent=n,addDisconnectableToParent(this)):this._$parent=n}function notifyChildPartConnectedChanged(n,i=!1,t=0){const r=this._$committedValue,o=this._$disconnectableChildren;if(!(o===void 0||o.size===0))if(i)if(Array.isArray(r))for(let a=t;a<r.length;a++)notifyChildrenConnectedChanged(r[a],!1),removeDisconnectableFromParent(r[a]);else r!=null&&(notifyChildrenConnectedChanged(r,!1),removeDisconnectableFromParent(r));else notifyChildrenConnectedChanged(this,n)}const installDisconnectAPI=n=>{n.type==PartType.CHILD&&(n._$notifyConnectionChanged??(n._$notifyConnectionChanged=notifyChildPartConnectedChanged),n._$reparentDisconnectables??(n._$reparentDisconnectables=reparentDisconnectables))};class AsyncDirective extends Directive{constructor(){super(...arguments),this._$disconnectableChildren=void 0}_$initialize(i,t,r){super._$initialize(i,t,r),addDisconnectableToParent(this),this.isConnected=i._$isConnected}_$notifyDirectiveConnectionChanged(i,t=!0){var r,o;i!==this.isConnected&&(this.isConnected=i,i?(r=this.reconnected)==null||r.call(this):(o=this.disconnected)==null||o.call(this)),t&&(notifyChildrenConnectedChanged(this,i),removeDisconnectableFromParent(this))}setValue(i){if(isSingleExpression(this.__part))this.__part._$setValue(i,this);else{if(this.__attributeIndex===void 0)throw new Error("Expected this.__attributeIndex to be a number");const t=[...this.__part._$committedValue];t[this.__attributeIndex]=i,this.__part._$setValue(t,this,0)}}disconnected(){}reconnected(){}}class FlowComponentDirective extends AsyncDirective{constructor(i){if(super(i),i.type!==PartType.CHILD)throw new Error(`${this.constructor.directiveName}() can only be used in child bindings`)}update(i,[t,r]){return this.updateContent(i,t,r),noChange}updateContent(i,t,r){const{parentNode:o,startNode:a}=i,s=r!=null,l=s?this.getNewNode(t,r):null,c=this.getOldNode(i);if(clearTimeout(this.__nodeRetryTimeout),s&&!l)this.__nodeRetryTimeout=setTimeout(()=>this.updateContent(i,t,r));else{if(c===l)return;c&&l?o.replaceChild(l,c):c?o.removeChild(c):l&&a.after(l)}}getNewNode(i,t){return window.Vaadin.Flow.clients[i].getByNodeId(t)}getOldNode(i){const{startNode:t,endNode:r}=i;if(t.nextSibling!==r)return t.nextSibling}disconnected(){clearTimeout(this.__nodeRetryTimeout)}}const flowComponentDirective=directive(FlowComponentDirective);function getNode(n,i){return flowComponentDirective(n,i)}function setChildNodes(n,i,t){render$1(html$1`${i.map(r=>flowComponentDirective(n,r))}`,t)}function patchVirtualContainer(n){const i=n.insertBefore;n.insertBefore=function(t,r){return r&&r.parentNode===this?i.call(this,t,r):i.call(this,t,null)}}window.Vaadin||(window.Vaadin={});var Zt;(Zt=window.Vaadin).FlowComponentHost||(Zt.FlowComponentHost={patchVirtualContainer,getNode,setChildNodes});class FlowComponentRenderer extends PolymerElement{static get template(){return html`
      <style>
        :host {
          animation: 1ms flow-component-renderer-appear;
        }

        @keyframes flow-component-renderer-appear {
          to {
            opacity: 1;
          }
        }
      </style>
      <slot></slot>
    `}static get is(){return"flow-component-renderer"}static get properties(){return{nodeid:Number,appid:String}}static get observers(){return["_attachRenderedComponentIfAble(appid, nodeid)"]}ready(){super.ready(),this.addEventListener("click",function(i){this.firstChild&&typeof this.firstChild.click=="function"&&i.target===this&&(i.stopPropagation(),this.firstChild.click())}),this.addEventListener("animationend",this._onAnimationEnd)}_asyncAttachRenderedComponentIfAble(){this._debouncer=Debouncer.debounce(this._debouncer,idlePeriod,()=>this._attachRenderedComponentIfAble())}_attachRenderedComponentIfAble(){if(this.appid==null)return;if(this.nodeid==null){this.firstChild&&this.removeChild(this.firstChild);return}const i=this._getRenderedComponent();this.firstChild?i?this.firstChild!==i?(this.replaceChild(i,this.firstChild),this._defineFocusTarget(),this.onComponentRendered()):(this._defineFocusTarget(),this.onComponentRendered()):this._asyncAttachRenderedComponentIfAble():i?(this.appendChild(i),this._defineFocusTarget(),this.onComponentRendered()):this._asyncAttachRenderedComponentIfAble()}_getRenderedComponent(){try{return window.Vaadin.Flow.clients[this.appid].getByNodeId(this.nodeid)}catch(i){console.error("Could not get node %s from app %s",this.nodeid,this.appid),console.error(i)}return null}onComponentRendered(){}_defineFocusTarget(){var i=this._getFirstFocusableDescendant(this.firstChild);i!==null&&i.setAttribute("focus-target","true")}_getFirstFocusableDescendant(i){if(this._isFocusable(i))return i;if(i.hasAttribute&&(i.hasAttribute("disabled")||i.hasAttribute("hidden"))||!i.children)return null;for(var t=0;t<i.children.length;t++){var r=this._getFirstFocusableDescendant(i.children[t]);if(r!==null)return r}return null}_isFocusable(i){return i.hasAttribute&&typeof i.hasAttribute=="function"&&(i.hasAttribute("disabled")||i.hasAttribute("hidden"))?!1:i.tabIndex===0}_onAnimationEnd(i){i.animationName.indexOf("flow-component-renderer-appear")===0&&this._attachRenderedComponentIfAble()}}window.customElements.define(FlowComponentRenderer.is,FlowComponentRenderer);(function(){const n=function(i){return window.Vaadin.Flow.tryCatchWrapper(i,"Vaadin Combo Box")};window.Vaadin.Flow.comboBoxConnector={initLazy:i=>n(function(t){if(t.$connector)return;t.$connector={};const r={};let o={},a="";const s=new window.Vaadin.ComboBoxPlaceholder,l=(()=>{let d="",f=!1;return{needsDataCommunicatorReset:()=>f=!0,getLastFilterSentToServer:()=>d,requestData:(v,_,y)=>{const b=_-v,x=y.filter;t.$server.setRequestedRange(v,b,x),d=x,f&&(t.$server.resetDataCommunicator(),f=!1)}}})(),c=(d=Object.keys(r))=>{d.forEach(f=>{r[f]([],t.size),delete r[f];const p=parseInt(f)*t.pageSize,m=p+t.pageSize,g=Math.min(m,t.filteredItems.length);for(let v=p;v<g;v++)t.filteredItems[v]=s})};t.dataProvider=function(d,f){if(d.pageSize!=t.pageSize)throw"Invalid pageSize";if(t._clientSideFilter)if(o[0]){u(o[0],d.filter,f);return}else d.filter="";if(d.filter!==a){o={},a=d.filter,this._filterDebouncer=Debouncer.debounce(this._filterDebouncer,timeOut$1.after(500),()=>{if(l.getLastFilterSentToServer()===d.filter&&l.needsDataCommunicatorReset(),d.filter!==a)throw new Error("Expected params.filter to be '"+a+"' but was '"+d.filter+"'");this._filterDebouncer=void 0,c(),t.dataProvider(d,f)});return}if(this._filterDebouncer){r[d.page]=f;return}if(o[d.page])h(d.page,f);else{r[d.page]=f;const m=Math.max(d.pageSize*2,500),g=Object.keys(r).map(y=>parseInt(y)),v=Math.min(...g),_=Math.max(...g);if(g.length*d.pageSize>m)d.page===v?c([String(_)]):c([String(v)]),t.dataProvider(d,f);else if(_-v+1!==g.length)c();else{const y=d.pageSize*v,b=d.pageSize*(_+1);l.requestData(y,b,d)}}},t.$connector.clear=n((d,f)=>{const p=Math.floor(d/t.pageSize),m=Math.ceil(f/t.pageSize);for(let g=p;g<p+m;g++)delete o[g]}),t.$connector.filter=n(function(d,f){return f=f?f.toString().toLowerCase():"",t._getItemLabel(d,t.itemLabelPath).toString().toLowerCase().indexOf(f)>-1}),t.$connector.set=n(function(d,f,p){if(p!=l.getLastFilterSentToServer())return;if(d%t.pageSize!=0)throw"Got new data to index "+d+" which is not aligned with the page size of "+t.pageSize;if(d===0&&f.length===0&&r[0]){o[0]=[];return}const m=d/t.pageSize,g=Math.ceil(f.length/t.pageSize);for(let v=0;v<g;v++){let _=m+v,y=f.slice(v*t.pageSize,(v+1)*t.pageSize);o[_]=y}}),t.$connector.updateData=n(function(d){const f=new Map(d.map(p=>[p.key,p]));t.filteredItems=t.filteredItems.map(p=>f.get(p.key)||p)}),t.$connector.updateSize=n(function(d){t._clientSideFilter||(t.size=d)}),t.$connector.reset=n(function(){c(),o={},t.clearCache()}),t.$connector.confirm=n(function(d,f){if(f!=l.getLastFilterSentToServer())return;let p=Object.getOwnPropertyNames(r);for(let m=0;m<p.length;m++){let g=p[m];o[g]&&h(g,r[g])}t.$server.confirmUpdate(d)});const h=n(function(d,f){let p=o[d];t._clientSideFilter?u(p,t.filter,f):(delete o[d],f(p,t.size))}),u=n(function(d,f,p){let m=d;f&&(m=d.filter(g=>t.$connector.filter(g,f))),p(m,m.length)});t.addEventListener("custom-value-set",n(d=>d.preventDefault()))})(i)}})();window.Vaadin.ComboBoxPlaceholder=ComboBoxPlaceholder;registerStyles$1("vaadin-overlay",overlay,{moduleId:"lumo-vaadin-overlay"});/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-overlay",overlayStyles,{moduleId:"vaadin-overlay-styles"});class Overlay extends OverlayMixin(ThemableMixin(DirMixin(PolymerElement))){static get template(){return html`
      <div id="backdrop" part="backdrop" hidden$="[[!withBackdrop]]"></div>
      <div part="overlay" id="overlay" tabindex="0">
        <div part="content" id="content">
          <slot></slot>
        </div>
      </div>
    `}static get is(){return"vaadin-overlay"}ready(){super.ready(),processTemplates(this)}}defineCustomElement(Overlay);/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const chip=css$e`
  :host {
    font-size: var(--lumo-font-size-xxs);
    line-height: 1;
    color: var(--lumo-body-text-color);
    border-radius: var(--lumo-border-radius-s);
    background-color: var(--lumo-contrast-20pct);
    cursor: var(--lumo-clickable-cursor);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  :host([focused]) [part='remove-button'] {
    color: inherit;
  }

  :host([slot='overflow']) {
    position: relative;
    min-width: var(--lumo-size-xxs);
    margin-inline-start: var(--lumo-space-s);
  }

  :host([slot='overflow'])::before,
  :host([slot='overflow'])::after {
    position: absolute;
    content: '';
    width: 100%;
    height: 100%;
    border-left: calc(var(--lumo-space-s) / 4) solid;
    border-radius: var(--lumo-border-radius-s);
    border-color: var(--lumo-contrast-30pct);
  }

  :host([slot='overflow'])::before {
    left: calc(-1 * var(--lumo-space-s) / 2);
  }

  :host([slot='overflow'])::after {
    left: calc(-1 * var(--lumo-space-s));
  }

  :host([count='2']) {
    margin-inline-start: calc(var(--lumo-space-s) / 2);
  }

  :host([count='2'])::after {
    display: none;
  }

  :host([count='1']) {
    margin-inline-start: 0;
  }

  :host([count='1'])::before,
  :host([count='1'])::after {
    display: none;
  }

  [part='label'] {
    font-weight: 500;
    line-height: 1.25;
  }

  [part='remove-button'] {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-top: -0.3125em;
    margin-bottom: -0.3125em;
    margin-inline-start: auto;
    width: 1.25em;
    height: 1.25em;
    font-size: 1.5em;
    transition: none;
  }

  [part='remove-button']::before {
    content: var(--lumo-icons-cross);
  }

  :host([disabled]) [part='label'] {
    color: var(--lumo-disabled-text-color);
    -webkit-text-fill-color: var(--lumo-disabled-text-color);
    pointer-events: none;
  }
`;registerStyles$1("vaadin-multi-select-combo-box-chip",[fieldButton,chip],{moduleId:"lumo-multi-select-combo-box-chip"});/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const multiSelectComboBoxItem=css$e`
  @media (any-hover: hover) {
    :host(:hover[readonly]) {
      background-color: transparent;
      cursor: default;
    }
  }
`;registerStyles$1("vaadin-multi-select-combo-box-item",[item,comboBoxItem,multiSelectComboBoxItem],{moduleId:"lumo-multi-select-combo-box-item"});registerStyles$1("vaadin-multi-select-combo-box-overlay",[overlay,menuOverlayCore,comboBoxOverlay,loader,comboBoxLoader,css$e`
      :host {
        --_vaadin-multi-select-combo-box-items-container-border-width: var(--lumo-space-xs);
        --_vaadin-multi-select-combo-box-items-container-border-style: solid;
      }
    `],{moduleId:"lumo-multi-select-combo-box-overlay"});registerStyles$1("vaadin-multi-select-combo-box-container",css$e`
    :host([auto-expand-vertically]) {
      padding-block: var(--lumo-space-xs);
    }
  `,{moduleId:"lumo-multi-select-combo-box-container"});const multiSelectComboBox$1=css$e`
  :host([has-value]) {
    padding-inline-start: 0;
  }

  :host([has-value]) ::slotted(input:placeholder-shown) {
    caret-color: var(--lumo-body-text-color) !important;
  }

  [part='label'] {
    flex-shrink: 0;
  }

  /* Override input-container styles */
  ::slotted([slot='chip']),
  ::slotted([slot='overflow']) {
    min-height: auto;
    padding: 0.3125em calc(0.5em + var(--lumo-border-radius-s) / 4);
    color: var(--lumo-body-text-color);
    -webkit-mask-image: none;
    mask-image: none;
  }

  :host([auto-expand-vertically]) ::slotted([slot='chip']) {
    margin-block: calc(var(--lumo-space-xs) / 2);
  }

  ::slotted([slot='chip']:not([readonly]):not([disabled])) {
    padding-inline-end: 0;
  }

  :host([auto-expand-vertically]) ::slotted([slot='input']) {
    min-height: calc(var(--lumo-text-field-size, var(--lumo-size-m)) - 2 * var(--lumo-space-xs));
  }

  ::slotted([slot='chip']:not(:last-of-type)),
  ::slotted([slot='overflow']:not(:last-of-type)) {
    margin-inline-end: var(--lumo-space-xs);
  }

  ::slotted([slot='chip'][focused]) {
    background-color: var(--vaadin-selection-color, var(--lumo-primary-color));
    color: var(--lumo-primary-contrast-color);
  }

  [part='toggle-button']::before {
    content: var(--lumo-icons-dropdown);
  }

  :host([readonly][has-value]) [part='toggle-button'] {
    color: var(--lumo-contrast-60pct);
    cursor: var(--lumo-clickable-cursor);
  }
`;registerStyles$1("vaadin-multi-select-combo-box",[inputFieldShared,multiSelectComboBox$1],{moduleId:"lumo-multi-select-combo-box"});/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class MultiSelectComboBoxChip extends ThemableMixin(PolymerElement){static get is(){return"vaadin-multi-select-combo-box-chip"}static get properties(){return{disabled:{type:Boolean,reflectToAttribute:!0},readonly:{type:Boolean,reflectToAttribute:!0},label:{type:String},item:{type:Object}}}static get template(){return html`
      <style>
        :host {
          display: inline-flex;
          align-items: center;
          align-self: center;
          white-space: nowrap;
          box-sizing: border-box;
        }

        [part='label'] {
          overflow: hidden;
          text-overflow: ellipsis;
        }

        :host([hidden]),
        :host(:is([readonly], [disabled], [slot='overflow'])) [part='remove-button'] {
          display: none !important;
        }

        @media (forced-colors: active) {
          :host {
            outline: 1px solid;
            outline-offset: -1px;
          }
        }
      </style>
      <div part="label">[[label]]</div>
      <div part="remove-button" on-click="_onRemoveClick"></div>
    `}_onRemoveClick(i){i.stopPropagation(),this.dispatchEvent(new CustomEvent("item-removed",{detail:{item:this.item},bubbles:!0,composed:!0}))}}defineCustomElement(MultiSelectComboBoxChip);/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-multi-select-combo-box-container",css$e`
    #wrapper {
      display: flex;
      width: 100%;
      min-width: 0;
    }

    :host([auto-expand-vertically]) #wrapper {
      flex-wrap: wrap;
    }
  `,{moduleId:"vaadin-multi-select-combo-box-container-styles"});let memoizedTemplate$2;class MultiSelectComboBoxContainer extends InputContainer{static get is(){return"vaadin-multi-select-combo-box-container"}static get template(){if(!memoizedTemplate$2){memoizedTemplate$2=super.template.cloneNode(!0);const i=memoizedTemplate$2.content,t=i.querySelectorAll("slot"),r=document.createElement("div");r.setAttribute("id","wrapper"),i.insertBefore(r,t[2]),r.appendChild(t[0]),r.appendChild(t[1])}return memoizedTemplate$2}static get properties(){return{autoExpandVertically:{type:Boolean,reflectToAttribute:!0}}}}defineCustomElement(MultiSelectComboBoxContainer);/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class MultiSelectComboBoxItem extends ComboBoxItemMixin(ThemableMixin(DirMixin(PolymerElement))){static get is(){return"vaadin-multi-select-combo-box-item"}static get template(){return html`
      <style>
        :host {
          display: block;
        }

        :host([hidden]) {
          display: none !important;
        }
      </style>
      <span part="checkmark" aria-hidden="true"></span>
      <div part="content">
        <slot></slot>
      </div>
    `}}defineCustomElement(MultiSelectComboBoxItem);/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-multi-select-combo-box-overlay",css$e`
    #overlay {
      width: var(
        --vaadin-multi-select-combo-box-overlay-width,
        var(--_vaadin-multi-select-combo-box-overlay-default-width, auto)
      );
    }

    [part='content'] {
      display: flex;
      flex-direction: column;
      height: 100%;
    }
  `,{moduleId:"vaadin-multi-select-combo-box-overlay-styles"});let memoizedTemplate$1;class MultiSelectComboBoxOverlay extends ComboBoxOverlayMixin(Overlay){static get is(){return"vaadin-multi-select-combo-box-overlay"}static get template(){if(!memoizedTemplate$1){memoizedTemplate$1=super.template.cloneNode(!0);const i=memoizedTemplate$1.content.querySelector('[part~="overlay"]');i.removeAttribute("tabindex");const t=document.createElement("div");t.setAttribute("part","loader"),i.insertBefore(t,i.firstElementChild)}return memoizedTemplate$1}}defineCustomElement(MultiSelectComboBoxOverlay);/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class MultiSelectComboBoxScroller extends ComboBoxScrollerMixin(PolymerElement){static get is(){return"vaadin-multi-select-combo-box-scroller"}static get template(){return html`
      <style>
        :host {
          display: block;
          min-height: 1px;
          overflow: auto;

          /* Fixes item background from getting on top of scrollbars on Safari */
          transform: translate3d(0, 0, 0);

          /* Enable momentum scrolling on iOS */
          -webkit-overflow-scrolling: touch;

          /* Fixes scrollbar disappearing when 'Show scroll bars: Always' enabled in Safari */
          box-shadow: 0 0 0 white;
        }

        #selector {
          border-width: var(--_vaadin-multi-select-combo-box-items-container-border-width);
          border-style: var(--_vaadin-multi-select-combo-box-items-container-border-style);
          border-color: var(--_vaadin-multi-select-combo-box-items-container-border-color, transparent);
          position: relative;
        }
      </style>
      <div id="selector">
        <slot></slot>
      </div>
    `}ready(){super.ready(),this.setAttribute("aria-multiselectable","true")}_isItemSelected(i,t,r){return i instanceof ComboBoxPlaceholder||this.owner.readonly?!1:this.owner._findIndex(i,this.owner.selectedItems,r)>-1}_updateElement(i,t){super._updateElement(i,t),i.toggleAttribute("readonly",this.owner.readonly)}}defineCustomElement(MultiSelectComboBoxScroller);/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class MultiSelectComboBoxInternal extends ComboBoxDataProviderMixin(ComboBoxMixin(ThemableMixin(PolymerElement))){static get is(){return"vaadin-multi-select-combo-box-internal"}static get template(){return html`
      <style>
        :host([opened]) {
          pointer-events: auto;
        }
      </style>

      <slot></slot>

      <vaadin-multi-select-combo-box-overlay
        id="overlay"
        opened="[[_overlayOpened]]"
        loading$="[[loading]]"
        theme$="[[_theme]]"
        position-target="[[_target]]"
        no-vertical-overlap
        restore-focus-node="[[inputElement]]"
      ></vaadin-multi-select-combo-box-overlay>
    `}static get properties(){return{filteredItems:{type:Array,notify:!0},loading:{type:Boolean,notify:!0},size:{type:Number,notify:!0},selectedItems:{type:Array,value:()=>[]},selectedItemsOnTop:{type:Boolean,value:!1},lastFilter:{type:String,notify:!0},topGroup:{type:Array,observer:"_topGroupChanged"},_target:{type:Object}}}get clearElement(){return this.querySelector('[part="clear-button"]')}get _tagNamePrefix(){return"vaadin-multi-select-combo-box"}open(){!this.disabled&&!(this.readonly&&this.selectedItems.length===0)&&(this.opened=!0)}ready(){super.ready(),this._target=this,this._toggleElement=this.querySelector(".toggle-button")}_setDropdownItems(i){if(this.readonly){this._dropdownItems=this.selectedItems;return}if(this.filter||!this.selectedItemsOnTop){this._dropdownItems=i;return}if(i&&i.length&&this.topGroup&&this.topGroup.length){const t=i.filter(r=>this._comboBox._findIndex(r,this.topGroup,this.itemIdPath)===-1);this._dropdownItems=this.topGroup.concat(t);return}this._dropdownItems=i}_topGroupChanged(i){i&&this._setDropdownItems(this.filteredItems)}_initScroller(){const i=this.getRootNode().host;this._comboBox=i,super._initScroller(i)}_onEnter(i){if(this.opened){if(i.preventDefault(),i.stopPropagation(),this.readonly)this.close();else{const t=this._dropdownItems[this._focusedIndex];this._commitValue(),this._focusedIndex=this._dropdownItems.indexOf(t)}return}super._onEnter(i)}_onEscape(i){if(this.readonly){i.stopPropagation(),this.opened&&this.close();return}super._onEscape(i)}_commitValue(){this.lastFilter=this.filter,super._commitValue()}_onArrowDown(){this.readonly?this.opened||this.open():super._onArrowDown()}_onArrowUp(){this.readonly?this.opened||this.open():super._onArrowUp()}_setFocused(i){i||(this._ignoreCommitValue=!0),super._setFocused(i),!i&&this.readonly&&!this._closeOnBlurIsPrevented&&this.close()}_detectAndDispatchChange(){if(this._ignoreCommitValue){this._ignoreCommitValue=!1,this.selectedItem=null,this._inputElementValue="";return}super._detectAndDispatchChange()}_overlaySelectedItemChanged(i){i.stopPropagation(),!this.readonly&&(i.detail.item instanceof ComboBoxPlaceholder||this.opened&&this.dispatchEvent(new CustomEvent("combo-box-item-selected",{detail:{item:i.detail.item}})))}_shouldLoadPage(i){return this.readonly?!1:super._shouldLoadPage(i)}clearCache(){this.readonly||super.clearCache()}}defineCustomElement(MultiSelectComboBoxInternal);/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const multiSelectComboBox=css$e`
  :host {
    --input-min-width: var(--vaadin-multi-select-combo-box-input-min-width, 4em);
    --_chip-min-width: var(--vaadin-multi-select-combo-box-chip-min-width, 50px);
  }

  #chips {
    display: flex;
    align-items: center;
  }

  ::slotted(input) {
    box-sizing: border-box;
    flex: 1 0 var(--input-min-width);
  }

  ::slotted([slot='chip']),
  ::slotted([slot='overflow']) {
    flex: 0 1 auto;
  }

  ::slotted([slot='chip']) {
    overflow: hidden;
  }

  :host(:is([readonly], [disabled])) ::slotted(input) {
    flex-grow: 0;
    flex-basis: 0;
    padding: 0;
  }

  :host([auto-expand-vertically]) #chips {
    display: contents;
  }

  :host([auto-expand-horizontally]) [class$='container'] {
    width: auto;
  }
`;registerStyles$1("vaadin-multi-select-combo-box",[inputFieldShared$1,multiSelectComboBox],{moduleId:"vaadin-multi-select-combo-box-styles"});class MultiSelectComboBox extends ResizeMixin(InputControlMixin(ThemableMixin(ElementMixin(PolymerElement)))){static get is(){return"vaadin-multi-select-combo-box"}static get template(){return html`
      <div class="vaadin-multi-select-combo-box-container">
        <div part="label">
          <slot name="label"></slot>
          <span part="required-indicator" aria-hidden="true" on-click="focus"></span>
        </div>

        <vaadin-multi-select-combo-box-internal
          id="comboBox"
          items="[[__effectiveItems]]"
          item-id-path="[[itemIdPath]]"
          item-label-path="[[itemLabelPath]]"
          item-value-path="[[itemValuePath]]"
          disabled="[[disabled]]"
          readonly="[[readonly]]"
          auto-open-disabled="[[autoOpenDisabled]]"
          allow-custom-value="[[allowCustomValue]]"
          overlay-class="[[overlayClass]]"
          data-provider="[[dataProvider]]"
          filter="{{filter}}"
          last-filter="{{_lastFilter}}"
          loading="{{loading}}"
          size="{{size}}"
          filtered-items="[[__effectiveFilteredItems]]"
          selected-items="[[selectedItems]]"
          selected-items-on-top="[[selectedItemsOnTop]]"
          top-group="[[_topGroup]]"
          opened="{{opened}}"
          renderer="[[renderer]]"
          theme$="[[_theme]]"
          on-combo-box-item-selected="_onComboBoxItemSelected"
          on-change="_onComboBoxChange"
          on-custom-value-set="_onCustomValueSet"
          on-filtered-items-changed="_onFilteredItemsChanged"
        >
          <vaadin-multi-select-combo-box-container
            part="input-field"
            auto-expand-vertically="[[autoExpandVertically]]"
            readonly="[[readonly]]"
            disabled="[[disabled]]"
            invalid="[[invalid]]"
            theme$="[[_theme]]"
          >
            <slot name="overflow" slot="prefix"></slot>
            <div id="chips" part="chips" slot="prefix">
              <slot name="chip"></slot>
            </div>
            <slot name="input"></slot>
            <div
              id="clearButton"
              part="clear-button"
              slot="suffix"
              on-touchend="_onClearButtonTouchend"
              aria-hidden="true"
            ></div>
            <div id="toggleButton" class="toggle-button" part="toggle-button" slot="suffix" aria-hidden="true"></div>
          </vaadin-multi-select-combo-box-container>
        </vaadin-multi-select-combo-box-internal>

        <div part="helper-text">
          <slot name="helper"></slot>
        </div>

        <div part="error-message">
          <slot name="error-message"></slot>
        </div>
      </div>

      <slot name="tooltip"></slot>
    `}static get properties(){return{autoExpandHorizontally:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_autoExpandHorizontallyChanged"},autoExpandVertically:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_autoExpandVerticallyChanged"},autoOpenDisabled:Boolean,clearButtonVisible:{type:Boolean,reflectToAttribute:!0,observer:"_clearButtonVisibleChanged",value:!1},items:{type:Array},itemLabelPath:{type:String,value:"label"},itemValuePath:{type:String,value:"value"},itemIdPath:{type:String},i18n:{type:Object,value:()=>({cleared:"Selection cleared",focused:"focused. Press Backspace to remove",selected:"added to selection",deselected:"removed from selection",total:"{count} items selected"})},loading:{type:Boolean,value:!1,reflectToAttribute:!0},overlayClass:{type:String},readonly:{type:Boolean,value:!1,observer:"_readonlyChanged",reflectToAttribute:!0},selectedItems:{type:Array,value:()=>[],notify:!0},opened:{type:Boolean,notify:!0,value:!1,reflectToAttribute:!0},size:{type:Number},pageSize:{type:Number,value:50,observer:"_pageSizeChanged"},dataProvider:{type:Object},allowCustomValue:{type:Boolean,value:!1},placeholder:{type:String,value:"",observer:"_placeholderChanged"},renderer:Function,filter:{type:String,value:"",notify:!0},filteredItems:Array,selectedItemsOnTop:{type:Boolean,value:!1},value:{type:String},__effectiveItems:{type:Array,computed:"__computeEffectiveItems(items, selectedItems, readonly)"},__effectiveFilteredItems:{type:Array,computed:"__computeEffectiveFilteredItems(items, filteredItems, selectedItems, readonly)"},_overflowItems:{type:Array,value:()=>[]},_focusedChipIndex:{type:Number,value:-1,observer:"_focusedChipIndexChanged"},_lastFilter:{type:String},_topGroup:{type:Array}}}static get observers(){return["_selectedItemsChanged(selectedItems, selectedItems.*)","__updateOverflowChip(_overflow, _overflowItems, disabled, readonly)","__updateTopGroup(selectedItemsOnTop, selectedItems, opened)"]}get slotStyles(){const i=this.localName;return[...super.slotStyles,`
        ${i}[has-value] input::placeholder {
          color: transparent !important;
          forced-color-adjust: none;
        }
      `]}get clearElement(){return this.$.clearButton}get _chips(){return[...this.querySelectorAll('[slot="chip"]')]}get _hasValue(){return this.selectedItems&&this.selectedItems.length>0}ready(){super.ready(),this.addController(new InputController(this,i=>{this._setInputElement(i),this._setFocusElement(i),this.stateTarget=i,this.ariaTarget=i})),this.addController(new LabelledInputController(this.inputElement,this._labelController)),this._tooltipController=new TooltipController(this),this.addController(this._tooltipController),this._tooltipController.setPosition("top"),this._tooltipController.setAriaTarget(this.inputElement),this._tooltipController.setShouldShow(i=>!i.opened),this._inputField=this.shadowRoot.querySelector('[part="input-field"]'),this._overflowController=new SlotController(this,"overflow","vaadin-multi-select-combo-box-chip",{initializer:i=>{i.addEventListener("mousedown",t=>this._preventBlur(t)),this._overflow=i}}),this.addController(this._overflowController),this.__updateChips(),processTemplates(this)}checkValidity(){return this.required&&!this.readonly?this._hasValue:!0}clear(){this.__updateSelection([]),announce(this.i18n.cleared)}clearCache(){this.$&&this.$.comboBox&&this.$.comboBox.clearCache()}requestContentUpdate(){this.$&&this.$.comboBox&&this.$.comboBox.requestContentUpdate()}_disabledChanged(i,t){super._disabledChanged(i,t),(i||t)&&this.__updateChips()}_inputElementChanged(i){super._inputElementChanged(i),i&&this.$.comboBox._setInputElement(i)}_setFocused(i){super._setFocused(i),!i&&document.hasFocus()&&(this._focusedChipIndex=-1,this.validate())}_onResize(){this.__updateChips()}_delegateAttribute(i,t){if(this.stateTarget){if(i==="required"){this._delegateAttribute("aria-required",t?"true":!1);return}super._delegateAttribute(i,t)}}_autoExpandHorizontallyChanged(i,t){(i||t)&&this.__updateChips()}_autoExpandVerticallyChanged(i,t){(i||t)&&this.__updateChips()}_clearButtonVisibleChanged(i,t){(i||t)&&this.__updateChips()}_onFilteredItemsChanged(i){const{value:t}=i.detail;(Array.isArray(t)||t==null)&&(this.filteredItems=t)}_readonlyChanged(i,t){(i||t)&&this.__updateChips(),this.dataProvider&&this.clearCache()}_pageSizeChanged(i,t){(Math.floor(i)!==i||i<=0)&&(this.pageSize=t,console.error('"pageSize" value must be an integer > 0')),this.$.comboBox.pageSize=this.pageSize}_placeholderChanged(i){const t=this.__tmpA11yPlaceholder;t!==i&&(this.__savedPlaceholder=i,t&&(this.placeholder=t))}_selectedItemsChanged(i){if(this._toggleHasValue(this._hasValue),this._hasValue){const t=this._mergeItemLabels(i);this.__tmpA11yPlaceholder=t,this.placeholder=t}else delete this.__tmpA11yPlaceholder,this.placeholder=this.__savedPlaceholder;this.__updateChips(),this.requestContentUpdate(),this.opened&&this.$.comboBox.$.overlay._updateOverlayWidth()}_getItemLabel(i){return this.$.comboBox._getItemLabel(i)}_mergeItemLabels(i){return i.map(t=>this._getItemLabel(t)).join(", ")}_findIndex(i,t,r){if(r&&i){for(let o=0;o<t.length;o++)if(t[o]&&t[o][r]===i[r])return o;return-1}return t.indexOf(i)}__clearFilter(){this.filter="",this.$.comboBox.clear()}__announceItem(i,t,r){const o=t?"selected":"deselected",a=this.i18n.total.replace("{count}",r||0);announce(`${i} ${this.i18n[o]} ${a}`)}__removeItem(i){const t=[...this.selectedItems];t.splice(t.indexOf(i),1),this.__updateSelection(t);const r=this._getItemLabel(i);this.__announceItem(r,!1,t.length)}__selectItem(i){const t=[...this.selectedItems],r=this._findIndex(i,t,this.itemIdPath),o=this._getItemLabel(i);let a=!1;if(r!==-1){const s=this._lastFilter;if(s&&s.toLowerCase()===o.toLowerCase()){this.__clearFilter();return}t.splice(r,1)}else t.push(i),a=!0;this.__updateSelection(t),this.__clearFilter(),this.__announceItem(o,a,t.length)}__updateSelection(i){this.selectedItems=i,this.validate(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}__updateTopGroup(i,t,r){i?r||(this._topGroup=[...t]):this._topGroup=[]}__createChip(i){const t=document.createElement("vaadin-multi-select-combo-box-chip");t.setAttribute("slot","chip"),t.item=i,t.disabled=this.disabled,t.readonly=this.readonly;const r=this._getItemLabel(i);return t.label=r,t.setAttribute("title",r),t.addEventListener("item-removed",o=>this._onItemRemoved(o)),t.addEventListener("mousedown",o=>this._preventBlur(o)),t}__getOverflowWidth(){const i=this._overflow;i.style.visibility="hidden",i.removeAttribute("hidden");const t=i.getAttribute("count");i.setAttribute("count","99");const r=getComputedStyle(i),o=i.clientWidth+parseInt(r.marginInlineStart);return i.setAttribute("count",t),i.setAttribute("hidden",""),i.style.visibility="",o}__updateChips(){if(!this._inputField||!this.inputElement)return;this._chips.forEach(s=>{s.remove()});const i=[...this.selectedItems],t=this._inputField.$.wrapper.clientWidth,r=parseInt(getComputedStyle(this.inputElement).flexBasis);let o=t-r;i.length>1&&(o-=this.__getOverflowWidth());const a=parseInt(getComputedStyle(this).getPropertyValue("--_chip-min-width"));if(this.autoExpandHorizontally){const s=[];for(let h=i.length-1,u=null;h>=0;h--){const d=this.__createChip(i[h]);this.insertBefore(d,u),u=d,s.unshift(d)}const l=[],c=this._inputField.$.wrapper.clientWidth-this.$.chips.clientWidth;if(!this.autoExpandVertically&&c<r){for(;s.length>1;){s.pop().remove(),l.unshift(i.pop());const u=l.length>0?r+this.__getOverflowWidth():r;if(this._inputField.$.wrapper.clientWidth-this.$.chips.clientWidth>=u)break}s.length===1&&(s[0].style.maxWidth=`${Math.max(a,o)}px`)}this._overflowItems=l;return}for(let s=i.length-1,l=null;s>=0;s--){const c=this.__createChip(i[s]);if(this.insertBefore(c,l),!this.autoExpandVertically&&this.$.chips.clientWidth>o)if(l===null)c.style.maxWidth=`${Math.max(a,o)}px`;else{c.remove();break}i.pop(),l=c}this._overflowItems=i}__updateOverflowChip(i,t,r,o){if(i){const a=t.length;i.label=`${a}`,i.setAttribute("count",`${a}`),i.setAttribute("title",this._mergeItemLabels(t)),i.toggleAttribute("hidden",a===0),i.disabled=r,i.readonly=o}}_onClearButtonTouchend(i){i.preventDefault(),this.clear()}_onClearButtonClick(i){i.stopPropagation(),this.clear()}_onChange(i){i.stopPropagation()}_onEscape(i){this.clearButtonVisible&&this.selectedItems&&this.selectedItems.length&&(i.stopPropagation(),this.selectedItems=[])}_onKeyDown(i){super._onKeyDown(i);const t=this._chips;if(!this.readonly&&t.length>0)switch(i.key){case"Backspace":this._onBackSpace(t);break;case"ArrowLeft":this._onArrowLeft(t,i);break;case"ArrowRight":this._onArrowRight(t,i);break;default:this._focusedChipIndex=-1;break}}_onArrowLeft(i,t){if(this.inputElement.selectionStart!==0)return;const r=this._focusedChipIndex;r!==-1&&t.preventDefault();let o;this.__isRTL?r===i.length-1?o=-1:r>-1&&(o=r+1):r===-1?o=i.length-1:r>0&&(o=r-1),o!==void 0&&(this._focusedChipIndex=o)}_onArrowRight(i,t){if(this.inputElement.selectionStart!==0)return;const r=this._focusedChipIndex;r!==-1&&t.preventDefault();let o;this.__isRTL?r===-1?o=i.length-1:r>0&&(o=r-1):r===i.length-1?o=-1:r>-1&&(o=r+1),o!==void 0&&(this._focusedChipIndex=o)}_onBackSpace(i){if(this.inputElement.selectionStart!==0)return;const t=this._focusedChipIndex;t===-1?this._focusedChipIndex=i.length-1:(this.__removeItem(i[t].item),this._focusedChipIndex=-1)}_focusedChipIndexChanged(i,t){if(i>-1||t>-1){const r=this._chips;if(r.forEach((o,a)=>{o.toggleAttribute("focused",a===i)}),i>-1){const o=r[i].item,a=this._getItemLabel(o);announce(`${a} ${this.i18n.focused}`)}}}_onComboBoxChange(){const i=this.$.comboBox.selectedItem;i&&this.__selectItem(i)}_onComboBoxItemSelected(i){this.__selectItem(i.detail.item)}_onCustomValueSet(i){i.preventDefault(),i.stopPropagation(),this.__clearFilter(),this.dispatchEvent(new CustomEvent("custom-value-set",{detail:i.detail,composed:!0,bubbles:!0}))}_onItemRemoved(i){this.__removeItem(i.detail.item)}_preventBlur(i){i.preventDefault()}__computeEffectiveItems(i,t,r){return i&&r?t:i}__computeEffectiveFilteredItems(i,t,r,o){return!i&&o?r:t}}defineCustomElement(MultiSelectComboBox);const dialogOverlay$1=css$e`
  /* Optical centering */
  :host::before,
  :host::after {
    content: '';
    flex-basis: 0;
    flex-grow: 1;
  }

  :host::after {
    flex-grow: 1.1;
  }

  [part='overlay'] {
    border-radius: var(--lumo-border-radius-l);
    box-shadow: 0 0 0 1px var(--lumo-shade-5pct), var(--lumo-box-shadow-xl);
    background-image: none;
    outline: none;
    -webkit-tap-highlight-color: transparent;
  }

  [part='content'] {
    padding: var(--lumo-space-l);
  }

  :host(:is([has-header], [has-title])) [part='header'] + [part='content'] {
    padding-top: 0;
  }

  [part='header'],
  [part='header-content'],
  [part='footer'] {
    gap: var(--lumo-space-xs) var(--lumo-space-s);
    line-height: var(--lumo-line-height-s);
  }

  [part='header'] {
    padding: var(--lumo-space-m);
    background-color: var(--lumo-base-color);
    border-radius: var(--lumo-border-radius-l) var(--lumo-border-radius-l) 0 0; /* Needed for Safari */
  }

  [part='footer'] {
    padding: var(--lumo-space-s) var(--lumo-space-m);
    background-color: var(--lumo-contrast-5pct);
    border-radius: 0 0 var(--lumo-border-radius-l) var(--lumo-border-radius-l); /* Needed for Safari */
  }

  [part='title'] {
    font-size: var(--lumo-font-size-xl);
    font-weight: 600;
    color: var(--lumo-header-text-color);
    margin-inline-start: calc(var(--lumo-space-l) - var(--lumo-space-m));
  }

  /* No padding */
  :host([theme~='no-padding']) [part='content'] {
    padding: 0 !important;
  }

  @media (min-height: 320px) {
    :host([overflow~='top']) [part='header'] {
      box-shadow: 0 1px 0 0 var(--lumo-contrast-10pct);
    }
  }

  /* Animations */

  :host([opening]),
  :host([closing]) {
    animation: 0.25s lumo-overlay-dummy-animation;
  }

  :host([opening]) [part='overlay'] {
    animation: 0.12s 0.05s vaadin-dialog-enter cubic-bezier(0.215, 0.61, 0.355, 1) both;
  }

  @keyframes vaadin-dialog-enter {
    0% {
      opacity: 0;
      transform: scale(0.95);
    }
  }

  :host([closing]) [part='overlay'] {
    animation: 0.1s 0.03s vaadin-dialog-exit cubic-bezier(0.55, 0.055, 0.675, 0.19) both;
  }

  :host([closing]) [part='backdrop'] {
    animation-delay: 0.05s;
  }

  @keyframes vaadin-dialog-exit {
    100% {
      opacity: 0;
      transform: scale(1.02);
    }
  }
`;registerStyles$1("vaadin-dialog-overlay",[overlay,dialogOverlay$1],{moduleId:"lumo-dialog"});/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const DialogOverlayMixin=n=>class extends OverlayMixin(n){static get properties(){return{headerTitle:{type:String},headerRenderer:{type:Object},footerRenderer:{type:Object}}}static get observers(){return["_headerFooterRendererChange(headerRenderer, footerRenderer, opened)","_headerTitleChanged(headerTitle, opened)"]}ready(){super.ready(),this.__resizeObserver=new ResizeObserver(()=>{this.__updateOverflow()}),this.__resizeObserver.observe(this.$.resizerContainer),this.$.content.addEventListener("scroll",()=>{this.__updateOverflow()})}__createContainer(t){const r=document.createElement("div");return r.setAttribute("slot",t),r}__clearContainer(t){t.innerHTML="",delete t._$litPart$}__initContainer(t,r){return t?this.__clearContainer(t):t=this.__createContainer(r),t}_headerFooterRendererChange(t,r,o){const a=this.__oldHeaderRenderer!==t;this.__oldHeaderRenderer=t;const s=this.__oldFooterRenderer!==r;this.__oldFooterRenderer=r;const l=this._oldOpenedFooterHeader!==o;this._oldOpenedFooterHeader=o,this.toggleAttribute("has-header",!!t),this.toggleAttribute("has-footer",!!r),a&&(t?this.headerContainer=this.__initContainer(this.headerContainer,"header-content"):this.headerContainer&&(this.headerContainer.remove(),this.headerContainer=null,this.__updateOverflow())),s&&(r?this.footerContainer=this.__initContainer(this.footerContainer,"footer"):this.footerContainer&&(this.footerContainer.remove(),this.footerContainer=null,this.__updateOverflow())),(t&&(a||l)||r&&(s||l))&&o&&this.requestContentUpdate()}_headerTitleChanged(t,r){this.toggleAttribute("has-title",!!t),r&&(t||this._oldHeaderTitle)&&this.requestContentUpdate(),this._oldHeaderTitle=t}_headerTitleRenderer(){this.headerTitle?(this.headerTitleElement||(this.headerTitleElement=document.createElement("h2"),this.headerTitleElement.setAttribute("slot","title"),this.headerTitleElement.classList.add("draggable")),this.appendChild(this.headerTitleElement),this.headerTitleElement.textContent=this.headerTitle):this.headerTitleElement&&(this.headerTitleElement.remove(),this.headerTitleElement=null)}requestContentUpdate(){super.requestContentUpdate(),this.headerContainer&&(this.headerContainer.parentElement||this.appendChild(this.headerContainer),this.headerRenderer&&this.headerRenderer.call(this.owner,this.headerContainer,this.owner)),this.footerContainer&&(this.footerContainer.parentElement||this.appendChild(this.footerContainer),this.footerRenderer&&this.footerRenderer.call(this.owner,this.footerContainer,this.owner)),this._headerTitleRenderer(),this.__updateOverflow()}setBounds(t){const r=this.$.overlay,o={...t};r.style.position!=="absolute"&&(r.style.position="absolute",this.setAttribute("has-bounds-set","")),Object.keys(o).forEach(a=>{typeof o[a]=="number"&&(o[a]=`${o[a]}px`)}),Object.assign(r.style,o)}getBounds(){const t=this.$.overlay.getBoundingClientRect(),r=this.getBoundingClientRect(),o=t.top-r.top,a=t.left-r.left,s=t.width,l=t.height;return{top:o,left:a,width:s,height:l}}__updateOverflow(){let t="";if(this.hasAttribute("has-header")||this.hasAttribute("has-footer")||this.headerTitle){const o=this.$.content;o.scrollTop>0&&(t+=" top"),o.scrollTop<o.scrollHeight-o.clientHeight&&(t+=" bottom")}const r=t.trim();r.length>0&&this.getAttribute("overflow")!==r?this.setAttribute("overflow",r):r.length===0&&this.hasAttribute("overflow")&&this.removeAttribute("overflow")}};/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const dialogOverlay=css$e`
  [part='header'],
  [part='header-content'],
  [part='footer'] {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    flex: none;
    pointer-events: none;
    z-index: 1;
  }

  [part='header'] {
    flex-wrap: nowrap;
  }

  ::slotted([slot='header-content']),
  ::slotted([slot='title']),
  ::slotted([slot='footer']) {
    display: contents;
    pointer-events: auto;
  }

  ::slotted([slot='title']) {
    font: inherit !important;
    overflow-wrap: anywhere;
  }

  [part='header-content'] {
    flex: 1;
  }

  :host([has-title]) [part='header-content'],
  [part='footer'] {
    justify-content: flex-end;
  }

  :host(:not([has-title]):not([has-header])) [part='header'],
  :host(:not([has-header])) [part='header-content'],
  :host(:not([has-title])) [part='title'],
  :host(:not([has-footer])) [part='footer'] {
    display: none !important;
  }

  :host(:is([has-title], [has-header], [has-footer])) [part='content'] {
    height: auto;
  }

  @media (min-height: 320px) {
    :host(:is([has-title], [has-header], [has-footer])) .resizer-container {
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    :host(:is([has-title], [has-header], [has-footer])) [part='content'] {
      flex: 1;
      overflow: auto;
    }
  }

  /*
      NOTE(platosha): Make some min-width to prevent collapsing of the content
      taking the parent width, e. g., <vaadin-grid> and such.
    */
  [part='content'] {
    min-width: 12em; /* matches the default <vaadin-text-field> width */
  }

  :host([has-bounds-set]) [part='overlay'] {
    max-width: none;
  }

  @media (forced-colors: active) {
    [part='overlay'] {
      outline: 3px solid !important;
    }
  }
`,resizableOverlay=css$e`
  [part='overlay'] {
    position: relative;
    overflow: visible;
    max-height: 100%;
    display: flex;
  }

  [part='content'] {
    box-sizing: border-box;
    height: 100%;
  }

  .resizer-container {
    overflow: auto;
    flex-grow: 1;
    border-radius: inherit; /* prevent child elements being drawn outside part=overlay */
  }

  [part='overlay'][style] .resizer-container {
    min-height: 100%;
    width: 100%;
  }

  :host(:not([resizable])) .resizer {
    display: none;
  }

  :host([resizable]) [part='title'] {
    cursor: move;
    -webkit-user-select: none;
    user-select: none;
  }

  .resizer {
    position: absolute;
    height: 16px;
    width: 16px;
  }

  .resizer.edge {
    height: 8px;
    width: 8px;
    inset: -4px;
  }

  .resizer.edge.n {
    width: auto;
    bottom: auto;
    cursor: ns-resize;
  }

  .resizer.ne {
    top: -4px;
    right: -4px;
    cursor: nesw-resize;
  }

  .resizer.edge.e {
    height: auto;
    left: auto;
    cursor: ew-resize;
  }

  .resizer.se {
    bottom: -4px;
    right: -4px;
    cursor: nwse-resize;
  }

  .resizer.edge.s {
    width: auto;
    top: auto;
    cursor: ns-resize;
  }

  .resizer.sw {
    bottom: -4px;
    left: -4px;
    cursor: nesw-resize;
  }

  .resizer.edge.w {
    height: auto;
    right: auto;
    cursor: ew-resize;
  }

  .resizer.nw {
    top: -4px;
    left: -4px;
    cursor: nwse-resize;
  }
`;/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-dialog-overlay",[overlayStyles,dialogOverlay,resizableOverlay],{moduleId:"vaadin-dialog-overlay-styles"});class DialogOverlay extends DialogOverlayMixin(DirMixin(ThemableMixin(PolymerElement))){static get is(){return"vaadin-dialog-overlay"}static get template(){return html`
      <div id="backdrop" part="backdrop" hidden$="[[!withBackdrop]]"></div>
      <div part="overlay" id="overlay" tabindex="0">
        <section id="resizerContainer" class="resizer-container">
          <header part="header">
            <div part="title"><slot name="title"></slot></div>
            <div part="header-content"><slot name="header-content"></slot></div>
          </header>
          <div part="content" id="content"><slot></slot></div>
          <footer part="footer"><slot name="footer"></slot></footer>
        </section>
      </div>
    `}}defineCustomElement(DialogOverlay);/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const DialogBaseMixin=n=>class extends n{static get properties(){return{opened:{type:Boolean,value:!1,notify:!0},noCloseOnOutsideClick:{type:Boolean,value:!1},noCloseOnEsc:{type:Boolean,value:!1},modeless:{type:Boolean,value:!1}}}ready(){super.ready();const t=this.$.overlay;t.addEventListener("vaadin-overlay-outside-click",this._handleOutsideClick.bind(this)),t.addEventListener("vaadin-overlay-escape-press",this._handleEscPress.bind(this)),this._overlayElement=t}connectedCallback(){super.connectedCallback(),this.__restoreOpened&&(this.opened=!0)}disconnectedCallback(){super.disconnectedCallback(),setTimeout(()=>{this.isConnected||(this.__restoreOpened=this.opened,this.opened=!1)})}_onOverlayOpened(t){t.detail.value===!1&&(this.opened=!1)}_handleOutsideClick(t){this.noCloseOnOutsideClick&&t.preventDefault()}_handleEscPress(t){this.noCloseOnEsc&&t.preventDefault()}_bringOverlayToFront(){this.modeless&&this._overlayElement.bringToFront()}};/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */function getMouseOrFirstTouchEvent(n){return n.touches?n.touches[0]:n}function eventInWindow(n){return n.clientX>=0&&n.clientX<=window.innerWidth&&n.clientY>=0&&n.clientY<=window.innerHeight}/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const DialogDraggableMixin=n=>class extends n{static get properties(){return{draggable:{type:Boolean,value:!1,reflectToAttribute:!0},_touchDevice:{type:Boolean,value:isTouch},__dragHandleClassName:{type:String}}}async ready(){super.ready(),this._originalBounds={},this._originalMouseCoords={},this._startDrag=this._startDrag.bind(this),this._drag=this._drag.bind(this),this._stopDrag=this._stopDrag.bind(this),await new Promise(requestAnimationFrame),this.$.overlay.$.overlay.addEventListener("mousedown",this._startDrag),this.$.overlay.$.overlay.addEventListener("touchstart",this._startDrag)}_startDrag(t){if(!(t.type==="touchstart"&&t.touches.length>1)&&this.draggable&&(t.button===0||t.touches)){const r=this.$.overlay.$.resizerContainer,o=t.target===r,a=t.offsetX>r.clientWidth||t.offsetY>r.clientHeight,s=t.target===this.$.overlay.$.content,l=t.composedPath().some((c,h)=>{if(!c.classList)return!1;const u=c.classList.contains(this.__dragHandleClassName||"draggable"),d=c.classList.contains("draggable-leaf-only"),f=h===0;return d&&f||u&&(!d||f)});if(o&&!a||s||l){l||t.preventDefault(),this._originalBounds=this.$.overlay.getBounds();const c=getMouseOrFirstTouchEvent(t);this._originalMouseCoords={top:c.pageY,left:c.pageX},window.addEventListener("mouseup",this._stopDrag),window.addEventListener("touchend",this._stopDrag),window.addEventListener("mousemove",this._drag),window.addEventListener("touchmove",this._drag),this.$.overlay.$.overlay.style.position!=="absolute"&&this.$.overlay.setBounds(this._originalBounds)}}}_drag(t){const r=getMouseOrFirstTouchEvent(t);if(eventInWindow(r)){const o=this._originalBounds.top+(r.pageY-this._originalMouseCoords.top),a=this._originalBounds.left+(r.pageX-this._originalMouseCoords.left);this.$.overlay.setBounds({top:o,left:a})}}_stopDrag(){window.removeEventListener("mouseup",this._stopDrag),window.removeEventListener("touchend",this._stopDrag),window.removeEventListener("mousemove",this._drag),window.removeEventListener("touchmove",this._drag)}};/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const DialogRendererMixin=n=>class extends n{static get properties(){return{renderer:{type:Object},headerTitle:String,headerRenderer:{type:Object},footerRenderer:{type:Object}}}requestContentUpdate(){this._overlayElement&&this._overlayElement.requestContentUpdate()}};/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const DialogResizableMixin=n=>class extends n{static get properties(){return{resizable:{type:Boolean,value:!1,reflectToAttribute:!0}}}async ready(){super.ready(),this._originalBounds={},this._originalMouseCoords={},this._resizeListeners={start:{},resize:{},stop:{}},await new Promise(requestAnimationFrame),this._addResizeListeners()}_addResizeListeners(){["n","e","s","w","nw","ne","se","sw"].forEach(t=>{const r=document.createElement("div");this._resizeListeners.start[t]=o=>this._startResize(o,t),this._resizeListeners.resize[t]=o=>this._resize(o,t),this._resizeListeners.stop[t]=()=>this._stopResize(t),t.length===1&&r.classList.add("edge"),r.classList.add("resizer"),r.classList.add(t),r.addEventListener("mousedown",this._resizeListeners.start[t]),r.addEventListener("touchstart",this._resizeListeners.start[t]),this.$.overlay.$.resizerContainer.appendChild(r)})}_startResize(t,r){if(!(t.type==="touchstart"&&t.touches.length>1)&&(t.button===0||t.touches)){t.preventDefault(),this._originalBounds=this.$.overlay.getBounds();const o=getMouseOrFirstTouchEvent(t);this._originalMouseCoords={top:o.pageY,left:o.pageX},window.addEventListener("mousemove",this._resizeListeners.resize[r]),window.addEventListener("touchmove",this._resizeListeners.resize[r]),window.addEventListener("mouseup",this._resizeListeners.stop[r]),window.addEventListener("touchend",this._resizeListeners.stop[r]),this.$.overlay.$.overlay.style.position!=="absolute"&&this.$.overlay.setBounds(this._originalBounds)}}_resize(t,r){const o=getMouseOrFirstTouchEvent(t);eventInWindow(o)&&r.split("").forEach(s=>{switch(s){case"n":{const l=this._originalBounds.height-(o.pageY-this._originalMouseCoords.top),c=this._originalBounds.top+(o.pageY-this._originalMouseCoords.top);l>40&&this.$.overlay.setBounds({top:c,height:l});break}case"e":{const l=this._originalBounds.width+(o.pageX-this._originalMouseCoords.left);l>40&&this.$.overlay.setBounds({width:l});break}case"s":{const l=this._originalBounds.height+(o.pageY-this._originalMouseCoords.top);l>40&&this.$.overlay.setBounds({height:l});break}case"w":{const l=this._originalBounds.width-(o.pageX-this._originalMouseCoords.left),c=this._originalBounds.left+(o.pageX-this._originalMouseCoords.left);l>40&&this.$.overlay.setBounds({left:c,width:l});break}}})}_stopResize(t){window.removeEventListener("mousemove",this._resizeListeners.resize[t]),window.removeEventListener("touchmove",this._resizeListeners.resize[t]),window.removeEventListener("mouseup",this._resizeListeners.stop[t]),window.removeEventListener("touchend",this._resizeListeners.stop[t]),this.dispatchEvent(new CustomEvent("resize",{detail:this._getResizeDimensions()}))}_getResizeDimensions(){const t=this.$.overlay.$.resizerContainer.scrollTop,{width:r,height:o}=getComputedStyle(this.$.overlay.$.overlay),a=this.$.overlay.$.content;a.setAttribute("style","position: absolute; top: 0; right: 0; bottom: 0; left: 0; box-sizing: content-box; height: auto;");const{width:s,height:l}=getComputedStyle(a);return a.removeAttribute("style"),this.$.overlay.$.resizerContainer.scrollTop=t,{width:r,height:o,contentWidth:s,contentHeight:l}}};/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Dialog extends DialogDraggableMixin(DialogResizableMixin(DialogRendererMixin(DialogBaseMixin(OverlayClassMixin(ThemePropertyMixin(ElementMixin(PolymerElement))))))){static get template(){return html`
      <style>
        :host {
          display: none !important;
        }
      </style>

      <vaadin-dialog-overlay
        id="overlay"
        header-title="[[headerTitle]]"
        on-opened-changed="_onOverlayOpened"
        on-mousedown="_bringOverlayToFront"
        on-touchstart="_bringOverlayToFront"
        theme$="[[_theme]]"
        modeless="[[modeless]]"
        with-backdrop="[[!modeless]]"
        resizable$="[[resizable]]"
        restore-focus-on-close
        focus-trap
      ></vaadin-dialog-overlay>
    `}static get is(){return"vaadin-dialog"}static get properties(){return{ariaLabel:{type:String,value:""}}}static get observers(){return["_openedChanged(opened)","_ariaLabelChanged(ariaLabel, headerTitle)","_rendererChanged(renderer, headerRenderer, footerRenderer)"]}ready(){super.ready(),this._overlayElement.setAttribute("role","dialog"),processTemplates(this)}_rendererChanged(i,t,r){this.$.overlay.setProperties({owner:this,renderer:i,headerRenderer:t,footerRenderer:r})}_openedChanged(i){this.$.overlay.opened=i}_ariaLabelChanged(i,t){i||t?this.$.overlay.setAttribute("aria-label",i||t):this.$.overlay.removeAttribute("aria-label")}}defineCustomElement(Dialog);registerStyles$1("vaadin-confirm-dialog-overlay",[overlay,dialogOverlay$1,css$e`
      [part='header'] ::slotted(h3) {
        margin-top: 0 !important;
        margin-bottom: 0 !important;
        margin-inline-start: calc(var(--lumo-space-l) - var(--lumo-space-m));
      }

      [part='message'] {
        width: 25em;
        min-width: 100%;
        max-width: 100%;
      }

      ::slotted([slot$='button'][theme~='tertiary']) {
        padding-left: var(--lumo-space-s);
        padding-right: var(--lumo-space-s);
      }

      [part='cancel-button'] {
        flex-grow: 1;
      }

      @media (max-width: 360px) {
        [part='footer'] {
          flex-direction: column-reverse;
          align-items: stretch;
          padding: var(--lumo-space-s) var(--lumo-space-l);
          gap: var(--lumo-space-s);
        }

        ::slotted([slot$='button']) {
          width: 100%;
          margin: 0;
        }
      }
    `],{moduleId:"lumo-confirm-dialog-overlay"});/**
 * @license
 * Copyright (c) 2018 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const ConfirmDialogBaseMixin=n=>class extends n{static get properties(){return{ariaLabel:{type:String,value:""},contentHeight:{type:String},contentWidth:{type:String}}}static get observers(){return["__updateContentHeight(contentHeight, _overlayElement)","__updateContentWidth(contentWidth, _overlayElement)"]}__updateDimension(t,r,o){const a=`--_vaadin-confirm-dialog-content-${r}`;o?t.style.setProperty(a,o):t.style.removeProperty(a)}__updateContentHeight(t,r){r&&this.__updateDimension(r,"height",t)}__updateContentWidth(t,r){r&&this.__updateDimension(r,"width",t)}};/**
 * @license
 * Copyright (c) 2018 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const confirmDialogOverlay=css$e`
  :host {
    --_vaadin-confirm-dialog-content-width: auto;
    --_vaadin-confirm-dialog-content-height: auto;
  }

  [part='overlay'] {
    width: var(--_vaadin-confirm-dialog-content-width);
    height: var(--_vaadin-confirm-dialog-content-height);
  }

  ::slotted([slot='header']) {
    pointer-events: auto;
  }

  /* Make buttons clickable */
  [part='footer'] > * {
    pointer-events: all;
  }
`;/**
 * @license
 * Copyright (c) 2018 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-confirm-dialog-overlay",[overlayStyles,dialogOverlay,confirmDialogOverlay],{moduleId:"vaadin-confirm-dialog-overlay-styles"});class ConfirmDialogOverlay extends OverlayMixin(DirMixin(ThemableMixin(PolymerElement))){static get is(){return"vaadin-confirm-dialog-overlay"}static get template(){return html`
      <div part="backdrop" id="backdrop" hidden$="[[!withBackdrop]]"></div>
      <div part="overlay" id="overlay" tabindex="0">
        <section id="resizerContainer" class="resizer-container">
          <header part="header"><slot name="header"></slot></header>
          <div part="content" id="content">
            <div part="message"><slot></slot></div>
          </div>
          <footer part="footer" role="toolbar">
            <div part="cancel-button">
              <slot name="cancel-button"></slot>
            </div>
            <div part="reject-button">
              <slot name="reject-button"></slot>
            </div>
            <div part="confirm-button">
              <slot name="confirm-button"></slot>
            </div>
          </footer>
        </section>
      </div>
    `}ready(){super.ready(),this.setAttribute("has-header",""),this.setAttribute("has-footer","")}}defineCustomElement(ConfirmDialogOverlay);class ConfirmDialogDialog extends ConfirmDialogBaseMixin(DialogBaseMixin(OverlayClassMixin(ThemePropertyMixin(PolymerElement)))){static get is(){return"vaadin-confirm-dialog-dialog"}static get template(){return html`
      <style>
        :host {
          display: none;
        }
      </style>

      <vaadin-confirm-dialog-overlay
        id="overlay"
        opened="[[opened]]"
        on-opened-changed="_onOverlayOpened"
        on-mousedown="_bringOverlayToFront"
        on-touchstart="_bringOverlayToFront"
        theme$="[[_theme]]"
        modeless="[[modeless]]"
        with-backdrop="[[!modeless]]"
        resizable$="[[resizable]]"
        aria-label$="[[ariaLabel]]"
        restore-focus-on-close
        focus-trap
      ></vaadin-confirm-dialog-overlay>
    `}}defineCustomElement(ConfirmDialogDialog);/**
 * @license
 * Copyright (c) 2018 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const ConfirmDialogMixin=n=>class extends n{static get properties(){return{accessibleDescriptionRef:{type:String},opened:{type:Boolean,value:!1,notify:!0},header:{type:String,value:""},message:{type:String,value:""},confirmText:{type:String,value:"Confirm"},confirmTheme:{type:String,value:"primary"},noCloseOnEsc:{type:Boolean,value:!1},rejectButtonVisible:{type:Boolean,reflectToAttribute:!0,value:!1},rejectText:{type:String,value:"Reject"},rejectTheme:{type:String,value:"error tertiary"},cancelButtonVisible:{type:Boolean,reflectToAttribute:!0,value:!1},cancelText:{type:String,value:"Cancel"},cancelTheme:{type:String,value:"tertiary"},overlayClass:{type:String},_cancelButton:{type:Object},_confirmButton:{type:Object},_headerNode:{type:Object},_messageNodes:{type:Array,value:()=>[]},_overlayElement:{type:Object,sync:!0},_rejectButton:{type:Object},_contentHeight:{type:String},_contentWidth:{type:String}}}static get observers(){return["__updateConfirmButton(_confirmButton, confirmText, confirmTheme)","__updateCancelButton(_cancelButton, cancelText, cancelTheme, cancelButtonVisible)","__updateHeaderNode(_headerNode, header)","__updateMessageNodes(_messageNodes, message)","__updateRejectButton(_rejectButton, rejectText, rejectTheme, rejectButtonVisible)","__accessibleDescriptionRefChanged(_overlayElement, _messageNodes, accessibleDescriptionRef)"]}constructor(){super(),this.__cancel=this.__cancel.bind(this),this.__confirm=this.__confirm.bind(this),this.__reject=this.__reject.bind(this)}get __slottedNodes(){return[this._headerNode,...this._messageNodes,this._cancelButton,this._confirmButton,this._rejectButton]}ready(){super.ready(),this._headerController=new SlotController(this,"header","h3",{initializer:t=>{this._headerNode=t}}),this.addController(this._headerController),this._messageController=new SlotController(this,"","div",{multiple:!0,observe:!1,initializer:t=>{const r=document.createElement("div");r.style.display="contents";const o=`confirm-dialog-message-${generateUniqueId()}`;r.id=o,this.appendChild(r),r.appendChild(t),this._messageNodes=[...this._messageNodes,r]}}),this.addController(this._messageController),this._cancelController=new SlotController(this,"cancel-button","vaadin-button",{initializer:t=>{this.__setupSlottedButton("cancel",t)}}),this.addController(this._cancelController),this._rejectController=new SlotController(this,"reject-button","vaadin-button",{initializer:t=>{this.__setupSlottedButton("reject",t)}}),this.addController(this._rejectController),this._confirmController=new SlotController(this,"confirm-button","vaadin-button",{initializer:t=>{this.__setupSlottedButton("confirm",t)}}),this.addController(this._confirmController)}_initOverlay(t){t.addEventListener("vaadin-overlay-escape-press",this._escPressed.bind(this)),t.addEventListener("vaadin-overlay-open",()=>this.__onDialogOpened()),t.addEventListener("vaadin-overlay-closed",()=>this.__onDialogClosed()),t.setAttribute("role","alertdialog")}__onDialogOpened(){const t=this._overlayElement;this.__slottedNodes.forEach(o=>{t.appendChild(o)});const r=t.querySelector('[slot="confirm-button"]');r&&r.focus()}__onDialogClosed(){this.__slottedNodes.forEach(t=>{this.appendChild(t)})}__accessibleDescriptionRefChanged(t,r,o){!t||!r||(o!==void 0?setAriaIDReference(t,"aria-describedby",{newId:o,oldId:this.__oldAccessibleDescriptionRef,fromUser:!0}):r.forEach(a=>{setAriaIDReference(t,"aria-describedby",{newId:a.id})}),this.__oldAccessibleDescriptionRef=o)}__setupSlottedButton(t,r){const o=`_${t}Button`,a=`__${t}`;this[o]&&this[o]!==r&&this[o].remove(),r.addEventListener("click",this[a]),this[o]=r}__updateCancelButton(t,r,o,a){t&&(t===this._cancelController.defaultNode&&(t.textContent=r,t.setAttribute("theme",o)),t.toggleAttribute("hidden",!a))}__updateConfirmButton(t,r,o){t&&t===this._confirmController.defaultNode&&(t.textContent=r,t.setAttribute("theme",o))}__updateHeaderNode(t,r){t&&t===this._headerController.defaultNode&&(t.textContent=r)}__updateMessageNodes(t,r){if(t&&t.length>0){const o=t.find(a=>this._messageController.defaultNode&&a===this._messageController.defaultNode.parentElement);o&&(o.firstChild.textContent=r)}}__updateRejectButton(t,r,o,a){t&&(t===this._rejectController.defaultNode&&(t.textContent=r,t.setAttribute("theme",o)),t.toggleAttribute("hidden",!a))}_escPressed(t){t.defaultPrevented||this.__cancel()}__confirm(){this.dispatchEvent(new CustomEvent("confirm")),this.opened=!1}__cancel(){this.dispatchEvent(new CustomEvent("cancel")),this.opened=!1}__reject(){this.dispatchEvent(new CustomEvent("reject")),this.opened=!1}_getAriaLabel(t){return t||"confirmation"}};/**
 * @license
 * Copyright (c) 2018 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class ConfirmDialog extends ConfirmDialogMixin(ElementMixin(ThemePropertyMixin(ControllerMixin(PolymerElement)))){static get template(){return html`
      <style>
        :host,
        [hidden] {
          display: none !important;
        }
      </style>

      <vaadin-confirm-dialog-dialog
        id="dialog"
        opened="{{opened}}"
        overlay-class="[[overlayClass]]"
        aria-label="[[_getAriaLabel(header)]]"
        theme$="[[_theme]]"
        no-close-on-outside-click
        no-close-on-esc="[[noCloseOnEsc]]"
        content-height="[[_contentHeight]]"
        content-width="[[_contentWidth]]"
      ></vaadin-confirm-dialog-dialog>

      <div hidden>
        <slot name="header"></slot>
        <slot></slot>
        <slot name="cancel-button"></slot>
        <slot name="reject-button"></slot>
        <slot name="confirm-button"></slot>
      </div>
    `}static get is(){return"vaadin-confirm-dialog"}ready(){super.ready(),this._overlayElement=this.$.dialog.$.overlay,this._initOverlay(this._overlayElement)}}defineCustomElement(ConfirmDialog);(function(){function n(l){return window.Vaadin.Flow.tryCatchWrapper(l,"Vaadin Context Menu")}function i(l,c){try{return window.Vaadin.Flow.clients[l].getByNodeId(c)}catch(h){console.error("Could not get node %s from app %s",c,l),console.error(h)}}function t(l,c){l.$connector||(l.$connector={generateItems:n(h=>{const u=r(c,h);l.items=u})})}function r(l,c){const h=i(l,c);if(h)return Array.from(h.children).map(u=>{const d={component:u,checked:u._checked,keepOpen:u._keepOpen,className:u.className,theme:u.__theme};return u._hasVaadinItemMixin&&u._containerNodeId&&(d.children=r(l,u._containerNodeId)),u._item=d,d})}function o(l,c){l._item&&(l._item.checked=c,l._item.keepOpen&&l.toggleAttribute("menu-item-checked",c))}function a(l,c){l._item&&(l._item.keepOpen=c)}function s(l,c){l._item&&(l._item.theme=c)}window.Vaadin.Flow.contextMenuConnector={initLazy(...l){return n(t)(...l)},generateItemsTree(...l){return n(r)(...l)},setChecked(...l){return n(o)(...l)},setKeepOpen(...l){return n(a)(...l)},setTheme(...l){return n(s)(...l)}}})();(function(){function n(t){return window.Vaadin.Flow.tryCatchWrapper(t,"Vaadin Context Menu Target")}function i(t){t.$contextMenuTargetConnector||(t.$contextMenuTargetConnector={openOnHandler:n(function(r){if(t.preventContextMenu&&t.preventContextMenu(r))return;r.preventDefault(),r.stopPropagation(),this.$contextMenuTargetConnector.openEvent=r;let o={};t.getContextMenuBeforeOpenDetail&&(o=t.getContextMenuBeforeOpenDetail(r)),t.dispatchEvent(new CustomEvent("vaadin-context-menu-before-open",{detail:o}))}),updateOpenOn:n(function(r){this.removeListener(),this.openOnEventType=r,customElements.whenDefined("vaadin-context-menu").then(n(()=>{gestures[r]?addListener(t,r,this.openOnHandler):t.addEventListener(r,this.openOnHandler)}))}),removeListener:n(function(){this.openOnEventType&&(gestures[this.openOnEventType]?removeListener(t,this.openOnEventType,this.openOnHandler):t.removeEventListener(this.openOnEventType,this.openOnHandler))}),openMenu:n(function(r){r.open(this.openEvent)}),removeConnector:n(function(){this.removeListener(),t.$contextMenuTargetConnector=void 0})})}window.Vaadin.Flow.contextMenuTargetConnector={init(...t){return n(i)(...t)}}})();(function(n){if(!n.hasInitialised){var i={escapeRegExp:function(r){return r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},hasClass:function(r,o){var a=" ";return r.nodeType===1&&(a+r.className+a).replace(/[\n\t]/g,a).indexOf(a+o+a)>=0},addClass:function(r,o){r.className+=" "+o},removeClass:function(r,o){var a=new RegExp("\\b"+this.escapeRegExp(o)+"\\b");r.className=r.className.replace(a,"")},interpolateString:function(r,o){return r.replace(/{{([a-z][a-z0-9\-_]*)}}/gi,function(a){return o(arguments[1])||""})},getCookie:function(r){var o=("; "+document.cookie).split("; "+r+"=");return o.length<2?void 0:o.pop().split(";").shift()},setCookie:function(r,o,a,s,l,c){var h=new Date;h.setHours(h.getHours()+24*(a||365));var u=[r+"="+o,"expires="+h.toUTCString(),"path="+(l||"/")];s&&u.push("domain="+s),c&&u.push("secure"),document.cookie=u.join(";")},deepExtend:function(r,o){for(var a in o)o.hasOwnProperty(a)&&(a in r&&this.isPlainObject(r[a])&&this.isPlainObject(o[a])?this.deepExtend(r[a],o[a]):r[a]=o[a]);return r},throttle:function(r,o){var a=!1;return function(){a||(r.apply(this,arguments),a=!0,setTimeout(function(){a=!1},o))}},hash:function(r){var o,a,s=0;if(r.length===0)return s;for(o=0,a=r.length;o<a;++o)s=(s<<5)-s+r.charCodeAt(o),s|=0;return s},normaliseHex:function(r){return r[0]=="#"&&(r=r.substr(1)),r.length==3&&(r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]),r},getContrast:function(r){return r=this.normaliseHex(r),(299*parseInt(r.substr(0,2),16)+587*parseInt(r.substr(2,2),16)+114*parseInt(r.substr(4,2),16))/1e3>=128?"#000":"#fff"},getLuminance:function(r){var o=parseInt(this.normaliseHex(r),16),a=38+(o>>16),s=38+(o>>8&255),l=38+(255&o);return"#"+(16777216+65536*(a<255?a<1?0:a:255)+256*(s<255?s<1?0:s:255)+(l<255?l<1?0:l:255)).toString(16).slice(1)},isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},isPlainObject:function(r){return typeof r=="object"&&r!==null&&r.constructor==Object},traverseDOMPath:function(r,o){return r&&r.parentNode?i.hasClass(r,o)?r:this.traverseDOMPath(r.parentNode,o):null}};n.status={deny:"deny",allow:"allow",dismiss:"dismiss"},n.transitionEnd=function(){var r=document.createElement("div"),o={t:"transitionend",OT:"oTransitionEnd",msT:"MSTransitionEnd",MozT:"transitionend",WebkitT:"webkitTransitionEnd"};for(var a in o)if(o.hasOwnProperty(a)&&r.style[a+"ransition"]!==void 0)return o[a];return""}(),n.hasTransition=!!n.transitionEnd;var t=Object.keys(n.status).map(i.escapeRegExp);n.customStyles={},n.Popup=function(){var r={enabled:!0,container:null,cookie:{name:"cookieconsent_status",path:"/",domain:"",expiryDays:365,secure:!1},onPopupOpen:function(){},onPopupClose:function(){},onInitialise:function(d){},onStatusChange:function(d,f){},onRevokeChoice:function(){},onNoCookieLaw:function(d,f){},content:{header:"Cookies used on the website!",message:"This website uses cookies to ensure you get the best experience on our website.",dismiss:"Got it!",allow:"Allow cookies",deny:"Decline",link:"Learn more",href:"https://www.cookiesandyou.com",close:"&#x274c;",target:"_blank",policy:"Cookie Policy"},elements:{header:'<span class="cc-header">{{header}}</span>&nbsp;',message:'<span id="cookieconsent:desc" class="cc-message">{{message}}</span>',messagelink:'<span id="cookieconsent:desc" class="cc-message">{{message}} <a aria-label="learn more about cookies" role=button tabindex="0" class="cc-link" href="{{href}}" rel="noopener noreferrer nofollow" target="{{target}}">{{link}}</a></span>',dismiss:'<a aria-label="dismiss cookie message" role=button tabindex="0" class="cc-btn cc-dismiss">{{dismiss}}</a>',allow:'<a aria-label="allow cookies" role=button tabindex="0"  class="cc-btn cc-allow">{{allow}}</a>',deny:'<a aria-label="deny cookies" role=button tabindex="0" class="cc-btn cc-deny">{{deny}}</a>',link:'<a aria-label="learn more about cookies" role=button tabindex="0" class="cc-link" href="{{href}}" rel="noopener noreferrer nofollow" target="{{target}}">{{link}}</a>',close:'<span aria-label="dismiss cookie message" role=button tabindex="0" class="cc-close">{{close}}</span>'},window:'<div role="dialog" aria-live="polite" aria-label="cookieconsent" aria-describedby="cookieconsent:desc" class="cc-window {{classes}}"><!--googleoff: all-->{{children}}<!--googleon: all--></div>',revokeBtn:'<div class="cc-revoke {{classes}}">{{policy}}</div>',compliance:{info:'<div class="cc-compliance">{{dismiss}}</div>',"opt-in":'<div class="cc-compliance cc-highlight">{{deny}}{{allow}}</div>',"opt-out":'<div class="cc-compliance cc-highlight">{{deny}}{{allow}}</div>'},type:"info",layouts:{basic:"{{messagelink}}{{compliance}}","basic-close":"{{messagelink}}{{compliance}}{{close}}","basic-header":"{{header}}{{message}}{{link}}{{compliance}}"},layout:"basic",position:"bottom",theme:"block",static:!1,palette:null,revokable:!1,animateRevokable:!0,showLink:!0,dismissOnScroll:!1,dismissOnTimeout:!1,dismissOnWindowClick:!1,ignoreClicksFrom:["cc-revoke","cc-btn"],autoOpen:!0,autoAttach:!0,whitelistPage:[],blacklistPage:[],overrideHTML:null};function o(){this.initialise.apply(this,arguments)}function a(d){this.openingTimeout=null,i.removeClass(d,"cc-invisible")}function s(d){d.style.display="none",d.removeEventListener(n.transitionEnd,this.afterTransition),this.afterTransition=null}function l(){var d=this.options.position.split("-"),f=[];return d.forEach(function(p){f.push("cc-"+p)}),f}function c(d){var f=this.options,p=document.createElement("div"),m=f.container&&f.container.nodeType===1?f.container:document.body;p.innerHTML=d;var g=p.children[0];return g.style.display="none",i.hasClass(g,"cc-window")&&n.hasTransition&&i.addClass(g,"cc-invisible"),this.onButtonClick=(function(v){var _=i.traverseDOMPath(v.target,"cc-btn")||v.target;if(i.hasClass(_,"cc-btn")){var y=_.className.match(new RegExp("\\bcc-("+t.join("|")+")\\b")),b=y&&y[1]||!1;b&&(this.setStatus(b),this.close(!0))}i.hasClass(_,"cc-close")&&(this.setStatus(n.status.dismiss),this.close(!0)),i.hasClass(_,"cc-revoke")&&this.revokeChoice()}).bind(this),g.addEventListener("click",this.onButtonClick),f.autoAttach&&(m.firstChild?m.insertBefore(g,m.firstChild):m.appendChild(g)),g}function h(d){return(d=i.normaliseHex(d))=="000000"?"#222":i.getLuminance(d)}function u(d,f){for(var p=0,m=d.length;p<m;++p){var g=d[p];if(g instanceof RegExp&&g.test(f)||typeof g=="string"&&g.length&&g===f)return!0}return!1}return o.prototype.initialise=function(d){this.options&&this.destroy(),i.deepExtend(this.options={},r),i.isPlainObject(d)&&i.deepExtend(this.options,d),(function(){var g=this.options.onInitialise.bind(this);if(!window.navigator.cookieEnabled)return g(n.status.deny),!0;if(window.CookiesOK||window.navigator.CookiesOK)return g(n.status.allow),!0;var v=Object.keys(n.status),_=this.getStatus(),y=v.indexOf(_)>=0;return y&&g(_),y}).call(this)&&(this.options.enabled=!1),u(this.options.blacklistPage,location.pathname)&&(this.options.enabled=!1),u(this.options.whitelistPage,location.pathname)&&(this.options.enabled=!0);var f=this.options.window.replace("{{classes}}",(function(){var g=this.options,v=g.position=="top"||g.position=="bottom"?"banner":"floating";i.isMobile()&&(v="floating");var _=["cc-"+v,"cc-type-"+g.type,"cc-theme-"+g.theme];return g.static&&_.push("cc-static"),_.push.apply(_,l.call(this)),(function(y){var b=i.hash(JSON.stringify(y)),x="cc-color-override-"+b,E=i.isPlainObject(y);return this.customStyleSelector=E?x:null,E&&function(C,$,S){if(n.customStyles[C])return void++n.customStyles[C].references;var P={},T=$.popup,k=$.button,L=$.highlight;T&&(T.text=T.text?T.text:i.getContrast(T.background),T.link=T.link?T.link:T.text,P[S+".cc-window"]=["color: "+T.text,"background-color: "+T.background],P[S+".cc-revoke"]=["color: "+T.text,"background-color: "+T.background],P[S+" .cc-link,"+S+" .cc-link:active,"+S+" .cc-link:visited"]=["color: "+T.link],k&&(k.text=k.text?k.text:i.getContrast(k.background),k.border=k.border?k.border:"transparent",P[S+" .cc-btn"]=["color: "+k.text,"border-color: "+k.border,"background-color: "+k.background],k.padding&&P[S+" .cc-btn"].push("padding: "+k.padding),k.background!="transparent"&&(P[S+" .cc-btn:hover, "+S+" .cc-btn:focus"]=["background-color: "+(k.hover||h(k.background))]),L?(L.text=L.text?L.text:i.getContrast(L.background),L.border=L.border?L.border:"transparent",P[S+" .cc-highlight .cc-btn:first-child"]=["color: "+L.text,"border-color: "+L.border,"background-color: "+L.background]):P[S+" .cc-highlight .cc-btn:first-child"]=["color: "+T.text]));var N=document.createElement("style");document.head.appendChild(N),n.customStyles[C]={references:1,element:N.sheet};var z=-1;for(var B in P)P.hasOwnProperty(B)&&N.sheet.insertRule(B+"{"+P[B].join(";")+"}",++z)}(b,y,"."+x),E}).call(this,this.options.palette),this.customStyleSelector&&_.push(this.customStyleSelector),_}).call(this).join(" ")).replace("{{children}}",(function(){var g={},v=this.options;v.showLink||(v.elements.link="",v.elements.messagelink=v.elements.message),Object.keys(v.elements).forEach(function(b){g[b]=i.interpolateString(v.elements[b],function(x){var E=v.content[x];return x&&typeof E=="string"&&E.length?E:""})});var _=v.compliance[v.type];_||(_=v.compliance.info),g.compliance=i.interpolateString(_,function(b){return g[b]});var y=v.layouts[v.layout];return y||(y=v.layouts.basic),i.interpolateString(y,function(b){return g[b]})}).call(this)),p=this.options.overrideHTML;if(typeof p=="string"&&p.length&&(f=p),this.options.static){var m=c.call(this,'<div class="cc-grower">'+f+"</div>");m.style.display="",this.element=m.firstChild,this.element.style.display="none",i.addClass(this.element,"cc-invisible")}else this.element=c.call(this,f);(function(){var g=this.setStatus.bind(this),v=this.close.bind(this),_=this.options.dismissOnTimeout;typeof _=="number"&&_>=0&&(this.dismissTimeout=window.setTimeout(function(){g(n.status.dismiss),v(!0)},Math.floor(_)));var y=this.options.dismissOnScroll;if(typeof y=="number"&&y>=0){var b=function($){window.pageYOffset>Math.floor(y)&&(g(n.status.dismiss),v(!0),window.removeEventListener("scroll",b),this.onWindowScroll=null)};this.options.enabled&&(this.onWindowScroll=b,window.addEventListener("scroll",b))}var x=this.options.dismissOnWindowClick,E=this.options.ignoreClicksFrom;if(x){var C=(function($){for(var S=!1,P=$.path.length,T=E.length,k=0;k<P;k++)if(!S)for(var L=0;L<T;L++)S||(S=i.hasClass($.path[k],E[L]));S||(g(n.status.dismiss),v(!0),window.removeEventListener("click",C),window.removeEventListener("touchend",C),this.onWindowClick=null)}).bind(this);this.options.enabled&&(this.onWindowClick=C,window.addEventListener("click",C),window.addEventListener("touchend",C))}}).call(this),(function(){if(this.options.type!="info"&&(this.options.revokable=!0),i.isMobile()&&(this.options.animateRevokable=!1),this.options.revokable){var g=l.call(this);this.options.animateRevokable&&g.push("cc-animate"),this.customStyleSelector&&g.push(this.customStyleSelector);var v=this.options.revokeBtn.replace("{{classes}}",g.join(" ")).replace("{{policy}}",this.options.content.policy);this.revokeBtn=c.call(this,v);var _=this.revokeBtn;if(this.options.animateRevokable){var y=i.throttle(function(b){var x=!1,E=window.innerHeight-20;i.hasClass(_,"cc-top")&&b.clientY<20&&(x=!0),i.hasClass(_,"cc-bottom")&&b.clientY>E&&(x=!0),x?i.hasClass(_,"cc-active")||i.addClass(_,"cc-active"):i.hasClass(_,"cc-active")&&i.removeClass(_,"cc-active")},200);this.onMouseMove=y,window.addEventListener("mousemove",y)}}}).call(this),this.options.autoOpen&&this.autoOpen()},o.prototype.destroy=function(){this.onButtonClick&&this.element&&(this.element.removeEventListener("click",this.onButtonClick),this.onButtonClick=null),this.dismissTimeout&&(clearTimeout(this.dismissTimeout),this.dismissTimeout=null),this.onWindowScroll&&(window.removeEventListener("scroll",this.onWindowScroll),this.onWindowScroll=null),this.onWindowClick&&(window.removeEventListener("click",this.onWindowClick),this.onWindowClick=null),this.onMouseMove&&(window.removeEventListener("mousemove",this.onMouseMove),this.onMouseMove=null),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.revokeBtn&&this.revokeBtn.parentNode&&this.revokeBtn.parentNode.removeChild(this.revokeBtn),this.revokeBtn=null,function(d){if(i.isPlainObject(d)){var f=i.hash(JSON.stringify(d)),p=n.customStyles[f];if(p&&!--p.references){var m=p.element.ownerNode;m&&m.parentNode&&m.parentNode.removeChild(m),n.customStyles[f]=null}}}(this.options.palette),this.options=null},o.prototype.open=function(d){if(this.element)return this.isOpen()||(n.hasTransition?this.fadeIn():this.element.style.display="",this.options.revokable&&this.toggleRevokeButton(),this.options.onPopupOpen.call(this)),this},o.prototype.close=function(d){if(this.element)return this.isOpen()&&(n.hasTransition?this.fadeOut():this.element.style.display="none",d&&this.options.revokable&&this.toggleRevokeButton(!0),this.options.onPopupClose.call(this)),this},o.prototype.fadeIn=function(){var d=this.element;if(n.hasTransition&&d&&(this.afterTransition&&s.call(this,d),i.hasClass(d,"cc-invisible"))){if(d.style.display="",this.options.static){var f=this.element.clientHeight;this.element.parentNode.style.maxHeight=f+"px"}this.openingTimeout=setTimeout(a.bind(this,d),20)}},o.prototype.fadeOut=function(){var d=this.element;n.hasTransition&&d&&(this.openingTimeout&&(clearTimeout(this.openingTimeout),a.bind(this,d)),i.hasClass(d,"cc-invisible")||(this.options.static&&(this.element.parentNode.style.maxHeight=""),this.afterTransition=s.bind(this,d),d.addEventListener(n.transitionEnd,this.afterTransition),i.addClass(d,"cc-invisible")))},o.prototype.isOpen=function(){return this.element&&this.element.style.display==""&&(!n.hasTransition||!i.hasClass(this.element,"cc-invisible"))},o.prototype.toggleRevokeButton=function(d){this.revokeBtn&&(this.revokeBtn.style.display=d?"":"none")},o.prototype.revokeChoice=function(d){this.options.enabled=!0,this.clearStatus(),this.options.onRevokeChoice.call(this),d||this.autoOpen()},o.prototype.hasAnswered=function(d){return Object.keys(n.status).indexOf(this.getStatus())>=0},o.prototype.hasConsented=function(d){var f=this.getStatus();return f==n.status.allow||f==n.status.dismiss},o.prototype.autoOpen=function(d){!this.hasAnswered()&&this.options.enabled?this.open():this.hasAnswered()&&this.options.revokable&&this.toggleRevokeButton(!0)},o.prototype.setStatus=function(d){var f=this.options.cookie,p=i.getCookie(f.name),m=Object.keys(n.status).indexOf(p)>=0;Object.keys(n.status).indexOf(d)>=0?(i.setCookie(f.name,d,f.expiryDays,f.domain,f.path,f.secure),this.options.onStatusChange.call(this,d,m)):this.clearStatus()},o.prototype.getStatus=function(){return i.getCookie(this.options.cookie.name)},o.prototype.clearStatus=function(){var d=this.options.cookie;i.setCookie(d.name,"",-1,d.domain,d.path)},o}(),n.Location=function(){var r={timeout:5e3,services:["ipinfo"],serviceDefinitions:{ipinfo:function(){return{url:"//ipinfo.io",headers:["Accept: application/json"],callback:function(c,h){try{var u=JSON.parse(h);return u.error?l(u):{code:u.country}}catch(d){return l({error:"Invalid response ("+d+")"})}}}},ipinfodb:function(c){return{url:"//api.ipinfodb.com/v3/ip-country/?key={api_key}&format=json&callback={callback}",isScript:!0,callback:function(h,u){try{var d=JSON.parse(u);return d.statusCode=="ERROR"?l({error:d.statusMessage}):{code:d.countryCode}}catch(f){return l({error:"Invalid response ("+f+")"})}}}},maxmind:function(){return{url:"//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js",isScript:!0,callback:function(c){window.geoip2?geoip2.country(function(h){try{c({code:h.country.iso_code})}catch(u){c(l(u))}},function(h){c(l(h))}):c(new Error("Unexpected response format. The downloaded script should have exported `geoip2` to the global scope"))}}}}};function o(c){i.deepExtend(this.options={},r),i.isPlainObject(c)&&i.deepExtend(this.options,c),this.currentServiceIndex=-1}function a(c,h,u){var d,f=document.createElement("script");f.type="text/"+(c.type||"javascript"),f.src=c.src||c,f.async=!1,f.onreadystatechange=f.onload=function(){var p=f.readyState;clearTimeout(d),h.done||p&&!/loaded|complete/.test(p)||(h.done=!0,h(),f.onreadystatechange=f.onload=null)},document.body.appendChild(f),d=setTimeout(function(){h.done=!0,h(),f.onreadystatechange=f.onload=null},u)}function s(c,h,u,d,f){var p=new(window.XMLHttpRequest||window.ActiveXObject)("MSXML2.XMLHTTP.3.0");if(p.open(d?"POST":"GET",c,1),p.setRequestHeader("Content-type","application/x-www-form-urlencoded"),Array.isArray(f))for(var m=0,g=f.length;m<g;++m){var v=f[m].split(":",2);p.setRequestHeader(v[0].replace(/^\s+|\s+$/g,""),v[1].replace(/^\s+|\s+$/g,""))}typeof h=="function"&&(p.onreadystatechange=function(){p.readyState>3&&h(p)}),p.send(d)}function l(c){return new Error("Error ["+(c.code||"UNKNOWN")+"]: "+c.error)}return o.prototype.getNextService=function(){var c;do c=this.getServiceByIdx(++this.currentServiceIndex);while(this.currentServiceIndex<this.options.services.length&&!c);return c},o.prototype.getServiceByIdx=function(c){var h=this.options.services[c];if(typeof h=="function"){var u=h();return u.name&&i.deepExtend(u,this.options.serviceDefinitions[u.name](u)),u}return typeof h=="string"?this.options.serviceDefinitions[h]():i.isPlainObject(h)?this.options.serviceDefinitions[h.name](h):null},o.prototype.locate=function(c,h){var u=this.getNextService();u?(this.callbackComplete=c,this.callbackError=h,this.runService(u,this.runNextServiceOnError.bind(this))):h(new Error("No services to run"))},o.prototype.setupUrl=function(c){var h=this.getCurrentServiceOpts();return c.url.replace(/\{(.*?)\}/g,function(u,d){if(d==="callback"){var f="callback"+Date.now();return window[f]=function(p){c.__JSONP_DATA=JSON.stringify(p)},f}if(d in h.interpolateUrl)return h.interpolateUrl[d]})},o.prototype.runService=function(c,h){var u=this;c&&c.url&&c.callback&&(c.isScript?a:s)(this.setupUrl(c),function(d){var f=d?d.responseText:"";c.__JSONP_DATA&&(f=c.__JSONP_DATA,delete c.__JSONP_DATA),u.runServiceCallback.call(u,h,c,f)},this.options.timeout,c.data,c.headers)},o.prototype.runServiceCallback=function(c,h,u){var d=this,f=h.callback(function(p){f||d.onServiceResult.call(d,c,p)},u);f&&this.onServiceResult.call(this,c,f)},o.prototype.onServiceResult=function(c,h){h instanceof Error||h&&h.error?c.call(this,h,null):c.call(this,null,h)},o.prototype.runNextServiceOnError=function(c,h){if(c){this.logError(c);var u=this.getNextService();u?this.runService(u,this.runNextServiceOnError.bind(this)):this.completeService.call(this,this.callbackError,new Error("All services failed"))}else this.completeService.call(this,this.callbackComplete,h)},o.prototype.getCurrentServiceOpts=function(){var c=this.options.services[this.currentServiceIndex];return typeof c=="string"?{name:c}:typeof c=="function"?c():i.isPlainObject(c)?c:{}},o.prototype.completeService=function(c,h){this.currentServiceIndex=-1,c&&c(h)},o.prototype.logError=function(c){var h=this.currentServiceIndex,u=this.getServiceByIdx(h);console.warn("The service["+h+"] ("+u.url+") responded with the following error",c)},o}(),n.Law=function(){var r={regionalLaw:!0,hasLaw:["AT","BE","BG","HR","CZ","CY","DK","EE","FI","FR","DE","EL","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","SK","ES","SE","GB","UK","GR","EU"],revokable:["HR","CY","DK","EE","FR","DE","LV","LT","NL","PT","ES"],explicitAction:["HR","IT","ES"]};function o(a){this.initialise.apply(this,arguments)}return o.prototype.initialise=function(a){i.deepExtend(this.options={},r),i.isPlainObject(a)&&i.deepExtend(this.options,a)},o.prototype.get=function(a){var s=this.options;return{hasLaw:s.hasLaw.indexOf(a)>=0,revokable:s.revokable.indexOf(a)>=0,explicitAction:s.explicitAction.indexOf(a)>=0}},o.prototype.applyLaw=function(a,s){var l=this.get(s);return l.hasLaw||(a.enabled=!1,typeof a.onNoCookieLaw=="function"&&a.onNoCookieLaw(s,l)),this.options.regionalLaw&&(l.revokable&&(a.revokable=!0),l.explicitAction&&(a.dismissOnScroll=!1,a.dismissOnTimeout=!1)),a},o}(),n.initialise=function(r,o,a){var s=new n.Law(r.law);o||(o=function(){}),a||(a=function(){});var l=Object.keys(n.status),c=i.getCookie("cookieconsent_status");l.indexOf(c)>=0?o(new n.Popup(r)):n.getCountryCode(r,function(h){delete r.law,delete r.location,h.code&&(r=s.applyLaw(r,h.code)),o(new n.Popup(r))},function(h){delete r.law,delete r.location,a(h,new n.Popup(r))})},n.getCountryCode=function(r,o,a){r.law&&r.law.countryCode?o({code:r.law.countryCode}):r.location?new n.Location(r.location).locate(function(s){o(s||{})},a):o({})},n.utils=i,n.hasInitialised=!0,window.cookieconsent=n}})(window.cookieconsent||{});/**
 * @license
 * Copyright (c) 2000 - 2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See https://vaadin.com/commercial-license-and-service-terms for the full
 * license.
 */class CookieConsent extends ElementMixin(PolymerElement){static get template(){return html`
      <style>
        :host {
          display: none !important;
        }
      </style>
    `}static get is(){return"vaadin-cookie-consent"}static get cvdlName(){return"vaadin-cookie-consent"}static get properties(){return{message:{type:String,value:"This website uses cookies to ensure you get the best experience."},dismiss:{type:String,value:"Got it!"},learnMore:{type:String,value:"Learn more"},learnMoreLink:{type:String,value:"https://cookiesandyou.com/"},_showLearnMore:{type:Boolean,computed:"_showLink(learnMoreLink)"},position:{type:String,value:"top"},cookieName:{type:String,value:"cookieconsent_status"},_css:{type:Object}}}static get observers(){return["__initialize(_showLearnMore, message, dismiss, learnMore, learnMoreLink, cookieName, position)"]}_showLink(i){return!!i}connectedCallback(){super.connectedCallback(),this._css=document.createElement("style"),this._css.innerText=".cc-window{opacity:1;transition:opacity 1s ease}.cc-window.cc-invisible{opacity:0}.cc-animate.cc-revoke{transition:transform 1s ease}.cc-animate.cc-revoke.cc-top{transform:translateY(-2em)}.cc-animate.cc-revoke.cc-bottom{transform:translateY(2em)}.cc-animate.cc-revoke.cc-active.cc-bottom,.cc-animate.cc-revoke.cc-active.cc-top,.cc-revoke:hover{transform:translateY(0)}.cc-grower{max-height:0;overflow:hidden;transition:max-height 1s}.cc-link,.cc-revoke:hover{text-decoration:underline}.cc-revoke,.cc-window{position:fixed;overflow:hidden;box-sizing:border-box;font-family:Helvetica,Calibri,Arial,sans-serif;font-size:16px;line-height:1.5em;display:-ms-flexbox;display:flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap;z-index:9999}.cc-window.cc-static{position:static}.cc-window.cc-floating{padding:2em;max-width:24em;-ms-flex-direction:column;flex-direction:column}.cc-window.cc-banner{padding:1em 1.8em;width:100%;-ms-flex-direction:row;flex-direction:row}.cc-revoke{padding:.5em}.cc-header{font-size:18px;font-weight:700}.cc-btn,.cc-close,.cc-link,.cc-revoke{cursor:pointer}.cc-link{opacity:.8;display:inline-block;padding:.2em}.cc-link:hover{opacity:1}.cc-link:active,.cc-link:visited{color:initial}.cc-btn{display:block;padding:.4em .8em;font-size:.9em;font-weight:700;border-width:2px;border-style:solid;text-align:center;white-space:nowrap}.cc-banner .cc-btn:last-child{min-width:140px}.cc-highlight .cc-btn:first-child{background-color:transparent;border-color:transparent}.cc-highlight .cc-btn:first-child:focus,.cc-highlight .cc-btn:first-child:hover{background-color:transparent;text-decoration:underline}.cc-close{display:block;position:absolute;top:.5em;right:.5em;font-size:1.6em;opacity:.9;line-height:.75}.cc-close:focus,.cc-close:hover{opacity:1}.cc-revoke.cc-top{top:0;left:3em;border-bottom-left-radius:.5em;border-bottom-right-radius:.5em}.cc-revoke.cc-bottom{bottom:0;left:3em;border-top-left-radius:.5em;border-top-right-radius:.5em}.cc-revoke.cc-left{left:3em;right:unset}.cc-revoke.cc-right{right:3em;left:unset}.cc-top{top:1em}.cc-left{left:1em}.cc-right{right:1em}.cc-bottom{bottom:1em}.cc-floating>.cc-link{margin-bottom:1em}.cc-floating .cc-message{display:block;margin-bottom:1em}.cc-window.cc-floating .cc-compliance{-ms-flex:1 0 auto;flex:1 0 auto}.cc-window.cc-banner{-ms-flex-align:center;align-items:center}.cc-banner.cc-top{left:0;right:0;top:0}.cc-banner.cc-bottom{left:0;right:0;bottom:0}.cc-banner .cc-message{-ms-flex:1;flex:1}.cc-compliance{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-line-pack:justify;align-content:space-between}.cc-compliance>.cc-btn{-ms-flex:1;flex:1}.cc-btn+.cc-btn{margin-left:.5em}@media print{.cc-revoke,.cc-window{display:none}}@media screen and (max-width:900px){.cc-btn{white-space:normal}}@media screen and (max-width:414px) and (orientation:portrait),screen and (max-width:736px) and (orientation:landscape){.cc-window.cc-top{top:0}.cc-window.cc-bottom{bottom:0}.cc-window.cc-banner,.cc-window.cc-left,.cc-window.cc-right{left:0;right:0}.cc-window.cc-banner{-ms-flex-direction:column;flex-direction:column}.cc-window.cc-banner .cc-compliance{-ms-flex:1;flex:1}.cc-window.cc-floating{max-width:none}.cc-window .cc-message{margin-bottom:1em}.cc-window.cc-banner{-ms-flex-align:unset;align-items:unset}}.cc-floating.cc-theme-classic{padding:1.2em;border-radius:5px}.cc-floating.cc-type-info.cc-theme-classic .cc-compliance{text-align:center;display:inline;-ms-flex:none;flex:none}.cc-theme-classic .cc-btn{border-radius:5px}.cc-theme-classic .cc-btn:last-child{min-width:140px}.cc-floating.cc-type-info.cc-theme-classic .cc-btn{display:inline-block}.cc-theme-edgeless.cc-window{padding:0}.cc-floating.cc-theme-edgeless .cc-message{margin:2em 2em 1.5em}.cc-banner.cc-theme-edgeless .cc-btn{margin:0;padding:.8em 1.8em;height:100%}.cc-banner.cc-theme-edgeless .cc-message{margin-left:1em}.cc-floating.cc-theme-edgeless .cc-btn+.cc-btn{margin-left:0}",document.head.appendChild(this._css),this.__initialize(this._showLearnMore,this.message,this.dismiss,this.learnMore,this.learnMoreLink,this.cookieName,this.position)}disconnectedCallback(){super.disconnectedCallback(),this.__closePopup(),this._css.isConnected&&this._css.remove()}__closePopup(){const i=this._getPopup();i&&i.parentNode.removeChild(i)}__initialize(i,t,r,o,a,s,l){this.__closePopup(),window.cookieconsent.initialise({palette:{popup:{background:"#000"},button:{background:"rgba(22, 118, 243, 0.95)",hover:"rgba(22, 118, 243, 1)"}},showLink:i,content:{message:t,dismiss:r,link:o,href:a},cookie:{name:s},position:l,elements:{messagelink:`<span id="cookieconsent:desc" class="cc-message">${t} <a tabindex="0" class="cc-link" href="${a}" target="_blank" rel="noopener noreferrer nofollow">${o}</a></span>`,dismiss:`<a tabindex="0" class="cc-btn cc-dismiss">${r}</a>`}});const c=this._getPopup();if(c){c.setAttribute("role","alert");const h=c.querySelector("a.cc-btn");h.addEventListener("keydown",u=>{const p=u.keyCode||u.which;(p===32||p===13)&&h.click()})}}_getPopup(){return document.querySelector('[aria-label="cookieconsent"]')}_show(){const i=this._getPopup();i&&(i.classList.remove("cc-invisible"),i.style.display="")}}defineCustomElement(CookieConsent);/**
 * @license
 * Copyright 2000-2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 * See <https://vaadin.com/commercial-license-and-service-terms> for the full
 * license.
 */(function(){function n(t){const r=t._getPopup();r&&(r.className=t.className)}const i=new MutationObserver(t=>{t.forEach(r=>{r.type==="attributes"&&r.attributeName==="class"&&n(r.target)})});window.Vaadin.Flow.cookieConsentConnector={initLazy:function(t){t.$connector||(t.$connector={},i.observe(t,{attributes:!0,attributeFilter:["class"]}),n(t))}}})();registerStyles$1("vaadin-form-layout",css$e`
    :host {
      --vaadin-form-layout-column-spacing: var(--lumo-space-l);
    }
  `,{moduleId:"lumo-form-layout"});/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class FormLayout extends ResizeMixin(ElementMixin(ThemableMixin(PolymerElement))){static get template(){return html`
      <style>
        :host {
          display: block;
          max-width: 100%;
          animation: 1ms vaadin-form-layout-appear;
          /* CSS API for host */
          --vaadin-form-item-label-width: 8em;
          --vaadin-form-item-label-spacing: 1em;
          --vaadin-form-item-row-spacing: 1em;
          --vaadin-form-layout-column-spacing: 2em; /* (default) */
          align-self: stretch;
        }

        @keyframes vaadin-form-layout-appear {
          to {
            opacity: 1 !important; /* stylelint-disable-line keyframe-declaration-no-important */
          }
        }

        :host([hidden]) {
          display: none !important;
        }

        #layout {
          display: flex;

          align-items: baseline; /* default \`stretch\` is not appropriate */

          flex-wrap: wrap; /* the items should wrap */
        }

        #layout ::slotted(*) {
          /* Items should neither grow nor shrink. */
          flex-grow: 0;
          flex-shrink: 0;

          /* Margins make spacing between the columns */
          margin-left: calc(0.5 * var(--vaadin-form-layout-column-spacing));
          margin-right: calc(0.5 * var(--vaadin-form-layout-column-spacing));
        }

        #layout ::slotted(br) {
          display: none;
        }
      </style>
      <div id="layout">
        <slot id="slot"></slot>
      </div>
    `}static get is(){return"vaadin-form-layout"}static get properties(){return{responsiveSteps:{type:Array,value(){return[{minWidth:0,columns:1,labelsPosition:"top"},{minWidth:"20em",columns:1},{minWidth:"40em",columns:2}]},observer:"_responsiveStepsChanged"},_columnCount:{type:Number},_labelsOnTop:{type:Boolean}}}static get observers(){return["_invokeUpdateLayout(_columnCount, _labelsOnTop)"]}ready(){this._styleElement=document.createElement("style"),this.appendChild(this._styleElement),this._styleElement.textContent=" ",super.ready(),this.addEventListener("animationend",this.__onAnimationEnd)}connectedCallback(){super.connectedCallback(),requestAnimationFrame(()=>this._selectResponsiveStep()),requestAnimationFrame(()=>this._updateLayout()),this._observeChildrenColspanChange()}disconnectedCallback(){super.disconnectedCallback(),this.__mutationObserver.disconnect(),this.__childObserver.disconnect()}_observeChildrenColspanChange(){const i={attributes:!0};this.__mutationObserver=new MutationObserver(t=>{t.forEach(r=>{r.type==="attributes"&&(r.attributeName==="colspan"||r.attributeName==="hidden")&&this._updateLayout()})}),[...this.children].forEach(t=>{this.__mutationObserver.observe(t,i)}),this.__childObserver=new MutationObserver(t=>{const r=[],o=[];t.forEach(a=>{r.push(...this._getObservableNodes(a.addedNodes)),o.push(...this._getObservableNodes(a.removedNodes))}),r.forEach(a=>{this.__mutationObserver.observe(a,i)}),(r.length>0||o.length>0)&&this._updateLayout()}),this.__childObserver.observe(this,{childList:!0})}_getObservableNodes(i){const t=["template","style","dom-repeat","dom-if"];return Array.from(i).filter(r=>r.nodeType===Node.ELEMENT_NODE&&t.indexOf(r.localName.toLowerCase())===-1)}_naturalNumberOrOne(i){return typeof i=="number"&&i>=1&&i<1/0?Math.floor(i):1}_isValidCSSLength(i){return i==="inherit"||i==="normal"?!1:(this._styleElement.firstChild.nodeValue=`#styleElement { word-spacing: ${i}; }`,this._styleElement.sheet?["",null].indexOf(this._styleElement.sheet.cssRules[0].style.getPropertyValue("word-spacing"))<0:!0)}_responsiveStepsChanged(i,t){try{if(!Array.isArray(i))throw new Error('Invalid "responsiveSteps" type, an Array is required.');if(i.length<1)throw new Error('Invalid empty "responsiveSteps" array, at least one item is required.');i.forEach(r=>{if(this._naturalNumberOrOne(r.columns)!==r.columns)throw new Error(`Invalid 'columns' value of ${r.columns}, a natural number is required.`);if(r.minWidth!==void 0&&!this._isValidCSSLength(r.minWidth))throw new Error(`Invalid 'minWidth' value of ${r.minWidth}, a valid CSS length required.`);if(r.labelsPosition!==void 0&&["aside","top"].indexOf(r.labelsPosition)===-1)throw new Error(`Invalid 'labelsPosition' value of ${r.labelsPosition}, 'aside' or 'top' string is required.`)})}catch(r){t&&t!==i?(console.warn(`${r.message} Using previously set 'responsiveSteps' instead.`),this.responsiveSteps=t):(console.warn(`${r.message} Using default 'responsiveSteps' instead.`),this.responsiveSteps=[{minWidth:0,columns:1,labelsPosition:"top"},{minWidth:"20em",columns:1},{minWidth:"40em",columns:2}])}this._selectResponsiveStep()}__onAnimationEnd(i){i.animationName.indexOf("vaadin-form-layout-appear")===0&&this._selectResponsiveStep()}_selectResponsiveStep(){let i;const t="background-position";this.responsiveSteps.forEach(r=>{this.$.layout.style.setProperty(t,r.minWidth),parseFloat(getComputedStyle(this.$.layout).getPropertyValue(t))<=this.offsetWidth&&(i=r)}),this.$.layout.style.removeProperty(t),i&&(this._columnCount=i.columns,this._labelsOnTop=i.labelsPosition==="top")}_invokeUpdateLayout(){this._updateLayout()}_updateLayout(){const i=getComputedStyle(this),t=i.getPropertyValue("--vaadin-form-layout-column-spacing"),r=i.direction,o=`margin-${r==="ltr"?"left":"right"}`,a=`margin-${r==="ltr"?"right":"left"}`,s=this.offsetWidth;let l=0;Array.from(this.children).filter(c=>c.localName==="br"||getComputedStyle(c).display!=="none").forEach((c,h,u)=>{if(c.localName==="br"){l=0;return}let d;d=this._naturalNumberOrOne(parseFloat(c.getAttribute("colspan"))),d=Math.min(d,this._columnCount);const f=d/this._columnCount;c.style.width=`calc(${f*99.9}% - ${1-f} * ${t})`,l+d>this._columnCount&&(l=0),l===0?c.style.setProperty(o,"0px"):c.style.removeProperty(o);const p=h+1,m=p<u.length&&u[p].localName==="br";if(l+d===this._columnCount)c.style.setProperty(a,"0px");else if(m){const g=(this._columnCount-l-d)/this._columnCount;c.style.setProperty(a,`calc(${g*s}px + ${g} * ${t})`)}else c.style.removeProperty(a);l=(l+d)%this._columnCount,c.localName==="vaadin-form-item"&&(this._labelsOnTop?c.getAttribute("label-position")!=="top"&&(c.__useLayoutLabelPosition=!0,c.setAttribute("label-position","top")):c.__useLayoutLabelPosition&&(delete c.__useLayoutLabelPosition,c.removeAttribute("label-position")))})}_onResize(){this._selectResponsiveStep()}}defineCustomElement(FormLayout);registerStyles$1("vaadin-grid-sorter",css$e`
    :host {
      justify-content: flex-start;
      align-items: baseline;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
      cursor: var(--lumo-clickable-cursor);
    }

    [part='content'] {
      display: inline-block;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    [part='indicators'] {
      margin-left: var(--lumo-space-s);
    }

    [part='indicators']::before {
      transform: scale(0.8);
    }

    :host(:not([direction]):not(:hover)) [part='indicators'] {
      color: var(--lumo-tertiary-text-color);
    }

    :host([direction]) {
      color: var(--vaadin-selection-color-text, var(--lumo-primary-text-color));
    }

    [part='order'] {
      font-size: var(--lumo-font-size-xxs);
      line-height: 1;
    }

    /* RTL specific styles */

    :host([dir='rtl']) [part='indicators'] {
      margin-right: var(--lumo-space-s);
      margin-left: 0;
    }
  `,{moduleId:"lumo-grid-sorter"});/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const template$6=document.createElement("template");template$6.innerHTML=`
  <style>
    @font-face {
      font-family: 'vaadin-grid-sorter-icons';
      src: url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAQwAA0AAAAABuwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAEFAAAABkAAAAcfep+mUdERUYAAAP4AAAAHAAAAB4AJwAOT1MvMgAAAZgAAAA/AAAAYA8TBPpjbWFwAAAB7AAAAFUAAAFeF1fZ4mdhc3AAAAPwAAAACAAAAAgAAAAQZ2x5ZgAAAlgAAABcAAAAnMvguMloZWFkAAABMAAAAC8AAAA2C5Ap72hoZWEAAAFgAAAAHQAAACQGbQPHaG10eAAAAdgAAAAUAAAAHAoAAABsb2NhAAACRAAAABIAAAASAIwAYG1heHAAAAGAAAAAFgAAACAACwAKbmFtZQAAArQAAAECAAACZxWCgKhwb3N0AAADuAAAADUAAABZCrApUXicY2BkYGAA4rDECVrx/DZfGbhZGEDgyqNPOxH0/wNMq5kPALkcDEwgUQBWRA0dAHicY2BkYGA+8P8AAwMLAwgwrWZgZEAFbABY4QM8AAAAeJxjYGRgYOAAQiYGEICQSAAAAi8AFgAAeJxjYGY6yziBgZWBgWkm0xkGBoZ+CM34msGYkZMBFTAKoAkwODAwvmRiPvD/AIMDMxCD1CDJKjAwAgBktQsXAHicY2GAAMZQCM0EwqshbAALxAEKeJxjYGBgZoBgGQZGBhCIAPIYwXwWBhsgzcXAwcAEhIwMCi+Z/v/9/x+sSuElA4T9/4k4K1gHFwMMMILMY2QDYmaoABOQYGJABUA7WBiGNwAAJd4NIQAAAAAAAAAACAAIABAAGAAmAEAATgAAeJyNjLENgDAMBP9tIURJwQCMQccSZgk2i5fIYBDAidJjycXr7x5EPwE2wY8si7jmyBNXGo/bNBerxJNrpxhbO3/fEFpx8ZICpV+ghxJ74fAMe+h7Ox14AbrsHB14nK2QQWrDMBRER4mTkhQK3ZRQKOgCNk7oGQqhhEIX2WSlWEI1BAlkJ5CDdNsj5Ey9Rncdi38ES+jzNJo/HwTgATcoDEthhY3wBHc4CE+pfwsX5F/hGe7Vo/AcK/UhvMSz+mGXKhZU6pww8ISz3oWn1BvhgnwTnuEJf8Jz1OpFeIlX9YULDLdFi4ASHolkSR0iuYdjLak1vAequBhj21D61Nqyi6l3qWybGPjySbPHGScGJl6dP58MYcQRI0bts7mjebBqrFENH7t3qWtj0OuqHnXcW7b0HOTZFnKryRGW2hFX1m0O2vEM3opNMfTau+CS6Z3Vx6veNnEXY6jwDxhsc2gAAHicY2BiwA84GBgYmRiYGJkZmBlZGFkZ2djScyoLMgzZS/MyDQwMwLSrpYEBlIbxjQDrzgsuAAAAAAEAAf//AA94nGNgZGBg4AFiMSBmYmAEQnYgZgHzGAAD6wA2eJxjYGBgZACCKyoz1cD0o087YTQATOcIewAAAA==) format('woff');
      font-weight: normal;
      font-style: normal;
    }
  </style>
`;document.head.appendChild(template$6.content);registerStyles$1("vaadin-grid-sorter",css$e`
    :host {
      display: inline-flex;
      cursor: pointer;
      max-width: 100%;
    }

    [part='content'] {
      flex: 1 1 auto;
    }

    [part='indicators'] {
      position: relative;
      align-self: center;
      flex: none;
    }

    [part='order'] {
      display: inline;
      vertical-align: super;
    }

    [part='indicators']::before {
      font-family: 'vaadin-grid-sorter-icons';
      display: inline-block;
    }

    :host(:not([direction])) [part='indicators']::before {
      content: '\\e901';
    }

    :host([direction='asc']) [part='indicators']::before {
      content: '\\e900';
    }

    :host([direction='desc']) [part='indicators']::before {
      content: '\\e902';
    }
  `,{moduleId:"vaadin-grid-sorter-styles"});const GridSorterMixin=n=>class extends n{static get properties(){return{path:String,direction:{type:String,reflectToAttribute:!0,notify:!0,value:null,sync:!0},_order:{type:Number,value:null,sync:!0},_isConnected:{type:Boolean,observer:"__isConnectedChanged"}}}static get observers(){return["_pathOrDirectionChanged(path, direction)"]}ready(){super.ready(),this.addEventListener("click",this._onClick.bind(this))}connectedCallback(){super.connectedCallback(),this._isConnected=!0}disconnectedCallback(){super.disconnectedCallback(),this._isConnected=!1,!this.parentNode&&this._grid&&this._grid.__removeSorters([this])}_pathOrDirectionChanged(){this.__dispatchSorterChangedEvenIfPossible()}__isConnectedChanged(t,r){r!==!1&&this.__dispatchSorterChangedEvenIfPossible()}__dispatchSorterChangedEvenIfPossible(){this.path===void 0||this.direction===void 0||!this._isConnected||(this.dispatchEvent(new CustomEvent("sorter-changed",{detail:{shiftClick:!!this._shiftClick,fromSorterClick:!!this._fromSorterClick},bubbles:!0,composed:!0})),this._fromSorterClick=!1,this._shiftClick=!1)}_getDisplayOrder(t){return t===null?"":t+1}_onClick(t){if(t.defaultPrevented)return;const r=this.getRootNode().activeElement;this!==r&&this.contains(r)||(t.preventDefault(),this._shiftClick=t.shiftKey,this._fromSorterClick=!0,this.direction==="asc"?this.direction="desc":this.direction==="desc"?this.direction=null:this.direction="asc")}};/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class GridSorter extends GridSorterMixin(ThemableMixin(DirMixin(PolymerElement))){static get template(){return html`
      <div part="content">
        <slot></slot>
      </div>
      <div part="indicators">
        <span part="order">[[_getDisplayOrder(_order)]]</span>
      </div>
    `}static get is(){return"vaadin-grid-sorter"}}defineCustomElement(GridSorter);registerStyles$1("vaadin-crud-edit",css$e`
    :host {
      min-width: auto;
      margin: 0;
      font-family: 'lumo-icons', var(--lumo-font-family);
      font-size: var(--lumo-icon-size-m);
      line-height: 1;
      position: relative;
      width: var(--lumo-size-s);
      height: var(--lumo-size-s);
      outline: none;
    }

    [part='icon']::before {
      content: var(--lumo-icons-edit);
      width: var(--lumo-size-m);
      height: var(--lumo-size-m);
      line-height: var(--lumo-size-m);
      text-align: center;
      position: absolute;
      top: calc((var(--lumo-size-m) - var(--lumo-size-s)) / -2);
      left: calc((var(--lumo-size-m) - var(--lumo-size-s)) / -2);
    }
  `,{moduleId:"lumo-crud-grid-edit"});const editorStyles=css$e`
  [part='header'] ::slotted(h3) {
    margin-top: 0 !important;
  }

  :host(:not([dir='rtl'])) ::slotted([slot='delete-button']) {
    margin-right: auto;
  }

  :host([dir='rtl']) ::slotted([slot='delete-button']) {
    margin-left: auto;
  }
`;registerStyles$1("vaadin-crud",[editorStyles,css$e`
      :host {
        font-family: var(--lumo-font-family);
        --_focus-ring-color: var(--vaadin-focus-ring-color, var(--lumo-primary-color-50pct));
        --_focus-ring-width: var(--vaadin-focus-ring-width, 2px);
      }

      [part='scroller'] {
        padding: var(--lumo-space-l);
      }

      [part='toolbar'] {
        padding: var(--lumo-space-s) var(--lumo-space-m);
        background-color: var(--lumo-contrast-5pct);
        border: 1px solid var(--lumo-contrast-10pct);
        border-top: none;
      }

      :host(:not([dir='rtl'])) [part='toolbar'] ::slotted(*:not(:first-child)) {
        margin-left: var(--lumo-space-s);
      }

      :host([dir='rtl']) [part='toolbar'] ::slotted(*:not(:first-child)) {
        margin-right: var(--lumo-space-s);
      }

      :host([theme~='no-border']) [part='toolbar'] {
        border: 0;
      }

      [part='footer'] {
        background-color: var(--lumo-contrast-5pct);
        padding: var(--lumo-space-s);
      }

      [part='footer'] ::slotted(*) {
        margin-left: var(--lumo-space-s);
        margin-right: var(--lumo-space-s);
      }

      [part='editor'] {
        background: var(--lumo-base-color);
        box-sizing: border-box;
        position: relative;
      }

      [part='editor']:focus::before {
        position: absolute;
        inset: 0;
        content: '';
        box-shadow: inset 0 0 0 var(--_focus-ring-width) var(--_focus-ring-color);
      }

      :host(:not([editor-position=''])) [part='editor']:not([hidden]) {
        box-shadow: var(--lumo-box-shadow-m);
      }

      :host(:not([theme~='no-border']):not([editor-position=''])) [part='editor']:not([hidden]) {
        border: 1px solid var(--lumo-contrast-20pct);
      }

      :host(:not([theme~='no-border'])[editor-position='bottom']) [part='editor']:not([hidden]) {
        border-top: 0;
      }

      :host(:not([dir='rtl'])[editor-position='aside']) [part='editor']:not([hidden]) {
        border-left: 0;
      }

      :host([dir='rtl']:not([theme~='no-border'])[editor-position='aside']) [part='editor']:not([hidden]) {
        border-right: 0;
      }
    `],{moduleId:"lumo-crud"});registerStyles$1("vaadin-crud-dialog-overlay",[overlay,dialogOverlay$1,editorStyles,css$e`
      [part='header'] ::slotted(h3) {
        margin-top: 0 !important;
        margin-bottom: 0 !important;
        margin-inline-start: var(--lumo-space-s);
      }
    `],{moduleId:"lumo-crud-dialog-overlay"});/**
 * @license
 * Copyright (c) 2000 - 2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See https://vaadin.com/commercial-license-and-service-terms for the full
 * license.
 */const crudDialogOverlay=css$e`
  [part='overlay'] {
    max-width: 54em;
    min-width: 20em;
  }

  [part='footer'] {
    justify-content: flex-start;
    flex-direction: row-reverse;
  }

  /* Make buttons clickable */
  [part='footer'] ::slotted(:not([disabled])) {
    pointer-events: all;
  }

  :host([fullscreen]) {
    inset: 0;
    padding: 0;
  }

  :host([fullscreen]) [part='overlay'] {
    height: 100vh;
    width: 100vw;
    border-radius: 0 !important;
  }

  :host([fullscreen]) [part='content'] {
    flex: 1;
  }
`;registerStyles$1("vaadin-crud-dialog-overlay",[overlayStyles,dialogOverlay,resizableOverlay,crudDialogOverlay],{moduleId:"vaadin-crud-dialog-overlay-styles"});class CrudDialogOverlay extends OverlayMixin(DirMixin(ThemableMixin(PolymerElement))){static get is(){return"vaadin-crud-dialog-overlay"}static get template(){return html`
      <div part="backdrop" id="backdrop" hidden$="[[!withBackdrop]]"></div>
      <div part="overlay" id="overlay" tabindex="0">
        <section id="resizerContainer" class="resizer-container">
          <header part="header"><slot name="header"></slot></header>
          <div part="content" id="content">
            <slot name="form"></slot>
          </div>
          <footer part="footer" role="toolbar">
            <slot name="save-button"></slot>
            <slot name="cancel-button"></slot>
            <slot name="delete-button"></slot>
          </footer>
        </section>
      </div>
    `}ready(){super.ready(),this.setAttribute("has-header",""),this.setAttribute("has-footer","")}}defineCustomElement(CrudDialogOverlay);class CrudDialog extends DialogBaseMixin(OverlayClassMixin(ThemePropertyMixin(PolymerElement))){static get is(){return"vaadin-crud-dialog"}static get properties(){return{ariaLabel:{type:String},fullscreen:{type:Boolean}}}static get template(){return html`
      <style>
        :host {
          display: none;
        }
      </style>

      <vaadin-crud-dialog-overlay
        id="overlay"
        opened="[[opened]]"
        aria-label$="[[ariaLabel]]"
        on-opened-changed="_onOverlayOpened"
        on-mousedown="_bringOverlayToFront"
        on-touchstart="_bringOverlayToFront"
        theme$="[[_theme]]"
        modeless="[[modeless]]"
        with-backdrop="[[!modeless]]"
        resizable$="[[resizable]]"
        fullscreen$="[[fullscreen]]"
        focus-trap
      ></vaadin-crud-dialog-overlay>
    `}}defineCustomElement(CrudDialog);/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const GridColumnGroupMixin=n=>class extends ColumnBaseMixin(n){static get properties(){return{_childColumns:{value(){return this._getChildColumns(this)}},flexGrow:{type:Number,readOnly:!0,sync:!0},width:{type:String,readOnly:!0},_visibleChildColumns:Array,_colSpan:Number,_rootColumns:Array}}static get observers(){return["_groupFrozenChanged(frozen, _rootColumns)","_groupFrozenToEndChanged(frozenToEnd, _rootColumns)","_groupHiddenChanged(hidden)","_colSpanChanged(_colSpan, _headerCell, _footerCell)","_groupOrderChanged(_order, _rootColumns)","_groupReorderStatusChanged(_reorderStatus, _rootColumns)","_groupResizableChanged(resizable, _rootColumns)"]}connectedCallback(){super.connectedCallback(),this._addNodeObserver(),this._updateFlexAndWidth()}disconnectedCallback(){super.disconnectedCallback(),this._observer&&this._observer.disconnect()}_columnPropChanged(i,t){i==="hidden"&&(this._preventHiddenSynchronization=!0,this._updateVisibleChildColumns(this._childColumns),this._preventHiddenSynchronization=!1),/flexGrow|width|hidden|_childColumns/u.test(i)&&this._updateFlexAndWidth(),i==="frozen"&&!this.frozen&&(this.frozen=t),i==="lastFrozen"&&!this._lastFrozen&&(this._lastFrozen=t),i==="frozenToEnd"&&!this.frozenToEnd&&(this.frozenToEnd=t),i==="firstFrozenToEnd"&&!this._firstFrozenToEnd&&(this._firstFrozenToEnd=t)}_groupOrderChanged(i,t){if(t){const r=t.slice(0);if(!i){r.forEach(l=>{l._order=0});return}const o=/(0+)$/u.exec(i).pop().length,a=~~(Math.log(t.length)/Math.LN10)+1,s=10**(o-a);r[0]&&r[0]._order&&r.sort((l,c)=>l._order-c._order),updateColumnOrders(r,s,i)}}_groupReorderStatusChanged(i,t){i===void 0||t===void 0||t.forEach(r=>{r._reorderStatus=i})}_groupResizableChanged(i,t){i===void 0||t===void 0||t.forEach(r=>{r.resizable=i})}_updateVisibleChildColumns(i){this._visibleChildColumns=Array.prototype.filter.call(i,t=>!t.hidden),this._colSpan=this._visibleChildColumns.length,this._updateAutoHidden()}_updateFlexAndWidth(){if(this._visibleChildColumns){if(this._visibleChildColumns.length>0){const i=this._visibleChildColumns.reduce((t,r)=>(t+=` + ${(r.width||"0px").replace("calc","")}`,t),"").substring(3);this._setWidth(`calc(${i})`)}else this._setWidth("0px");this._setFlexGrow(Array.prototype.reduce.call(this._visibleChildColumns,(i,t)=>i+t.flexGrow,0))}}__scheduleAutoFreezeWarning(i,t){if(this._grid){const r=t.replace(/([A-Z])/gu,"-$1").toLowerCase(),o=i[0][t]||i[0].hasAttribute(r);i.every(s=>(s[t]||s.hasAttribute(r))===o)||(this._grid.__autoFreezeWarningDebouncer=Debouncer$1.debounce(this._grid.__autoFreezeWarningDebouncer,animationFrame,()=>{console.warn(`WARNING: Joining ${t} and non-${t} Grid columns inside the same column group! This will automatically freeze all the joined columns to avoid rendering issues. If this was intentional, consider marking each joined column explicitly as ${t}. Otherwise, exclude the ${t} columns from the joined group.`)}))}}_groupFrozenChanged(i,t){t===void 0||i===void 0||i!==!1&&(this.__scheduleAutoFreezeWarning(t,"frozen"),Array.from(t).forEach(r=>{r.frozen=i}))}_groupFrozenToEndChanged(i,t){t===void 0||i===void 0||i!==!1&&(this.__scheduleAutoFreezeWarning(t,"frozenToEnd"),Array.from(t).forEach(r=>{r.frozenToEnd=i}))}_groupHiddenChanged(i){(i||this.__groupHiddenInitialized)&&this._synchronizeHidden(),this.__groupHiddenInitialized=!0}_updateAutoHidden(){const i=this._autoHidden;this._autoHidden=(this._visibleChildColumns||[]).length===0,(i||this._autoHidden)&&(this.hidden=this._autoHidden)}_synchronizeHidden(){this._childColumns&&!this._preventHiddenSynchronization&&this._childColumns.forEach(i=>{i.hidden=this.hidden})}_colSpanChanged(i,t,r){t&&(t.setAttribute("colspan",i),this._grid&&this._grid._a11yUpdateCellColspan(t,i)),r&&(r.setAttribute("colspan",i),this._grid&&this._grid._a11yUpdateCellColspan(r,i))}_getChildColumns(i){return ColumnObserver.getColumns(i)}_addNodeObserver(){this._observer=new ColumnObserver(this,()=>{this._preventHiddenSynchronization=!0,this._rootColumns=this._getChildColumns(this),this._childColumns=this._rootColumns,this._updateVisibleChildColumns(this._childColumns),this._preventHiddenSynchronization=!1,this._grid&&this._grid._debounceUpdateColumnTree&&this._grid._debounceUpdateColumnTree()}),this._observer.flush()}_isColumnElement(i){return i.nodeType===Node.ELEMENT_NODE&&/\bcolumn\b/u.test(i.localName)}};/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class GridColumnGroup extends GridColumnGroupMixin(PolymerElement){static get is(){return"vaadin-grid-column-group"}}defineCustomElement(GridColumnGroup);/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-grid-filter",css$e`
    :host {
      display: inline-flex;
      max-width: 100%;
    }

    ::slotted(*) {
      width: 100%;
      box-sizing: border-box;
    }
  `,{moduleId:"vaadin-grid-filter-styles"});const GridFilterElementMixin=n=>class extends ControllerMixin(n){static get properties(){return{path:{type:String,sync:!0},value:{type:String,notify:!0,sync:!0},_textField:{type:Object,sync:!0}}}static get observers(){return["_filterChanged(path, value, _textField)"]}ready(){super.ready(),this._filterController=new SlotController(this,"","vaadin-text-field",{initializer:i=>{i.addEventListener("value-changed",t=>{if(i.__previousValue===void 0&&t.detail.value===""){i.__previousValue=t.detail.value;return}this.value=t.detail.value}),this._textField=i}}),this.addController(this._filterController)}_filterChanged(i,t,r){i===void 0||t===void 0||!r||this._previousValue===void 0&&t===""||(r.value=t,this._previousValue=t,this._debouncerFilterChanged=Debouncer$1.debounce(this._debouncerFilterChanged,timeOut.after(200),()=>{this.dispatchEvent(new CustomEvent("filter-changed",{bubbles:!0}))}))}focus(){this._textField&&this._textField.focus()}};/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class GridFilter extends GridFilterElementMixin(ThemableMixin(PolymerElement)){static get template(){return html`<slot></slot>`}static get is(){return"vaadin-grid-filter"}}defineCustomElement(GridFilter);/**
 * @license
 * Copyright (c) 2000 - 2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See https://vaadin.com/commercial-license-and-service-terms for the full
 * license.
 */registerStyles$1("vaadin-crud-edit",css$e`
    :host {
      display: block;
    }
  `,{moduleId:"vaadin-crud-edit-styles"});class CrudEdit extends Button{static get template(){return html`
      <div part="icon"></div>
      <slot name="tooltip"></slot>
    `}static get is(){return"vaadin-crud-edit"}ready(){super.ready(),this.addEventListener("click",this.__onClick),this.setAttribute("aria-label","Edit")}__onClick(i){const t=i.target.parentElement.assignedSlot.parentElement.parentElement;t.dispatchEvent(new CustomEvent("edit",{detail:{item:t._item,index:t.index},bubbles:!0,composed:!0}))}}defineCustomElement(CrudEdit);/**
 * @license
 * Copyright (c) 2000 - 2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See https://vaadin.com/commercial-license-and-service-terms for the full
 * license.
 */class CrudEditColumn extends GridColumn{static get is(){return"vaadin-crud-edit-column"}static get properties(){return{width:{type:String,value:"4rem"},flexGrow:{type:Number,value:0},ariaLabel:String}}static get observers(){return["_onRendererOrBindingChanged(_renderer, _cells, _bodyContentHidden, _cells.*, path, ariaLabel)"]}_defaultRenderer(i,t){let r=i.firstElementChild;r||(r=document.createElement("vaadin-crud-edit"),this.hasAttribute("theme")&&r.setAttribute("theme",this.getAttribute("theme")),i.appendChild(r)),this.ariaLabel?r.setAttribute("aria-label",this.ariaLabel):r.removeAttribute("aria-label")}}defineCustomElement(CrudEditColumn);/**
 * @license
 * Copyright (c) 2000 - 2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See https://vaadin.com/commercial-license-and-service-terms for the full
 * license.
 */function capitalize(n){return n.toLowerCase().replace(/([^\w]+)/gu," ").trim().replace(/^./u,i=>i.toUpperCase())}function getProperty(n,i){return get$6(i,n)}function setProperty(n,i,t){t&&n&&(n.split(".").slice(0,-1).reduce((r,o)=>(r[o]||(r[o]={}),r[o]),t),set$1(t,n,i))}/**
 * @license
 * Copyright (c) 2000 - 2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See https://vaadin.com/commercial-license-and-service-terms for the full
 * license.
 */const IncludedMixin=n=>class extends n{static get properties(){return{exclude:{value:"^_",observer:"__onExcludeChange"},include:{observer:"__onIncludeChange"}}}__onExcludeChange(t){typeof t=="string"&&(this.exclude=t?RegExp(t.replace(/, */gu,"|"),"iu"):void 0)}__onIncludeChange(t){if(typeof t=="string")this.include=t?t.split(/, */u):void 0;else if(!this._fields&&Array.isArray(t)){const r={};this.include.forEach(o=>{setProperty(o,null,r)}),this._configure(r)}}};/**
 * @license
 * Copyright (c) 2000 - 2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See https://vaadin.com/commercial-license-and-service-terms for the full
 * license.
 */class CrudGrid extends IncludedMixin(Grid){static get is(){return"vaadin-crud-grid"}static get properties(){return{noFilter:Boolean,noSort:Boolean,noHead:Boolean,__hideEditColumn:Boolean}}static get observers(){return["__onItemsChange(items)","__onHideEditColumnChange(hideEditColumn)"]}__onItemsChange(i){(!this.dataProvider||this.dataProvider===this._arrayDataProvider)&&!this.include&&i&&i[0]&&this._configure(i[0])}__onHideEditColumnChange(){this.firstChild&&this.__toggleEditColumn()}__toggleEditColumn(){let i=this.querySelector("vaadin-crud-edit-column");this.hideEditColumn?i&&this.removeChild(i):i||(i=document.createElement("vaadin-crud-edit-column"),i.frozenToEnd=!0,this.appendChild(i))}__dataProviderWrapper(i,t){this.__dataProvider(i,(r,o)=>{this.innerHTML===""&&!this.include&&r[0]&&this._configure(r[0]),t(r,o)})}_dataProviderChanged(i,t){this._arrayDataProvider===i?super._dataProviderChanged(i,t):this.__dataProviderWrapper!==i&&(this.innerHTML="",this.__dataProvider=i,this.dataProvider=this.__dataProviderWrapper,super._dataProviderChanged(this.__dataProviderWrapper,t))}_configure(i){this.innerHTML="",this.__createColumns(this,i,void 0,this.__getPropertyDepth(i)),this.__toggleEditColumn()}__getPropertyDepth(i){return!i||typeof i!="object"?0:Object.keys(i).reduce((t,r)=>this.exclude&&this.exclude.test(r)?t:Math.max(t,1+this.__getPropertyDepth(i[r])),0)}_generateHeader(i){return i.substr(i.lastIndexOf(".")+1).replace(/([A-Z])/gu,"-$1").toLowerCase().replace(/-/gu," ").replace(/^./u,t=>t.toUpperCase())}__createColumn(i,t){let r;!this.noFilter&&!this.noSort&&!i.__sortColumnGroup?(r=this.__createGroup(i),r.__sortColumnGroup=!0,this.__createColumn(r,t)):(r=document.createElement("vaadin-grid-column"),i.appendChild(r),r.renderer=(o,a,s)=>{o.textContent=t?getProperty(t,s.item):s.item}),!this.noHead&&t&&(r.headerRenderer=o=>{if(o.firstElementChild)return;const a=this._generateHeader(t);if(r.__sortColumnGroup||this.noFilter&&!this.noSort){const s=document.createElement("vaadin-grid-sorter");s.setAttribute("path",t),s.setAttribute("aria-label",`Sort by ${a}`),s.textContent=a,o.appendChild(s)}else if(this.noFilter)this.noSort&&this.noFilter&&(o.textContent=a);else{const s=document.createElement("vaadin-grid-filter");s.setAttribute("path",t),s.setAttribute("aria-label",`Filter by ${a}`),s.style.display="flex";const l=window.document.createElement("vaadin-text-field");l.setAttribute("theme","small"),l.setAttribute("focus-target",!0),l.style.width="100%",this.noSort&&(l.placeholder=a),l.addEventListener("value-changed",c=>{s.value=c.detail.value}),s.appendChild(l),o.appendChild(s)}})}__createColumns(i,t,r,o){t&&typeof t=="object"?Object.keys(t).forEach(a=>{if(!this.include&&this.exclude&&this.exclude.test(a))return;const s=t[a],l=r?`${r}.${a}`:a;let c=i;if(!this.noHead&&o>1){const h=s&&typeof s=="object";c=this.__createGroup(i,h?a:void 0)}this.__createColumns(c,s,l,o-1)}):o>1?this.__createColumns(this.__createGroup(i),void 0,r,o-1):this.__createColumn(i,r)}__createGroup(i,t){const r=document.createElement("vaadin-grid-column-group");return t&&(r.header=capitalize(t)),i.appendChild(r),r}}defineCustomElement(CrudGrid);/**
 * @license
 * Copyright (c) 2000 - 2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See https://vaadin.com/commercial-license-and-service-terms for the full
 * license.
 */class CrudForm extends IncludedMixin(FormLayout){static get is(){return"vaadin-crud-form"}static get properties(){return{item:Object}}static get observers(){return["__onItemChange(item)"]}_configure(i){this.innerHTML="",this._fields=[],this.__createFields(this,i),this._updateLayout()}__onItemChange(i){this._fields||this._configure(i)}__createField(i,t){const r=document.createElement("vaadin-text-field");return r.label=capitalize(t),r.path=t,r.required=!0,i.appendChild(r),this._fields.push(r),r}__createFields(i,t,r){Object.keys(t).forEach(o=>{if(!this.include&&this.exclude&&this.exclude.test(o))return;const a=(r?`${r}.`:"")+o;t[o]&&typeof t[o]=="object"?this.__createFields(i,t[o],a):this.__createField(i,a)}),this._fields.length||(this._fields=void 0)}}defineCustomElement(CrudForm);/**
 * @license
 * Copyright (c) 2000 - 2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See https://vaadin.com/commercial-license-and-service-terms for the full
 * license.
 */class ButtonSlotController extends SlotController{constructor(i,t,r){super(i,`${t}-button`,"vaadin-button"),this.type=t,this.theme=r}initNode(i){i._isDefault&&(this.defaultNode=i),i===this.defaultNode&&i.setAttribute("theme",this.theme);const{host:t,type:r}=this,o=`_${r}Button`,a=`__${r}`;t[o]&&t[o]!==i&&t[o].remove(),i.addEventListener("click",t[a]),t[o]=i}}class FormSlotController extends SlotController{constructor(i){super(i,"form","vaadin-crud-form")}initNode(i){this.host._form=i,this.host.editorOpened&&this.host.__ensureChildren()}}class GridSlotController extends SlotController{constructor(i){super(i,"grid","vaadin-crud-grid")}initNode(i){const{host:t}=this;queueMicrotask(()=>{t.__editOnClickChanged(!1,t._grid),t._grid=i,t.__editOnClickChanged(t.editOnClick,t._grid)})}}/**
 * @license
 * Copyright (c) 2000 - 2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See https://vaadin.com/commercial-license-and-service-terms for the full
 * license.
 */class Crud extends ControllerMixin(ElementMixin(ThemableMixin(PolymerElement))){static get template(){return html`
      <style>
        :host {
          width: 100%;
          height: 400px;
          --vaadin-crud-editor-max-height: 40%;
          --vaadin-crud-editor-max-width: 40%;
        }

        :host,
        #main {
          display: flex;
          flex-direction: column;
          align-self: stretch;
          position: relative;
          overflow: hidden;
        }

        #main {
          flex: 1 1 100%;
          height: 100%;
        }

        :host([hidden]),
        [hidden] {
          display: none !important;
        }

        [part='toolbar'] {
          display: flex;
          flex-shrink: 0;
          align-items: baseline;
          justify-content: flex-end;
        }

        :host([no-toolbar]) [part='toolbar'] {
          display: none;
        }

        #container {
          display: flex;
          height: 100%;
        }

        :host([editor-position='bottom']) #container {
          flex-direction: column;
        }

        [part='editor'] {
          z-index: 1;
          display: flex;
          flex-direction: column;
          height: 100%;
          outline: none;
        }

        :host(:not([editor-position=''])[editor-opened]:not([fullscreen])) [part='editor'] {
          flex: 1 0 100%;
        }

        :host([editor-position='bottom'][editor-opened]:not([fullscreen])) [part='editor'] {
          max-height: var(--vaadin-crud-editor-max-height);
        }

        :host([editor-position='aside'][editor-opened]:not([fullscreen])) [part='editor'] {
          min-width: 300px;
          max-width: var(--vaadin-crud-editor-max-width);
        }

        [part='scroller'] {
          display: flex;
          flex-direction: column;
          overflow: auto;
          flex: auto;
        }

        [part='footer'] {
          display: flex;
          flex: none;
          flex-direction: row-reverse;
        }
      </style>

      <div id="container">
        <div id="main">
          <slot name="grid"></slot>

          <div id="toolbar" part="toolbar">
            <slot name="toolbar"></slot>
            <slot name="new-button"></slot>
          </div>
        </div>

        <div
          part="editor"
          id="editor"
          role="group"
          aria-labelledby="header"
          hidden$="[[__computeEditorHidden(editorOpened, _fullscreen, editorPosition)]]"
        >
          <div part="scroller" id="scroller">
            <div part="header" id="header">
              <slot name="header"></slot>
            </div>
            <slot name="form"></slot>
          </div>

          <div part="footer" role="toolbar">
            <slot name="save-button"></slot>
            <slot name="cancel-button"></slot>
            <slot name="delete-button"></slot>
          </div>
        </div>
      </div>

      <vaadin-crud-dialog
        id="dialog"
        opened="[[__computeDialogOpened(editorOpened, _fullscreen, editorPosition)]]"
        fullscreen="[[_fullscreen]]"
        aria-label="[[__dialogAriaLabel]]"
        no-close-on-outside-click="[[__isDirty]]"
        no-close-on-esc="[[__isDirty]]"
        theme$="[[_theme]]"
        on-opened-changed="__onDialogOpened"
      ></vaadin-crud-dialog>

      <vaadin-confirm-dialog
        theme$="[[_theme]]"
        id="confirmCancel"
        on-confirm="__confirmCancel"
        cancel-button-visible
        confirm-text="[[i18n.confirm.cancel.button.confirm]]"
        cancel-text="[[i18n.confirm.cancel.button.dismiss]]"
        header="[[i18n.confirm.cancel.title]]"
        message="[[i18n.confirm.cancel.content]]"
        confirm-theme="primary"
      ></vaadin-confirm-dialog>

      <vaadin-confirm-dialog
        theme$="[[_theme]]"
        id="confirmDelete"
        on-confirm="__confirmDelete"
        cancel-button-visible
        confirm-text="[[i18n.confirm.delete.button.confirm]]"
        cancel-text="[[i18n.confirm.delete.button.dismiss]]"
        header="[[i18n.confirm.delete.title]]"
        message="[[i18n.confirm.delete.content]]"
        confirm-theme="primary error"
      ></vaadin-confirm-dialog>
    `}static get is(){return"vaadin-crud"}static get cvdlName(){return"vaadin-crud"}static get properties(){return{_grid:{type:Object,observer:"__gridChanged"},_form:{type:Object,observer:"__formChanged"},_saveButton:{type:Object},_deleteButton:{type:Object},_cancelButton:{type:Object},_defaultHeader:{type:Object},_newButton:{type:Object},items:{type:Array,notify:!0,observer:"__itemsChanged"},editedItem:{type:Object,observer:"__editedItemChanged",notify:!0},editorPosition:{type:String,value:"",reflectToAttribute:!0,observer:"__editorPositionChanged"},editOnClick:{type:Boolean,value:!1},dataProvider:{type:Function,observer:"__dataProviderChanged"},noFilter:Boolean,noSort:Boolean,noHead:Boolean,include:String,exclude:String,editorOpened:{type:Boolean,reflectToAttribute:!0,notify:!0,observer:"__editorOpenedChanged"},size:{type:Number,readOnly:!0,notify:!0},noToolbar:{type:Boolean,value:!1,reflectToAttribute:!0},i18n:{type:Object,value(){return{newItem:"New item",editItem:"Edit item",saveItem:"Save",cancel:"Cancel",deleteItem:"Delete...",editLabel:"Edit",confirm:{delete:{title:"Delete item",content:"Are you sure you want to delete this item? This action cannot be undone.",button:{confirm:"Delete",dismiss:"Cancel"}},cancel:{title:"Discard changes",content:"There are unsaved changes to this item.",button:{confirm:"Discard",dismiss:"Cancel"}}}}}},__dialogAriaLabel:String,__isDirty:Boolean,__isNew:Boolean,_fullscreen:{type:Boolean,observer:"__fullscreenChanged"},_fullscreenMediaQuery:{value:"(max-width: 600px), (max-height: 600px)"}}}static get observers(){return["__headerPropsChanged(_defaultHeader, __isNew, i18n.newItem, i18n.editItem)","__formPropsChanged(_form, _theme, include, exclude)","__gridPropsChanged(_grid, _theme, include, exclude, noFilter, noHead, noSort, items)","__i18nChanged(i18n, _grid)","__editOnClickChanged(editOnClick, _grid)","__saveButtonPropsChanged(_saveButton, i18n.saveItem, __isDirty)","__cancelButtonPropsChanged(_cancelButton, i18n.cancel)","__deleteButtonPropsChanged(_deleteButton, i18n.deleteItem, __isNew)","__newButtonPropsChanged(_newButton, i18n.newItem)"]}static _isValidEditorPosition(i){return["bottom","aside"].includes(i)}constructor(){super(),this.__cancel=this.__cancel.bind(this),this.__delete=this.__delete.bind(this),this.__save=this.__save.bind(this),this.__new=this.__new.bind(this),this.__onFormChange=this.__onFormChange.bind(this),this.__onGridEdit=this.__onGridEdit.bind(this),this.__onGridSizeChanged=this.__onGridSizeChanged.bind(this),this.__onGridActiveItemChanged=this.__onGridActiveItemChanged.bind(this),this._newButtonController=new ButtonSlotController(this,"new","primary"),this._saveButtonController=new ButtonSlotController(this,"save","primary"),this._cancelButtonController=new ButtonSlotController(this,"cancel","tertiary"),this._deleteButtonController=new ButtonSlotController(this,"delete","tertiary error"),this.__focusRestorationController=new FocusRestorationController}get _headerNode(){return this._headerController&&this._headerController.node}get _fields(){return(!this.__fields||!this.__fields.length)&&(this.__fields=Array.from(this._form.querySelectorAll("*")).filter(i=>i.validate||i.checkValidity)),this.__fields}ready(){super.ready(),this.$.dialog.$.overlay.addEventListener("vaadin-overlay-outside-click",this.__cancel),this.$.dialog.$.overlay.addEventListener("vaadin-overlay-escape-press",this.__cancel),this._headerController=new SlotController(this,"header","h3",{initializer:i=>{this._defaultHeader=i}}),this.addController(this._headerController),this._gridController=new GridSlotController(this),this.addController(this._gridController),this.addController(new FormSlotController(this)),this.addController(this._newButtonController),this.addController(this._saveButtonController),this.addController(this._cancelButtonController),this.addController(this._deleteButtonController),this.addController(new MediaQueryController(this._fullscreenMediaQuery,i=>{this._fullscreen=i})),this.addController(this.__focusRestorationController)}__isSaveBtnDisabled(i){return!i}__headerPropsChanged(i,t,r,o){i&&(i.textContent=t?r:o)}__i18nChanged(i,t){t&&afterNextRender(t,()=>{Array.from(t.querySelectorAll("vaadin-crud-edit-column")).forEach(r=>{r.ariaLabel=i.editLabel})})}__editorPositionChanged(i){Crud._isValidEditorPosition(i)||(this.editorPosition="")}__editorOpenedChanged(i,t){!i&&t?this.__closeEditor():this.__formChanged(this._form),i&&(this.__ensureChildren(),this._form.parentElement===this?(this.$.editor.setAttribute("tabindex","0"),this.$.editor.focus()):this.$.editor.removeAttribute("tabindex")),this.__toggleToolbar(),this.$.scroller.scrollTop=0}__fullscreenChanged(i,t){(i||t)&&(this.__toggleToolbar(),this.__ensureChildren(),this.toggleAttribute("fullscreen",i))}__toggleToolbar(){this.editorPosition==="bottom"&&!this._fullscreen&&(this.$.toolbar.style.display=this.editorOpened?"none":"")}__moveChildNodes(i){const t=[this._headerNode,this._form,this._saveButton,this._cancelButton,this._deleteButton];t.every(r=>r instanceof HTMLElement)&&(t.forEach(r=>{i.appendChild(r)}),setTimeout(()=>{this.__dialogAriaLabel=this._headerNode.textContent.trim()}))}__shouldOpenDialog(i,t){return t===""||i}__ensureChildren(){this.__shouldOpenDialog(this._fullscreen,this.editorPosition)?this.__moveChildNodes(this.$.dialog.$.overlay):this.__moveChildNodes(this)}__computeDialogOpened(i,t,r){return this.__shouldOpenDialog(t,r)?i:!1}__computeEditorHidden(i,t,r){return["aside","bottom"].includes(r)&&!t?!i:!0}__onDialogOpened(i){this.editorOpened=i.detail.value}__onGridEdit(i){i.stopPropagation(),this.__confirmBeforeChangingEditedItem(i.detail.item)}__onFormChange(){this.__isDirty=!0}__onGridSizeChanged(){this._setSize(this._grid.size)}__gridChanged(i,t){t&&(t.removeEventListener("edit",this.__onGridEdit),t.removeEventListener("size-changed",this.__onGridSizeChanged)),this.dataProvider&&this.__dataProviderChanged(this.dataProvider),this.editedItem&&this.__editedItemChanged(this.editedItem),i.addEventListener("edit",this.__onGridEdit),i.addEventListener("size-changed",this.__onGridSizeChanged),this.__onGridSizeChanged()}__formChanged(i,t){t&&t.parentElement&&(t.parentElement.removeChild(t),t.removeEventListener("change",this.__onFormChange),t.removeEventListener("input",this.__onFormChange)),i&&(this.items&&this.__itemsChanged(this.items),this.editedItem&&this.__editedItemChanged(this.editedItem),i.addEventListener("change",this.__onFormChange),i.addEventListener("input",this.__onFormChange))}__formPropsChanged(i,t,r,o){i&&(i.include=r,i.exclude=o,t?i.setAttribute("theme",t):i.removeAttribute("theme"))}__gridPropsChanged(i,t,r,o,a,s,l,c){i&&(i===this._gridController.defaultNode&&(i.noFilter=a,i.noHead=s,i.noSort=l,i.include=r,i.exclude=o,t?i.setAttribute("theme",t):i.removeAttribute("theme")),i.items=c)}__saveButtonPropsChanged(i,t,r){i&&(i.toggleAttribute("disabled",this.__isSaveBtnDisabled(r)),i===this._saveButtonController.defaultNode&&(i.textContent=t))}__deleteButtonPropsChanged(i,t,r){i&&(i.toggleAttribute("hidden",r),i===this._deleteButtonController.defaultNode&&(i.textContent=t))}__cancelButtonPropsChanged(i,t){i&&i===this._cancelButtonController.defaultNode&&(i.textContent=t)}__newButtonPropsChanged(i,t){i&&i===this._newButtonController.defaultNode&&(i.textContent=t)}__dataProviderChanged(i){this._grid&&(this._grid.dataProvider=this.__createDataProviderProxy(i))}__editOnClickChanged(i,t){t&&(t.hideEditColumn=i,i?t.addEventListener("active-item-changed",this.__onGridActiveItemChanged):t.removeEventListener("active-item-changed",this.__onGridActiveItemChanged))}__onGridActiveItemChanged(i){const t=i.detail.value;if(this.editorOpened&&this.__isDirty){this.__confirmBeforeChangingEditedItem(t);return}t?this.__edit(t):this.__keepOpened||this.__closeEditor()}__confirmBeforeChangingEditedItem(i,t){this.editorOpened&&this.__isDirty&&this.editedItem!==i?(this.$.confirmCancel.opened=!0,this.addEventListener("cancel",r=>{r.preventDefault(),i||t?(this.__edit(i),this.__clearItemAndKeepEditorOpened(i,t)):this.__closeEditor()},{once:!0})):(this.__edit(i),this.__clearItemAndKeepEditorOpened(i,t))}__clearItemAndKeepEditorOpened(i,t){i||setTimeout(()=>{this.__keepOpened=t,this.editedItem=this._grid.activeItem=void 0})}__createDataProviderProxy(i){return(t,r)=>{i(t,(a,s)=>{a&&a[0]&&(this.__model=a[0]),r(a,s)})}}__itemsChanged(i){this.items&&this.items[0]&&(this.__model=i[0])}__editedItemChanged(i){this._form&&i&&(!this._fields.length&&this._form._configure&&(this.__model?this._form._configure(this.__model):console.warn("<vaadin-crud> Unable to autoconfigure form because the data structure is unknown. Either specify `include` or ensure at least one item is available beforehand.")),this._form.item=i,this._fields.forEach(t=>{const r=t.path||t.getAttribute("path");r&&(t.value=getProperty(r,i))}),this.__isNew=!!(this.__isNew||this.items&&this.items.indexOf(i)<0),this.editorOpened=!0)}__validate(){return this._fields.every(i=>(i.validate||i.checkValidity).call(i))}__setHighlightedItem(i){this._grid===this._gridController.defaultNode&&(this._grid.selectedItems=i?[i]:[])}__closeEditor(){this.editorOpened=!1,this.__isDirty=!1,this.__setHighlightedItem(null),setTimeout(()=>this.__clearItemAndKeepEditorOpened(null,!1))}__new(){this.__confirmBeforeChangingEditedItem(null,!0)}__edit(i){this.editedItem!==i&&(this.__setHighlightedItem(i),this.__openEditor("edit",i))}__fireEvent(i,t){const r=new CustomEvent(i,{detail:{item:t},cancelable:!0});return this.dispatchEvent(r),r.defaultPrevented===!1}__openEditor(i,t){this.__focusRestorationController.saveFocus(),this.__isDirty=!1,this.__isNew=!t,this.__fireEvent(this.__isNew?"new":"edit",t)?this.editedItem=t||{}:this.editorOpened=!0}__restoreFocusOnDelete(){this._grid._flatSize===1?this._newButton.focus():this._grid._focusFirstVisibleRow()}__restoreFocusOnSaveOrCancel(){const i=this.__focusRestorationController.focusNode,t=this._grid._getRowContainingNode(i);if(!t){this.__focusRestorationController.restoreFocus();return}this._grid._isItemAssignedToRow(this.editedItem,t)&&this._grid._isInViewport(t)?this.__focusRestorationController.restoreFocus():this._grid._focusFirstVisibleRow()}__save(){if(!this.__validate())return;const i={...this.editedItem};this._fields.forEach(r=>{const o=r.path||r.getAttribute("path");o&&setProperty(o,r.value,i)}),this.__fireEvent("save",i)&&(this.__isNew&&!this.dataProvider?this.items?this.items.push(i):this.items=[i]:(this.editedItem||(this.editedItem={}),Object.assign(this.editedItem,i)),this.__restoreFocusOnSaveOrCancel(),this._grid.clearCache(),this.__closeEditor())}__cancel(){this.__isDirty?this.$.confirmCancel.opened=!0:this.__confirmCancel()}__confirmCancel(){this.__fireEvent("cancel",this.editedItem)&&(this.__restoreFocusOnSaveOrCancel(),this.__closeEditor())}__delete(){this.$.confirmDelete.opened=!0}__confirmDelete(){this.__fireEvent("delete",this.editedItem)&&(this.items&&this.items.indexOf(this.editedItem)>=0&&this.items.splice(this.items.indexOf(this.editedItem),1),this.__restoreFocusOnDelete(),this._grid.clearCache(),this.__closeEditor())}}defineCustomElement(Crud);/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const GridSelectionColumnBaseMixin=n=>class extends n{static get properties(){return{width:{type:String,value:"58px",sync:!0},flexGrow:{type:Number,value:0,sync:!0},selectAll:{type:Boolean,value:!1,notify:!0,sync:!0},autoSelect:{type:Boolean,value:!1,sync:!0},dragSelect:{type:Boolean,value:!1,sync:!0},_indeterminate:{type:Boolean,sync:!0},_selectAllHidden:Boolean}}static get observers(){return["_onHeaderRendererOrBindingChanged(_headerRenderer, _headerCell, path, header, selectAll, _indeterminate, _selectAllHidden)"]}_defaultHeaderRenderer(t,r){let o=t.firstElementChild;o||(o=document.createElement("vaadin-checkbox"),o.setAttribute("aria-label","Select All"),o.classList.add("vaadin-grid-select-all-checkbox"),t.appendChild(o),o.addEventListener("checked-changed",this.__onSelectAllCheckedChanged.bind(this)));const a=this.__isChecked(this.selectAll,this._indeterminate);o.__rendererChecked=a,o.checked=a,o.hidden=this._selectAllHidden,o.indeterminate=this._indeterminate}_defaultRenderer(t,r,{item:o,selected:a}){let s=t.firstElementChild;s||(s=document.createElement("vaadin-checkbox"),s.setAttribute("aria-label","Select Row"),t.appendChild(s),s.addEventListener("checked-changed",this.__onSelectRowCheckedChanged.bind(this)),addListener(t,"track",this.__onCellTrack.bind(this)),t.addEventListener("mousedown",this.__onCellMouseDown.bind(this)),t.addEventListener("click",this.__onCellClick.bind(this))),s.__item=o,s.__rendererChecked=a,s.checked=a}__onSelectAllCheckedChanged(t){t.target.checked!==t.target.__rendererChecked&&(this._indeterminate||t.target.checked?this._selectAll():this._deselectAll())}__onSelectRowCheckedChanged(t){t.target.checked!==t.target.__rendererChecked&&(t.target.checked?this._selectItem(t.target.__item):this._deselectItem(t.target.__item))}__onCellTrack(t){if(this.dragSelect)if(this.__dragCurrentY=t.detail.y,this.__dragDy=t.detail.dy,t.detail.state==="start"){const o=this._grid._getRenderedRows().find(a=>a.contains(t.currentTarget.assignedSlot));this.__selectOnDrag=!this._grid._isSelected(o._item),this.__dragStartIndex=o.index,this.__dragStartItem=o._item,this.__dragAutoScroller()}else t.detail.state==="end"&&(this.__dragStartItem&&(this.__selectOnDrag?this._selectItem(this.__dragStartItem):this._deselectItem(this.__dragStartItem)),setTimeout(()=>{this.__dragStartIndex=void 0}))}__onCellMouseDown(t){this.dragSelect&&t.preventDefault()}__onCellClick(t){this.__dragStartIndex!==void 0&&t.preventDefault()}__dragAutoScroller(){if(this.__dragStartIndex===void 0)return;const t=this._grid._getRenderedRows(),r=t.find(c=>{const h=c.getBoundingClientRect();return this.__dragCurrentY>=h.top&&this.__dragCurrentY<=h.bottom});let o=r?r.index:void 0;const a=this.__getScrollableArea();this.__dragCurrentY<a.top?o=this._grid._firstVisibleIndex:this.__dragCurrentY>a.bottom&&(o=this._grid._lastVisibleIndex),o!==void 0&&t.forEach(c=>{(o>this.__dragStartIndex&&c.index>=this.__dragStartIndex&&c.index<=o||o<this.__dragStartIndex&&c.index<=this.__dragStartIndex&&c.index>=o)&&(this.__selectOnDrag?this._selectItem(c._item):this._deselectItem(c._item),this.__dragStartItem=void 0)});const s=a.height*.15,l=10;if(this.__dragDy<0&&this.__dragCurrentY<a.top+s){const c=a.top+s-this.__dragCurrentY,h=Math.min(1,c/s);this._grid.$.table.scrollTop-=h*l}if(this.__dragDy>0&&this.__dragCurrentY>a.bottom-s){const c=this.__dragCurrentY-(a.bottom-s),h=Math.min(1,c/s);this._grid.$.table.scrollTop+=h*l}setTimeout(()=>this.__dragAutoScroller(),10)}__getScrollableArea(){const t=this._grid.$.table.getBoundingClientRect(),r=this._grid.$.header.getBoundingClientRect(),o=this._grid.$.footer.getBoundingClientRect();return{top:t.top+r.height,bottom:t.bottom-o.height,left:t.left,right:t.right,height:t.height-r.height-o.height,width:t.width}}_selectAll(){}_deselectAll(){}_selectItem(t){}_deselectItem(t){}__isChecked(t,r){return r||t}};class GridFlowSelectionColumn extends GridSelectionColumnBaseMixin(GridColumn){static get is(){return"vaadin-grid-flow-selection-column"}static get properties(){return{autoWidth:{type:Boolean,value:!0},width:{type:String,value:"56px"}}}_defaultHeaderRenderer(i,t){super._defaultHeaderRenderer(i,t);const r=i.firstElementChild;r&&(r.id="selectAllCheckbox")}_selectAll(){this.selectAll=!0,this.$server.selectAll()}_deselectAll(){this.selectAll=!1,this.$server.deselectAll()}_selectItem(i){this._grid.$connector.doSelection([i],!0)}_deselectItem(i){this._grid.$connector.doDeselection([i],!0),this.selectAll=!1}}customElements.define(GridFlowSelectionColumn.is,GridFlowSelectionColumn);(function(){const n=function(i){return window.Vaadin.Flow.tryCatchWrapper(i,"Vaadin Grid")};window.Vaadin.Flow.gridConnector={initLazy:i=>n(function(t){if(t.$connector)return;const r=t._dataProviderController;r.ensureFlatIndexHierarchyOriginal=r.ensureFlatIndexHierarchy,r.ensureFlatIndexHierarchy=n(function(D){const{item:M}=this.getFlatIndexContext(D);if(!M||!this.isExpanded(M))return;t.$connector.hasCacheForParentKey(t.getItemId(M))?this.ensureFlatIndexHierarchyOriginal(D):t.$connector.beforeEnsureFlatIndexHierarchy(D,M)}),r.isLoadingOriginal=r.isLoading,r.isLoading=n(function(){return t.$connector.hasEnsureSubCacheQueue()||this.isLoadingOriginal()});const o={},a={},s={},l=50,c=20;let h=[],u,d=[],f;const p=150;let m,g={};const v="null";g[v]=[0,0];const _=["SINGLE","NONE","MULTI"];let y={},b="SINGLE",x=!1;t.size=0,t.itemIdPath="key";function E(D){return{[t.itemIdPath]:D}}t.$connector={},t.$connector.hasCacheForParentKey=n(D=>{var M;return((M=s[D])==null?void 0:M.size)!==void 0}),t.$connector.hasEnsureSubCacheQueue=n(()=>d.length>0),t.$connector.hasParentRequestQueue=n(()=>h.length>0),t.$connector.hasRootRequestQueue=n(()=>Object.keys(o).length>0||!!(m!=null&&m.isActive())),t.$connector.beforeEnsureFlatIndexHierarchy=n(function(D,M){d.push({flatIndex:D,itemkey:t.getItemId(M)}),f=Debouncer.debounce(f,animationFrame$1,()=>{for(;d.length;)t.$connector.flushEnsureSubCache()})}),t.$connector.doSelection=n(function(D,M){b==="NONE"||!D.length||M&&t.hasAttribute("disabled")||(b==="SINGLE"&&(y={}),D.forEach(F=>{F&&(y[F.key]=F,F.selected=!0,M&&t.$server.select(F.key));const j=!t.activeItem||!F||F.key!=t.activeItem.key;!M&&b==="SINGLE"&&j&&(t.activeItem=F)}),t.selectedItems=Object.values(y))}),t.$connector.doDeselection=n(function(D,M){if(b==="NONE"||!D.length||M&&t.hasAttribute("disabled"))return;const F=t.selectedItems.slice();for(;D.length;){const j=D.shift();for(let Y=0;Y<F.length;Y++){const W=F[Y];if((j==null?void 0:j.key)===W.key){F.splice(Y,1);break}}j&&(delete y[j.key],delete j.selected,M&&t.$server.deselect(j.key))}t.selectedItems=F}),t.__activeItemChanged=n(function(D,M){b=="SINGLE"&&(D?y[D.key]||t.$connector.doSelection([D],!0):M&&y[M.key]&&(t.__deselectDisallowed?t.activeItem=M:t.$connector.doDeselection([M],!0)))}),t._createPropertyObserver("activeItem","__activeItemChanged",!0),t.__activeItemChangedDetails=n(function(D,M){t.__disallowDetailsOnClick||D==null&&M===void 0||(D&&!D.detailsOpened?t.$server.setDetailsVisible(D.key):t.$server.setDetailsVisible(null))}),t._createPropertyObserver("activeItem","__activeItemChangedDetails",!0),t.$connector._getSameLevelPage=n(function(D,M,F){if((M.parentItem?t.getItemId(M.parentItem):v)===D)return Math.floor(F/t.pageSize);const{parentCache:Y,parentCacheIndex:W}=M;return Y?this._getSameLevelPage(D,Y,W):null}),t.$connector.flushEnsureSubCache=n(function(){const D=d.shift();return D?(r.ensureFlatIndexHierarchyOriginal(D.flatIndex),!0):!1}),t.$connector.debounceRootRequest=n(function(D){const M=t._hasData?p:0;m=Debouncer.debounce(m,timeOut$1.after(M),()=>{t.$connector.fetchPage((F,j)=>t.$server.setRequestedRange(F,j),D,v)})}),t.$connector.flushParentRequests=n(function(){const D=[];h.splice(0,c).forEach(({parentKey:M,page:F})=>{t.$connector.fetchPage((j,Y)=>D.push({parentKey:M,firstIndex:j,size:Y}),F,M)}),D.length&&t.$server.setParentRequestedRanges(D)}),t.$connector.debounceParentRequest=n(function(D,M){h=h.filter(F=>F.parentKey!==D),h.push({parentKey:D,page:M}),u=Debouncer.debounce(u,timeOut$1.after(l),()=>{for(;h.length;)t.$connector.flushParentRequests()})}),t.$connector.fetchPage=n(function(D,M,F){F===v&&(M=Math.min(M,Math.floor((t.size-1)/t.pageSize)));const j=t._getRenderedRows();let Y=j.length>0?j[0].index:0,W=j.length>0?j[j.length-1].index:0,q=W-Y,X=Math.max(0,Y-q),K=Math.min(W+q,t._flatSize),Q=[null,null];for(let J=X;J<=K;J++){const{cache:et,index:nt}=r.getFlatIndexContext(J),at=t.$connector._getSameLevelPage(F,et,nt);at!==null&&(Q[0]=Math.min(Q[0]??at,at),Q[1]=Math.max(Q[1]??at,at))}(Q.some(J=>J===null)||M<Q[0]||M>Q[1])&&(Q=[M,M]);let rt=g[F]||[-1,-1];if(rt[0]!=Q[0]||rt[1]!=Q[1]){g[F]=Q;let J=Q[1]-Q[0]+1;D(Q[0]*t.pageSize,J*t.pageSize)}}),t.dataProvider=n(function(D,M){var j,Y;if(D.pageSize!=t.pageSize)throw"Invalid pageSize";let F=D.page;if(D.parentItem){let W=t.getItemId(D.parentItem);a[W]||(a[W]={});const q=r.getItemContext(D.parentItem);(j=s[W])!=null&&j[F]&&q.subCache?(F=Math.min(F,Math.floor(s[W].size/t.pageSize)),d=[],M(s[W][F],s[W].size)):(a[W][F]=M,t.$connector.debounceParentRequest(W,F))}else{if(F=Math.min(F,Math.floor(t.size/t.pageSize)),t.size===0){M([],0);return}(Y=s[v])!=null&&Y[F]?M(s[v][F]):(o[F]=M,t.$connector.debounceRootRequest(F))}}),t.$connector.setSorterDirections=n(function(D){x=!0,setTimeout(n(()=>{try{const M=Array.from(t.querySelectorAll("vaadin-grid-sorter"));t._sorters.forEach(F=>{M.includes(F)||M.push(F)}),M.forEach(F=>{F.direction=null}),t.multiSortPriority!=="append"&&(D=D.reverse()),D.forEach(({column:F,direction:j})=>{M.forEach(Y=>{Y.getAttribute("path")===F&&(Y.direction=j)})})}finally{x=!1}}))}),t._updateItem=n(function(D,M){Grid.prototype._updateItem.call(t,D,M),D.hidden||Array.from(D.children).forEach(F=>{var j,Y;Array.from(((Y=(j=F==null?void 0:F._content)==null?void 0:j.__templateInstance)==null?void 0:Y.children)||[]).forEach(W=>{W._attachRenderedComponentIfAble&&W._attachRenderedComponentIfAble(),Array.from((W==null?void 0:W.children)||[]).forEach(q=>{q._attachRenderedComponentIfAble&&q._attachRenderedComponentIfAble()})})}),b===_[1]&&(D.removeAttribute("aria-selected"),Array.from(D.children).forEach(F=>F.removeAttribute("aria-selected")))});const C=n(function(D,M){if(D==null||t.$server.updateExpandedState==null)return;let F=t.getItemId(D);t.$server.updateExpandedState(F,M)});t.expandItem=n(function(D){C(D,!0),Grid.prototype.expandItem.call(t,D)}),t.collapseItem=n(function(D){C(D,!1),Grid.prototype.collapseItem.call(t,D)});const $=function(D){if(!D||!Array.isArray(D))throw"Attempted to call itemsUpdated with an invalid value: "+JSON.stringify(D);let M=Array.from(t.detailsOpenedItems),F=!1;for(let j=0;j<D.length;++j){const Y=D[j];Y&&(Y.detailsOpened?t._getItemIndexInArray(Y,M)<0&&M.push(Y):t._getItemIndexInArray(Y,M)>=0&&M.splice(t._getItemIndexInArray(Y,M),1),y[Y.key]&&(y[Y.key]=Y,Y.selected=!0,F=!0))}t.detailsOpenedItems=M,F&&t.selectedItems.splice(0,t.selectedItems.length,...Object.values(y))},S=function(D,M){let F;if((M||v)!==v){F=s[M][D];const j=E(M),Y=r.getItemContext(j);if(Y&&Y.subCache){const W=a[M],q=W&&W[D];P(D,F,q,Y.subCache)}}else F=s[v][D],P(D,F,o[D],r.rootCache);return F},P=function(D,M,F,j){if(!F){let Y=D*t.pageSize,W=Y+t.pageSize;if(M){if(j&&j.items)for(let q=Y;q<W;q++)j.items[q]&&(j.items[q]=M[q-Y])}else if(j&&j.items)for(let q=Y;q<W;q++)delete j.items[q]}},T=function(){k(),t.__updateVisibleRows()},k=function(){r.recalculateFlatSize(),t._flatSize=r.flatSize},L=function(D){if(!D||!t.$||t.$.items.childElementCount===0)return;const M=D.map(j=>j.key),F=t._getRenderedRows().filter(j=>j._item&&M.includes(j._item.key)).map(j=>j.index);F.length>0&&t.__updateVisibleRows(F[0],F[F.length-1])};t.$connector.set=n(function(D,M,F){if(D%t.pageSize!=0)throw"Got new data to index "+D+" which is not aligned with the page size of "+t.pageSize;let j=F||v;const Y=D/t.pageSize,W=Math.ceil(M.length/t.pageSize);for(let q=0;q<W;q++){let X=Y+q,K=M.slice(q*t.pageSize,(q+1)*t.pageSize);s[j]||(s[j]={}),s[j][X]=K,t.$connector.doSelection(K.filter(rt=>rt.selected)),t.$connector.doDeselection(K.filter(rt=>!rt.selected&&y[rt.key]));const Q=S(X,j);Q&&($(Q),L(Q))}});const N=function(D){let M=D.parentUniqueKey||v;if(s[M]){for(let F in s[M])for(let j in s[M][F])if(t.getItemId(s[M][F][j])===t.getItemId(D))return{page:F,index:j,parentKey:M}}return null};t.$connector.updateHierarchicalData=n(function(D){let M=[];for(let j=0;j<D.length;j++){let Y=N(D[j]);if(Y){s[Y.parentKey][Y.page][Y.index]=D[j];let W=Y.parentKey+":"+Y.page;M[W]||(M[W]={parentKey:Y.parentKey,page:Y.page})}}let F=Object.keys(M);for(let j=0;j<F.length;j++){let Y=M[F[j]];const W=S(Y.page,Y.parentKey);W&&($(W),L(W))}}),t.$connector.updateFlatData=n(function(D){for(let M=0;M<D.length;M++){let F=N(D[M]);if(F){s[F.parentKey][F.page][F.index]=D[M];const j=parseInt(F.page)*t.pageSize+parseInt(F.index),{rootCache:Y}=r;Y.items[j]&&(Y.items[j]=D[M])}}$(D),L(D)}),t.$connector.clearExpanded=n(function(){t.expandedItems=[],d=[],h=[]}),t.$connector.clear=n(function(D,M,F){let j=F||v;if(!s[j]||Object.keys(s[j]).length===0)return;if(D%t.pageSize!=0)throw"Got cleared data for index "+D+" which is not aligned with the page size of "+t.pageSize;let Y=Math.floor(D/t.pageSize),W=Math.ceil(M/t.pageSize);for(let K=0;K<W;K++){let Q=Y+K,rt=s[j][Q];t.$connector.doDeselection(rt.filter(et=>y[et.key])),rt.forEach(et=>t.closeItemDetails(et)),delete s[j][Q];const J=S(Q,F);J&&$(J),L(rt)}let q=r.rootCache;if(F){const K=E(j);q=r.getItemContext(K).subCache}const X=D+W*t.pageSize;for(let K=D;K<X;K++)delete q.items[K],q.removeSubCache(K);k()}),t.$connector.reset=n(function(){t.size=0,z(s),z(r.rootCache.items),z(g),f&&f.cancel(),u&&u.cancel(),m&&m.cancel(),f=void 0,u=void 0,d=[],h=[],T()});const z=D=>Object.keys(D).forEach(M=>delete D[M]);t.$connector.updateSize=D=>t.size=D,t.$connector.updateUniqueItemIdPath=D=>t.itemIdPath=D,t.$connector.expandItems=n(function(D){let M=Array.from(t.expandedItems);D.filter(F=>!t._isExpanded(F)).forEach(F=>M.push(F)),t.expandedItems=M}),t.$connector.collapseItems=n(function(D){let M=Array.from(t.expandedItems);D.forEach(F=>{let j=t._getItemIndexInArray(F,M);j>=0&&M.splice(j,1)}),t.expandedItems=M,D.forEach(F=>t.$connector.removeFromQueue(F))}),t.$connector.removeFromQueue=n(function(D){let M=t.getItemId(D);Object.values(a[M]||{}).forEach(F=>F([])),delete a[M],d=d.filter(F=>F.itemkey!==M),h=h.filter(F=>F.parentKey!==M)}),t.$connector.confirmParent=n(function(D,M,F){s[M]||(s[M]={});const j=s[M].size!==F;s[M].size=F,F===0&&(s[M][0]=[]);let Y=Object.getOwnPropertyNames(a[M]||{});for(let W=0;W<Y.length;W++){let q=Y[W],X=g[M]||[0,0];const K=a[M][q];if(s[M]&&s[M][q]||q<X[0]||q>X[1]){delete a[M][q];let Q=s[M][q]||new Array(F);K(Q,F)}else K&&F===0&&(delete a[M][q],K([],F))}if(j&&Y.length===0){const W=E(M),q=r.getItemContext(W);q&&q.subCache&&(q.subCache.size=F),k()}t.$server.confirmParentUpdate(D,M),t.loading||(t.__confirmParentUpdateDebouncer=Debouncer.debounce(t.__confirmParentUpdateDebouncer,animationFrame$1,()=>t.__updateVisibleRows()))}),t.$connector.confirm=n(function(D){var F;let M=Object.getOwnPropertyNames(o);for(let j=0;j<M.length;j++){let Y=M[j],W=g[v]||[0,0];const q=t.size?Math.ceil(t.size/t.pageSize)-1:0,X=Math.min(W[1],q),K=o[Y];(F=s[v])!=null&&F[Y]||Y<W[0]||+Y>X?(delete o[Y],s[v][Y]?K(s[v][Y]):(K(new Array(t.pageSize)),t.requestContentUpdate())):K&&t.size===0&&(delete o[Y],K([]))}Object.keys(o).length&&delete g[v],t.$server.confirmUpdate(D)}),t.$connector.ensureHierarchy=n(function(){for(let D in s)D!==v&&delete s[D];z(g),r.rootCache.removeSubCaches(),T()}),t.$connector.setSelectionMode=n(function(D){if((typeof D=="string"||D instanceof String)&&_.indexOf(D)>=0)b=D,y={},t.$connector.updateMultiSelectable();else throw"Attempted to set an invalid selection mode"}),t.$connector.updateMultiSelectable=n(function(){t.$&&(b===_[0]?t.$.table.setAttribute("aria-multiselectable",!1):b===_[1]?t.$.table.removeAttribute("aria-multiselectable"):t.$.table.setAttribute("aria-multiselectable",!0))}),t._createPropertyObserver("isAttached",()=>t.$connector.updateMultiSelectable());const B=D=>M=>{D&&(D(M),D=null)};t.$connector.setHeaderRenderer=n(function(D,M){const{content:F,showSorter:j,sorterPath:Y}=M;if(F===null){D.headerRenderer=null;return}D.headerRenderer=B(W=>{W.innerHTML="";let q=W;if(j){const X=document.createElement("vaadin-grid-sorter");X.setAttribute("path",Y);const K=F instanceof Node?F.textContent:F;K&&X.setAttribute("aria-label",`Sort by ${K}`),W.appendChild(X),q=X}F instanceof Node?q.appendChild(F):q.textContent=F})}),t.__applySorters=()=>{const D=t._mapSorters(),M=JSON.stringify(t._previousSorters)!==JSON.stringify(D);t._previousSorters=D,Grid.prototype.__applySorters.call(t),M&&!x&&t.$server.sortersChanged(D)},t.$connector.setFooterRenderer=n(function(D,M){const{content:F}=M;if(F===null){D.footerRenderer=null;return}D.footerRenderer=B(j=>{j.innerHTML="",F instanceof Node?j.appendChild(F):j.textContent=F})}),t.addEventListener("vaadin-context-menu-before-open",n(function(D){const{key:M,columnId:F}=D.detail;t.$server.updateContextMenuTargetItem(M,F)})),t.getContextMenuBeforeOpenDetail=n(function(D){var W,q;const M=D.detail.sourceEvent||D,F=t.getEventContext(M),j=((W=F.item)==null?void 0:W.key)||"",Y=((q=F.column)==null?void 0:q.id)||"";return{key:j,columnId:Y}}),t.preventContextMenu=n(function(D){const M=D.type==="click",{column:F}=t.getEventContext(D);return M&&F instanceof GridFlowSelectionColumn}),t.addEventListener("click",n(D=>U(D,"item-click"))),t.addEventListener("dblclick",n(D=>U(D,"item-double-click"))),t.addEventListener("column-resize",n(D=>{t._getColumnsInOrder().filter(F=>!F.hidden).forEach(F=>{F.dispatchEvent(new CustomEvent("column-drag-resize"))}),t.dispatchEvent(new CustomEvent("column-drag-resize",{detail:{resizedColumnKey:D.detail.resizedColumn._flowId}}))})),t.addEventListener("column-reorder",n(D=>{const M=t._columnTree.slice(0).pop().filter(F=>F._flowId).sort((F,j)=>F._order-j._order).map(F=>F._flowId);t.dispatchEvent(new CustomEvent("column-reorder-all-columns",{detail:{columns:M}}))})),t.addEventListener("cell-focus",n(D=>{const M=t.getEventContext(D);["header","body","footer"].indexOf(M.section)!==-1&&t.dispatchEvent(new CustomEvent("grid-cell-focus",{detail:{itemKey:M.item?M.item.key:null,internalColumnId:M.column?M.column._flowId:null,section:M.section}}))}));function U(D,M){if(D.defaultPrevented)return;const F=D.target;if(isFocusable(F)||F instanceof HTMLLabelElement)return;const j=t.getEventContext(D),Y=j.section;j.item&&Y!=="details"&&(D.itemKey=j.item.key,j.column&&(D.internalColumnId=j.column._flowId),t.dispatchEvent(new CustomEvent(M,{detail:D})))}t.cellClassNameGenerator=n(function(D,M){const F=M.item.style;if(F)return(F.row||"")+" "+(D&&F[D._flowId]||"")}),t.cellPartNameGenerator=n(function(D,M){const F=M.item.part;if(F)return(F.row||"")+" "+(D&&F[D._flowId]||"")}),t.dropFilter=n(D=>D.item&&!D.item.dropDisabled),t.dragFilter=n(D=>D.item&&!D.item.dragDisabled),t.addEventListener("grid-dragstart",n(D=>{t._isSelected(D.detail.draggedItems[0])?(t.__selectionDragData?Object.keys(t.__selectionDragData).forEach(M=>{D.detail.setDragData(M,t.__selectionDragData[M])}):(t.__dragDataTypes||[]).forEach(M=>{D.detail.setDragData(M,D.detail.draggedItems.map(F=>F.dragData[M]).join(`
`))}),t.__selectionDraggedItemsCount>1&&D.detail.setDraggedItemsCount(t.__selectionDraggedItemsCount)):(t.__dragDataTypes||[]).forEach(M=>{D.detail.setDragData(M,D.detail.draggedItems[0].dragData[M])})}))})(i)}})();/**
 * @license
 * Copyright (c) 2019 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const customField=css$e`
  :host {
    --lumo-text-field-size: var(--lumo-size-m);
    color: var(--lumo-body-text-color);
    font-size: var(--lumo-font-size-m);
    /* align with text-field height + vertical paddings */
    line-height: calc(var(--lumo-text-field-size) + 2 * var(--lumo-space-xs));
    font-family: var(--lumo-font-family);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    padding: 0;
  }

  :host::before {
    margin-top: var(--lumo-space-xs);
    height: var(--lumo-text-field-size);
    box-sizing: border-box;
    display: inline-flex;
    align-items: center;
  }

  /* align with text-field label */
  :host([has-label]) [part='label'] {
    padding-bottom: calc(0.5em - var(--lumo-space-xs));
  }

  :host(:not([has-label])) [part='label'],
  :host(:not([has-label]))::before {
    display: none;
  }

  /* align with text-field error message */
  :host([has-error-message]) [part='error-message']::before {
    height: calc(0.4em - var(--lumo-space-xs));
  }

  :host([focused]:not([readonly]):not([disabled])) [part='label'] {
    color: var(--lumo-primary-text-color);
  }

  :host(:hover:not([readonly]):not([disabled]):not([focused])) [part='label'],
  :host(:hover:not([readonly]):not([disabled]):not([focused])) [part='helper-text'] {
    color: var(--lumo-body-text-color);
  }

  /* Touch device adjustment */
  @media (pointer: coarse) {
    :host(:hover:not([readonly]):not([disabled]):not([focused])) [part='label'] {
      color: var(--lumo-secondary-text-color);
    }
  }

  /* Disabled */
  :host([disabled]) [part='label'] {
    color: var(--lumo-disabled-text-color);
    -webkit-text-fill-color: var(--lumo-disabled-text-color);
  }

  /* Small theme */
  :host([theme~='small']) {
    font-size: var(--lumo-font-size-s);
    --lumo-text-field-size: var(--lumo-size-s);
  }

  :host([theme~='small'][has-label]) [part='label'] {
    font-size: var(--lumo-font-size-xs);
  }

  :host([theme~='small'][has-label]) [part='error-message'] {
    font-size: var(--lumo-font-size-xxs);
  }

  /* When custom-field is used with components without outer margin */
  :host([theme~='whitespace'][has-label]) [part='label'] {
    padding-bottom: 0.5em;
  }
`;registerStyles$1("vaadin-custom-field",[requiredField,helper,customField],{moduleId:"lumo-custom-field"});/**
 * @license
 * Copyright (c) 2019 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const defaultParseValue=n=>n.split("	"),defaultFormatValue=n=>n.join("	"),CustomFieldMixin=n=>class extends FieldMixin(FocusMixin(KeyboardMixin(n))){static get properties(){return{name:String,value:{type:String,observer:"__valueChanged",notify:!0},inputs:{type:Array,readOnly:!0},formatValue:{type:Function},parseValue:{type:Function}}}ready(){super.ready(),this.setAttribute("role","group"),this.ariaTarget=this,this.__childrenObserver=new MutationObserver(()=>{this.__setInputsFromSlot()}),this.__setInputsFromSlot(),this.$.slot.addEventListener("slotchange",()=>{this.__setInputsFromSlot(),getFlattenedElements(this.$.slot).filter(t=>!this.__isInput(t)).forEach(t=>{this.__childrenObserver.observe(t,{childList:!0})})}),this._tooltipController=new TooltipController(this),this.addController(this._tooltipController),this._tooltipController.setShouldShow(t=>!(t.inputs||[]).some(o=>o.opened))}focus(){this.inputs&&this.inputs[0]&&this.inputs[0].focus()}_setFocused(t){super._setFocused(t),t||this.validate()}_shouldRemoveFocus(t){const{relatedTarget:r}=t;return!this.inputs.some(o=>r===(o.focusElement||o))}checkValidity(){return!(this.inputs.filter(r=>!(r.validate||r.checkValidity).call(r)).length||this.required&&!this.value.trim())}_onKeyDown(t){t.key==="Tab"&&(this.inputs.indexOf(t.target)<this.inputs.length-1&&!t.shiftKey||this.inputs.indexOf(t.target)>0&&t.shiftKey?this.dispatchEvent(new CustomEvent("internal-tab")):this.__setValue())}_onInputChange(t){t.stopPropagation(),this.__setValue(),this.validate(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1,detail:{value:this.value}}))}__setValue(){this.__settingValue=!0;const t=this.formatValue||defaultFormatValue;this.value=t.apply(this,[this.inputs.map(r=>r.value)]),this.__settingValue=!1}__isInput(t){return!(t.getAttribute("slot")==="input"||t.getAttribute("slot")==="textarea")&&(t.validate||t.checkValidity)}__getInputsFromSlot(){return getFlattenedElements(this.$.slot).filter(t=>this.__isInput(t))}__setInputsFromSlot(){this._setInputs(this.__getInputsFromSlot()),this.__setValue()}__toggleHasValue(t){this.toggleAttribute("has-value",t!==null&&t.trim()!=="")}__valueChanged(t,r){if(this.__settingValue||!this.inputs)return;this.__toggleHasValue(t);const a=(this.parseValue||defaultParseValue).apply(this,[t]);if(!a||a.length===0){console.warn("Value parser has not provided values array");return}this.inputs.forEach((s,l)=>{s.value=a[l]}),r!==void 0&&this.validate()}};/**
 * @license
 * Copyright (c) 2019 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const customFieldStyles=css$e`
  :host {
    display: inline-flex;
  }

  :host::before {
    content: '\\2003';
    width: 0;
    display: inline-block;
    /* Size and position this element on the same vertical position as the input-field element
           to make vertical align for the host element work as expected */
  }

  :host([hidden]) {
    display: none !important;
  }

  .vaadin-custom-field-container {
    width: 100%;
    display: flex;
    flex-direction: column;
  }

  .inputs-wrapper {
    flex: none;
  }
`;/**
 * @license
 * Copyright (c) 2019 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-custom-field",customFieldStyles,{moduleId:"vaadin-custom-field-styles"});class CustomField extends CustomFieldMixin(ThemableMixin(ElementMixin(PolymerElement))){static get is(){return"vaadin-custom-field"}static get template(){return html`
      <div class="vaadin-custom-field-container">
        <div part="label" on-click="focus">
          <slot name="label"></slot>
          <span part="required-indicator" aria-hidden="true"></span>
        </div>

        <div class="inputs-wrapper" part="input-fields" on-change="_onInputChange">
          <slot id="slot"></slot>
        </div>

        <div part="helper-text">
          <slot name="helper"></slot>
        </div>

        <div part="error-message">
          <slot name="error-message"></slot>
        </div>
      </div>

      <slot name="tooltip"></slot>
    `}}defineCustomElement(CustomField);const datePickerOverlay=css$e`
  [part='overlay'] {
    /*
  Width:
      date cell widths
    + month calendar side padding
    + year scroller width
  */
    /* prettier-ignore */
    width:
    calc(
        var(--lumo-size-m) * 7
      + var(--lumo-space-xs) * 2
      + 57px
    );
    height: 100%;
    max-height: calc(var(--lumo-size-m) * 14);
    overflow: hidden;
    -webkit-tap-highlight-color: transparent;
  }

  [part='overlay'] {
    flex-direction: column;
  }

  [part='content'] {
    padding: 0;
    height: 100%;
    overflow: hidden;
    -webkit-mask-image: none;
    mask-image: none;
  }

  :host([top-aligned]) [part~='overlay'] {
    margin-top: var(--lumo-space-xs);
  }

  :host([bottom-aligned]) [part~='overlay'] {
    margin-bottom: var(--lumo-space-xs);
  }

  @media (max-width: 420px), (max-height: 420px) {
    [part='overlay'] {
      width: 100vw;
      height: 70vh;
      max-height: 70vh;
    }
  }
`;registerStyles$1("vaadin-date-picker-overlay",[menuOverlay,datePickerOverlay],{moduleId:"lumo-date-picker-overlay"});registerStyles$1("vaadin-date-picker-year",css$e`
    :host([current]) [part='year-number'] {
      color: var(--lumo-primary-text-color);
    }

    :host(:not([current])) [part='year-number'],
    [part='year-separator'] {
      opacity: var(--_lumo-date-picker-year-opacity, 0.7);
      transition: 0.2s opacity;
    }

    [part='year-number'],
    [part='year-separator'] {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 50%;
      transform: translateY(-50%);
    }

    [part='year-separator']::after {
      color: var(--lumo-disabled-text-color);
      content: '\\2022';
    }
  `,{moduleId:"lumo-date-picker-year"});registerStyles$1("vaadin-date-picker-overlay-content",css$e`
    :host {
      position: relative;
      /* Background for the year scroller, placed here as we are using a mask image on the actual years part */
      background-image: linear-gradient(var(--lumo-shade-5pct), var(--lumo-shade-5pct));
      background-size: 57px 100%;
      background-position: top right;
      background-repeat: no-repeat;
      cursor: default;
    }

    ::slotted([slot='months']) {
      /* Month calendar height:
              header height + margin-bottom
            + weekdays height + margin-bottom
            + date cell heights
            + small margin between month calendars
        */
      /* prettier-ignore */
      --vaadin-infinite-scroller-item-height:
          calc(
              var(--lumo-font-size-l) + var(--lumo-space-m)
            + var(--lumo-font-size-xs) + var(--lumo-space-s)
            + var(--lumo-size-m) * 6
            + var(--lumo-space-s)
          );
      --vaadin-infinite-scroller-buffer-offset: 10%;
      -webkit-mask-image: linear-gradient(transparent, #000 10%, #000 85%, transparent);
      mask-image: linear-gradient(transparent, #000 10%, #000 85%, transparent);
      position: relative;
      margin-right: 57px;
    }

    ::slotted([slot='years']) {
      /* TODO get rid of fixed magic number */
      --vaadin-infinite-scroller-buffer-width: 97px;
      width: 57px;
      height: auto;
      top: 0;
      bottom: 0;
      font-size: var(--lumo-font-size-s);
      box-shadow: inset 2px 0 4px 0 var(--lumo-shade-5pct);
      -webkit-mask-image: linear-gradient(transparent, #000 35%, #000 65%, transparent);
      mask-image: linear-gradient(transparent, #000 35%, #000 65%, transparent);
      cursor: var(--lumo-clickable-cursor);
    }

    ::slotted([slot='years']:hover) {
      --_lumo-date-picker-year-opacity: 1;
    }

    /* TODO unsupported selector */
    #scrollers {
      position: static;
      display: block;
    }

    /* TODO fix this in vaadin-date-picker that it adapts to the width of the year scroller */
    :host([desktop]) ::slotted([slot='months']) {
      right: auto;
    }

    /* Year scroller position indicator */
    ::slotted([slot='years'])::before {
      border: none;
      width: 1em;
      height: 1em;
      background-color: var(--lumo-base-color);
      background-image: linear-gradient(var(--lumo-tint-5pct), var(--lumo-tint-5pct));
      transform: translate(-75%, -50%) rotate(45deg);
      border-top-right-radius: var(--lumo-border-radius-s);
      box-shadow: 2px -2px 6px 0 var(--lumo-shade-5pct);
      z-index: 1;
    }

    [part='toolbar'] {
      padding: var(--lumo-space-s);
      border-bottom-left-radius: var(--lumo-border-radius-l);
      margin-right: 57px;
    }

    [part='toolbar'] ::slotted(vaadin-button) {
      margin: 0;
    }

    /* Narrow viewport mode (fullscreen) */

    :host([fullscreen]) [part='toolbar'] {
      order: -1;
      background-color: var(--lumo-base-color);
    }

    :host([fullscreen]) [part='overlay-header'] {
      order: -2;
      height: var(--lumo-size-m);
      padding: var(--lumo-space-s);
      position: absolute;
      left: 0;
      right: 0;
      justify-content: center;
    }

    :host([fullscreen]) [part='toggle-button'],
    :host([fullscreen]) [part='clear-button'],
    [part='overlay-header'] [part='label'] {
      display: none;
    }

    /* Very narrow screen (year scroller initially hidden) */

    [part='years-toggle-button'] {
      display: flex;
      align-items: center;
      height: var(--lumo-size-s);
      padding: 0 0.5em;
      border-radius: var(--lumo-border-radius-m);
      z-index: 3;
      color: var(--lumo-primary-text-color);
      font-weight: 500;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    :host([years-visible]) [part='years-toggle-button'] {
      background-color: var(--lumo-primary-color);
      color: var(--lumo-primary-contrast-color);
    }

    /* TODO magic number (same as used for media-query in vaadin-date-picker-overlay-content) */
    @media screen and (max-width: 374px) {
      :host {
        background-image: none;
      }

      [part='toolbar'],
      ::slotted([slot='months']) {
        margin-right: 0;
      }

      /* TODO make date-picker adapt to the width of the years part */
      ::slotted([slot='years']) {
        --vaadin-infinite-scroller-buffer-width: 90px;
        width: 50px;
        background-color: var(--lumo-shade-5pct);
      }

      :host([years-visible]) ::slotted([slot='months']) {
        padding-left: 50px;
      }
    }
  `,{moduleId:"lumo-date-picker-overlay-content"});registerStyles$1("vaadin-month-calendar",css$e`
    :host {
      -moz-user-select: none;
      -webkit-user-select: none;
      -webkit-tap-highlight-color: transparent;
      user-select: none;
      font-size: var(--lumo-font-size-m);
      color: var(--lumo-body-text-color);
      text-align: center;
      padding: 0 var(--lumo-space-xs);
      --_focus-ring-color: var(--vaadin-focus-ring-color, var(--lumo-primary-color-50pct));
      --_focus-ring-width: var(--vaadin-focus-ring-width, 2px);
      --_selection-color: var(--vaadin-selection-color, var(--lumo-primary-color));
      --_selection-color-text: var(--vaadin-selection-color-text, var(--lumo-primary-text-color));
    }

    /* Month header */

    [part='month-header'] {
      color: var(--lumo-header-text-color);
      font-size: var(--lumo-font-size-l);
      line-height: 1;
      font-weight: 500;
      margin-bottom: var(--lumo-space-m);
    }

    /* Week days and numbers */

    [part='weekdays'],
    [part='weekday'],
    [part='week-number'] {
      font-size: var(--lumo-font-size-xxs);
      line-height: 1;
      color: var(--lumo-secondary-text-color);
    }

    [part='weekdays'] {
      margin-bottom: var(--lumo-space-s);
    }

    [part='weekday']:empty,
    [part='week-number'] {
      width: var(--lumo-size-xs);
    }

    /* Date and week number cells */

    [part~='date'],
    [part='week-number'] {
      box-sizing: border-box;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      height: var(--lumo-size-m);
      position: relative;
    }

    [part~='date'] {
      transition: color 0.1s;
    }

    [part~='date']:not(:empty) {
      cursor: var(--lumo-clickable-cursor);
    }

    :host([week-numbers]) [part='weekday']:not(:empty),
    :host([week-numbers]) [part~='date'] {
      width: calc((100% - var(--lumo-size-xs)) / 7);
    }

    /* Today date */

    [part~='date'][part~='today'] {
      color: var(--_selection-color-text);
    }

    /* Focused date */

    [part~='date']::before {
      content: '';
      position: absolute;
      z-index: -1;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      min-width: 2em;
      min-height: 2em;
      width: 80%;
      height: 80%;
      max-height: 100%;
      max-width: 100%;
      border-radius: var(--lumo-border-radius-m);
    }

    [part~='date'][part~='focused']::before {
      box-shadow: 0 0 0 1px var(--lumo-base-color), 0 0 0 calc(var(--_focus-ring-width) + 1px) var(--_focus-ring-color);
    }

    :host(:not([focused])) [part~='date'][part~='focused']::before {
      animation: vaadin-date-picker-month-calendar-focus-date 1.4s infinite;
    }

    @keyframes vaadin-date-picker-month-calendar-focus-date {
      50% {
        box-shadow: 0 0 0 1px var(--lumo-base-color), 0 0 0 calc(var(--_focus-ring-width) + 1px) transparent;
      }
    }

    [part~='date']:not(:empty):not([part~='disabled']):not([part~='selected']):hover::before {
      background-color: var(--lumo-primary-color-10pct);
    }

    [part~='date'][part~='selected'] {
      color: var(--lumo-primary-contrast-color);
    }

    [part~='date'][part~='selected']::before {
      background-color: var(--_selection-color);
    }

    [part~='date'][part~='disabled'] {
      color: var(--lumo-disabled-text-color);
    }

    @media (pointer: coarse) {
      [part~='date']:hover:not([part~='selected'])::before,
      [part~='focused']:not([part~='selected'])::before {
        display: none;
      }

      [part~='date']:not(:empty):not([part~='disabled']):active::before {
        display: block;
      }

      [part~='date'][part~='selected']::before {
        box-shadow: none;
      }
    }

    /* Disabled */

    :host([disabled]) * {
      color: var(--lumo-disabled-text-color) !important;
    }
  `,{moduleId:"lumo-month-calendar"});const template$5=document.createElement("template");template$5.innerHTML=`
  <style>
    @keyframes vaadin-date-picker-month-calendar-focus-date {
      50% {
        box-shadow: 0 0 0 var(--_focus-ring-width) transparent;
      }
    }
  </style>
`;document.head.appendChild(template$5.content);const datePicker=css$e`
  :host {
    outline: none;
  }

  [part='toggle-button']::before {
    content: var(--lumo-icons-calendar);
  }

  [part='clear-button']::before {
    content: var(--lumo-icons-cross);
  }

  @media (max-width: 420px), (max-height: 420px) {
    [part='overlay-content'] {
      height: 70vh;
    }
  }

  :host([dir='rtl']) [part='input-field'] ::slotted(input) {
    --_lumo-text-field-overflow-mask-image: linear-gradient(to left, transparent, #000 1.25em);
  }

  :host([dir='rtl']) [part='input-field'] ::slotted(input:placeholder-shown) {
    --_lumo-text-field-overflow-mask-image: none;
  }
`;registerStyles$1("vaadin-date-picker",[inputFieldShared,datePicker],{moduleId:"lumo-date-picker"});/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const datePickerOverlayStyles=css$e`
  [part='overlay'] {
    display: flex;
    flex: auto;
  }

  [part~='content'] {
    flex: auto;
  }

  @media (forced-colors: active) {
    [part='overlay'] {
      outline: 3px solid;
    }
  }
`;/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-date-picker-overlay",[overlayStyles,datePickerOverlayStyles],{moduleId:"vaadin-date-picker-overlay-styles"});class DatePickerOverlay extends PositionMixin(OverlayMixin(DirMixin(ThemableMixin(PolymerElement)))){static get is(){return"vaadin-date-picker-overlay"}static get template(){return html`
      <div id="backdrop" part="backdrop" hidden$="[[!withBackdrop]]"></div>
      <div part="overlay" id="overlay">
        <div part="content" id="content">
          <slot></slot>
        </div>
      </div>
    `}}defineCustomElement(DatePickerOverlay);/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */function getISOWeekNumber(n){let i=n.getDay();i===0&&(i=7);const t=4-i,r=new Date(n.getTime()+t*24*3600*1e3),o=new Date(0,0);o.setFullYear(r.getFullYear());const a=r.getTime()-o.getTime(),s=Math.round(a/(24*3600*1e3));return Math.floor(s/7+1)}function dateEquals(n,i){return n instanceof Date&&i instanceof Date&&n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()&&n.getDate()===i.getDate()}function dateAllowed(n,i,t){return(!i||n>=i)&&(!t||n<=t)}function getClosestDate(n,i){return i.filter(t=>t!==void 0).reduce((t,r)=>{if(!r)return t;if(!t)return r;const o=Math.abs(n.getTime()-r.getTime()),a=Math.abs(t.getTime()-n.getTime());return o<a?r:t})}function extractDateParts(n){return{day:n.getDate(),month:n.getMonth(),year:n.getFullYear()}}function dateAfterXMonths(n){const i=new Date,t=new Date(i);return t.setDate(1),t.setMonth(parseInt(n)+i.getMonth()),t}function getAdjustedYear(n,i,t=0,r=1){if(i>99)throw new Error("The provided year cannot have more than 2 digits.");if(i<0)throw new Error("The provided year cannot be negative.");let o=i+Math.floor(n.getFullYear()/100)*100;return n<new Date(o-50,t,r)?o-=100:n>new Date(o+50,t,r)&&(o+=100),o}function parseDate(n){const i=/^([-+]\d{1}|\d{2,4}|[-+]\d{6})-(\d{1,2})-(\d{1,2})$/u.exec(n);if(!i)return;const t=new Date(0,0);return t.setFullYear(parseInt(i[1],10)),t.setMonth(parseInt(i[2],10)-1),t.setDate(parseInt(i[3],10)),t}/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const template$4=document.createElement("template");template$4.innerHTML=`
  <style>
    :host {
      display: block;
      overflow: hidden;
      height: 500px;
    }

    #scroller {
      position: relative;
      height: 100%;
      overflow: auto;
      outline: none;
      margin-right: -40px;
      -webkit-overflow-scrolling: touch;
      overflow-x: hidden;
    }

    #scroller.notouchscroll {
      -webkit-overflow-scrolling: auto;
    }

    #scroller::-webkit-scrollbar {
      display: none;
    }

    .buffer {
      position: absolute;
      width: var(--vaadin-infinite-scroller-buffer-width, 100%);
      box-sizing: border-box;
      padding-right: 40px;
      top: var(--vaadin-infinite-scroller-buffer-offset, 0);
      animation: fadein 0.2s;
    }

    @keyframes fadein {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }
  </style>

  <div id="scroller">
    <div class="buffer"></div>
    <div class="buffer"></div>
    <div id="fullHeight"></div>
  </div>
`;class InfiniteScroller extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).appendChild(template$4.content.cloneNode(!0)),this.bufferSize=20,this._initialScroll=5e5,this._initialIndex=0,this._activated=!1}get active(){return this._activated}set active(i){i&&!this._activated&&(this._createPool(),this._activated=!0)}get bufferOffset(){return this._buffers[0].offsetTop}get itemHeight(){if(!this._itemHeightVal){const i=getComputedStyle(this).getPropertyValue("--vaadin-infinite-scroller-item-height"),t="background-position";this.$.fullHeight.style.setProperty(t,i);const r=getComputedStyle(this.$.fullHeight).getPropertyValue(t);this.$.fullHeight.style.removeProperty(t),this._itemHeightVal=parseFloat(r)}return this._itemHeightVal}get _bufferHeight(){return this.itemHeight*this.bufferSize}get position(){return(this.$.scroller.scrollTop-this._buffers[0].translateY)/this.itemHeight+this._firstIndex}set position(i){this._preventScrollEvent=!0,i>this._firstIndex&&i<this._firstIndex+this.bufferSize*2?this.$.scroller.scrollTop=this.itemHeight*(i-this._firstIndex)+this._buffers[0].translateY:(this._initialIndex=~~i,this._reset(),this._scrollDisabled=!0,this.$.scroller.scrollTop+=i%1*this.itemHeight,this._scrollDisabled=!1),this._mayHaveMomentum&&(this.$.scroller.classList.add("notouchscroll"),this._mayHaveMomentum=!1,setTimeout(()=>{this.$.scroller.classList.remove("notouchscroll")},10))}connectedCallback(){this._ready||(this._ready=!0,this.$={},this.shadowRoot.querySelectorAll("[id]").forEach(i=>{this.$[i.id]=i}),this.$.scroller.addEventListener("scroll",()=>this._scroll()),this._buffers=[...this.shadowRoot.querySelectorAll(".buffer")],this.$.fullHeight.style.height=`${this._initialScroll*2}px`,isFirefox$4&&(this.$.scroller.tabIndex=-1))}forceUpdate(){this._debouncerUpdateClones&&(this._buffers[0].updated=this._buffers[1].updated=!1,this._updateClones(),this._debouncerUpdateClones.cancel())}_createElement(){}_updateElement(i,t){}_finishInit(){this._initDone||(this._buffers.forEach(i=>{[...i.children].forEach(t=>{this._ensureStampedInstance(t._itemWrapper)})}),this._buffers[0].translateY||this._reset(),this._initDone=!0,this.dispatchEvent(new CustomEvent("init-done")))}_translateBuffer(i){const t=i?1:0;this._buffers[t].translateY=this._buffers[t?0:1].translateY+this._bufferHeight*(t?-1:1),this._buffers[t].style.transform=`translate3d(0, ${this._buffers[t].translateY}px, 0)`,this._buffers[t].updated=!1,this._buffers.reverse()}_scroll(){if(this._scrollDisabled)return;const i=this.$.scroller.scrollTop;(i<this._bufferHeight||i>this._initialScroll*2-this._bufferHeight)&&(this._initialIndex=~~this.position,this._reset());const t=this.itemHeight+this.bufferOffset,r=i>this._buffers[1].translateY+t,o=i<this._buffers[0].translateY+t;(r||o)&&(this._translateBuffer(o),this._updateClones()),this._preventScrollEvent||(this.dispatchEvent(new CustomEvent("custom-scroll",{bubbles:!1,composed:!0})),this._mayHaveMomentum=!0),this._preventScrollEvent=!1,this._debouncerScrollFinish=Debouncer$1.debounce(this._debouncerScrollFinish,timeOut.after(200),()=>{const a=this.$.scroller.getBoundingClientRect();!this._isVisible(this._buffers[0],a)&&!this._isVisible(this._buffers[1],a)&&(this.position=this.position)})}_reset(){this._scrollDisabled=!0,this.$.scroller.scrollTop=this._initialScroll,this._buffers[0].translateY=this._initialScroll-this._bufferHeight,this._buffers[1].translateY=this._initialScroll,this._buffers.forEach(i=>{i.style.transform=`translate3d(0, ${i.translateY}px, 0)`}),this._buffers[0].updated=this._buffers[1].updated=!1,this._updateClones(!0),this._debouncerUpdateClones=Debouncer$1.debounce(this._debouncerUpdateClones,timeOut.after(200),()=>{this._buffers[0].updated=this._buffers[1].updated=!1,this._updateClones()}),this._scrollDisabled=!1}_createPool(){const i=this.getBoundingClientRect();this._buffers.forEach(t=>{for(let r=0;r<this.bufferSize;r++){const o=document.createElement("div");o.style.height=`${this.itemHeight}px`,o.instance={};const a=`vaadin-infinite-scroller-item-content-${generateUniqueId()}`,s=document.createElement("slot");s.setAttribute("name",a),s._itemWrapper=o,t.appendChild(s),o.setAttribute("slot",a),this.appendChild(o),this._isVisible(o,i)&&this._ensureStampedInstance(o)}}),requestAnimationFrame(()=>{this._finishInit()})}_ensureStampedInstance(i){if(i.firstElementChild)return;const t=i.instance;i.instance=this._createElement(),i.appendChild(i.instance),Object.keys(t).forEach(r=>{i.instance[r]=t[r]})}_updateClones(i){this._firstIndex=~~((this._buffers[0].translateY-this._initialScroll)/this.itemHeight)+this._initialIndex;const t=i?this.$.scroller.getBoundingClientRect():void 0;this._buffers.forEach((r,o)=>{if(!r.updated){const a=this._firstIndex+this.bufferSize*o;[...r.children].forEach((s,l)=>{const c=s._itemWrapper;(!i||this._isVisible(c,t))&&this._updateElement(c.instance,a+l)}),r.updated=!0}})}_isVisible(i,t){const r=i.getBoundingClientRect();return r.bottom>t.top&&r.top<t.bottom}}/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const stylesTemplate$1=document.createElement("template");stylesTemplate$1.innerHTML=`
  <style>
    :host {
      --vaadin-infinite-scroller-item-height: 270px;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      height: 100%;
    }
  </style>
`;class DatePickerMonthScroller extends InfiniteScroller{static get is(){return"vaadin-date-picker-month-scroller"}constructor(){super(),this.bufferSize=3,this.shadowRoot.appendChild(stylesTemplate$1.content.cloneNode(!0))}_createElement(){return document.createElement("vaadin-month-calendar")}_updateElement(i,t){i.month=dateAfterXMonths(t)}}defineCustomElement(DatePickerMonthScroller);/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const stylesTemplate=document.createElement("template");stylesTemplate.innerHTML=`
  <style>
    :host {
      --vaadin-infinite-scroller-item-height: 80px;
      width: 50px;
      display: block;
      height: 100%;
      position: absolute;
      right: 0;
      transform: translateX(100%);
      -webkit-tap-highlight-color: transparent;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
      /* Center the year scroller position. */
      --vaadin-infinite-scroller-buffer-offset: 50%;
    }

    :host::before {
      content: '';
      display: block;
      background: transparent;
      width: 0;
      height: 0;
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
      border-width: 6px;
      border-style: solid;
      border-color: transparent;
      border-left-color: #000;
    }
  </style>
`;class DatePickerYearScroller extends InfiniteScroller{static get is(){return"vaadin-date-picker-year-scroller"}constructor(){super(),this.bufferSize=12,this.shadowRoot.appendChild(stylesTemplate.content.cloneNode(!0))}_createElement(){return document.createElement("vaadin-date-picker-year")}_updateElement(i,t){i.year=this._yearAfterXYears(t)}_yearAfterXYears(i){const t=new Date,r=new Date(t);return r.setFullYear(parseInt(i)+t.getFullYear()),r.getFullYear()}}defineCustomElement(DatePickerYearScroller);/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const DatePickerYearMixin=n=>class extends n{static get properties(){return{year:{type:String,sync:!0},selectedDate:{type:Object,sync:!0}}}static get observers(){return["__updateSelected(year, selectedDate)"]}__updateSelected(t,r){this.toggleAttribute("selected",r&&r.getFullYear()===t),this.toggleAttribute("current",t===new Date().getFullYear())}};/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class DatePickerYear extends ThemableMixin(DatePickerYearMixin(PolymerElement)){static get is(){return"vaadin-date-picker-year"}static get template(){return html`
      <style>
        :host {
          display: block;
          height: 100%;
        }
      </style>
      <div part="year-number">[[year]]</div>
      <div part="year-separator" aria-hidden="true"></div>
    `}}defineCustomElement(DatePickerYear);/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const domRepeatBase=OptionalMutableData(PolymerElement);class DomRepeat extends domRepeatBase{static get is(){return"dom-repeat"}static get template(){return null}static get properties(){return{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},itemsIndexAs:{type:String,value:"itemsIndex"},sort:{type:Function,observer:"__sortChanged"},filter:{type:Function,observer:"__filterChanged"},observe:{type:String,observer:"__observeChanged"},delay:Number,renderedItemCount:{type:Number,notify:!suppressTemplateNotifications,readOnly:!0},initialCount:{type:Number},targetFramerate:{type:Number,value:20},_targetFrameTime:{type:Number,computed:"__computeFrameTime(targetFramerate)"},notifyDomChange:{type:Boolean},reuseChunkedInstances:{type:Boolean}}}static get observers(){return["__itemsChanged(items.*)"]}constructor(){super(),this.__instances=[],this.__renderDebouncer=null,this.__itemsIdxToInstIdx={},this.__chunkCount=null,this.__renderStartTime=null,this.__itemsArrayChanged=!1,this.__shouldMeasureChunk=!1,this.__shouldContinueChunking=!1,this.__chunkingId=0,this.__sortFn=null,this.__filterFn=null,this.__observePaths=null,this.__ctor=null,this.__isDetached=!0,this.template=null,this._templateInfo}disconnectedCallback(){super.disconnectedCallback(),this.__isDetached=!0;for(let i=0;i<this.__instances.length;i++)this.__detachInstance(i);this.__chunkingId&&cancelAnimationFrame(this.__chunkingId)}connectedCallback(){if(super.connectedCallback(),hideElementsGlobally()||(this.style.display="none"),this.__isDetached){this.__isDetached=!1;let i=wrap$e(wrap$e(this).parentNode);for(let t=0;t<this.__instances.length;t++)this.__attachInstance(t,i);this.__chunkingId&&this.__render()}}__ensureTemplatized(){if(!this.__ctor){const i=this;let t=this.template=i._templateInfo?i:this.querySelector("template");if(!t){let o=new MutationObserver(()=>{if(this.querySelector("template"))o.disconnect(),this.__render();else throw new Error("dom-repeat requires a <template> child")});return o.observe(this,{childList:!0}),!1}let r={};r[this.as]=!0,r[this.indexAs]=!0,r[this.itemsIndexAs]=!0,this.__ctor=templatize(t,this,{mutableData:this.mutableData,parentModel:!0,instanceProps:r,forwardHostProp:function(o,a){let s=this.__instances;for(let l=0,c;l<s.length&&(c=s[l]);l++)c.forwardHostProp(o,a)},notifyInstanceProp:function(o,a,s){if(matches(this.as,a)){let l=o[this.itemsIndexAs];a==this.as&&(this.items[l]=s);let c=translate$1(this.as,`${JSCompiler_renameProperty("items",this)}.${l}`,a);this.notifyPath(c,s)}}})}return!0}__getMethodHost(){return this.__dataHost._methodHost||this.__dataHost}__functionFromPropertyValue(i){if(typeof i=="string"){let t=i,r=this.__getMethodHost();return function(){return r[t].apply(r,arguments)}}return i}__sortChanged(i){this.__sortFn=this.__functionFromPropertyValue(i),this.items&&this.__debounceRender(this.__render)}__filterChanged(i){this.__filterFn=this.__functionFromPropertyValue(i),this.items&&this.__debounceRender(this.__render)}__computeFrameTime(i){return Math.ceil(1e3/i)}__observeChanged(){this.__observePaths=this.observe&&this.observe.replace(".*",".").split(" ")}__handleObservedPaths(i){if(this.__sortFn||this.__filterFn){if(!i)this.__debounceRender(this.__render,this.delay);else if(this.__observePaths){let t=this.__observePaths;for(let r=0;r<t.length;r++)i.indexOf(t[r])===0&&this.__debounceRender(this.__render,this.delay)}}}__itemsChanged(i){this.items&&!Array.isArray(this.items)&&console.warn("dom-repeat expected array for `items`, found",this.items),this.__handleItemPath(i.path,i.value)||(i.path==="items"&&(this.__itemsArrayChanged=!0),this.__debounceRender(this.__render))}__debounceRender(i,t=0){this.__renderDebouncer=Debouncer.debounce(this.__renderDebouncer,t>0?timeOut$1.after(t):microTask$1,i.bind(this)),enqueueDebouncer(this.__renderDebouncer)}render(){this.__debounceRender(this.__render),flush()}__render(){if(!this.__ensureTemplatized())return;let i=this.items||[];const t=this.__sortAndFilterItems(i),r=this.__calculateLimit(t.length);this.__updateInstances(i,r,t),this.initialCount&&(this.__shouldMeasureChunk||this.__shouldContinueChunking)&&(cancelAnimationFrame(this.__chunkingId),this.__chunkingId=requestAnimationFrame(()=>{this.__chunkingId=null,this.__continueChunking()})),this._setRenderedItemCount(this.__instances.length),(!suppressTemplateNotifications||this.notifyDomChange)&&this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}))}__sortAndFilterItems(i){let t=new Array(i.length);for(let r=0;r<i.length;r++)t[r]=r;return this.__filterFn&&(t=t.filter((r,o,a)=>this.__filterFn(i[r],o,a))),this.__sortFn&&t.sort((r,o)=>this.__sortFn(i[r],i[o])),t}__calculateLimit(i){let t=i;const r=this.__instances.length;if(this.initialCount){let o;!this.__chunkCount||this.__itemsArrayChanged&&!this.reuseChunkedInstances?(t=Math.min(i,this.initialCount),o=Math.max(t-r,0),this.__chunkCount=o||1):(o=Math.min(Math.max(i-r,0),this.__chunkCount),t=Math.min(r+o,i)),this.__shouldMeasureChunk=o===this.__chunkCount,this.__shouldContinueChunking=t<i,this.__renderStartTime=performance.now()}return this.__itemsArrayChanged=!1,t}__continueChunking(){if(this.__shouldMeasureChunk){const i=performance.now()-this.__renderStartTime,t=this._targetFrameTime/i;this.__chunkCount=Math.round(this.__chunkCount*t)||1}this.__shouldContinueChunking&&this.__debounceRender(this.__render)}__updateInstances(i,t,r){const o=this.__itemsIdxToInstIdx={};let a;for(a=0;a<t;a++){let s=this.__instances[a],l=r[a],c=i[l];o[l]=a,s?(s._setPendingProperty(this.as,c),s._setPendingProperty(this.indexAs,a),s._setPendingProperty(this.itemsIndexAs,l),s._flushProperties()):this.__insertInstance(c,a,l)}for(let s=this.__instances.length-1;s>=a;s--)this.__detachAndRemoveInstance(s)}__detachInstance(i){let t=this.__instances[i];const r=wrap$e(t.root);for(let o=0;o<t.children.length;o++){let a=t.children[o];r.appendChild(a)}return t}__attachInstance(i,t){let r=this.__instances[i];t.insertBefore(r.root,this)}__detachAndRemoveInstance(i){this.__detachInstance(i),this.__instances.splice(i,1)}__stampInstance(i,t,r){let o={};return o[this.as]=i,o[this.indexAs]=t,o[this.itemsIndexAs]=r,new this.__ctor(o)}__insertInstance(i,t,r){const o=this.__stampInstance(i,t,r);let a=this.__instances[t+1],s=a?a.children[0]:this;return wrap$e(wrap$e(this).parentNode).insertBefore(o.root,s),this.__instances[t]=o,o}_showHideChildren(i){for(let t=0;t<this.__instances.length;t++)this.__instances[t]._showHideChildren(i)}__handleItemPath(i,t){let r=i.slice(6),o=r.indexOf("."),a=o<0?r:r.substring(0,o);if(a==parseInt(a,10)){let s=o<0?"":r.substring(o+1);this.__handleObservedPaths(s);let l=this.__itemsIdxToInstIdx[a],c=this.__instances[l];if(c){let h=this.as+(s?"."+s:"");c._setPendingPropertyOrPath(h,t,!1,!0),c._flushProperties()}return!0}}itemForElement(i){let t=this.modelForElement(i);return t&&t[this.as]}indexForElement(i){let t=this.modelForElement(i);return t&&t[this.indexAs]}modelForElement(i){return modelForElement(this.template,i)}}customElements.define(DomRepeat.is,DomRepeat);/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const MonthCalendarMixin=n=>class extends FocusMixin(n){static get properties(){return{month:{type:Object,value:new Date,sync:!0},selectedDate:{type:Object,notify:!0,sync:!0},focusedDate:{type:Object},showWeekNumbers:{type:Boolean,value:!1},i18n:{type:Object},ignoreTaps:{type:Boolean},minDate:{type:Date,value:null,sync:!0},maxDate:{type:Date,value:null,sync:!0},disabled:{type:Boolean,reflectToAttribute:!0},_days:{type:Array},_weeks:{type:Array},_notTapping:{type:Boolean}}}static get observers(){return["__focusedDateChanged(focusedDate, _days)"]}get focusableDateElement(){return[...this.shadowRoot.querySelectorAll("[part~=date]")].find(t=>dateEquals(t.date,this.focusedDate))}ready(){super.ready(),addListener(this.$.monthGrid,"tap",this._handleTap.bind(this))}_isDisabled(t,r,o){const a=new Date(0,0);a.setFullYear(t.getFullYear()),a.setMonth(t.getMonth()),a.setDate(1);const s=new Date(0,0);return s.setFullYear(t.getFullYear()),s.setMonth(t.getMonth()+1),s.setDate(0),r&&o&&r.getMonth()===o.getMonth()&&r.getMonth()===t.getMonth()&&o.getDate()-r.getDate()>=0?!1:!dateAllowed(a,r,o)&&!dateAllowed(s,r,o)}_getTitle(t,r){if(!(t===void 0||r===void 0))return r.formatTitle(r.monthNames[t.getMonth()],t.getFullYear())}_onMonthGridTouchStart(){this._notTapping=!1,setTimeout(()=>{this._notTapping=!0},300)}_dateAdd(t,r){t.setDate(t.getDate()+r)}_applyFirstDayOfWeek(t,r){if(!(t===void 0||r===void 0))return t.slice(r).concat(t.slice(0,r))}_getWeekDayNames(t,r){if(t===void 0||r===void 0)return[];const{weekdays:o,weekdaysShort:a,firstDayOfWeek:s}=t,l=this._applyFirstDayOfWeek(a,s);return this._applyFirstDayOfWeek(o,s).map((h,u)=>({weekDay:h,weekDayShort:l[u]}))}__focusedDateChanged(t,r){Array.isArray(r)&&r.some(o=>dateEquals(o,t))?this.removeAttribute("aria-hidden"):this.setAttribute("aria-hidden","true")}_getDate(t){return t?t.getDate():""}_showWeekSeparator(t,r){return t&&r&&r.firstDayOfWeek===1}_isToday(t){return dateEquals(new Date,t)}_getDays(t,r){if(t===void 0||r===void 0)return[];const o=new Date(0,0);for(o.setFullYear(t.getFullYear()),o.setMonth(t.getMonth()),o.setDate(1);o.getDay()!==r.firstDayOfWeek;)this._dateAdd(o,-1);const a=[],s=o.getMonth(),l=t.getMonth();for(;o.getMonth()===l||o.getMonth()===s;)a.push(o.getMonth()===l?new Date(o.getTime()):null),this._dateAdd(o,1);return a}_getWeeks(t){return t.reduce((r,o,a)=>(a%7===0&&r.push([]),r[r.length-1].push(o),r),[])}_handleTap(t){!this.ignoreTaps&&!this._notTapping&&t.target.date&&!t.target.hasAttribute("disabled")&&(this.selectedDate=t.target.date,this.dispatchEvent(new CustomEvent("date-tap",{detail:{date:t.target.date},bubbles:!0,composed:!0})))}_preventDefault(t){t.preventDefault()}__getWeekNumber(t){const r=t.reduce((o,a)=>!o&&a?a:o);return getISOWeekNumber(r)}__getDayAriaLabel(t){if(!t)return"";let r=`${this._getDate(t)} ${this.i18n.monthNames[t.getMonth()]} ${t.getFullYear()}, ${this.i18n.weekdays[t.getDay()]}`;return this._isToday(t)&&(r+=`, ${this.i18n.today}`),r}};/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const monthCalendarStyles=css$e`
  :host {
    display: block;
  }

  #monthGrid {
    width: 100%;
    border-collapse: collapse;
  }

  #days-container tr,
  #weekdays-container tr {
    display: flex;
  }

  [part~='date'] {
    outline: none;
  }

  [part~='disabled'] {
    pointer-events: none;
  }

  [part='week-number'][hidden],
  [part='weekday'][hidden] {
    display: none;
  }

  [part='weekday'],
  [part~='date'] {
    width: calc(100% / 7);
    padding: 0;
    font-weight: normal;
  }

  [part='weekday']:empty,
  [part='week-number'] {
    width: 12.5%;
    flex-shrink: 0;
    padding: 0;
  }

  :host([week-numbers]) [part='weekday']:not(:empty),
  :host([week-numbers]) [part~='date'] {
    width: 12.5%;
  }

  @media (forced-colors: active) {
    [part~='date'][part~='focused'] {
      outline: 1px solid;
    }

    [part~='date'][part~='selected'] {
      outline: 3px solid;
    }
  }
`;/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-month-calendar",monthCalendarStyles,{moduleId:"vaadin-month-calendar-styles"});class MonthCalendar extends MonthCalendarMixin(ThemableMixin(PolymerElement)){static get template(){return html`
      <div part="month-header" id="month-header" aria-hidden="true">[[_getTitle(month, i18n)]]</div>
      <table
        id="monthGrid"
        role="grid"
        aria-labelledby="month-header"
        on-touchend="_preventDefault"
        on-touchstart="_onMonthGridTouchStart"
      >
        <thead id="weekdays-container">
          <tr role="row" part="weekdays">
            <th part="weekday" aria-hidden="true" hidden$="[[!_showWeekSeparator(showWeekNumbers, i18n)]]"></th>
            <template is="dom-repeat" items="[[_getWeekDayNames(i18n, showWeekNumbers)]]">
              <th role="columnheader" part="weekday" scope="col" abbr$="[[item.weekDay]]" aria-hidden="true">
                [[item.weekDayShort]]
              </th>
            </template>
          </tr>
        </thead>
        <tbody id="days-container">
          <template is="dom-repeat" items="[[_weeks]]" as="week">
            <tr role="row">
              <td part="week-number" aria-hidden="true" hidden$="[[!_showWeekSeparator(showWeekNumbers, i18n)]]">
                [[__getWeekNumber(week)]]
              </td>
              <template is="dom-repeat" items="[[week]]">
                <td
                  role="gridcell"
                  part$="[[__getDatePart(item, focusedDate, selectedDate, minDate, maxDate)]]"
                  date="[[item]]"
                  tabindex$="[[__getDayTabindex(item, focusedDate)]]"
                  disabled$="[[__isDayDisabled(item, minDate, maxDate)]]"
                  aria-selected$="[[__getDayAriaSelected(item, selectedDate)]]"
                  aria-disabled$="[[__getDayAriaDisabled(item, minDate, maxDate)]]"
                  aria-label$="[[__getDayAriaLabel(item)]]"
                  >[[_getDate(item)]]</td
                >
              </template>
            </tr>
          </template>
        </tbody>
      </table>
    `}static get is(){return"vaadin-month-calendar"}static get properties(){return{_days:{type:Array,computed:"_getDays(month, i18n, minDate, maxDate)"},_weeks:{type:Array,computed:"_getWeeks(_days)"},disabled:{type:Boolean,reflectToAttribute:!0,computed:"_isDisabled(month, minDate, maxDate)"}}}static get observers(){return["_showWeekNumbersChanged(showWeekNumbers, i18n)"]}_showWeekNumbersChanged(i,t){i&&t&&t.firstDayOfWeek===1?this.setAttribute("week-numbers",""):this.removeAttribute("week-numbers")}__getDatePart(i,t,r,o,a){const s=["date"];return this.__isDayDisabled(i,o,a)&&s.push("disabled"),this.__isDayFocused(i,t)&&s.push("focused"),this.__isDaySelected(i,r)&&s.push("selected"),this._isToday(i)&&s.push("today"),s.join(" ")}__isDayFocused(i,t){return dateEquals(i,t)}__isDaySelected(i,t){return dateEquals(i,t)}__getDayAriaSelected(i,t){if(this.__isDaySelected(i,t))return"true"}__isDayDisabled(i,t,r){return!dateAllowed(i,t,r)}__getDayAriaDisabled(i,t,r){if(!(i===void 0||t===void 0||r===void 0)&&this.__isDayDisabled(i,t,r))return"true"}__getDayTabindex(i,t){return this.__isDayFocused(i,t)?"0":"-1"}}defineCustomElement(MonthCalendar);/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const DatePickerOverlayContentMixin=n=>class extends n{static get properties(){return{scrollDuration:{type:Number,value:300},selectedDate:{type:Object,value:null,sync:!0},focusedDate:{type:Object,notify:!0,observer:"_focusedDateChanged",sync:!0},_focusedMonthDate:Number,initialPosition:{type:Object,observer:"_initialPositionChanged"},_originDate:{type:Object,value:new Date},_visibleMonthIndex:Number,_desktopMode:{type:Boolean,observer:"_desktopModeChanged"},_desktopMediaQuery:{type:String,value:"(min-width: 375px)"},_translateX:{observer:"_translateXChanged"},_yearScrollerWidth:{value:50},i18n:{type:Object},showWeekNumbers:{type:Boolean,value:!1},_ignoreTaps:Boolean,_notTapping:Boolean,minDate:{type:Object,sync:!0},maxDate:{type:Object,sync:!0},label:String,_cancelButton:{type:Object},_todayButton:{type:Object},calendars:{type:Array,value:()=>[]},years:{type:Array,value:()=>[]}}}static get observers(){return["__updateCalendars(calendars, i18n, minDate, maxDate, selectedDate, focusedDate, showWeekNumbers, _ignoreTaps, _theme)","__updateCancelButton(_cancelButton, i18n)","__updateTodayButton(_todayButton, i18n, minDate, maxDate)","__updateYears(years, selectedDate, _theme)"]}get __useSubMonthScrolling(){return this._monthScroller.clientHeight<this._monthScroller.itemHeight+this._monthScroller.bufferOffset}get focusableDateElement(){return this.calendars.map(t=>t.focusableDateElement).find(Boolean)}_addListeners(){setTouchAction(this.$.scrollers,"pan-y"),addListener(this.$.scrollers,"track",this._track.bind(this)),addListener(this.shadowRoot.querySelector('[part="clear-button"]'),"tap",this._clear.bind(this)),addListener(this.shadowRoot.querySelector('[part="toggle-button"]'),"tap",this._cancel.bind(this)),addListener(this.shadowRoot.querySelector('[part="years-toggle-button"]'),"tap",this._toggleYearScroller.bind(this))}_initControllers(){this.addController(new MediaQueryController(this._desktopMediaQuery,t=>{this._desktopMode=t})),this.addController(new SlotController(this,"today-button","vaadin-button",{observe:!1,initializer:t=>{t.setAttribute("theme","tertiary"),t.addEventListener("keydown",r=>this.__onTodayButtonKeyDown(r)),addListener(t,"tap",this._onTodayTap.bind(this)),this._todayButton=t}})),this.addController(new SlotController(this,"cancel-button","vaadin-button",{observe:!1,initializer:t=>{t.setAttribute("theme","tertiary"),t.addEventListener("keydown",r=>this.__onCancelButtonKeyDown(r)),addListener(t,"tap",this._cancel.bind(this)),this._cancelButton=t}})),this.__initMonthScroller(),this.__initYearScroller()}reset(){this._closeYearScroller(),this._toggleAnimateClass(!0)}focusCancel(){this._cancelButton.focus()}scrollToDate(t,r){const o=this.__useSubMonthScrolling?this._calculateWeekScrollOffset(t):0;this._scrollToPosition(this._differenceInMonths(t,this._originDate)+o,r),this._monthScroller.forceUpdate()}__initMonthScroller(){this.addController(new SlotController(this,"months","vaadin-date-picker-month-scroller",{observe:!1,initializer:t=>{t.addEventListener("custom-scroll",()=>{this._onMonthScroll()}),t.addEventListener("touchstart",()=>{this._onMonthScrollTouchStart()}),t.addEventListener("keydown",r=>{this.__onMonthCalendarKeyDown(r)}),t.addEventListener("init-done",()=>{const r=[...this.querySelectorAll("vaadin-month-calendar")];r.forEach(o=>{o.addEventListener("selected-date-changed",a=>{this.selectedDate=a.detail.value})}),this.calendars=r}),this._monthScroller=t}}))}__initYearScroller(){this.addController(new SlotController(this,"years","vaadin-date-picker-year-scroller",{observe:!1,initializer:t=>{t.setAttribute("aria-hidden","true"),addListener(t,"tap",r=>{this._onYearTap(r)}),t.addEventListener("custom-scroll",()=>{this._onYearScroll()}),t.addEventListener("touchstart",()=>{this._onYearScrollTouchStart()}),t.addEventListener("init-done",()=>{this.years=[...this.querySelectorAll("vaadin-date-picker-year")]}),this._yearScroller=t}}))}__updateCancelButton(t,r){t&&(t.textContent=r&&r.cancel)}__updateTodayButton(t,r,o,a){t&&(t.textContent=r&&r.today,t.disabled=!this._isTodayAllowed(o,a))}__updateCalendars(t,r,o,a,s,l,c,h,u){t&&t.length&&t.forEach(d=>{d.i18n=r,d.minDate=o,d.maxDate=a,d.focusedDate=l,d.selectedDate=s,d.showWeekNumbers=c,d.ignoreTaps=h,u?d.setAttribute("theme",u):d.removeAttribute("theme")})}__updateYears(t,r,o){t&&t.length&&t.forEach(a=>{a.selectedDate=r,o?a.setAttribute("theme",o):a.removeAttribute("theme")})}_selectDate(t){this.selectedDate=t,this.dispatchEvent(new CustomEvent("date-selected",{detail:{date:t},bubbles:!0,composed:!0}))}_desktopModeChanged(t){this.toggleAttribute("desktop",t)}_focusedDateChanged(t){this.revealDate(t)}revealDate(t,r=!0){if(!t)return;const o=this._differenceInMonths(t,this._originDate);if(this.__useSubMonthScrolling){const h=this._calculateWeekScrollOffset(t);this._scrollToPosition(o+h,r);return}const a=this._monthScroller.position>o,l=Math.max(this._monthScroller.itemHeight,this._monthScroller.clientHeight-this._monthScroller.bufferOffset*2)/this._monthScroller.itemHeight,c=this._monthScroller.position+l-1<o;a?this._scrollToPosition(o,r):c&&this._scrollToPosition(o-l+1,r)}_calculateWeekScrollOffset(t){const r=new Date(0,0);r.setFullYear(t.getFullYear()),r.setMonth(t.getMonth()),r.setDate(1);let o=0;for(;r.getDate()<t.getDate();)r.setDate(r.getDate()+1),r.getDay()===this.i18n.firstDayOfWeek&&(o+=1);return o/6}_initialPositionChanged(t){this._monthScroller&&this._yearScroller&&(this._monthScroller.active=!0,this._yearScroller.active=!0),this.scrollToDate(t)}_repositionYearScroller(){const t=this._monthScroller.position;this._visibleMonthIndex=Math.floor(t),this._yearScroller.position=(t+this._originDate.getMonth())/12}_repositionMonthScroller(){this._monthScroller.position=this._yearScroller.position*12-this._originDate.getMonth(),this._visibleMonthIndex=Math.floor(this._monthScroller.position)}_onMonthScroll(){this._repositionYearScroller(),this._doIgnoreTaps()}_onYearScroll(){this._repositionMonthScroller(),this._doIgnoreTaps()}_onYearScrollTouchStart(){this._notTapping=!1,setTimeout(()=>{this._notTapping=!0},300),this._repositionMonthScroller()}_onMonthScrollTouchStart(){this._repositionYearScroller()}_doIgnoreTaps(){this._ignoreTaps=!0,this._debouncer=Debouncer$1.debounce(this._debouncer,timeOut.after(300),()=>{this._ignoreTaps=!1})}_formatDisplayed(t,r,o){return t&&r&&typeof r.formatDate=="function"?r.formatDate(extractDateParts(t)):o}_onTodayTap(){const t=new Date;Math.abs(this._monthScroller.position-this._differenceInMonths(t,this._originDate))<.001?(this._selectDate(t),this._close()):this._scrollToCurrentMonth()}_scrollToCurrentMonth(){this.focusedDate&&(this.focusedDate=new Date),this.scrollToDate(new Date,!0)}_onYearTap(t){if(!this._ignoreTaps&&!this._notTapping){const o=(t.detail.y-(this._yearScroller.getBoundingClientRect().top+this._yearScroller.clientHeight/2))/this._yearScroller.itemHeight;this._scrollToPosition(this._monthScroller.position+o*12,!0)}}_scrollToPosition(t,r){if(this._targetPosition!==void 0){this._targetPosition=t;return}if(!r){this._monthScroller.position=t,this._targetPosition=void 0,this._repositionYearScroller(),this.__tryFocusDate();return}this._targetPosition=t;let o;this._revealPromise=new Promise(h=>{o=h});const a=(h,u,d,f)=>(h/=f/2,h<1?d/2*h*h+u:(h-=1,-d/2*(h*(h-2)-1)+u));let s=0;const l=this._monthScroller.position,c=h=>{s||(s=h);const u=h-s;if(u<this.scrollDuration){const d=a(u,l,this._targetPosition-l,this.scrollDuration);this._monthScroller.position=d,window.requestAnimationFrame(c)}else this.dispatchEvent(new CustomEvent("scroll-animation-finished",{bubbles:!0,composed:!0,detail:{position:this._targetPosition,oldPosition:l}})),this._monthScroller.position=this._targetPosition,this._targetPosition=void 0,o(),this._revealPromise=void 0;setTimeout(this._repositionYearScroller.bind(this),1)};window.requestAnimationFrame(c)}_limit(t,r){return Math.min(r.max,Math.max(r.min,t))}_handleTrack(t){if(Math.abs(t.detail.dx)<10||Math.abs(t.detail.ddy)>10)return;Math.abs(t.detail.ddx)>this._yearScrollerWidth/3&&this._toggleAnimateClass(!0);const r=this._translateX+t.detail.ddx;this._translateX=this._limit(r,{min:0,max:this._yearScrollerWidth})}_track(t){if(!this._desktopMode)switch(t.detail.state){case"start":this._toggleAnimateClass(!1);break;case"track":this._handleTrack(t);break;case"end":this._toggleAnimateClass(!0),this._translateX>=this._yearScrollerWidth/2?this._closeYearScroller():this._openYearScroller();break}}_toggleAnimateClass(t){t?this.classList.add("animate"):this.classList.remove("animate")}_toggleYearScroller(){this._isYearScrollerVisible()?this._closeYearScroller():this._openYearScroller()}_openYearScroller(){this._translateX=0,this.setAttribute("years-visible","")}_closeYearScroller(){this.removeAttribute("years-visible"),this._translateX=this._yearScrollerWidth}_isYearScrollerVisible(){return this._translateX<this._yearScrollerWidth/2}_translateXChanged(t){this._desktopMode||(this._monthScroller.style.transform=`translateX(${t-this._yearScrollerWidth}px)`,this._yearScroller.style.transform=`translateX(${t}px)`)}_yearAfterXMonths(t){return dateAfterXMonths(t).getFullYear()}_differenceInMonths(t,r){return(t.getFullYear()-r.getFullYear())*12-r.getMonth()+t.getMonth()}_clear(){this._selectDate("")}_close(){this.dispatchEvent(new CustomEvent("close",{bubbles:!0,composed:!0}))}_cancel(){this.focusedDate=this.selectedDate,this._close()}_preventDefault(t){t.preventDefault()}__toggleDate(t){dateEquals(t,this.selectedDate)?(this._clear(),this.focusedDate=t):this._selectDate(t)}__onMonthCalendarKeyDown(t){let r=!1;switch(t.key){case"ArrowDown":this._moveFocusByDays(7),r=!0;break;case"ArrowUp":this._moveFocusByDays(-7),r=!0;break;case"ArrowRight":this._moveFocusByDays(this.__isRTL?-1:1),r=!0;break;case"ArrowLeft":this._moveFocusByDays(this.__isRTL?1:-1),r=!0;break;case"Enter":this._selectDate(this.focusedDate),this._close(),r=!0;break;case" ":this.__toggleDate(this.focusedDate),r=!0;break;case"Home":this._moveFocusInsideMonth(this.focusedDate,"minDate"),r=!0;break;case"End":this._moveFocusInsideMonth(this.focusedDate,"maxDate"),r=!0;break;case"PageDown":this._moveFocusByMonths(t.shiftKey?12:1),r=!0;break;case"PageUp":this._moveFocusByMonths(t.shiftKey?-12:-1),r=!0;break;case"Tab":this._onTabKeyDown(t,"calendar");break}r&&(t.preventDefault(),t.stopPropagation())}_onTabKeyDown(t,r){switch(t.stopPropagation(),r){case"calendar":t.shiftKey&&(t.preventDefault(),this.hasAttribute("fullscreen")?this.focusCancel():this.__focusInput());break;case"today":t.shiftKey&&(t.preventDefault(),this.focusDateElement());break;case"cancel":t.shiftKey||(t.preventDefault(),this.hasAttribute("fullscreen")?this.focusDateElement():this.__focusInput());break}}__onTodayButtonKeyDown(t){t.key==="Tab"&&this._onTabKeyDown(t,"today")}__onCancelButtonKeyDown(t){t.key==="Tab"&&this._onTabKeyDown(t,"cancel")}__focusInput(){this.dispatchEvent(new CustomEvent("focus-input",{bubbles:!0,composed:!0}))}__tryFocusDate(){if(this.__pendingDateFocus){const r=this.focusableDateElement;r&&dateEquals(r.date,this.__pendingDateFocus)&&(delete this.__pendingDateFocus,r.focus())}}async focusDate(t,r){const o=t||this.selectedDate||this.initialPosition||new Date;this.focusedDate=o,r||(this._focusedMonthDate=o.getDate()),await this.focusDateElement(!1)}async focusDateElement(t=!0){this.__pendingDateFocus=this.focusedDate,this.calendars.length||await new Promise(r=>{afterNextRender(this,()=>{flush(),r()})}),t&&this.revealDate(this.focusedDate),this._revealPromise&&await this._revealPromise,this.__tryFocusDate()}_focusClosestDate(t){this.focusDate(getClosestDate(t,[this.minDate,this.maxDate]))}_focusAllowedDate(t,r,o){this._dateAllowed(t)?this.focusDate(t,o):this._dateAllowed(this.focusedDate)?r>0?this.focusDate(this.maxDate):this.focusDate(this.minDate):this._focusClosestDate(this.focusedDate)}_getDateDiff(t,r){const o=new Date(0,0);return o.setFullYear(this.focusedDate.getFullYear()),o.setMonth(this.focusedDate.getMonth()+t),r&&o.setDate(this.focusedDate.getDate()+r),o}_moveFocusByDays(t){const r=this._getDateDiff(0,t);this._focusAllowedDate(r,t,!1)}_moveFocusByMonths(t){const r=this._getDateDiff(t),o=r.getMonth();this._focusedMonthDate||(this._focusedMonthDate=this.focusedDate.getDate()),r.setDate(this._focusedMonthDate),r.getMonth()!==o&&r.setDate(0),this._focusAllowedDate(r,t,!0)}_moveFocusInsideMonth(t,r){const o=new Date(0,0);o.setFullYear(t.getFullYear()),r==="minDate"?(o.setMonth(t.getMonth()),o.setDate(1)):(o.setMonth(t.getMonth()+1),o.setDate(0)),this._dateAllowed(o)?this.focusDate(o):this._dateAllowed(t)?this.focusDate(this[r]):this._focusClosestDate(t)}_dateAllowed(t,r=this.minDate,o=this.maxDate){return(!r||t>=r)&&(!o||t<=o)}_isTodayAllowed(t,r){const o=new Date,a=new Date(0,0);return a.setFullYear(o.getFullYear()),a.setMonth(o.getMonth()),a.setDate(o.getDate()),this._dateAllowed(a,t,r)}};/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const overlayContentStyles=css$e`
  :host {
    display: flex;
    flex-direction: column;
    height: 100%;
    width: 100%;
    outline: none;
  }

  [part='overlay-header'] {
    display: flex;
    flex-shrink: 0;
    flex-wrap: nowrap;
    align-items: center;
  }

  :host(:not([fullscreen])) [part='overlay-header'] {
    display: none;
  }

  [part='label'] {
    flex-grow: 1;
  }

  [hidden] {
    display: none !important;
  }

  [part='years-toggle-button'] {
    display: flex;
  }

  #scrollers {
    display: flex;
    height: 100%;
    width: 100%;
    position: relative;
    overflow: hidden;
  }

  :host([desktop]) ::slotted([slot='months']) {
    right: 50px;
    transform: none !important;
  }

  :host([desktop]) ::slotted([slot='years']) {
    transform: none !important;
  }

  :host(.animate) ::slotted([slot='months']),
  :host(.animate) ::slotted([slot='years']) {
    transition: all 200ms;
  }

  [part='toolbar'] {
    display: flex;
    justify-content: space-between;
    z-index: 2;
    flex-shrink: 0;
  }
`;/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-date-picker-overlay-content",overlayContentStyles,{moduleId:"vaadin-date-picker-overlay-content-styles"});class DatePickerOverlayContent extends DatePickerOverlayContentMixin(ControllerMixin(ThemableMixin(DirMixin(PolymerElement)))){static get template(){return html`
      <div part="overlay-header" on-touchend="_preventDefault" aria-hidden="true">
        <div part="label">[[_formatDisplayed(selectedDate, i18n, label)]]</div>
        <div part="clear-button" hidden$="[[!selectedDate]]"></div>
        <div part="toggle-button"></div>

        <div part="years-toggle-button" hidden$="[[_desktopMode]]" aria-hidden="true">
          [[_yearAfterXMonths(_visibleMonthIndex)]]
        </div>
      </div>

      <div id="scrollers">
        <slot name="months"></slot>
        <slot name="years"></slot>
      </div>

      <div on-touchend="_preventDefault" role="toolbar" part="toolbar">
        <slot name="today-button"></slot>
        <slot name="cancel-button"></slot>
      </div>
    `}static get is(){return"vaadin-date-picker-overlay-content"}ready(){super.ready(),this.setAttribute("role","dialog"),this._addListeners(),this._initControllers()}}defineCustomElement(DatePickerOverlayContent);/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const DatePickerMixin=n=>class extends OverlayClassMixin(ControllerMixin(DelegateFocusMixin(InputConstraintsMixin(KeyboardMixin(n))))){static get properties(){return{_selectedDate:{type:Object,sync:!0},_focusedDate:{type:Object,sync:!0},value:{type:String,notify:!0,value:"",sync:!0},initialPosition:String,opened:{type:Boolean,reflectToAttribute:!0,notify:!0,observer:"_openedChanged",sync:!0},autoOpenDisabled:Boolean,showWeekNumbers:{type:Boolean,value:!1,sync:!0},_fullscreen:{type:Boolean,value:!1,sync:!0},_fullscreenMediaQuery:{value:"(max-width: 420px), (max-height: 420px)"},i18n:{type:Object,sync:!0,value:()=>({monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],firstDayOfWeek:0,today:"Today",cancel:"Cancel",referenceDate:"",formatDate(t){const r=String(t.year).replace(/\d+/u,o=>"0000".substr(o.length)+o);return[t.month+1,t.day,r].join("/")},parseDate(t){const r=t.split("/"),o=new Date;let a,s=o.getMonth(),l=o.getFullYear();if(r.length===3){if(s=parseInt(r[0])-1,a=parseInt(r[1]),l=parseInt(r[2]),r[2].length<3&&l>=0){const c=this.referenceDate?parseDate(this.referenceDate):new Date;l=getAdjustedYear(c,l,s,a)}}else r.length===2?(s=parseInt(r[0])-1,a=parseInt(r[1])):r.length===1&&(a=parseInt(r[0]));if(a!==void 0)return{day:a,month:s,year:l}},formatTitle:(t,r)=>`${t} ${r}`})},min:{type:String,sync:!0},max:{type:String,sync:!0},_minDate:{type:Date,computed:"__computeMinOrMaxDate(min)",sync:!0},_maxDate:{type:Date,computed:"__computeMinOrMaxDate(max)",sync:!0},_noInput:{type:Boolean,computed:"_isNoInput(inputElement, _fullscreen, _ios, i18n, opened, autoOpenDisabled)"},_ios:{type:Boolean,value:isIOS},_focusOverlayOnOpen:Boolean,_overlayContent:{type:Object,sync:!0},_hasInputValue:{type:Boolean}}}static get observers(){return["_selectedDateChanged(_selectedDate, i18n)","_focusedDateChanged(_focusedDate, i18n)","__updateOverlayContent(_overlayContent, i18n, label, _minDate, _maxDate, _focusedDate, _selectedDate, showWeekNumbers)","__updateOverlayContentTheme(_overlayContent, _theme)","__updateOverlayContentFullScreen(_overlayContent, _fullscreen)"]}static get constraints(){return[...super.constraints,"min","max"]}constructor(){super(),this._boundOnClick=this._onClick.bind(this),this._boundOnScroll=this._onScroll.bind(this),this._boundOverlayRenderer=this._overlayRenderer.bind(this)}get _inputElementValue(){return super._inputElementValue}set _inputElementValue(t){super._inputElementValue=t,this._hasInputValue=!1}get clearElement(){return null}get _nativeInput(){return this.inputElement?this.inputElement.focusElement||this.inputElement:null}get __unparsableValue(){return!this._inputElementValue||this.__parseDate(this._inputElementValue)?"":this._inputElementValue}_onFocus(t){super._onFocus(t),this._noInput&&t.target.blur()}_onBlur(t){super._onBlur(t),this.opened||(this.__commitParsedOrFocusedDate(),document.hasFocus()&&this.validate())}ready(){super.ready(),this.addEventListener("click",this._boundOnClick),this.addController(new MediaQueryController(this._fullscreenMediaQuery,r=>{this._fullscreen=r})),this.addController(new VirtualKeyboardController(this));const t=this.$.overlay;this._overlayElement=t,t.renderer=this._boundOverlayRenderer,this.addEventListener("mousedown",()=>this.__bringToFront()),this.addEventListener("touchstart",()=>this.__bringToFront())}disconnectedCallback(){super.disconnectedCallback(),this.opened=!1}open(){!this.disabled&&!this.readonly&&(this.opened=!0)}close(){this.$.overlay.close()}_overlayRenderer(t){if(t.firstChild)return;const r=document.createElement("vaadin-date-picker-overlay-content");t.appendChild(r),this._overlayContent=r,r.addEventListener("close",()=>{this._close()}),r.addEventListener("focus-input",this._focusAndSelect.bind(this)),r.addEventListener("date-tap",o=>{this.__commitDate(o.detail.date),this._close()}),r.addEventListener("date-selected",o=>{this.__commitDate(o.detail.date)}),r.addEventListener("focusin",()=>{this._keyboardActive&&this._setFocused(!0)}),r.addEventListener("focused-date-changed",o=>{this._focusedDate=o.detail.value}),r.addEventListener("click",o=>o.stopPropagation())}__parseDate(t){if(!this.i18n.parseDate)return;let r=this.i18n.parseDate(t);if(r&&(r=parseDate(`${r.year}-${r.month+1}-${r.day}`)),r&&!isNaN(r.getTime()))return r}__formatDate(t){if(this.i18n.formatDate)return this.i18n.formatDate(extractDateParts(t))}checkValidity(){const t=this._inputElementValue,r=!t||!!this._selectedDate&&t===this.__formatDate(this._selectedDate),o=!this._selectedDate||dateAllowed(this._selectedDate,this._minDate,this._maxDate);let a=!0;return this.inputElement&&(this.inputElement.checkValidity?a=this.inputElement.checkValidity():this.inputElement.validate&&(a=this.inputElement.validate())),r&&o&&a}_shouldSetFocus(t){return!this._shouldKeepFocusRing}_shouldRemoveFocus(t){return!this.opened}_setFocused(t){super._setFocused(t),this._shouldKeepFocusRing=t&&this._keyboardActive}__commitValueChange(){const t=this.__unparsableValue;this.__committedValue!==this.value?(this.validate(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))):this.__committedUnparsableValue!==t&&(this.validate(),this.dispatchEvent(new CustomEvent("unparsable-change"))),this.__committedValue=this.value,this.__committedUnparsableValue=t}__commitDate(t){this.__keepCommittedValue=!0,this._selectedDate=t,this.__keepCommittedValue=!1,this.__commitValueChange()}_close(){this._focus(),this.close()}__bringToFront(){requestAnimationFrame(()=>{this.$.overlay.bringToFront()})}_isNoInput(t,r,o,a,s,l){return!t||r&&(!l||s)||o&&s||!a.parseDate}_formatISO(t){if(!(t instanceof Date))return"";const r=(u,d="00")=>(d+u).substr((d+u).length-d.length);let o="",a="0000",s=t.getFullYear();s<0?(s=-s,o="-",a="000000"):t.getFullYear()>=1e4&&(o="+",a="000000");const l=o+r(s,a),c=r(t.getMonth()+1),h=r(t.getDate());return[l,c,h].join("-")}_inputElementChanged(t){super._inputElementChanged(t),t&&(t.autocomplete="off",t.setAttribute("role","combobox"),t.setAttribute("aria-haspopup","dialog"),t.setAttribute("aria-expanded",!!this.opened),this._applyInputValue(this._selectedDate))}_openedChanged(t){this.inputElement&&this.inputElement.setAttribute("aria-expanded",t)}_selectedDateChanged(t,r){t===void 0||r===void 0||(this.__keepInputValue||this._applyInputValue(t),this.value=this._formatISO(t),this._ignoreFocusedDateChange=!0,this._focusedDate=t,this._ignoreFocusedDateChange=!1)}_focusedDateChanged(t,r){t===void 0||r===void 0||!this._ignoreFocusedDateChange&&!this._noInput&&this._applyInputValue(t)}_valueChanged(t,r){const o=parseDate(t);if(t&&!o){this.value=r;return}t?dateEquals(this._selectedDate,o)||(this._selectedDate=o,r!==void 0&&this.validate()):this._selectedDate=null,this.__keepCommittedValue||(this.__committedValue=this.value,this.__committedUnparsableValue=""),this._toggleHasValue(this._hasValue)}__updateOverlayContent(t,r,o,a,s,l,c,h){t&&(t.i18n=r,t.label=o,t.minDate=a,t.maxDate=s,t.focusedDate=l,t.selectedDate=c,t.showWeekNumbers=h)}__updateOverlayContentTheme(t,r){t&&(r?t.setAttribute("theme",r):t.removeAttribute("theme"))}__updateOverlayContentFullScreen(t,r){t&&t.toggleAttribute("fullscreen",r)}_onOverlayEscapePress(){this._focusedDate=this._selectedDate,this._close()}_onOverlayOpened(){const t=this._overlayContent;t.reset();const r=this._getInitialPosition();t.initialPosition=r;const o=t.focusedDate||r;t.scrollToDate(o),this._ignoreFocusedDateChange=!0,t.focusedDate=o,this._ignoreFocusedDateChange=!1,window.addEventListener("scroll",this._boundOnScroll,!0),this._focusOverlayOnOpen?(t.focusDateElement(),this._focusOverlayOnOpen=!1):this._focus();const a=this._nativeInput;this._noInput&&a&&(a.blur(),this._overlayContent.focusDateElement());const s=this._noInput?t:[a,t];this.__showOthers=hideOthers(s)}_getInitialPosition(){const t=parseDate(this.initialPosition),r=this._selectedDate||this._overlayContent.initialPosition||t||new Date;return t||dateAllowed(r,this._minDate,this._maxDate)?r:getClosestDate(r,[this._minDate,this._maxDate])}__commitParsedOrFocusedDate(){if(this._ignoreFocusedDateChange=!0,this.i18n.parseDate){const t=this._inputElementValue||"",r=this.__parseDate(t);r?this.__commitDate(r):(this.__keepInputValue=!0,this.__commitDate(null),this.__keepInputValue=!1)}else this._focusedDate&&this.__commitDate(this._focusedDate);this._ignoreFocusedDateChange=!1}_onOverlayClosed(){this.__showOthers&&(this.__showOthers(),this.__showOthers=null),window.removeEventListener("scroll",this._boundOnScroll,!0),this.__commitParsedOrFocusedDate(),this._nativeInput&&this._nativeInput.selectionStart&&(this._nativeInput.selectionStart=this._nativeInput.selectionEnd),!this.value&&!this._keyboardActive&&this.validate()}_onScroll(t){(t.target===window||!this._overlayContent.contains(t.target))&&this._overlayContent._repositionYearScroller()}_focus(){this._noInput||this.inputElement.focus()}_focusAndSelect(){this._focus(),this._setSelectionRange(0,this._inputElementValue.length)}_applyInputValue(t){this._inputElementValue=t?this.__formatDate(t):""}_setSelectionRange(t,r){this._nativeInput&&this._nativeInput.setSelectionRange&&this._nativeInput.setSelectionRange(t,r)}_onChange(t){t.stopPropagation()}_onClick(t){this._isClearButton(t)||this._onHostClick(t)}_onHostClick(t){(!this.autoOpenDisabled||this._noInput)&&(t.preventDefault(),this.open())}_onClearButtonClick(t){t.preventDefault(),this.__commitDate(null)}_onKeyDown(t){switch(super._onKeyDown(t),this._noInput&&[9].indexOf(t.keyCode)===-1&&t.preventDefault(),t.key){case"ArrowDown":case"ArrowUp":t.preventDefault(),this.opened?this._overlayContent.focusDateElement():(this._focusOverlayOnOpen=!0,this.open());break;case"Tab":this.opened&&(t.preventDefault(),t.stopPropagation(),this._setSelectionRange(0,0),t.shiftKey?this._overlayContent.focusCancel():this._overlayContent.focusDateElement());break}}_onEnter(t){this.opened?this.close():this.__commitParsedOrFocusedDate()}_onEscape(t){if(!this.opened){if(this.clearButtonVisible&&this.value){t.stopPropagation(),this._onClearButtonClick(t);return}this.inputElement.value===""?this.__commitDate(null):this._applyInputValue(this._selectedDate)}}_isClearButton(t){return t.composedPath()[0]===this.clearElement}_onInput(){if(!this.opened&&this._inputElementValue&&!this.autoOpenDisabled&&this.open(),this._inputElementValue){const t=this.__parseDate(this._inputElementValue);t&&(this._ignoreFocusedDateChange=!0,dateEquals(t,this._focusedDate)||(this._focusedDate=t),this._ignoreFocusedDateChange=!1)}}__computeMinOrMaxDate(t){return parseDate(t)}};/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const datePickerStyles=css$e`
  :host([opened]) {
    pointer-events: auto;
  }

  :host([dir='rtl']) [part='input-field'] {
    direction: ltr;
  }

  :host([dir='rtl']) [part='input-field'] ::slotted(input)::placeholder {
    direction: rtl;
    text-align: left;
  }
`;/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-date-picker",[inputFieldShared$1,datePickerStyles],{moduleId:"vaadin-date-picker-styles"});class DatePicker extends DatePickerMixin(InputControlMixin(ThemableMixin(ElementMixin(PolymerElement)))){static get is(){return"vaadin-date-picker"}static get template(){return html`
      <div class="vaadin-date-picker-container">
        <div part="label">
          <slot name="label"></slot>
          <span part="required-indicator" aria-hidden="true" on-click="focus"></span>
        </div>

        <vaadin-input-container
          part="input-field"
          readonly="[[readonly]]"
          disabled="[[disabled]]"
          invalid="[[invalid]]"
          theme$="[[_theme]]"
        >
          <slot name="prefix" slot="prefix"></slot>
          <slot name="input"></slot>
          <div id="clearButton" part="clear-button" slot="suffix" aria-hidden="true"></div>
          <div part="toggle-button" slot="suffix" aria-hidden="true" on-click="_toggle"></div>
        </vaadin-input-container>

        <div part="helper-text">
          <slot name="helper"></slot>
        </div>

        <div part="error-message">
          <slot name="error-message"></slot>
        </div>
      </div>

      <vaadin-date-picker-overlay
        id="overlay"
        fullscreen$="[[_fullscreen]]"
        theme$="[[_theme]]"
        opened="{{opened}}"
        on-vaadin-overlay-escape-press="_onOverlayEscapePress"
        on-vaadin-overlay-open="_onOverlayOpened"
        on-vaadin-overlay-closing="_onOverlayClosed"
        restore-focus-on-close
        restore-focus-node="[[inputElement]]"
      ></vaadin-date-picker-overlay>

      <slot name="tooltip"></slot>
    `}get clearElement(){return this.$.clearButton}ready(){super.ready(),this.addController(new InputController(this,t=>{this._setInputElement(t),this._setFocusElement(t),this.stateTarget=t,this.ariaTarget=t})),this.addController(new LabelledInputController(this.inputElement,this._labelController)),this._tooltipController=new TooltipController(this),this.addController(this._tooltipController),this._tooltipController.setPosition("top"),this._tooltipController.setAriaTarget(this.inputElement),this._tooltipController.setShouldShow(t=>!t.opened),this.shadowRoot.querySelector('[part="toggle-button"]').addEventListener("mousedown",t=>t.preventDefault()),this.$.overlay.addEventListener("vaadin-overlay-close",this._onVaadinOverlayClose.bind(this))}_onVaadinOverlayClose(i){i.detail.sourceEvent&&i.detail.sourceEvent.composedPath().includes(this)&&i.preventDefault()}_toggle(i){i.stopPropagation(),this.$.overlay.opened?this.close():this.open()}_openedChanged(i){super._openedChanged(i),this.$.overlay.positionTarget=this.shadowRoot.querySelector('[part="input-field"]'),this.$.overlay.noVerticalOverlap=!0}}defineCustomElement(DatePicker);function requiredArgs(n,i){if(i.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+i.length+" present")}function _typeof$y(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$y=function(t){return typeof t}:_typeof$y=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$y(n)}function isDate(n){return requiredArgs(1,arguments),n instanceof Date||_typeof$y(n)==="object"&&Object.prototype.toString.call(n)==="[object Date]"}function _typeof$x(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$x=function(t){return typeof t}:_typeof$x=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$x(n)}function toDate(n){requiredArgs(1,arguments);var i=Object.prototype.toString.call(n);return n instanceof Date||_typeof$x(n)==="object"&&i==="[object Date]"?new Date(n.getTime()):typeof n=="number"||i==="[object Number]"?new Date(n):((typeof n=="string"||i==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function isValid(n){if(requiredArgs(1,arguments),!isDate(n)&&typeof n!="number")return!1;var i=toDate(n);return!isNaN(Number(i))}function toInteger(n){if(n===null||n===!0||n===!1)return NaN;var i=Number(n);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}function addMilliseconds(n,i){requiredArgs(2,arguments);var t=toDate(n).getTime(),r=toInteger(i);return new Date(t+r)}function subMilliseconds(n,i){requiredArgs(2,arguments);var t=toInteger(i);return addMilliseconds(n,-t)}var MILLISECONDS_IN_DAY=864e5;function getUTCDayOfYear(n){requiredArgs(1,arguments);var i=toDate(n),t=i.getTime();i.setUTCMonth(0,1),i.setUTCHours(0,0,0,0);var r=i.getTime(),o=t-r;return Math.floor(o/MILLISECONDS_IN_DAY)+1}function startOfUTCISOWeek(n){requiredArgs(1,arguments);var i=1,t=toDate(n),r=t.getUTCDay(),o=(r<i?7:0)+r-i;return t.setUTCDate(t.getUTCDate()-o),t.setUTCHours(0,0,0,0),t}function getUTCISOWeekYear(n){requiredArgs(1,arguments);var i=toDate(n),t=i.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(t+1,0,4),r.setUTCHours(0,0,0,0);var o=startOfUTCISOWeek(r),a=new Date(0);a.setUTCFullYear(t,0,4),a.setUTCHours(0,0,0,0);var s=startOfUTCISOWeek(a);return i.getTime()>=o.getTime()?t+1:i.getTime()>=s.getTime()?t:t-1}function startOfUTCISOWeekYear(n){requiredArgs(1,arguments);var i=getUTCISOWeekYear(n),t=new Date(0);t.setUTCFullYear(i,0,4),t.setUTCHours(0,0,0,0);var r=startOfUTCISOWeek(t);return r}var MILLISECONDS_IN_WEEK$1=6048e5;function getUTCISOWeek(n){requiredArgs(1,arguments);var i=toDate(n),t=startOfUTCISOWeek(i).getTime()-startOfUTCISOWeekYear(i).getTime();return Math.round(t/MILLISECONDS_IN_WEEK$1)+1}var defaultOptions={};function getDefaultOptions(){return defaultOptions}function startOfUTCWeek(n,i){var t,r,o,a,s,l,c,h;requiredArgs(1,arguments);var u=getDefaultOptions(),d=toInteger((t=(r=(o=(a=i==null?void 0:i.weekStartsOn)!==null&&a!==void 0?a:i==null||(s=i.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&o!==void 0?o:u.weekStartsOn)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(h=c.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&t!==void 0?t:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=toDate(n),p=f.getUTCDay(),m=(p<d?7:0)+p-d;return f.setUTCDate(f.getUTCDate()-m),f.setUTCHours(0,0,0,0),f}function getUTCWeekYear(n,i){var t,r,o,a,s,l,c,h;requiredArgs(1,arguments);var u=toDate(n),d=u.getUTCFullYear(),f=getDefaultOptions(),p=toInteger((t=(r=(o=(a=i==null?void 0:i.firstWeekContainsDate)!==null&&a!==void 0?a:i==null||(s=i.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&o!==void 0?o:f.firstWeekContainsDate)!==null&&r!==void 0?r:(c=f.locale)===null||c===void 0||(h=c.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(d+1,0,p),m.setUTCHours(0,0,0,0);var g=startOfUTCWeek(m,i),v=new Date(0);v.setUTCFullYear(d,0,p),v.setUTCHours(0,0,0,0);var _=startOfUTCWeek(v,i);return u.getTime()>=g.getTime()?d+1:u.getTime()>=_.getTime()?d:d-1}function startOfUTCWeekYear(n,i){var t,r,o,a,s,l,c,h;requiredArgs(1,arguments);var u=getDefaultOptions(),d=toInteger((t=(r=(o=(a=i==null?void 0:i.firstWeekContainsDate)!==null&&a!==void 0?a:i==null||(s=i.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&o!==void 0?o:u.firstWeekContainsDate)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(h=c.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&t!==void 0?t:1),f=getUTCWeekYear(n,i),p=new Date(0);p.setUTCFullYear(f,0,d),p.setUTCHours(0,0,0,0);var m=startOfUTCWeek(p,i);return m}var MILLISECONDS_IN_WEEK=6048e5;function getUTCWeek(n,i){requiredArgs(1,arguments);var t=toDate(n),r=startOfUTCWeek(t,i).getTime()-startOfUTCWeekYear(t,i).getTime();return Math.round(r/MILLISECONDS_IN_WEEK)+1}function addLeadingZeros(n,i){for(var t=n<0?"-":"",r=Math.abs(n).toString();r.length<i;)r="0"+r;return t+r}var formatters$1={y:function n(i,t){var r=i.getUTCFullYear(),o=r>0?r:1-r;return addLeadingZeros(t==="yy"?o%100:o,t.length)},M:function n(i,t){var r=i.getUTCMonth();return t==="M"?String(r+1):addLeadingZeros(r+1,2)},d:function n(i,t){return addLeadingZeros(i.getUTCDate(),t.length)},a:function n(i,t){var r=i.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function n(i,t){return addLeadingZeros(i.getUTCHours()%12||12,t.length)},H:function n(i,t){return addLeadingZeros(i.getUTCHours(),t.length)},m:function n(i,t){return addLeadingZeros(i.getUTCMinutes(),t.length)},s:function n(i,t){return addLeadingZeros(i.getUTCSeconds(),t.length)},S:function n(i,t){var r=t.length,o=i.getUTCMilliseconds(),a=Math.floor(o*Math.pow(10,r-3));return addLeadingZeros(a,t.length)}};const lightFormatters=formatters$1;var dayPeriodEnum={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function n(i,t,r){var o=i.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function n(i,t,r){if(t==="yo"){var o=i.getUTCFullYear(),a=o>0?o:1-o;return r.ordinalNumber(a,{unit:"year"})}return lightFormatters.y(i,t)},Y:function n(i,t,r,o){var a=getUTCWeekYear(i,o),s=a>0?a:1-a;if(t==="YY"){var l=s%100;return addLeadingZeros(l,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):addLeadingZeros(s,t.length)},R:function n(i,t){var r=getUTCISOWeekYear(i);return addLeadingZeros(r,t.length)},u:function n(i,t){var r=i.getUTCFullYear();return addLeadingZeros(r,t.length)},Q:function n(i,t,r){var o=Math.ceil((i.getUTCMonth()+1)/3);switch(t){case"Q":return String(o);case"QQ":return addLeadingZeros(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function n(i,t,r){var o=Math.ceil((i.getUTCMonth()+1)/3);switch(t){case"q":return String(o);case"qq":return addLeadingZeros(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function n(i,t,r){var o=i.getUTCMonth();switch(t){case"M":case"MM":return lightFormatters.M(i,t);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function n(i,t,r){var o=i.getUTCMonth();switch(t){case"L":return String(o+1);case"LL":return addLeadingZeros(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function n(i,t,r,o){var a=getUTCWeek(i,o);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):addLeadingZeros(a,t.length)},I:function n(i,t,r){var o=getUTCISOWeek(i);return t==="Io"?r.ordinalNumber(o,{unit:"week"}):addLeadingZeros(o,t.length)},d:function n(i,t,r){return t==="do"?r.ordinalNumber(i.getUTCDate(),{unit:"date"}):lightFormatters.d(i,t)},D:function n(i,t,r){var o=getUTCDayOfYear(i);return t==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):addLeadingZeros(o,t.length)},E:function n(i,t,r){var o=i.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function n(i,t,r,o){var a=i.getUTCDay(),s=(a-o.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return addLeadingZeros(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function n(i,t,r,o){var a=i.getUTCDay(),s=(a-o.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return addLeadingZeros(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function n(i,t,r){var o=i.getUTCDay(),a=o===0?7:o;switch(t){case"i":return String(a);case"ii":return addLeadingZeros(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function n(i,t,r){var o=i.getUTCHours(),a=o/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function n(i,t,r){var o=i.getUTCHours(),a;switch(o===12?a=dayPeriodEnum.noon:o===0?a=dayPeriodEnum.midnight:a=o/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function n(i,t,r){var o=i.getUTCHours(),a;switch(o>=17?a=dayPeriodEnum.evening:o>=12?a=dayPeriodEnum.afternoon:o>=4?a=dayPeriodEnum.morning:a=dayPeriodEnum.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function n(i,t,r){if(t==="ho"){var o=i.getUTCHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return lightFormatters.h(i,t)},H:function n(i,t,r){return t==="Ho"?r.ordinalNumber(i.getUTCHours(),{unit:"hour"}):lightFormatters.H(i,t)},K:function n(i,t,r){var o=i.getUTCHours()%12;return t==="Ko"?r.ordinalNumber(o,{unit:"hour"}):addLeadingZeros(o,t.length)},k:function n(i,t,r){var o=i.getUTCHours();return o===0&&(o=24),t==="ko"?r.ordinalNumber(o,{unit:"hour"}):addLeadingZeros(o,t.length)},m:function n(i,t,r){return t==="mo"?r.ordinalNumber(i.getUTCMinutes(),{unit:"minute"}):lightFormatters.m(i,t)},s:function n(i,t,r){return t==="so"?r.ordinalNumber(i.getUTCSeconds(),{unit:"second"}):lightFormatters.s(i,t)},S:function n(i,t){return lightFormatters.S(i,t)},X:function n(i,t,r,o){var a=o._originalDate||i,s=a.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return formatTimezoneWithOptionalMinutes(s);case"XXXX":case"XX":return formatTimezone(s);case"XXXXX":case"XXX":default:return formatTimezone(s,":")}},x:function n(i,t,r,o){var a=o._originalDate||i,s=a.getTimezoneOffset();switch(t){case"x":return formatTimezoneWithOptionalMinutes(s);case"xxxx":case"xx":return formatTimezone(s);case"xxxxx":case"xxx":default:return formatTimezone(s,":")}},O:function n(i,t,r,o){var a=o._originalDate||i,s=a.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(s,":");case"OOOO":default:return"GMT"+formatTimezone(s,":")}},z:function n(i,t,r,o){var a=o._originalDate||i,s=a.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(s,":");case"zzzz":default:return"GMT"+formatTimezone(s,":")}},t:function n(i,t,r,o){var a=o._originalDate||i,s=Math.floor(a.getTime()/1e3);return addLeadingZeros(s,t.length)},T:function n(i,t,r,o){var a=o._originalDate||i,s=a.getTime();return addLeadingZeros(s,t.length)}};function formatTimezoneShort(n,i){var t=n>0?"-":"+",r=Math.abs(n),o=Math.floor(r/60),a=r%60;if(a===0)return t+String(o);var s=i||"";return t+String(o)+s+addLeadingZeros(a,2)}function formatTimezoneWithOptionalMinutes(n,i){if(n%60===0){var t=n>0?"-":"+";return t+addLeadingZeros(Math.abs(n)/60,2)}return formatTimezone(n,i)}function formatTimezone(n,i){var t=i||"",r=n>0?"-":"+",o=Math.abs(n),a=addLeadingZeros(Math.floor(o/60),2),s=addLeadingZeros(o%60,2);return r+a+t+s}var dateLongFormatter=function n(i,t){switch(i){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},timeLongFormatter=function n(i,t){switch(i){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},dateTimeLongFormatter=function n(i,t){var r=i.match(/(P+)(p+)?/)||[],o=r[1],a=r[2];if(!a)return dateLongFormatter(i,t);var s;switch(o){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",dateLongFormatter(o,t)).replace("{{time}}",timeLongFormatter(a,t))},longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter};function getTimezoneOffsetInMilliseconds(n){var i=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return i.setUTCFullYear(n.getFullYear()),n.getTime()-i.getTime()}var protectedDayOfYearTokens=["D","DD"],protectedWeekYearTokens=["YY","YYYY"];function isProtectedDayOfYearToken(n){return protectedDayOfYearTokens.indexOf(n)!==-1}function isProtectedWeekYearToken(n){return protectedWeekYearTokens.indexOf(n)!==-1}function throwProtectedError(n,i,t){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(i,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(i,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(i,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(i,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance=function n(i,t,r){var o,a=formatDistanceLocale[i];return typeof a=="string"?o=a:t===1?o=a.one:o=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};const formatDistance$1=formatDistance;function buildFormatLongFn(n){return function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=i.width?String(i.width):n.defaultWidth,r=n.formats[t]||n.formats[n.defaultWidth];return r}}var dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})};const formatLong$1=formatLong;var formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=function n(i,t,r,o){return formatRelativeLocale[i]};const formatRelative$1=formatRelative;function buildLocalizeFn(n){return function(i,t){var r=t!=null&&t.context?String(t.context):"standalone",o;if(r==="formatting"&&n.formattingValues){var a=n.defaultFormattingWidth||n.defaultWidth,s=t!=null&&t.width?String(t.width):a;o=n.formattingValues[s]||n.formattingValues[a]}else{var l=n.defaultWidth,c=t!=null&&t.width?String(t.width):n.defaultWidth;o=n.values[c]||n.values[l]}var h=n.argumentCallback?n.argumentCallback(i):i;return o[h]}}var eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=function n(i,t){var r=Number(i),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:function n(i){return i-1}}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})};const localize$1=localize;function buildMatchFn(n){return function(i){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.width,o=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],a=i.match(o);if(!a)return null;var s=a[0],l=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],c=Array.isArray(l)?findIndex(l,function(d){return d.test(s)}):findKey(l,function(d){return d.test(s)}),h;h=n.valueCallback?n.valueCallback(c):c,h=t.valueCallback?t.valueCallback(h):h;var u=i.slice(s.length);return{value:h,rest:u}}}function findKey(n,i){for(var t in n)if(n.hasOwnProperty(t)&&i(n[t]))return t}function findIndex(n,i){for(var t=0;t<n.length;t++)if(i(n[t]))return t}function buildMatchPatternFn(n){return function(i){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=i.match(n.matchPattern);if(!r)return null;var o=r[0],a=i.match(n.parsePattern);if(!a)return null;var s=n.valueCallback?n.valueCallback(a[0]):a[0];s=t.valueCallback?t.valueCallback(s):s;var l=i.slice(o.length);return{value:s,rest:l}}}var matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match$1={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:function n(i){return parseInt(i,10)}}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:function n(i){return i+1}}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})};const match$2=match$1;var locale={code:"en-US",formatDistance:formatDistance$1,formatLong:formatLong$1,formatRelative:formatRelative$1,localize:localize$1,match:match$2,options:{weekStartsOn:0,firstWeekContainsDate:1}};const defaultLocale=locale;var formattingTokensRegExp$1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp$1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp$1=/^'([^]*?)'?$/,doubleQuoteRegExp$1=/''/g,unescapedLatinCharacterRegExp$1=/[a-zA-Z]/;function format(n,i,t){var r,o,a,s,l,c,h,u,d,f,p,m,g,v,_,y,b,x;requiredArgs(2,arguments);var E=String(i),C=getDefaultOptions(),$=(r=(o=t==null?void 0:t.locale)!==null&&o!==void 0?o:C.locale)!==null&&r!==void 0?r:defaultLocale,S=toInteger((a=(s=(l=(c=t==null?void 0:t.firstWeekContainsDate)!==null&&c!==void 0?c:t==null||(h=t.locale)===null||h===void 0||(u=h.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&l!==void 0?l:C.firstWeekContainsDate)!==null&&s!==void 0?s:(d=C.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=toInteger((p=(m=(g=(v=t==null?void 0:t.weekStartsOn)!==null&&v!==void 0?v:t==null||(_=t.locale)===null||_===void 0||(y=_.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&g!==void 0?g:C.weekStartsOn)!==null&&m!==void 0?m:(b=C.locale)===null||b===void 0||(x=b.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&p!==void 0?p:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!$.localize)throw new RangeError("locale must contain localize property");if(!$.formatLong)throw new RangeError("locale must contain formatLong property");var T=toDate(n);if(!isValid(T))throw new RangeError("Invalid time value");var k=getTimezoneOffsetInMilliseconds(T),L=subMilliseconds(T,k),N={firstWeekContainsDate:S,weekStartsOn:P,locale:$,_originalDate:T},z=E.match(longFormattingTokensRegExp$1).map(function(B){var U=B[0];if(U==="p"||U==="P"){var D=longFormatters[U];return D(B,$.formatLong)}return B}).join("").match(formattingTokensRegExp$1).map(function(B){if(B==="''")return"'";var U=B[0];if(U==="'")return cleanEscapedString$1(B);var D=formatters[U];if(D)return!(t!=null&&t.useAdditionalWeekYearTokens)&&isProtectedWeekYearToken(B)&&throwProtectedError(B,i,String(n)),!(t!=null&&t.useAdditionalDayOfYearTokens)&&isProtectedDayOfYearToken(B)&&throwProtectedError(B,i,String(n)),D(L,B,$.localize,N);if(U.match(unescapedLatinCharacterRegExp$1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+U+"`");return B}).join("");return z}function cleanEscapedString$1(n){var i=n.match(escapedStringRegExp$1);return i?i[1].replace(doubleQuoteRegExp$1,"'"):n}function assign$1(n,i){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t]);return n}function _typeof$w(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$w=function(t){return typeof t}:_typeof$w=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$w(n)}function _inherits$v(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&_setPrototypeOf$v(n,i)}function _setPrototypeOf$v(n,i){return _setPrototypeOf$v=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_setPrototypeOf$v(n,i)}function _createSuper$v(n){var i=_isNativeReflectConstruct$v();return function(){var r=_getPrototypeOf$v(n),o;if(i){var a=_getPrototypeOf$v(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn$v(this,o)}}function _possibleConstructorReturn$v(n,i){return i&&(_typeof$w(i)==="object"||typeof i=="function")?i:_assertThisInitialized$v(n)}function _assertThisInitialized$v(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct$v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$v(n){return _getPrototypeOf$v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf$v(n)}function _classCallCheck$w(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$w(n,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass$w(n,i,t){return i&&_defineProperties$w(n.prototype,i),t&&_defineProperties$w(n,t),n}function _defineProperty$v(n,i,t){return i in n?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t,n}var TIMEZONE_UNIT_PRIORITY=10,Setter=function(){function n(){_classCallCheck$w(this,n),_defineProperty$v(this,"subPriority",0)}return _createClass$w(n,[{key:"validate",value:function(t,r){return!0}}]),n}(),ValueSetter=function(n){_inherits$v(t,n);var i=_createSuper$v(t);function t(r,o,a,s,l){var c;return _classCallCheck$w(this,t),c=i.call(this),c.value=r,c.validateValue=o,c.setValue=a,c.priority=s,l&&(c.subPriority=l),c}return _createClass$w(t,[{key:"validate",value:function(o,a){return this.validateValue(o,this.value,a)}},{key:"set",value:function(o,a,s){return this.setValue(o,a,this.value,s)}}]),t}(Setter),DateToSystemTimezoneSetter=function(n){_inherits$v(t,n);var i=_createSuper$v(t);function t(){var r;_classCallCheck$w(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i.call.apply(i,[this].concat(a)),_defineProperty$v(_assertThisInitialized$v(r),"priority",TIMEZONE_UNIT_PRIORITY),_defineProperty$v(_assertThisInitialized$v(r),"subPriority",-1),r}return _createClass$w(t,[{key:"set",value:function(o,a){if(a.timestampIsSet)return o;var s=new Date(0);return s.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),s.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),s}}]),t}(Setter);function _classCallCheck$v(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$v(n,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass$v(n,i,t){return i&&_defineProperties$v(n.prototype,i),t&&_defineProperties$v(n,t),n}var Parser$1=function(){function n(){_classCallCheck$v(this,n)}return _createClass$v(n,[{key:"run",value:function(t,r,o,a){var s=this.parse(t,r,o,a);return s?{setter:new ValueSetter(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(t,r,o){return!0}}]),n}();function _typeof$v(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$v=function(t){return typeof t}:_typeof$v=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$v(n)}function _classCallCheck$u(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$u(n,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass$u(n,i,t){return i&&_defineProperties$u(n.prototype,i),t&&_defineProperties$u(n,t),n}function _inherits$u(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&_setPrototypeOf$u(n,i)}function _setPrototypeOf$u(n,i){return _setPrototypeOf$u=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_setPrototypeOf$u(n,i)}function _createSuper$u(n){var i=_isNativeReflectConstruct$u();return function(){var r=_getPrototypeOf$u(n),o;if(i){var a=_getPrototypeOf$u(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn$u(this,o)}}function _possibleConstructorReturn$u(n,i){return i&&(_typeof$v(i)==="object"||typeof i=="function")?i:_assertThisInitialized$u(n)}function _assertThisInitialized$u(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct$u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$u(n){return _getPrototypeOf$u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf$u(n)}function _defineProperty$u(n,i,t){return i in n?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t,n}var EraParser=function(n){_inherits$u(t,n);var i=_createSuper$u(t);function t(){var r;_classCallCheck$u(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i.call.apply(i,[this].concat(a)),_defineProperty$u(_assertThisInitialized$u(r),"priority",140),_defineProperty$u(_assertThisInitialized$u(r),"incompatibleTokens",["R","u","t","T"]),r}return _createClass$u(t,[{key:"parse",value:function(o,a,s){switch(a){case"G":case"GG":case"GGG":return s.era(o,{width:"abbreviated"})||s.era(o,{width:"narrow"});case"GGGGG":return s.era(o,{width:"narrow"});case"GGGG":default:return s.era(o,{width:"wide"})||s.era(o,{width:"abbreviated"})||s.era(o,{width:"narrow"})}}},{key:"set",value:function(o,a,s){return a.era=s,o.setUTCFullYear(s,0,1),o.setUTCHours(0,0,0,0),o}}]),t}(Parser$1),millisecondsInMinute=6e4,millisecondsInHour=36e5,millisecondsInSecond=1e3,numericPatterns={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},timezonePatterns={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function mapValue(n,i){return n&&{value:i(n.value),rest:n.rest}}function parseNumericPattern(n,i){var t=i.match(n);return t?{value:parseInt(t[0],10),rest:i.slice(t[0].length)}:null}function parseTimezonePattern(n,i){var t=i.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:i.slice(1)};var r=t[1]==="+"?1:-1,o=t[2]?parseInt(t[2],10):0,a=t[3]?parseInt(t[3],10):0,s=t[5]?parseInt(t[5],10):0;return{value:r*(o*millisecondsInHour+a*millisecondsInMinute+s*millisecondsInSecond),rest:i.slice(t[0].length)}}function parseAnyDigitsSigned(n){return parseNumericPattern(numericPatterns.anyDigitsSigned,n)}function parseNDigits(n,i){switch(n){case 1:return parseNumericPattern(numericPatterns.singleDigit,i);case 2:return parseNumericPattern(numericPatterns.twoDigits,i);case 3:return parseNumericPattern(numericPatterns.threeDigits,i);case 4:return parseNumericPattern(numericPatterns.fourDigits,i);default:return parseNumericPattern(new RegExp("^\\d{1,"+n+"}"),i)}}function parseNDigitsSigned(n,i){switch(n){case 1:return parseNumericPattern(numericPatterns.singleDigitSigned,i);case 2:return parseNumericPattern(numericPatterns.twoDigitsSigned,i);case 3:return parseNumericPattern(numericPatterns.threeDigitsSigned,i);case 4:return parseNumericPattern(numericPatterns.fourDigitsSigned,i);default:return parseNumericPattern(new RegExp("^-?\\d{1,"+n+"}"),i)}}function dayPeriodEnumToHours(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function normalizeTwoDigitYear(n,i){var t=i>0,r=t?i:1-i,o;if(r<=50)o=n||100;else{var a=r+50,s=Math.floor(a/100)*100,l=n>=a%100;o=n+s-(l?100:0)}return t?o:1-o}function isLeapYearIndex(n){return n%400===0||n%4===0&&n%100!==0}function _typeof$u(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$u=function(t){return typeof t}:_typeof$u=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$u(n)}function _classCallCheck$t(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$t(n,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass$t(n,i,t){return i&&_defineProperties$t(n.prototype,i),t&&_defineProperties$t(n,t),n}function _inherits$t(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&_setPrototypeOf$t(n,i)}function _setPrototypeOf$t(n,i){return _setPrototypeOf$t=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_setPrototypeOf$t(n,i)}function _createSuper$t(n){var i=_isNativeReflectConstruct$t();return function(){var r=_getPrototypeOf$t(n),o;if(i){var a=_getPrototypeOf$t(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn$t(this,o)}}function _possibleConstructorReturn$t(n,i){return i&&(_typeof$u(i)==="object"||typeof i=="function")?i:_assertThisInitialized$t(n)}function _assertThisInitialized$t(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct$t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$t(n){return _getPrototypeOf$t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf$t(n)}function _defineProperty$t(n,i,t){return i in n?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t,n}var YearParser=function(n){_inherits$t(t,n);var i=_createSuper$t(t);function t(){var r;_classCallCheck$t(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i.call.apply(i,[this].concat(a)),_defineProperty$t(_assertThisInitialized$t(r),"priority",130),_defineProperty$t(_assertThisInitialized$t(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return _createClass$t(t,[{key:"parse",value:function(o,a,s){var l=function(h){return{year:h,isTwoDigitYear:a==="yy"}};switch(a){case"y":return mapValue(parseNDigits(4,o),l);case"yo":return mapValue(s.ordinalNumber(o,{unit:"year"}),l);default:return mapValue(parseNDigits(a.length,o),l)}}},{key:"validate",value:function(o,a){return a.isTwoDigitYear||a.year>0}},{key:"set",value:function(o,a,s){var l=o.getUTCFullYear();if(s.isTwoDigitYear){var c=normalizeTwoDigitYear(s.year,l);return o.setUTCFullYear(c,0,1),o.setUTCHours(0,0,0,0),o}var h=!("era"in a)||a.era===1?s.year:1-s.year;return o.setUTCFullYear(h,0,1),o.setUTCHours(0,0,0,0),o}}]),t}(Parser$1);function _typeof$t(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$t=function(t){return typeof t}:_typeof$t=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$t(n)}function _classCallCheck$s(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$s(n,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass$s(n,i,t){return i&&_defineProperties$s(n.prototype,i),t&&_defineProperties$s(n,t),n}function _inherits$s(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&_setPrototypeOf$s(n,i)}function _setPrototypeOf$s(n,i){return _setPrototypeOf$s=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_setPrototypeOf$s(n,i)}function _createSuper$s(n){var i=_isNativeReflectConstruct$s();return function(){var r=_getPrototypeOf$s(n),o;if(i){var a=_getPrototypeOf$s(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn$s(this,o)}}function _possibleConstructorReturn$s(n,i){return i&&(_typeof$t(i)==="object"||typeof i=="function")?i:_assertThisInitialized$s(n)}function _assertThisInitialized$s(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct$s(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$s(n){return _getPrototypeOf$s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf$s(n)}function _defineProperty$s(n,i,t){return i in n?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t,n}var LocalWeekYearParser=function(n){_inherits$s(t,n);var i=_createSuper$s(t);function t(){var r;_classCallCheck$s(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i.call.apply(i,[this].concat(a)),_defineProperty$s(_assertThisInitialized$s(r),"priority",130),_defineProperty$s(_assertThisInitialized$s(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return _createClass$s(t,[{key:"parse",value:function(o,a,s){var l=function(h){return{year:h,isTwoDigitYear:a==="YY"}};switch(a){case"Y":return mapValue(parseNDigits(4,o),l);case"Yo":return mapValue(s.ordinalNumber(o,{unit:"year"}),l);default:return mapValue(parseNDigits(a.length,o),l)}}},{key:"validate",value:function(o,a){return a.isTwoDigitYear||a.year>0}},{key:"set",value:function(o,a,s,l){var c=getUTCWeekYear(o,l);if(s.isTwoDigitYear){var h=normalizeTwoDigitYear(s.year,c);return o.setUTCFullYear(h,0,l.firstWeekContainsDate),o.setUTCHours(0,0,0,0),startOfUTCWeek(o,l)}var u=!("era"in a)||a.era===1?s.year:1-s.year;return o.setUTCFullYear(u,0,l.firstWeekContainsDate),o.setUTCHours(0,0,0,0),startOfUTCWeek(o,l)}}]),t}(Parser$1);function _typeof$s(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$s=function(t){return typeof t}:_typeof$s=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$s(n)}function _classCallCheck$r(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$r(n,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass$r(n,i,t){return i&&_defineProperties$r(n.prototype,i),t&&_defineProperties$r(n,t),n}function _inherits$r(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&_setPrototypeOf$r(n,i)}function _setPrototypeOf$r(n,i){return _setPrototypeOf$r=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_setPrototypeOf$r(n,i)}function _createSuper$r(n){var i=_isNativeReflectConstruct$r();return function(){var r=_getPrototypeOf$r(n),o;if(i){var a=_getPrototypeOf$r(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn$r(this,o)}}function _possibleConstructorReturn$r(n,i){return i&&(_typeof$s(i)==="object"||typeof i=="function")?i:_assertThisInitialized$r(n)}function _assertThisInitialized$r(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct$r(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$r(n){return _getPrototypeOf$r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf$r(n)}function _defineProperty$r(n,i,t){return i in n?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t,n}var ISOWeekYearParser=function(n){_inherits$r(t,n);var i=_createSuper$r(t);function t(){var r;_classCallCheck$r(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i.call.apply(i,[this].concat(a)),_defineProperty$r(_assertThisInitialized$r(r),"priority",130),_defineProperty$r(_assertThisInitialized$r(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return _createClass$r(t,[{key:"parse",value:function(o,a){return parseNDigitsSigned(a==="R"?4:a.length,o)}},{key:"set",value:function(o,a,s){var l=new Date(0);return l.setUTCFullYear(s,0,4),l.setUTCHours(0,0,0,0),startOfUTCISOWeek(l)}}]),t}(Parser$1);function _typeof$r(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$r=function(t){return typeof t}:_typeof$r=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$r(n)}function _classCallCheck$q(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$q(n,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass$q(n,i,t){return i&&_defineProperties$q(n.prototype,i),t&&_defineProperties$q(n,t),n}function _inherits$q(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&_setPrototypeOf$q(n,i)}function _setPrototypeOf$q(n,i){return _setPrototypeOf$q=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_setPrototypeOf$q(n,i)}function _createSuper$q(n){var i=_isNativeReflectConstruct$q();return function(){var r=_getPrototypeOf$q(n),o;if(i){var a=_getPrototypeOf$q(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn$q(this,o)}}function _possibleConstructorReturn$q(n,i){return i&&(_typeof$r(i)==="object"||typeof i=="function")?i:_assertThisInitialized$q(n)}function _assertThisInitialized$q(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct$q(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$q(n){return _getPrototypeOf$q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf$q(n)}function _defineProperty$q(n,i,t){return i in n?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t,n}var ExtendedYearParser=function(n){_inherits$q(t,n);var i=_createSuper$q(t);function t(){var r;_classCallCheck$q(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i.call.apply(i,[this].concat(a)),_defineProperty$q(_assertThisInitialized$q(r),"priority",130),_defineProperty$q(_assertThisInitialized$q(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return _createClass$q(t,[{key:"parse",value:function(o,a){return parseNDigitsSigned(a==="u"?4:a.length,o)}},{key:"set",value:function(o,a,s){return o.setUTCFullYear(s,0,1),o.setUTCHours(0,0,0,0),o}}]),t}(Parser$1);function _typeof$q(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$q=function(t){return typeof t}:_typeof$q=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$q(n)}function _classCallCheck$p(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$p(n,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass$p(n,i,t){return i&&_defineProperties$p(n.prototype,i),t&&_defineProperties$p(n,t),n}function _inherits$p(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&_setPrototypeOf$p(n,i)}function _setPrototypeOf$p(n,i){return _setPrototypeOf$p=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_setPrototypeOf$p(n,i)}function _createSuper$p(n){var i=_isNativeReflectConstruct$p();return function(){var r=_getPrototypeOf$p(n),o;if(i){var a=_getPrototypeOf$p(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn$p(this,o)}}function _possibleConstructorReturn$p(n,i){return i&&(_typeof$q(i)==="object"||typeof i=="function")?i:_assertThisInitialized$p(n)}function _assertThisInitialized$p(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct$p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$p(n){return _getPrototypeOf$p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf$p(n)}function _defineProperty$p(n,i,t){return i in n?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t,n}var QuarterParser=function(n){_inherits$p(t,n);var i=_createSuper$p(t);function t(){var r;_classCallCheck$p(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i.call.apply(i,[this].concat(a)),_defineProperty$p(_assertThisInitialized$p(r),"priority",120),_defineProperty$p(_assertThisInitialized$p(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return _createClass$p(t,[{key:"parse",value:function(o,a,s){switch(a){case"Q":case"QQ":return parseNDigits(a.length,o);case"Qo":return s.ordinalNumber(o,{unit:"quarter"});case"QQQ":return s.quarter(o,{width:"abbreviated",context:"formatting"})||s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(o,{width:"wide",context:"formatting"})||s.quarter(o,{width:"abbreviated",context:"formatting"})||s.quarter(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,a){return a>=1&&a<=4}},{key:"set",value:function(o,a,s){return o.setUTCMonth((s-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),t}(Parser$1);function _typeof$p(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$p=function(t){return typeof t}:_typeof$p=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$p(n)}function _classCallCheck$o(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$o(n,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass$o(n,i,t){return i&&_defineProperties$o(n.prototype,i),t&&_defineProperties$o(n,t),n}function _inherits$o(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&_setPrototypeOf$o(n,i)}function _setPrototypeOf$o(n,i){return _setPrototypeOf$o=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_setPrototypeOf$o(n,i)}function _createSuper$o(n){var i=_isNativeReflectConstruct$o();return function(){var r=_getPrototypeOf$o(n),o;if(i){var a=_getPrototypeOf$o(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn$o(this,o)}}function _possibleConstructorReturn$o(n,i){return i&&(_typeof$p(i)==="object"||typeof i=="function")?i:_assertThisInitialized$o(n)}function _assertThisInitialized$o(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct$o(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$o(n){return _getPrototypeOf$o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf$o(n)}function _defineProperty$o(n,i,t){return i in n?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t,n}var StandAloneQuarterParser=function(n){_inherits$o(t,n);var i=_createSuper$o(t);function t(){var r;_classCallCheck$o(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i.call.apply(i,[this].concat(a)),_defineProperty$o(_assertThisInitialized$o(r),"priority",120),_defineProperty$o(_assertThisInitialized$o(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return _createClass$o(t,[{key:"parse",value:function(o,a,s){switch(a){case"q":case"qq":return parseNDigits(a.length,o);case"qo":return s.ordinalNumber(o,{unit:"quarter"});case"qqq":return s.quarter(o,{width:"abbreviated",context:"standalone"})||s.quarter(o,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(o,{width:"wide",context:"standalone"})||s.quarter(o,{width:"abbreviated",context:"standalone"})||s.quarter(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,a){return a>=1&&a<=4}},{key:"set",value:function(o,a,s){return o.setUTCMonth((s-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),t}(Parser$1);function _typeof$o(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$o=function(t){return typeof t}:_typeof$o=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$o(n)}function _classCallCheck$n(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$n(n,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass$n(n,i,t){return i&&_defineProperties$n(n.prototype,i),t&&_defineProperties$n(n,t),n}function _inherits$n(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&_setPrototypeOf$n(n,i)}function _setPrototypeOf$n(n,i){return _setPrototypeOf$n=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_setPrototypeOf$n(n,i)}function _createSuper$n(n){var i=_isNativeReflectConstruct$n();return function(){var r=_getPrototypeOf$n(n),o;if(i){var a=_getPrototypeOf$n(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn$n(this,o)}}function _possibleConstructorReturn$n(n,i){return i&&(_typeof$o(i)==="object"||typeof i=="function")?i:_assertThisInitialized$n(n)}function _assertThisInitialized$n(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct$n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$n(n){return _getPrototypeOf$n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf$n(n)}function _defineProperty$n(n,i,t){return i in n?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t,n}var MonthParser=function(n){_inherits$n(t,n);var i=_createSuper$n(t);function t(){var r;_classCallCheck$n(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i.call.apply(i,[this].concat(a)),_defineProperty$n(_assertThisInitialized$n(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),_defineProperty$n(_assertThisInitialized$n(r),"priority",110),r}return _createClass$n(t,[{key:"parse",value:function(o,a,s){var l=function(h){return h-1};switch(a){case"M":return mapValue(parseNumericPattern(numericPatterns.month,o),l);case"MM":return mapValue(parseNDigits(2,o),l);case"Mo":return mapValue(s.ordinalNumber(o,{unit:"month"}),l);case"MMM":return s.month(o,{width:"abbreviated",context:"formatting"})||s.month(o,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(o,{width:"wide",context:"formatting"})||s.month(o,{width:"abbreviated",context:"formatting"})||s.month(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,a){return a>=0&&a<=11}},{key:"set",value:function(o,a,s){return o.setUTCMonth(s,1),o.setUTCHours(0,0,0,0),o}}]),t}(Parser$1);function _typeof$n(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$n=function(t){return typeof t}:_typeof$n=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$n(n)}function _classCallCheck$m(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$m(n,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass$m(n,i,t){return i&&_defineProperties$m(n.prototype,i),t&&_defineProperties$m(n,t),n}function _inherits$m(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&_setPrototypeOf$m(n,i)}function _setPrototypeOf$m(n,i){return _setPrototypeOf$m=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_setPrototypeOf$m(n,i)}function _createSuper$m(n){var i=_isNativeReflectConstruct$m();return function(){var r=_getPrototypeOf$m(n),o;if(i){var a=_getPrototypeOf$m(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn$m(this,o)}}function _possibleConstructorReturn$m(n,i){return i&&(_typeof$n(i)==="object"||typeof i=="function")?i:_assertThisInitialized$m(n)}function _assertThisInitialized$m(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct$m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$m(n){return _getPrototypeOf$m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf$m(n)}function _defineProperty$m(n,i,t){return i in n?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t,n}var StandAloneMonthParser=function(n){_inherits$m(t,n);var i=_createSuper$m(t);function t(){var r;_classCallCheck$m(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i.call.apply(i,[this].concat(a)),_defineProperty$m(_assertThisInitialized$m(r),"priority",110),_defineProperty$m(_assertThisInitialized$m(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return _createClass$m(t,[{key:"parse",value:function(o,a,s){var l=function(h){return h-1};switch(a){case"L":return mapValue(parseNumericPattern(numericPatterns.month,o),l);case"LL":return mapValue(parseNDigits(2,o),l);case"Lo":return mapValue(s.ordinalNumber(o,{unit:"month"}),l);case"LLL":return s.month(o,{width:"abbreviated",context:"standalone"})||s.month(o,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(o,{width:"wide",context:"standalone"})||s.month(o,{width:"abbreviated",context:"standalone"})||s.month(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,a){return a>=0&&a<=11}},{key:"set",value:function(o,a,s){return o.setUTCMonth(s,1),o.setUTCHours(0,0,0,0),o}}]),t}(Parser$1);function setUTCWeek(n,i,t){requiredArgs(2,arguments);var r=toDate(n),o=toInteger(i),a=getUTCWeek(r,t)-o;return r.setUTCDate(r.getUTCDate()-a*7),r}function _typeof$m(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$m=function(t){return typeof t}:_typeof$m=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$m(n)}function _classCallCheck$l(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$l(n,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass$l(n,i,t){return i&&_defineProperties$l(n.prototype,i),t&&_defineProperties$l(n,t),n}function _inherits$l(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&_setPrototypeOf$l(n,i)}function _setPrototypeOf$l(n,i){return _setPrototypeOf$l=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_setPrototypeOf$l(n,i)}function _createSuper$l(n){var i=_isNativeReflectConstruct$l();return function(){var r=_getPrototypeOf$l(n),o;if(i){var a=_getPrototypeOf$l(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn$l(this,o)}}function _possibleConstructorReturn$l(n,i){return i&&(_typeof$m(i)==="object"||typeof i=="function")?i:_assertThisInitialized$l(n)}function _assertThisInitialized$l(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct$l(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$l(n){return _getPrototypeOf$l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf$l(n)}function _defineProperty$l(n,i,t){return i in n?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t,n}var LocalWeekParser=function(n){_inherits$l(t,n);var i=_createSuper$l(t);function t(){var r;_classCallCheck$l(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i.call.apply(i,[this].concat(a)),_defineProperty$l(_assertThisInitialized$l(r),"priority",100),_defineProperty$l(_assertThisInitialized$l(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return _createClass$l(t,[{key:"parse",value:function(o,a,s){switch(a){case"w":return parseNumericPattern(numericPatterns.week,o);case"wo":return s.ordinalNumber(o,{unit:"week"});default:return parseNDigits(a.length,o)}}},{key:"validate",value:function(o,a){return a>=1&&a<=53}},{key:"set",value:function(o,a,s,l){return startOfUTCWeek(setUTCWeek(o,s,l),l)}}]),t}(Parser$1);function setUTCISOWeek(n,i){requiredArgs(2,arguments);var t=toDate(n),r=toInteger(i),o=getUTCISOWeek(t)-r;return t.setUTCDate(t.getUTCDate()-o*7),t}function _typeof$l(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$l=function(t){return typeof t}:_typeof$l=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$l(n)}function _classCallCheck$k(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$k(n,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass$k(n,i,t){return i&&_defineProperties$k(n.prototype,i),t&&_defineProperties$k(n,t),n}function _inherits$k(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&_setPrototypeOf$k(n,i)}function _setPrototypeOf$k(n,i){return _setPrototypeOf$k=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_setPrototypeOf$k(n,i)}function _createSuper$k(n){var i=_isNativeReflectConstruct$k();return function(){var r=_getPrototypeOf$k(n),o;if(i){var a=_getPrototypeOf$k(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn$k(this,o)}}function _possibleConstructorReturn$k(n,i){return i&&(_typeof$l(i)==="object"||typeof i=="function")?i:_assertThisInitialized$k(n)}function _assertThisInitialized$k(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct$k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$k(n){return _getPrototypeOf$k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf$k(n)}function _defineProperty$k(n,i,t){return i in n?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t,n}var ISOWeekParser=function(n){_inherits$k(t,n);var i=_createSuper$k(t);function t(){var r;_classCallCheck$k(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i.call.apply(i,[this].concat(a)),_defineProperty$k(_assertThisInitialized$k(r),"priority",100),_defineProperty$k(_assertThisInitialized$k(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return _createClass$k(t,[{key:"parse",value:function(o,a,s){switch(a){case"I":return parseNumericPattern(numericPatterns.week,o);case"Io":return s.ordinalNumber(o,{unit:"week"});default:return parseNDigits(a.length,o)}}},{key:"validate",value:function(o,a){return a>=1&&a<=53}},{key:"set",value:function(o,a,s){return startOfUTCISOWeek(setUTCISOWeek(o,s))}}]),t}(Parser$1);function _typeof$k(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$k=function(t){return typeof t}:_typeof$k=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$k(n)}function _classCallCheck$j(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$j(n,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass$j(n,i,t){return i&&_defineProperties$j(n.prototype,i),t&&_defineProperties$j(n,t),n}function _inherits$j(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&_setPrototypeOf$j(n,i)}function _setPrototypeOf$j(n,i){return _setPrototypeOf$j=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_setPrototypeOf$j(n,i)}function _createSuper$j(n){var i=_isNativeReflectConstruct$j();return function(){var r=_getPrototypeOf$j(n),o;if(i){var a=_getPrototypeOf$j(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn$j(this,o)}}function _possibleConstructorReturn$j(n,i){return i&&(_typeof$k(i)==="object"||typeof i=="function")?i:_assertThisInitialized$j(n)}function _assertThisInitialized$j(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct$j(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$j(n){return _getPrototypeOf$j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf$j(n)}function _defineProperty$j(n,i,t){return i in n?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t,n}var DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31],DAYS_IN_MONTH_LEAP_YEAR=[31,29,31,30,31,30,31,31,30,31,30,31],DateParser=function(n){_inherits$j(t,n);var i=_createSuper$j(t);function t(){var r;_classCallCheck$j(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i.call.apply(i,[this].concat(a)),_defineProperty$j(_assertThisInitialized$j(r),"priority",90),_defineProperty$j(_assertThisInitialized$j(r),"subPriority",1),_defineProperty$j(_assertThisInitialized$j(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return _createClass$j(t,[{key:"parse",value:function(o,a,s){switch(a){case"d":return parseNumericPattern(numericPatterns.date,o);case"do":return s.ordinalNumber(o,{unit:"date"});default:return parseNDigits(a.length,o)}}},{key:"validate",value:function(o,a){var s=o.getUTCFullYear(),l=isLeapYearIndex(s),c=o.getUTCMonth();return l?a>=1&&a<=DAYS_IN_MONTH_LEAP_YEAR[c]:a>=1&&a<=DAYS_IN_MONTH[c]}},{key:"set",value:function(o,a,s){return o.setUTCDate(s),o.setUTCHours(0,0,0,0),o}}]),t}(Parser$1);function _typeof$j(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$j=function(t){return typeof t}:_typeof$j=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$j(n)}function _classCallCheck$i(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$i(n,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass$i(n,i,t){return i&&_defineProperties$i(n.prototype,i),t&&_defineProperties$i(n,t),n}function _inherits$i(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&_setPrototypeOf$i(n,i)}function _setPrototypeOf$i(n,i){return _setPrototypeOf$i=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_setPrototypeOf$i(n,i)}function _createSuper$i(n){var i=_isNativeReflectConstruct$i();return function(){var r=_getPrototypeOf$i(n),o;if(i){var a=_getPrototypeOf$i(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn$i(this,o)}}function _possibleConstructorReturn$i(n,i){return i&&(_typeof$j(i)==="object"||typeof i=="function")?i:_assertThisInitialized$i(n)}function _assertThisInitialized$i(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct$i(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$i(n){return _getPrototypeOf$i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf$i(n)}function _defineProperty$i(n,i,t){return i in n?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t,n}var DayOfYearParser=function(n){_inherits$i(t,n);var i=_createSuper$i(t);function t(){var r;_classCallCheck$i(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i.call.apply(i,[this].concat(a)),_defineProperty$i(_assertThisInitialized$i(r),"priority",90),_defineProperty$i(_assertThisInitialized$i(r),"subpriority",1),_defineProperty$i(_assertThisInitialized$i(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return _createClass$i(t,[{key:"parse",value:function(o,a,s){switch(a){case"D":case"DD":return parseNumericPattern(numericPatterns.dayOfYear,o);case"Do":return s.ordinalNumber(o,{unit:"date"});default:return parseNDigits(a.length,o)}}},{key:"validate",value:function(o,a){var s=o.getUTCFullYear(),l=isLeapYearIndex(s);return l?a>=1&&a<=366:a>=1&&a<=365}},{key:"set",value:function(o,a,s){return o.setUTCMonth(0,s),o.setUTCHours(0,0,0,0),o}}]),t}(Parser$1);function setUTCDay(n,i,t){var r,o,a,s,l,c,h,u;requiredArgs(2,arguments);var d=getDefaultOptions(),f=toInteger((r=(o=(a=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(l=t.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&a!==void 0?a:d.weekStartsOn)!==null&&o!==void 0?o:(h=d.locale)===null||h===void 0||(u=h.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=toDate(n),m=toInteger(i),g=p.getUTCDay(),v=m%7,_=(v+7)%7,y=(_<f?7:0)+m-g;return p.setUTCDate(p.getUTCDate()+y),p}function _typeof$i(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$i=function(t){return typeof t}:_typeof$i=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$i(n)}function _classCallCheck$h(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$h(n,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass$h(n,i,t){return i&&_defineProperties$h(n.prototype,i),t&&_defineProperties$h(n,t),n}function _inherits$h(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&_setPrototypeOf$h(n,i)}function _setPrototypeOf$h(n,i){return _setPrototypeOf$h=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_setPrototypeOf$h(n,i)}function _createSuper$h(n){var i=_isNativeReflectConstruct$h();return function(){var r=_getPrototypeOf$h(n),o;if(i){var a=_getPrototypeOf$h(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn$h(this,o)}}function _possibleConstructorReturn$h(n,i){return i&&(_typeof$i(i)==="object"||typeof i=="function")?i:_assertThisInitialized$h(n)}function _assertThisInitialized$h(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct$h(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$h(n){return _getPrototypeOf$h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf$h(n)}function _defineProperty$h(n,i,t){return i in n?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t,n}var DayParser=function(n){_inherits$h(t,n);var i=_createSuper$h(t);function t(){var r;_classCallCheck$h(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i.call.apply(i,[this].concat(a)),_defineProperty$h(_assertThisInitialized$h(r),"priority",90),_defineProperty$h(_assertThisInitialized$h(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return _createClass$h(t,[{key:"parse",value:function(o,a,s){switch(a){case"E":case"EE":case"EEE":return s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,a){return a>=0&&a<=6}},{key:"set",value:function(o,a,s,l){return o=setUTCDay(o,s,l),o.setUTCHours(0,0,0,0),o}}]),t}(Parser$1);function _typeof$h(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$h=function(t){return typeof t}:_typeof$h=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$h(n)}function _classCallCheck$g(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$g(n,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass$g(n,i,t){return i&&_defineProperties$g(n.prototype,i),t&&_defineProperties$g(n,t),n}function _inherits$g(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&_setPrototypeOf$g(n,i)}function _setPrototypeOf$g(n,i){return _setPrototypeOf$g=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_setPrototypeOf$g(n,i)}function _createSuper$g(n){var i=_isNativeReflectConstruct$g();return function(){var r=_getPrototypeOf$g(n),o;if(i){var a=_getPrototypeOf$g(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn$g(this,o)}}function _possibleConstructorReturn$g(n,i){return i&&(_typeof$h(i)==="object"||typeof i=="function")?i:_assertThisInitialized$g(n)}function _assertThisInitialized$g(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct$g(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$g(n){return _getPrototypeOf$g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf$g(n)}function _defineProperty$g(n,i,t){return i in n?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t,n}var LocalDayParser=function(n){_inherits$g(t,n);var i=_createSuper$g(t);function t(){var r;_classCallCheck$g(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i.call.apply(i,[this].concat(a)),_defineProperty$g(_assertThisInitialized$g(r),"priority",90),_defineProperty$g(_assertThisInitialized$g(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return _createClass$g(t,[{key:"parse",value:function(o,a,s,l){var c=function(u){var d=Math.floor((u-1)/7)*7;return(u+l.weekStartsOn+6)%7+d};switch(a){case"e":case"ee":return mapValue(parseNDigits(a.length,o),c);case"eo":return mapValue(s.ordinalNumber(o,{unit:"day"}),c);case"eee":return s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"eeeee":return s.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,a){return a>=0&&a<=6}},{key:"set",value:function(o,a,s,l){return o=setUTCDay(o,s,l),o.setUTCHours(0,0,0,0),o}}]),t}(Parser$1);function _typeof$g(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$g=function(t){return typeof t}:_typeof$g=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$g(n)}function _classCallCheck$f(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$f(n,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass$f(n,i,t){return i&&_defineProperties$f(n.prototype,i),t&&_defineProperties$f(n,t),n}function _inherits$f(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&_setPrototypeOf$f(n,i)}function _setPrototypeOf$f(n,i){return _setPrototypeOf$f=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_setPrototypeOf$f(n,i)}function _createSuper$f(n){var i=_isNativeReflectConstruct$f();return function(){var r=_getPrototypeOf$f(n),o;if(i){var a=_getPrototypeOf$f(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn$f(this,o)}}function _possibleConstructorReturn$f(n,i){return i&&(_typeof$g(i)==="object"||typeof i=="function")?i:_assertThisInitialized$f(n)}function _assertThisInitialized$f(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct$f(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$f(n){return _getPrototypeOf$f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf$f(n)}function _defineProperty$f(n,i,t){return i in n?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t,n}var StandAloneLocalDayParser=function(n){_inherits$f(t,n);var i=_createSuper$f(t);function t(){var r;_classCallCheck$f(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i.call.apply(i,[this].concat(a)),_defineProperty$f(_assertThisInitialized$f(r),"priority",90),_defineProperty$f(_assertThisInitialized$f(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return _createClass$f(t,[{key:"parse",value:function(o,a,s,l){var c=function(u){var d=Math.floor((u-1)/7)*7;return(u+l.weekStartsOn+6)%7+d};switch(a){case"c":case"cc":return mapValue(parseNDigits(a.length,o),c);case"co":return mapValue(s.ordinalNumber(o,{unit:"day"}),c);case"ccc":return s.day(o,{width:"abbreviated",context:"standalone"})||s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"});case"ccccc":return s.day(o,{width:"narrow",context:"standalone"});case"cccccc":return s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(o,{width:"wide",context:"standalone"})||s.day(o,{width:"abbreviated",context:"standalone"})||s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,a){return a>=0&&a<=6}},{key:"set",value:function(o,a,s,l){return o=setUTCDay(o,s,l),o.setUTCHours(0,0,0,0),o}}]),t}(Parser$1);function setUTCISODay(n,i){requiredArgs(2,arguments);var t=toInteger(i);t%7===0&&(t=t-7);var r=1,o=toDate(n),a=o.getUTCDay(),s=t%7,l=(s+7)%7,c=(l<r?7:0)+t-a;return o.setUTCDate(o.getUTCDate()+c),o}function _typeof$f(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$f=function(t){return typeof t}:_typeof$f=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$f(n)}function _classCallCheck$e(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$e(n,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass$e(n,i,t){return i&&_defineProperties$e(n.prototype,i),t&&_defineProperties$e(n,t),n}function _inherits$e(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&_setPrototypeOf$e(n,i)}function _setPrototypeOf$e(n,i){return _setPrototypeOf$e=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_setPrototypeOf$e(n,i)}function _createSuper$e(n){var i=_isNativeReflectConstruct$e();return function(){var r=_getPrototypeOf$e(n),o;if(i){var a=_getPrototypeOf$e(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn$e(this,o)}}function _possibleConstructorReturn$e(n,i){return i&&(_typeof$f(i)==="object"||typeof i=="function")?i:_assertThisInitialized$e(n)}function _assertThisInitialized$e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct$e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$e(n){return _getPrototypeOf$e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf$e(n)}function _defineProperty$e(n,i,t){return i in n?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t,n}var ISODayParser=function(n){_inherits$e(t,n);var i=_createSuper$e(t);function t(){var r;_classCallCheck$e(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i.call.apply(i,[this].concat(a)),_defineProperty$e(_assertThisInitialized$e(r),"priority",90),_defineProperty$e(_assertThisInitialized$e(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return _createClass$e(t,[{key:"parse",value:function(o,a,s){var l=function(h){return h===0?7:h};switch(a){case"i":case"ii":return parseNDigits(a.length,o);case"io":return s.ordinalNumber(o,{unit:"day"});case"iii":return mapValue(s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),l);case"iiiii":return mapValue(s.day(o,{width:"narrow",context:"formatting"}),l);case"iiiiii":return mapValue(s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),l);case"iiii":default:return mapValue(s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),l)}}},{key:"validate",value:function(o,a){return a>=1&&a<=7}},{key:"set",value:function(o,a,s){return o=setUTCISODay(o,s),o.setUTCHours(0,0,0,0),o}}]),t}(Parser$1);function _typeof$e(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$e=function(t){return typeof t}:_typeof$e=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$e(n)}function _classCallCheck$d(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$d(n,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass$d(n,i,t){return i&&_defineProperties$d(n.prototype,i),t&&_defineProperties$d(n,t),n}function _inherits$d(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&_setPrototypeOf$d(n,i)}function _setPrototypeOf$d(n,i){return _setPrototypeOf$d=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_setPrototypeOf$d(n,i)}function _createSuper$d(n){var i=_isNativeReflectConstruct$d();return function(){var r=_getPrototypeOf$d(n),o;if(i){var a=_getPrototypeOf$d(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn$d(this,o)}}function _possibleConstructorReturn$d(n,i){return i&&(_typeof$e(i)==="object"||typeof i=="function")?i:_assertThisInitialized$d(n)}function _assertThisInitialized$d(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct$d(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$d(n){return _getPrototypeOf$d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf$d(n)}function _defineProperty$d(n,i,t){return i in n?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t,n}var AMPMParser=function(n){_inherits$d(t,n);var i=_createSuper$d(t);function t(){var r;_classCallCheck$d(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i.call.apply(i,[this].concat(a)),_defineProperty$d(_assertThisInitialized$d(r),"priority",80),_defineProperty$d(_assertThisInitialized$d(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return _createClass$d(t,[{key:"parse",value:function(o,a,s){switch(a){case"a":case"aa":case"aaa":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,a,s){return o.setUTCHours(dayPeriodEnumToHours(s),0,0,0),o}}]),t}(Parser$1);function _typeof$d(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$d=function(t){return typeof t}:_typeof$d=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$d(n)}function _classCallCheck$c(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$c(n,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass$c(n,i,t){return i&&_defineProperties$c(n.prototype,i),t&&_defineProperties$c(n,t),n}function _inherits$c(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&_setPrototypeOf$c(n,i)}function _setPrototypeOf$c(n,i){return _setPrototypeOf$c=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_setPrototypeOf$c(n,i)}function _createSuper$c(n){var i=_isNativeReflectConstruct$c();return function(){var r=_getPrototypeOf$c(n),o;if(i){var a=_getPrototypeOf$c(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn$c(this,o)}}function _possibleConstructorReturn$c(n,i){return i&&(_typeof$d(i)==="object"||typeof i=="function")?i:_assertThisInitialized$c(n)}function _assertThisInitialized$c(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct$c(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$c(n){return _getPrototypeOf$c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf$c(n)}function _defineProperty$c(n,i,t){return i in n?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t,n}var AMPMMidnightParser=function(n){_inherits$c(t,n);var i=_createSuper$c(t);function t(){var r;_classCallCheck$c(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i.call.apply(i,[this].concat(a)),_defineProperty$c(_assertThisInitialized$c(r),"priority",80),_defineProperty$c(_assertThisInitialized$c(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return _createClass$c(t,[{key:"parse",value:function(o,a,s){switch(a){case"b":case"bb":case"bbb":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,a,s){return o.setUTCHours(dayPeriodEnumToHours(s),0,0,0),o}}]),t}(Parser$1);function _typeof$c(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$c=function(t){return typeof t}:_typeof$c=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$c(n)}function _classCallCheck$b(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$b(n,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass$b(n,i,t){return i&&_defineProperties$b(n.prototype,i),t&&_defineProperties$b(n,t),n}function _inherits$b(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&_setPrototypeOf$b(n,i)}function _setPrototypeOf$b(n,i){return _setPrototypeOf$b=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_setPrototypeOf$b(n,i)}function _createSuper$b(n){var i=_isNativeReflectConstruct$b();return function(){var r=_getPrototypeOf$b(n),o;if(i){var a=_getPrototypeOf$b(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn$b(this,o)}}function _possibleConstructorReturn$b(n,i){return i&&(_typeof$c(i)==="object"||typeof i=="function")?i:_assertThisInitialized$b(n)}function _assertThisInitialized$b(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct$b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$b(n){return _getPrototypeOf$b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf$b(n)}function _defineProperty$b(n,i,t){return i in n?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t,n}var DayPeriodParser=function(n){_inherits$b(t,n);var i=_createSuper$b(t);function t(){var r;_classCallCheck$b(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i.call.apply(i,[this].concat(a)),_defineProperty$b(_assertThisInitialized$b(r),"priority",80),_defineProperty$b(_assertThisInitialized$b(r),"incompatibleTokens",["a","b","t","T"]),r}return _createClass$b(t,[{key:"parse",value:function(o,a,s){switch(a){case"B":case"BB":case"BBB":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,a,s){return o.setUTCHours(dayPeriodEnumToHours(s),0,0,0),o}}]),t}(Parser$1);function _typeof$b(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$b=function(t){return typeof t}:_typeof$b=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$b(n)}function _classCallCheck$a(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a(n,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass$a(n,i,t){return i&&_defineProperties$a(n.prototype,i),t&&_defineProperties$a(n,t),n}function _inherits$a(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&_setPrototypeOf$a(n,i)}function _setPrototypeOf$a(n,i){return _setPrototypeOf$a=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_setPrototypeOf$a(n,i)}function _createSuper$a(n){var i=_isNativeReflectConstruct$a();return function(){var r=_getPrototypeOf$a(n),o;if(i){var a=_getPrototypeOf$a(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn$a(this,o)}}function _possibleConstructorReturn$a(n,i){return i&&(_typeof$b(i)==="object"||typeof i=="function")?i:_assertThisInitialized$a(n)}function _assertThisInitialized$a(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct$a(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$a(n){return _getPrototypeOf$a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf$a(n)}function _defineProperty$a(n,i,t){return i in n?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t,n}var Hour1to12Parser=function(n){_inherits$a(t,n);var i=_createSuper$a(t);function t(){var r;_classCallCheck$a(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i.call.apply(i,[this].concat(a)),_defineProperty$a(_assertThisInitialized$a(r),"priority",70),_defineProperty$a(_assertThisInitialized$a(r),"incompatibleTokens",["H","K","k","t","T"]),r}return _createClass$a(t,[{key:"parse",value:function(o,a,s){switch(a){case"h":return parseNumericPattern(numericPatterns.hour12h,o);case"ho":return s.ordinalNumber(o,{unit:"hour"});default:return parseNDigits(a.length,o)}}},{key:"validate",value:function(o,a){return a>=1&&a<=12}},{key:"set",value:function(o,a,s){var l=o.getUTCHours()>=12;return l&&s<12?o.setUTCHours(s+12,0,0,0):!l&&s===12?o.setUTCHours(0,0,0,0):o.setUTCHours(s,0,0,0),o}}]),t}(Parser$1);function _typeof$a(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$a=function(t){return typeof t}:_typeof$a=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$a(n)}function _classCallCheck$9(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9(n,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass$9(n,i,t){return i&&_defineProperties$9(n.prototype,i),t&&_defineProperties$9(n,t),n}function _inherits$9(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&_setPrototypeOf$9(n,i)}function _setPrototypeOf$9(n,i){return _setPrototypeOf$9=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_setPrototypeOf$9(n,i)}function _createSuper$9(n){var i=_isNativeReflectConstruct$9();return function(){var r=_getPrototypeOf$9(n),o;if(i){var a=_getPrototypeOf$9(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn$9(this,o)}}function _possibleConstructorReturn$9(n,i){return i&&(_typeof$a(i)==="object"||typeof i=="function")?i:_assertThisInitialized$9(n)}function _assertThisInitialized$9(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct$9(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$9(n){return _getPrototypeOf$9=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf$9(n)}function _defineProperty$9(n,i,t){return i in n?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t,n}var Hour0to23Parser=function(n){_inherits$9(t,n);var i=_createSuper$9(t);function t(){var r;_classCallCheck$9(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i.call.apply(i,[this].concat(a)),_defineProperty$9(_assertThisInitialized$9(r),"priority",70),_defineProperty$9(_assertThisInitialized$9(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return _createClass$9(t,[{key:"parse",value:function(o,a,s){switch(a){case"H":return parseNumericPattern(numericPatterns.hour23h,o);case"Ho":return s.ordinalNumber(o,{unit:"hour"});default:return parseNDigits(a.length,o)}}},{key:"validate",value:function(o,a){return a>=0&&a<=23}},{key:"set",value:function(o,a,s){return o.setUTCHours(s,0,0,0),o}}]),t}(Parser$1);function _typeof$9(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$9=function(t){return typeof t}:_typeof$9=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$9(n)}function _classCallCheck$8(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8(n,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass$8(n,i,t){return i&&_defineProperties$8(n.prototype,i),t&&_defineProperties$8(n,t),n}function _inherits$8(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&_setPrototypeOf$8(n,i)}function _setPrototypeOf$8(n,i){return _setPrototypeOf$8=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_setPrototypeOf$8(n,i)}function _createSuper$8(n){var i=_isNativeReflectConstruct$8();return function(){var r=_getPrototypeOf$8(n),o;if(i){var a=_getPrototypeOf$8(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn$8(this,o)}}function _possibleConstructorReturn$8(n,i){return i&&(_typeof$9(i)==="object"||typeof i=="function")?i:_assertThisInitialized$8(n)}function _assertThisInitialized$8(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct$8(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$8(n){return _getPrototypeOf$8=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf$8(n)}function _defineProperty$8(n,i,t){return i in n?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t,n}var Hour0To11Parser=function(n){_inherits$8(t,n);var i=_createSuper$8(t);function t(){var r;_classCallCheck$8(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i.call.apply(i,[this].concat(a)),_defineProperty$8(_assertThisInitialized$8(r),"priority",70),_defineProperty$8(_assertThisInitialized$8(r),"incompatibleTokens",["h","H","k","t","T"]),r}return _createClass$8(t,[{key:"parse",value:function(o,a,s){switch(a){case"K":return parseNumericPattern(numericPatterns.hour11h,o);case"Ko":return s.ordinalNumber(o,{unit:"hour"});default:return parseNDigits(a.length,o)}}},{key:"validate",value:function(o,a){return a>=0&&a<=11}},{key:"set",value:function(o,a,s){var l=o.getUTCHours()>=12;return l&&s<12?o.setUTCHours(s+12,0,0,0):o.setUTCHours(s,0,0,0),o}}]),t}(Parser$1);function _typeof$8(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$8=function(t){return typeof t}:_typeof$8=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$8(n)}function _classCallCheck$7(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7(n,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass$7(n,i,t){return i&&_defineProperties$7(n.prototype,i),t&&_defineProperties$7(n,t),n}function _inherits$7(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&_setPrototypeOf$7(n,i)}function _setPrototypeOf$7(n,i){return _setPrototypeOf$7=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_setPrototypeOf$7(n,i)}function _createSuper$7(n){var i=_isNativeReflectConstruct$7();return function(){var r=_getPrototypeOf$7(n),o;if(i){var a=_getPrototypeOf$7(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn$7(this,o)}}function _possibleConstructorReturn$7(n,i){return i&&(_typeof$8(i)==="object"||typeof i=="function")?i:_assertThisInitialized$7(n)}function _assertThisInitialized$7(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct$7(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$7(n){return _getPrototypeOf$7=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf$7(n)}function _defineProperty$7(n,i,t){return i in n?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t,n}var Hour1To24Parser=function(n){_inherits$7(t,n);var i=_createSuper$7(t);function t(){var r;_classCallCheck$7(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i.call.apply(i,[this].concat(a)),_defineProperty$7(_assertThisInitialized$7(r),"priority",70),_defineProperty$7(_assertThisInitialized$7(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return _createClass$7(t,[{key:"parse",value:function(o,a,s){switch(a){case"k":return parseNumericPattern(numericPatterns.hour24h,o);case"ko":return s.ordinalNumber(o,{unit:"hour"});default:return parseNDigits(a.length,o)}}},{key:"validate",value:function(o,a){return a>=1&&a<=24}},{key:"set",value:function(o,a,s){var l=s<=24?s%24:s;return o.setUTCHours(l,0,0,0),o}}]),t}(Parser$1);function _typeof$7(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$7=function(t){return typeof t}:_typeof$7=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$7(n)}function _classCallCheck$6(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(n,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass$6(n,i,t){return i&&_defineProperties$6(n.prototype,i),t&&_defineProperties$6(n,t),n}function _inherits$6(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&_setPrototypeOf$6(n,i)}function _setPrototypeOf$6(n,i){return _setPrototypeOf$6=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_setPrototypeOf$6(n,i)}function _createSuper$6(n){var i=_isNativeReflectConstruct$6();return function(){var r=_getPrototypeOf$6(n),o;if(i){var a=_getPrototypeOf$6(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn$6(this,o)}}function _possibleConstructorReturn$6(n,i){return i&&(_typeof$7(i)==="object"||typeof i=="function")?i:_assertThisInitialized$6(n)}function _assertThisInitialized$6(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct$6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$6(n){return _getPrototypeOf$6=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf$6(n)}function _defineProperty$6(n,i,t){return i in n?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t,n}var MinuteParser=function(n){_inherits$6(t,n);var i=_createSuper$6(t);function t(){var r;_classCallCheck$6(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i.call.apply(i,[this].concat(a)),_defineProperty$6(_assertThisInitialized$6(r),"priority",60),_defineProperty$6(_assertThisInitialized$6(r),"incompatibleTokens",["t","T"]),r}return _createClass$6(t,[{key:"parse",value:function(o,a,s){switch(a){case"m":return parseNumericPattern(numericPatterns.minute,o);case"mo":return s.ordinalNumber(o,{unit:"minute"});default:return parseNDigits(a.length,o)}}},{key:"validate",value:function(o,a){return a>=0&&a<=59}},{key:"set",value:function(o,a,s){return o.setUTCMinutes(s,0,0),o}}]),t}(Parser$1);function _typeof$6(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(t){return typeof t}:_typeof$6=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$6(n)}function _classCallCheck$5(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(n,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass$5(n,i,t){return i&&_defineProperties$5(n.prototype,i),t&&_defineProperties$5(n,t),n}function _inherits$5(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&_setPrototypeOf$5(n,i)}function _setPrototypeOf$5(n,i){return _setPrototypeOf$5=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_setPrototypeOf$5(n,i)}function _createSuper$5(n){var i=_isNativeReflectConstruct$5();return function(){var r=_getPrototypeOf$5(n),o;if(i){var a=_getPrototypeOf$5(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn$5(this,o)}}function _possibleConstructorReturn$5(n,i){return i&&(_typeof$6(i)==="object"||typeof i=="function")?i:_assertThisInitialized$5(n)}function _assertThisInitialized$5(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct$5(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$5(n){return _getPrototypeOf$5=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf$5(n)}function _defineProperty$5(n,i,t){return i in n?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t,n}var SecondParser=function(n){_inherits$5(t,n);var i=_createSuper$5(t);function t(){var r;_classCallCheck$5(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i.call.apply(i,[this].concat(a)),_defineProperty$5(_assertThisInitialized$5(r),"priority",50),_defineProperty$5(_assertThisInitialized$5(r),"incompatibleTokens",["t","T"]),r}return _createClass$5(t,[{key:"parse",value:function(o,a,s){switch(a){case"s":return parseNumericPattern(numericPatterns.second,o);case"so":return s.ordinalNumber(o,{unit:"second"});default:return parseNDigits(a.length,o)}}},{key:"validate",value:function(o,a){return a>=0&&a<=59}},{key:"set",value:function(o,a,s){return o.setUTCSeconds(s,0),o}}]),t}(Parser$1);function _typeof$5(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(t){return typeof t}:_typeof$5=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$5(n)}function _classCallCheck$4(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(n,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass$4(n,i,t){return i&&_defineProperties$4(n.prototype,i),t&&_defineProperties$4(n,t),n}function _inherits$4(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&_setPrototypeOf$4(n,i)}function _setPrototypeOf$4(n,i){return _setPrototypeOf$4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_setPrototypeOf$4(n,i)}function _createSuper$4(n){var i=_isNativeReflectConstruct$4();return function(){var r=_getPrototypeOf$4(n),o;if(i){var a=_getPrototypeOf$4(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn$4(this,o)}}function _possibleConstructorReturn$4(n,i){return i&&(_typeof$5(i)==="object"||typeof i=="function")?i:_assertThisInitialized$4(n)}function _assertThisInitialized$4(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct$4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$4(n){return _getPrototypeOf$4=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf$4(n)}function _defineProperty$4(n,i,t){return i in n?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t,n}var FractionOfSecondParser=function(n){_inherits$4(t,n);var i=_createSuper$4(t);function t(){var r;_classCallCheck$4(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i.call.apply(i,[this].concat(a)),_defineProperty$4(_assertThisInitialized$4(r),"priority",30),_defineProperty$4(_assertThisInitialized$4(r),"incompatibleTokens",["t","T"]),r}return _createClass$4(t,[{key:"parse",value:function(o,a){var s=function(c){return Math.floor(c*Math.pow(10,-a.length+3))};return mapValue(parseNDigits(a.length,o),s)}},{key:"set",value:function(o,a,s){return o.setUTCMilliseconds(s),o}}]),t}(Parser$1);function _typeof$4(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(t){return typeof t}:_typeof$4=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$4(n)}function _classCallCheck$3(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(n,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass$3(n,i,t){return i&&_defineProperties$3(n.prototype,i),t&&_defineProperties$3(n,t),n}function _inherits$3(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&_setPrototypeOf$3(n,i)}function _setPrototypeOf$3(n,i){return _setPrototypeOf$3=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_setPrototypeOf$3(n,i)}function _createSuper$3(n){var i=_isNativeReflectConstruct$3();return function(){var r=_getPrototypeOf$3(n),o;if(i){var a=_getPrototypeOf$3(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn$3(this,o)}}function _possibleConstructorReturn$3(n,i){return i&&(_typeof$4(i)==="object"||typeof i=="function")?i:_assertThisInitialized$3(n)}function _assertThisInitialized$3(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct$3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$3(n){return _getPrototypeOf$3=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf$3(n)}function _defineProperty$3(n,i,t){return i in n?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t,n}var ISOTimezoneWithZParser=function(n){_inherits$3(t,n);var i=_createSuper$3(t);function t(){var r;_classCallCheck$3(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i.call.apply(i,[this].concat(a)),_defineProperty$3(_assertThisInitialized$3(r),"priority",10),_defineProperty$3(_assertThisInitialized$3(r),"incompatibleTokens",["t","T","x"]),r}return _createClass$3(t,[{key:"parse",value:function(o,a){switch(a){case"X":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,o);case"XX":return parseTimezonePattern(timezonePatterns.basic,o);case"XXXX":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,o);case"XXXXX":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,o);case"XXX":default:return parseTimezonePattern(timezonePatterns.extended,o)}}},{key:"set",value:function(o,a,s){return a.timestampIsSet?o:new Date(o.getTime()-s)}}]),t}(Parser$1);function _typeof$3(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(t){return typeof t}:_typeof$3=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$3(n)}function _classCallCheck$2(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(n,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass$2(n,i,t){return i&&_defineProperties$2(n.prototype,i),t&&_defineProperties$2(n,t),n}function _inherits$2(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&_setPrototypeOf$2(n,i)}function _setPrototypeOf$2(n,i){return _setPrototypeOf$2=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_setPrototypeOf$2(n,i)}function _createSuper$2(n){var i=_isNativeReflectConstruct$2();return function(){var r=_getPrototypeOf$2(n),o;if(i){var a=_getPrototypeOf$2(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn$2(this,o)}}function _possibleConstructorReturn$2(n,i){return i&&(_typeof$3(i)==="object"||typeof i=="function")?i:_assertThisInitialized$2(n)}function _assertThisInitialized$2(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct$2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$2(n){return _getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf$2(n)}function _defineProperty$2(n,i,t){return i in n?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t,n}var ISOTimezoneParser=function(n){_inherits$2(t,n);var i=_createSuper$2(t);function t(){var r;_classCallCheck$2(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i.call.apply(i,[this].concat(a)),_defineProperty$2(_assertThisInitialized$2(r),"priority",10),_defineProperty$2(_assertThisInitialized$2(r),"incompatibleTokens",["t","T","X"]),r}return _createClass$2(t,[{key:"parse",value:function(o,a){switch(a){case"x":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,o);case"xx":return parseTimezonePattern(timezonePatterns.basic,o);case"xxxx":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,o);case"xxxxx":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,o);case"xxx":default:return parseTimezonePattern(timezonePatterns.extended,o)}}},{key:"set",value:function(o,a,s){return a.timestampIsSet?o:new Date(o.getTime()-s)}}]),t}(Parser$1);function _typeof$2(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(t){return typeof t}:_typeof$2=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$2(n)}function _classCallCheck$1(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(n,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass$1(n,i,t){return i&&_defineProperties$1(n.prototype,i),t&&_defineProperties$1(n,t),n}function _inherits$1(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&_setPrototypeOf$1(n,i)}function _setPrototypeOf$1(n,i){return _setPrototypeOf$1=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_setPrototypeOf$1(n,i)}function _createSuper$1(n){var i=_isNativeReflectConstruct$1();return function(){var r=_getPrototypeOf$1(n),o;if(i){var a=_getPrototypeOf$1(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn$1(this,o)}}function _possibleConstructorReturn$1(n,i){return i&&(_typeof$2(i)==="object"||typeof i=="function")?i:_assertThisInitialized$1(n)}function _assertThisInitialized$1(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct$1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$1(n){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf$1(n)}function _defineProperty$1(n,i,t){return i in n?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t,n}var TimestampSecondsParser=function(n){_inherits$1(t,n);var i=_createSuper$1(t);function t(){var r;_classCallCheck$1(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i.call.apply(i,[this].concat(a)),_defineProperty$1(_assertThisInitialized$1(r),"priority",40),_defineProperty$1(_assertThisInitialized$1(r),"incompatibleTokens","*"),r}return _createClass$1(t,[{key:"parse",value:function(o){return parseAnyDigitsSigned(o)}},{key:"set",value:function(o,a,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),t}(Parser$1);function _typeof$1(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(t){return typeof t}:_typeof$1=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$1(n)}function _classCallCheck(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass(n,i,t){return i&&_defineProperties(n.prototype,i),t&&_defineProperties(n,t),n}function _inherits(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&_setPrototypeOf(n,i)}function _setPrototypeOf(n,i){return _setPrototypeOf=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_setPrototypeOf(n,i)}function _createSuper(n){var i=_isNativeReflectConstruct();return function(){var r=_getPrototypeOf(n),o;if(i){var a=_getPrototypeOf(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn(this,o)}}function _possibleConstructorReturn(n,i){return i&&(_typeof$1(i)==="object"||typeof i=="function")?i:_assertThisInitialized(n)}function _assertThisInitialized(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf(n){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(n)}function _defineProperty(n,i,t){return i in n?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t,n}var TimestampMillisecondsParser=function(n){_inherits(t,n);var i=_createSuper(t);function t(){var r;_classCallCheck(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=i.call.apply(i,[this].concat(a)),_defineProperty(_assertThisInitialized(r),"priority",20),_defineProperty(_assertThisInitialized(r),"incompatibleTokens","*"),r}return _createClass(t,[{key:"parse",value:function(o){return parseAnyDigitsSigned(o)}},{key:"set",value:function(o,a,s){return[new Date(s),{timestampIsSet:!0}]}}]),t}(Parser$1),parsers={G:new EraParser,y:new YearParser,Y:new LocalWeekYearParser,R:new ISOWeekYearParser,u:new ExtendedYearParser,Q:new QuarterParser,q:new StandAloneQuarterParser,M:new MonthParser,L:new StandAloneMonthParser,w:new LocalWeekParser,I:new ISOWeekParser,d:new DateParser,D:new DayOfYearParser,E:new DayParser,e:new LocalDayParser,c:new StandAloneLocalDayParser,i:new ISODayParser,a:new AMPMParser,b:new AMPMMidnightParser,B:new DayPeriodParser,h:new Hour1to12Parser,H:new Hour0to23Parser,K:new Hour0To11Parser,k:new Hour1To24Parser,m:new MinuteParser,s:new SecondParser,S:new FractionOfSecondParser,X:new ISOTimezoneWithZParser,x:new ISOTimezoneParser,t:new TimestampSecondsParser,T:new TimestampMillisecondsParser};function _typeof(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(t){return typeof t}:_typeof=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(n)}function _createForOfIteratorHelper(n,i){var t;if(typeof Symbol>"u"||n[Symbol.iterator]==null){if(Array.isArray(n)||(t=_unsupportedIterableToArray(n))||i&&n&&typeof n.length=="number"){t&&(n=t);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(h){throw h},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,l;return{s:function(){t=n[Symbol.iterator]()},n:function(){var h=t.next();return a=h.done,h},e:function(h){s=!0,l=h},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(s)throw l}}}}function _unsupportedIterableToArray(n,i){if(n){if(typeof n=="string")return _arrayLikeToArray(n,i);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _arrayLikeToArray(n,i)}}function _arrayLikeToArray(n,i){(i==null||i>n.length)&&(i=n.length);for(var t=0,r=new Array(i);t<i;t++)r[t]=n[t];return r}var formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,notWhitespaceRegExp=/\S/,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function parse$1(n,i,t,r){var o,a,s,l,c,h,u,d,f,p,m,g,v,_,y,b,x,E;requiredArgs(3,arguments);var C=String(n),$=String(i),S=getDefaultOptions(),P=(o=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:S.locale)!==null&&o!==void 0?o:defaultLocale;if(!P.match)throw new RangeError("locale must contain match property");var T=toInteger((s=(l=(c=(h=r==null?void 0:r.firstWeekContainsDate)!==null&&h!==void 0?h:r==null||(u=r.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&c!==void 0?c:S.firstWeekContainsDate)!==null&&l!==void 0?l:(f=S.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=toInteger((m=(g=(v=(_=r==null?void 0:r.weekStartsOn)!==null&&_!==void 0?_:r==null||(y=r.locale)===null||y===void 0||(b=y.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&v!==void 0?v:S.weekStartsOn)!==null&&g!==void 0?g:(x=S.locale)===null||x===void 0||(E=x.options)===null||E===void 0?void 0:E.weekStartsOn)!==null&&m!==void 0?m:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if($==="")return C===""?toDate(t):new Date(NaN);var L={firstWeekContainsDate:T,weekStartsOn:k,locale:P},N=[new DateToSystemTimezoneSetter],z=$.match(longFormattingTokensRegExp).map(function(J){var et=J[0];if(et in longFormatters){var nt=longFormatters[et];return nt(J,P.formatLong)}return J}).join("").match(formattingTokensRegExp),B=[],U=_createForOfIteratorHelper(z),D;try{var M=function(){var et=D.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&isProtectedWeekYearToken(et)&&throwProtectedError(et,$,n),!(r!=null&&r.useAdditionalDayOfYearTokens)&&isProtectedDayOfYearToken(et)&&throwProtectedError(et,$,n);var nt=et[0],at=parsers[nt];if(at){var ct=at.incompatibleTokens;if(Array.isArray(ct)){var ht=B.find(function(tt){return ct.includes(tt.token)||tt.token===nt});if(ht)throw new RangeError("The format string mustn't contain `".concat(ht.fullToken,"` and `").concat(et,"` at the same time"))}else if(at.incompatibleTokens==="*"&&B.length>0)throw new RangeError("The format string mustn't contain `".concat(et,"` and any other token at the same time"));B.push({token:nt,fullToken:et});var ut=at.run(C,et,P.match,L);if(!ut)return{v:new Date(NaN)};N.push(ut.setter),C=ut.rest}else{if(nt.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+nt+"`");if(et==="''"?et="'":nt==="'"&&(et=cleanEscapedString(et)),C.indexOf(et)===0)C=C.slice(et.length);else return{v:new Date(NaN)}}};for(U.s();!(D=U.n()).done;){var F=M();if(_typeof(F)==="object")return F.v}}catch(J){U.e(J)}finally{U.f()}if(C.length>0&&notWhitespaceRegExp.test(C))return new Date(NaN);var j=N.map(function(J){return J.priority}).sort(function(J,et){return et-J}).filter(function(J,et,nt){return nt.indexOf(J)===et}).map(function(J){return N.filter(function(et){return et.priority===J}).sort(function(et,nt){return nt.subPriority-et.subPriority})}).map(function(J){return J[0]}),Y=toDate(t);if(isNaN(Y.getTime()))return new Date(NaN);var W=subMilliseconds(Y,getTimezoneOffsetInMilliseconds(Y)),q={},X=_createForOfIteratorHelper(j),K;try{for(X.s();!(K=X.n()).done;){var Q=K.value;if(!Q.validate(W,L))return new Date(NaN);var rt=Q.set(W,q,L);Array.isArray(rt)?(W=rt[0],assign$1(q,rt[1])):W=rt}}catch(J){X.e(J)}finally{X.f()}return W}function cleanEscapedString(n){return n.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp,"'")}(function(){const n=function(i){return window.Vaadin.Flow.tryCatchWrapper(i,"Vaadin Date Picker")};window.Vaadin.Flow.datepickerConnector={initLazy:i=>n(function(t){if(t.$connector)return;t.$connector={};const r=function(s){try{new Date().toLocaleDateString(s)}catch{return console.warn("The locale is not supported, using default format setting (ISO 8601)."),"yyyy-MM-dd"}let c=new Date(Date.UTC(1234,4,6)).toLocaleDateString(s,{timeZone:"UTC"});return c=c.replace(/([a-zA-Z]+)/g,"'$1'").replace("06","dd").replace("6","d").replace("05","MM").replace("5","M").replace("1234","yyyy"),c.includes("d")&&c.includes("M")&&c.includes("y")?c:(console.warn("The locale is not supported, using default format setting (ISO 8601)."),"yyyy-MM-dd")},o=n(function(s){if(!s||s.length===0)throw new Error("Array of custom date formats is null or empty");function l(p){if(p.includes("yyyy")&&!p.includes("yyyyy"))return p.replace("yyyy","yy");if(p.includes("YYYY")&&!p.includes("YYYYY"))return p.replace("YYYY","YY")}function c(p){return p.includes("y")?!p.includes("yyy"):p.includes("Y")?!p.includes("YYY"):!1}function h(p){if(t.$connector._lastParseStatus==="error")return;if(t.$connector._lastParseStatus==="successful"){t.$connector._lastParsedDate.day===p.getDate()&&t.$connector._lastParsedDate.month===p.getMonth()&&t.$connector._lastParsedDate.year%100===p.getFullYear()%100&&p.setFullYear(t.$connector._lastParsedDate.year);return}const m=parseDate(t.value);isValid(m)&&m.getDate()===p.getDate()&&m.getMonth()===p.getMonth()&&m.getFullYear()%100===p.getFullYear()%100&&p.setFullYear(m.getFullYear())}function u(p){const m=s[0],g=parseDate(`${p.year}-${p.month+1}-${p.day}`);return format(g,m)}function d(p,m,g){const v=parse$1(p,m,g);if(isValid(v))return c(m)&&h(v),{day:v.getDate(),month:v.getMonth(),year:v.getFullYear()}}function f(p){const m=a();for(let g of s){if(!c(g)){const y=d(p,l(g),m);if(y)return t.$connector._lastParseStatus="successful",t.$connector._lastParsedDate=y,y}const _=d(p,g,m);if(_)return t.$connector._lastParseStatus="successful",t.$connector._lastParsedDate=_,_}return t.$connector._lastParseStatus="error",!1}return{formatDate:u,parseDate:f}});function a(){const{referenceDate:s}=t.i18n;return s?new Date(s.year,s.month,s.day):new Date}t.$connector.updateI18n=n(function(s,l){const c=l&&l.dateFormats&&l.dateFormats.length>0;l&&l.referenceDate&&(l.referenceDate=extractDateParts(new Date(l.referenceDate)));const h=c?l.dateFormats:[r(s)],u=o(h);t.i18n=Object.assign({},t.i18n,l,u)}),t.addEventListener("opened-changed",()=>t.$connector._lastParseStatus=void 0)})(i)}})();/**
 * @license
 * Copyright (c) 2018 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-time-picker-item",[item,comboBoxItem],{moduleId:"lumo-time-picker-item"});registerStyles$1("vaadin-time-picker-overlay",[overlay,menuOverlayCore,comboBoxOverlay,css$e`
      :host {
        --_vaadin-time-picker-items-container-border-width: var(--lumo-space-xs);
        --_vaadin-time-picker-items-container-border-style: solid;
      }
    `],{moduleId:"lumo-time-picker-overlay"});const timePicker=css$e`
  [part~='toggle-button']::before {
    content: var(--lumo-icons-clock);
  }

  :host([dir='rtl']) [part='input-field'] ::slotted(input:placeholder-shown) {
    --_lumo-text-field-overflow-mask-image: none;
  }

  :host([dir='rtl']) [part='input-field'] ::slotted(input) {
    --_lumo-text-field-overflow-mask-image: linear-gradient(to left, transparent, #000 1.25em);
  }
`;registerStyles$1("vaadin-time-picker",[inputFieldShared,timePicker],{moduleId:"lumo-time-picker"});/**
 * @license
 * Copyright (c) 2018 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class TimePickerItem extends ComboBoxItemMixin(ThemableMixin(DirMixin(PolymerElement))){static get is(){return"vaadin-time-picker-item"}static get template(){return html`
      <style>
        :host {
          display: block;
        }

        :host([hidden]) {
          display: none !important;
        }
      </style>
      <span part="checkmark" aria-hidden="true"></span>
      <div part="content">
        <slot></slot>
      </div>
    `}}defineCustomElement(TimePickerItem);/**
 * @license
 * Copyright (c) 2018 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const timePickerOverlayStyles=css$e`
  #overlay {
    width: var(--vaadin-time-picker-overlay-width, var(--_vaadin-time-picker-overlay-default-width, auto));
  }

  [part='content'] {
    display: flex;
    flex-direction: column;
    height: 100%;
  }
`;registerStyles$1("vaadin-time-picker-overlay",[overlayStyles,timePickerOverlayStyles],{moduleId:"vaadin-time-picker-overlay-styles"});class TimePickerOverlay extends ComboBoxOverlayMixin(OverlayMixin(DirMixin(ThemableMixin(PolymerElement)))){static get is(){return"vaadin-time-picker-overlay"}static get template(){return html`
      <div id="backdrop" part="backdrop" hidden></div>
      <div part="overlay" id="overlay">
        <div part="content" id="content">
          <slot></slot>
        </div>
      </div>
    `}}defineCustomElement(TimePickerOverlay);/**
 * @license
 * Copyright (c) 2018 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class TimePickerScroller extends ComboBoxScrollerMixin(PolymerElement){static get is(){return"vaadin-time-picker-scroller"}static get template(){return html`
      <style>
        :host {
          display: block;
          min-height: 1px;
          overflow: auto;

          /* Fixes item background from getting on top of scrollbars on Safari */
          transform: translate3d(0, 0, 0);

          /* Enable momentum scrolling on iOS */
          -webkit-overflow-scrolling: touch;

          /* Fixes scrollbar disappearing when 'Show scroll bars: Always' enabled in Safari */
          box-shadow: 0 0 0 white;
        }

        #selector {
          border-width: var(--_vaadin-time-picker-items-container-border-width);
          border-style: var(--_vaadin-time-picker-items-container-border-style);
          border-color: var(--_vaadin-time-picker-items-container-border-color, transparent);
          position: relative;
        }
      </style>
      <div id="selector">
        <slot></slot>
      </div>
    `}}defineCustomElement(TimePickerScroller);/**
 * @license
 * Copyright (c) 2018 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class TimePickerComboBox extends ComboBoxMixin(ThemableMixin(PolymerElement)){static get is(){return"vaadin-time-picker-combo-box"}static get template(){return html`
      <style>
        :host([opened]) {
          pointer-events: auto;
        }
      </style>

      <slot></slot>

      <vaadin-time-picker-overlay
        id="overlay"
        opened="[[_overlayOpened]]"
        loading$="[[loading]]"
        theme$="[[_theme]]"
        position-target="[[positionTarget]]"
        no-vertical-overlap
        restore-focus-node="[[inputElement]]"
      ></vaadin-time-picker-overlay>
    `}static get properties(){return{positionTarget:{type:Object}}}get _tagNamePrefix(){return"vaadin-time-picker"}get clearElement(){return this.querySelector('[part="clear-button"]')}get _inputElementValue(){return super._inputElementValue}set _inputElementValue(i){super._inputElementValue=i,this._hasInputValue=i.length>0}ready(){super.ready(),this.allowCustomValue=!0,this._toggleElement=this.querySelector(".toggle-button"),this.setAttribute("dir","ltr")}}defineCustomElement(TimePickerComboBox);/**
 * @license
 * Copyright (c) 2018 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const MIN_ALLOWED_TIME="00:00:00.000",MAX_ALLOWED_TIME="23:59:59.999";registerStyles$1("vaadin-time-picker",inputFieldShared$1,{moduleId:"vaadin-time-picker-styles"});class TimePicker extends PatternMixin(InputControlMixin(ThemableMixin(ElementMixin(PolymerElement)))){static get is(){return"vaadin-time-picker"}static get template(){return html`
      <style>
        /* See https://github.com/vaadin/vaadin-time-picker/issues/145 */
        :host([dir='rtl']) [part='input-field'] {
          direction: ltr;
        }

        :host([dir='rtl']) [part='input-field'] ::slotted(input)::placeholder {
          direction: rtl;
          text-align: left;
        }

        [part~='toggle-button'] {
          cursor: pointer;
        }
      </style>

      <div class="vaadin-time-picker-container">
        <div part="label">
          <slot name="label"></slot>
          <span part="required-indicator" aria-hidden="true" on-click="focus"></span>
        </div>

        <vaadin-time-picker-combo-box
          id="comboBox"
          filtered-items="[[__dropdownItems]]"
          value="{{_comboBoxValue}}"
          opened="{{opened}}"
          disabled="[[disabled]]"
          readonly="[[readonly]]"
          clear-button-visible="[[clearButtonVisible]]"
          auto-open-disabled="[[autoOpenDisabled]]"
          overlay-class="[[overlayClass]]"
          position-target="[[_inputContainer]]"
          theme$="[[_theme]]"
          on-change="__onComboBoxChange"
          on-has-input-value-changed="__onComboBoxHasInputValueChanged"
        >
          <vaadin-input-container
            part="input-field"
            readonly="[[readonly]]"
            disabled="[[disabled]]"
            invalid="[[invalid]]"
            theme$="[[_theme]]"
          >
            <slot name="prefix" slot="prefix"></slot>
            <slot name="input"></slot>
            <div id="clearButton" part="clear-button" slot="suffix" aria-hidden="true"></div>
            <div id="toggleButton" class="toggle-button" part="toggle-button" slot="suffix" aria-hidden="true"></div>
          </vaadin-input-container>
        </vaadin-time-picker-combo-box>

        <div part="helper-text">
          <slot name="helper"></slot>
        </div>

        <div part="error-message">
          <slot name="error-message"></slot>
        </div>
      </div>
      <slot name="tooltip"></slot>
    `}static get properties(){return{value:{type:String,notify:!0,value:""},opened:{type:Boolean,notify:!0,value:!1,reflectToAttribute:!0},min:{type:String,value:""},max:{type:String,value:""},step:{type:Number},autoOpenDisabled:Boolean,overlayClass:{type:String},__dropdownItems:{type:Array},i18n:{type:Object,value:()=>({formatTime:i=>{if(!i)return;const t=(o=0,a="00")=>(a+o).substr((a+o).length-a.length);let r=`${t(i.hours)}:${t(i.minutes)}`;return i.seconds!==void 0&&(r+=`:${t(i.seconds)}`),i.milliseconds!==void 0&&(r+=`.${t(i.milliseconds,"000")}`),r},parseTime:i=>{const t="(\\d|[0-1]\\d|2[0-3])",r="(\\d|[0-5]\\d)",o=r,a="(\\d{1,3})",l=new RegExp(`^${t}(?::${r}(?::${o}(?:\\.${a})?)?)?$`,"u").exec(i);if(l){if(l[4])for(;l[4].length<3;)l[4]+="0";return{hours:l[1],minutes:l[2],seconds:l[3],milliseconds:l[4]}}}})},_comboBoxValue:{type:String,observer:"__comboBoxValueChanged"},_inputContainer:Object}}static get observers(){return["__updateDropdownItems(i18n.*, min, max, step)"]}static get constraints(){return[...super.constraints,"min","max"]}get clearElement(){return this.$.clearButton}get __unparsableValue(){return this._inputElementValue&&!this.i18n.parseTime(this._inputElementValue)?this._inputElementValue:""}ready(){super.ready(),this.addController(new InputController(this,i=>{this._setInputElement(i),this._setFocusElement(i),this.stateTarget=i,this.ariaTarget=i})),this.addController(new LabelledInputController(this.inputElement,this._labelController)),this._inputContainer=this.shadowRoot.querySelector('[part~="input-field"]'),this._tooltipController=new TooltipController(this),this._tooltipController.setShouldShow(i=>!i.opened),this._tooltipController.setPosition("top"),this._tooltipController.setAriaTarget(this.inputElement),this.addController(this._tooltipController)}_inputElementChanged(i){super._inputElementChanged(i),i&&this.$.comboBox._setInputElement(i)}open(){!this.disabled&&!this.readonly&&(this.opened=!0)}close(){this.opened=!1}checkValidity(){return!!(this.inputElement.checkValidity()&&(!this.value||this._timeAllowed(this.i18n.parseTime(this.value)))&&(!this._comboBoxValue||this.i18n.parseTime(this._comboBoxValue)))}_setFocused(i){super._setFocused(i),i||(this.__commitValueChange(),document.hasFocus()&&this.validate())}__validDayDivisor(i){return!i||24*3600%i===0||i<1&&i%1*1e3%1===0}_onKeyDown(i){if(super._onKeyDown(i),this.readonly||this.disabled||this.__dropdownItems.length)return;const t=this.__validDayDivisor(this.step)&&this.step||60;i.keyCode===40?this.__onArrowPressWithStep(-t):i.keyCode===38&&this.__onArrowPressWithStep(t)}_onEscape(){}__onArrowPressWithStep(i){const t=this.__addStep(this.__getMsec(this.__memoValue),i,!0);this.__memoValue=t,this.__useMemo=!0,this._comboBoxValue=this.i18n.formatTime(t),this.__useMemo=!1,this.__commitValueChange()}__commitValueChange(){const i=this.__unparsableValue;this.__committedValue!==this.value?(this.validate(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))):this.__committedUnparsableValue!==i&&(this.validate(),this.dispatchEvent(new CustomEvent("unparsable-change"))),this.__committedValue=this.value,this.__committedUnparsableValue=i}__getMsec(i){let t=(i&&i.hours||0)*60*60*1e3;return t+=(i&&i.minutes||0)*60*1e3,t+=(i&&i.seconds||0)*1e3,t+=i&&parseInt(i.milliseconds)||0,t}__getSec(i){let t=(i&&i.hours||0)*60*60;return t+=(i&&i.minutes||0)*60,t+=i&&i.seconds||0,t+=i&&i.milliseconds/1e3||0,t}__addStep(i,t,r){i===0&&t<0&&(i=24*60*60*1e3);const o=t*1e3,a=i%o;o<0&&a&&r?i-=a:o>0&&a&&r?i-=a-o:i+=o;const s=Math.floor(i/1e3/60/60);i-=s*1e3*60*60;const l=Math.floor(i/1e3/60);i-=l*1e3*60;const c=Math.floor(i/1e3);return i-=c*1e3,{hours:s<24?s:0,minutes:l,seconds:c,milliseconds:i}}__updateDropdownItems(i,t,r,o){const a=this.__validateTime(this.__parseISO(t||MIN_ALLOWED_TIME)),s=this.__getSec(a),l=this.__validateTime(this.__parseISO(r||MAX_ALLOWED_TIME)),c=this.__getSec(l);if(this.__dropdownItems=this.__generateDropdownList(s,c,o),o!==this.__oldStep){this.__oldStep=o;const h=this.__validateTime(this.__parseISO(this.value));this.__updateValue(h)}this.value&&(this._comboBoxValue=this.i18n.formatTime(this.i18n.parseTime(this.value)))}__generateDropdownList(i,t,r){if(r<15*60||!this.__validDayDivisor(r))return[];const o=[];r||(r=3600);let a=-r+i;for(;a+r>=i&&a+r<=t;){const s=this.__validateTime(this.__addStep(a*1e3,r));a+=r;const l=this.i18n.formatTime(s);o.push({label:l,value:l})}return o}_valueChanged(i,t){const r=this.__memoValue=this.__parseISO(i),o=this.__formatISO(r)||"";this.__keepCommittedValue||(this.__committedValue=i,this.__committedUnparsableValue=""),i!==""&&i!==null&&!r?this.value=t===void 0?"":t:i!==o?this.value=o:this.__keepInvalidInput?delete this.__keepInvalidInput:this.__updateInputValue(r),this._toggleHasValue(this._hasValue)}__comboBoxValueChanged(i,t){if(i===""&&t===void 0)return;const r=this.__useMemo?this.__memoValue:this.i18n.parseTime(i),o=this.i18n.formatTime(r)||"";r?i!==o?this._comboBoxValue=o:(this.__keepCommittedValue=!0,this.__updateValue(r),this.__keepCommittedValue=!1):(this.value!==""&&i!==""&&(this.__keepInvalidInput=!0),this.__keepCommittedValue=!0,this.value="",this.__keepCommittedValue=!1)}__onComboBoxChange(i){i.stopPropagation(),this.__commitValueChange()}__onComboBoxHasInputValueChanged(){this._hasInputValue=this.$.comboBox._hasInputValue}__updateValue(i){const t=this.__formatISO(this.__validateTime(i))||"";this.value=t}__updateInputValue(i){const t=this.i18n.formatTime(this.__validateTime(i))||"";this._comboBoxValue=t}__validateTime(i){if(i){const t=this.__getStepSegment();i.hours=parseInt(i.hours),i.minutes=parseInt(i.minutes||0),i.seconds=t<3?void 0:parseInt(i.seconds||0),i.milliseconds=t<4?void 0:parseInt(i.milliseconds||0)}return i}__getStepSegment(){if(this.step%3600===0)return 1;if(this.step%60===0||!this.step)return 2;if(this.step%1===0)return 3;if(this.step<1)return 4}__formatISO(i){return TimePicker.properties.i18n.value().formatTime(i)}__parseISO(i){return TimePicker.properties.i18n.value().parseTime(i)}_timeAllowed(i){const t=this.i18n.parseTime(this.min||MIN_ALLOWED_TIME),r=this.i18n.parseTime(this.max||MAX_ALLOWED_TIME);return(!this.__getMsec(t)||this.__getMsec(i)>=this.__getMsec(t))&&(!this.__getMsec(r)||this.__getMsec(i)<=this.__getMsec(r))}_onClearButtonClick(){}_onChange(){}_onInput(){}}defineCustomElement(TimePicker);const dateTimePicker=css$e`
  ::slotted([slot='date-picker']) {
    margin-inline-end: 2px;
    --vaadin-input-field-top-end-radius: 0;
    --vaadin-input-field-bottom-end-radius: 0;
  }

  ::slotted([slot='time-picker']) {
    --vaadin-input-field-top-start-radius: 0;
    --vaadin-input-field-bottom-start-radius: 0;
  }
`;registerStyles$1("vaadin-date-time-picker",[dateTimePicker,requiredField,helper,customField],{moduleId:"lumo-date-time-picker"});/**
 * @license
 * Copyright (c) 2019 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-date-time-picker",inputFieldShared$1,{moduleId:"vaadin-date-time-picker"});function getPropertyFromPrototype(n,i){for(;n;){if(n.properties&&n.properties[i])return n.properties[i];n=Object.getPrototypeOf(n)}}const datePickerI18nDefaults=getPropertyFromPrototype(DatePicker,"i18n").value(),timePickerI18nDefaults=getPropertyFromPrototype(TimePicker,"i18n").value(),datePickerI18nProps=Object.keys(datePickerI18nDefaults),timePickerI18nProps=Object.keys(timePickerI18nDefaults);class PickerSlotController extends SlotController{constructor(i,t){super(i,`${t}-picker`,`vaadin-${t}-picker`,{initializer:(r,o)=>{const a=`__${t}Picker`;o[a]=r}})}}class DateTimePicker extends FieldMixin(DisabledMixin(FocusMixin(ThemableMixin(ElementMixin(PolymerElement))))){static get template(){return html`
      <style>
        .vaadin-date-time-picker-container {
          --vaadin-field-default-width: auto;
        }

        .slots {
          display: flex;
          --vaadin-field-default-width: 12em;
        }

        .slots ::slotted([slot='date-picker']) {
          min-width: 0;
          flex: 1 1 auto;
        }

        .slots ::slotted([slot='time-picker']) {
          min-width: 0;
          flex: 1 1.65 auto;
        }
      </style>

      <div class="vaadin-date-time-picker-container">
        <div part="label" on-click="focus">
          <slot name="label"></slot>
          <span part="required-indicator" aria-hidden="true"></span>
        </div>

        <div class="slots">
          <slot name="date-picker" id="dateSlot"></slot>
          <slot name="time-picker" id="timeSlot"></slot>
        </div>

        <div part="helper-text">
          <slot name="helper"></slot>
        </div>

        <div part="error-message">
          <slot name="error-message"></slot>
        </div>
      </div>

      <slot name="tooltip"></slot>
    `}static get is(){return"vaadin-date-time-picker"}static get properties(){return{name:{type:String},value:{type:String,notify:!0,value:"",observer:"__valueChanged"},min:{type:String,observer:"__minChanged"},max:{type:String,observer:"__maxChanged"},__minDateTime:{type:Date,value:""},__maxDateTime:{type:Date,value:""},datePlaceholder:{type:String},timePlaceholder:{type:String},step:{type:Number},initialPosition:String,showWeekNumbers:{type:Boolean},autoOpenDisabled:Boolean,readonly:{type:Boolean,value:!1,reflectToAttribute:!0},autofocus:{type:Boolean},__selectedDateTime:{type:Date},i18n:{type:Object,value:()=>({...datePickerI18nDefaults,...timePickerI18nDefaults})},overlayClass:{type:String},__datePicker:{type:HTMLElement,observer:"__datePickerChanged"},__timePicker:{type:HTMLElement,observer:"__timePickerChanged"}}}static get observers(){return["__selectedDateTimeChanged(__selectedDateTime)","__datePlaceholderChanged(datePlaceholder, __datePicker)","__timePlaceholderChanged(timePlaceholder, __timePicker)","__stepChanged(step, __timePicker)","__initialPositionChanged(initialPosition, __datePicker)","__showWeekNumbersChanged(showWeekNumbers, __datePicker)","__requiredChanged(required, __datePicker, __timePicker)","__invalidChanged(invalid, __datePicker, __timePicker)","__disabledChanged(disabled, __datePicker, __timePicker)","__readonlyChanged(readonly, __datePicker, __timePicker)","__i18nChanged(i18n, __datePicker, __timePicker)","__autoOpenDisabledChanged(autoOpenDisabled, __datePicker, __timePicker)","__themeChanged(_theme, __datePicker, __timePicker)","__overlayClassChanged(overlayClass, __datePicker, __timePicker)","__pickersChanged(__datePicker, __timePicker)","__labelOrAccessibleNameChanged(label, accessibleName, i18n, __datePicker, __timePicker)"]}constructor(){super(),this.__defaultDateMinMaxValue=void 0,this.__defaultTimeMinValue="00:00:00.000",this.__defaultTimeMaxValue="23:59:59.999",this.__changeEventHandler=this.__changeEventHandler.bind(this),this.__valueChangedEventHandler=this.__valueChangedEventHandler.bind(this)}get __inputs(){return[this.__datePicker,this.__timePicker]}get __formattedValue(){const[i,t]=this.__inputs.map(r=>r.value);return i&&t?[i,t].join("T"):""}ready(){super.ready(),this._datePickerController=new PickerSlotController(this,"date"),this.addController(this._datePickerController),this._timePickerController=new PickerSlotController(this,"time"),this.addController(this._timePickerController),this.autofocus&&!this.disabled&&window.requestAnimationFrame(()=>this.focus()),this.setAttribute("role","group"),this._tooltipController=new TooltipController(this),this.addController(this._tooltipController),this._tooltipController.setPosition("top"),this._tooltipController.setShouldShow(i=>i.__datePicker&&!i.__datePicker.opened&&i.__timePicker&&!i.__timePicker.opened),this.ariaTarget=this}focus(){this.__datePicker.focus()}_setFocused(i){super._setFocused(i),!i&&document.hasFocus()&&this.validate()}_shouldRemoveFocus(i){const t=i.relatedTarget,r=this.__datePicker._overlayContent;return!(this.__datePicker.contains(t)||this.__timePicker.contains(t)||r&&r.contains(t))}__syncI18n(i,t,r=Object.keys(t.i18n)){r.forEach(o=>{t.i18n&&t.i18n.hasOwnProperty(o)&&i.set(`i18n.${o}`,t.i18n[o])})}__changeEventHandler(i){i.stopPropagation(),this.__dispatchChangeForValue===this.value&&(this.validate(),this.__dispatchChange()),this.__dispatchChangeForValue=void 0}__addInputListeners(i){i.addEventListener("change",this.__changeEventHandler),i.addEventListener("value-changed",this.__valueChangedEventHandler)}__removeInputListeners(i){i.removeEventListener("change",this.__changeEventHandler),i.removeEventListener("value-changed",this.__valueChangedEventHandler)}__isDefaultPicker(i,t){const r=this[`_${t}PickerController`];return r&&i===r.defaultNode}__datePickerChanged(i,t){i&&(t&&(this.__removeInputListeners(t),t.remove()),this.__addInputListeners(i),this.__isDefaultPicker(i,"date")?(i.placeholder=this.datePlaceholder,i.invalid=this.invalid,i.initialPosition=this.initialPosition,i.showWeekNumbers=this.showWeekNumbers,this.__syncI18n(i,this,datePickerI18nProps)):(this.datePlaceholder=i.placeholder,this.initialPosition=i.initialPosition,this.showWeekNumbers=i.showWeekNumbers,this.__syncI18n(this,i,datePickerI18nProps)),i.min=this.__formatDateISO(this.__minDateTime,this.__defaultDateMinMaxValue),i.max=this.__formatDateISO(this.__maxDateTime,this.__defaultDateMinMaxValue),i.validate=()=>{},i._validateInput=()=>{})}__timePickerChanged(i,t){i&&(t&&(this.__removeInputListeners(t),t.remove()),this.__addInputListeners(i),this.__isDefaultPicker(i,"time")?(i.placeholder=this.timePlaceholder,i.step=this.step,i.invalid=this.invalid,this.__syncI18n(i,this,timePickerI18nProps)):(this.timePlaceholder=i.placeholder,this.step=i.step,this.__syncI18n(this,i,timePickerI18nProps)),this.__updateTimePickerMinMax(),i.validate=()=>{})}__updateTimePickerMinMax(){if(this.__timePicker&&this.__datePicker){const i=this.__parseDate(this.__datePicker.value),t=dateEquals(this.__minDateTime,this.__maxDateTime),r=this.__timePicker.value;this.__minDateTime&&dateEquals(i,this.__minDateTime)||t?this.__timePicker.min=this.__dateToIsoTimeString(this.__minDateTime):this.__timePicker.min=this.__defaultTimeMinValue,this.__maxDateTime&&dateEquals(i,this.__maxDateTime)||t?this.__timePicker.max=this.__dateToIsoTimeString(this.__maxDateTime):this.__timePicker.max=this.__defaultTimeMaxValue,this.__timePicker.value!==r&&(this.__timePicker.value=r)}}__i18nChanged(i,t,r){t&&(t.i18n={...t.i18n,...i}),r&&(r.i18n={...r.i18n,...i})}__labelOrAccessibleNameChanged(i,t,r,o,a){const s=t||i||"";o&&(o.accessibleName=`${s} ${r.dateLabel||""}`.trim()),a&&(a.accessibleName=`${s} ${r.timeLabel||""}`.trim())}__datePlaceholderChanged(i,t){t&&(t.placeholder=i)}__timePlaceholderChanged(i,t){t&&(t.placeholder=i)}__stepChanged(i,t){t&&t.step!==i&&(t.step=i)}__initialPositionChanged(i,t){t&&(t.initialPosition=i)}__showWeekNumbersChanged(i,t){t&&(t.showWeekNumbers=i)}__invalidChanged(i,t,r){t&&(t.invalid=i),r&&(r.invalid=i)}__requiredChanged(i,t,r){t&&(t.required=i),r&&(r.required=i)}__disabledChanged(i,t,r){t&&(t.disabled=i),r&&(r.disabled=i)}__readonlyChanged(i,t,r){t&&(t.readonly=i),r&&(r.readonly=i)}__parseDate(i){return parseDate(i)}__formatDateISO(i,t){return i?DatePicker.prototype._formatISO(i):t}__formatTimeISO(i){return timePickerI18nDefaults.formatTime(i)}__parseTimeISO(i){return timePickerI18nDefaults.parseTime(i)}__parseDateTime(i){const[t,r]=i.split("T");if(!(t&&r))return;const o=this.__parseDate(t);if(!o)return;const a=this.__parseTimeISO(r);if(a)return o.setHours(parseInt(a.hours)),o.setMinutes(parseInt(a.minutes||0)),o.setSeconds(parseInt(a.seconds||0)),o.setMilliseconds(parseInt(a.milliseconds||0)),o}__formatDateTime(i){if(!i)return"";const t=this.__formatDateISO(i,""),r=this.__dateToIsoTimeString(i);return`${t}T${r}`}__dateToIsoTimeString(i){return this.__formatTimeISO(this.__validateTime({hours:i.getHours(),minutes:i.getMinutes(),seconds:i.getSeconds(),milliseconds:i.getMilliseconds()}))}__validateTime(i){if(i){const t=this.__getStepSegment();i.seconds=t<3?void 0:i.seconds,i.milliseconds=t<4?void 0:i.milliseconds}return i}checkValidity(){const i=this.__inputs.some(r=>!r.checkValidity()),t=this.required&&this.__inputs.some(r=>!r.value);return!(i||t)}__getStepSegment(){const i=this.step==null?60:parseFloat(this.step);if(i%3600===0)return 1;if(i%60===0||!i)return 2;if(i%1===0)return 3;if(i<1)return 4}__dateTimeEquals(i,t){return dateEquals(i,t)?i.getHours()===t.getHours()&&i.getMinutes()===t.getMinutes()&&i.getSeconds()===t.getSeconds()&&i.getMilliseconds()===t.getMilliseconds():!1}__handleDateTimeChange(i,t,r,o){if(!r){this[i]="",this[t]="";return}const a=this.__parseDateTime(r);if(!a){this[i]=o;return}this.__dateTimeEquals(this[t],a)||(this[t]=a)}__valueChanged(i,t){this.__handleDateTimeChange("value","__selectedDateTime",i,t),t!==void 0&&(this.__dispatchChangeForValue=i),this.toggleAttribute("has-value",!!i),this.__updateTimePickerMinMax()}__dispatchChange(){this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}__minChanged(i,t){this.__handleDateTimeChange("min","__minDateTime",i,t),this.__datePicker&&(this.__datePicker.min=this.__formatDateISO(this.__minDateTime,this.__defaultDateMinMaxValue)),this.__updateTimePickerMinMax(),this.__datePicker&&this.__timePicker&&this.value&&this.validate()}__maxChanged(i,t){this.__handleDateTimeChange("max","__maxDateTime",i,t),this.__datePicker&&(this.__datePicker.max=this.__formatDateISO(this.__maxDateTime,this.__defaultDateMinMaxValue)),this.__updateTimePickerMinMax(),this.__datePicker&&this.__timePicker&&this.value&&this.validate()}__selectedDateTimeChanged(i){const t=this.__formatDateTime(i);if(this.value!==t&&(this.value=t),!!(this.__datePicker&&this.__datePicker.$)&&!this.__ignoreInputValueChange){this.__ignoreInputValueChange=!0;const[o,a]=this.value.split("T");this.__datePicker.value=o||"",this.__timePicker.value=a||"",this.__ignoreInputValueChange=!1}}__valueChangedEventHandler(){if(this.__ignoreInputValueChange)return;const i=this.__formattedValue,[t,r]=i.split("T");this.__ignoreInputValueChange=!0,this.__updateTimePickerMinMax(),t&&r?i!==this.value&&(this.value=i):this.value="",this.__ignoreInputValueChange=!1}__autoOpenDisabledChanged(i,t,r){t&&(t.autoOpenDisabled=i),r&&(r.autoOpenDisabled=i)}__themeChanged(i,t,r){!t||!r||[t,r].forEach(o=>{i?o.setAttribute("theme",i):o.removeAttribute("theme")})}__overlayClassChanged(i,t,r){!t||!r||(t.overlayClass=i,r.overlayClass=i)}__pickersChanged(i,t){!i||!t||this.__isDefaultPicker(i,"date")===this.__isDefaultPicker(t,"time")&&(i.value?this.__valueChangedEventHandler():this.value&&(this.__selectedDateTimeChanged(this.__selectedDateTime),(this.min||this.max)&&this.validate()))}}defineCustomElement(DateTimePicker);const EASTERN_ARABIC_DIGIT_MAP={"\\u0660":"0","\\u0661":"1","\\u0662":"2","\\u0663":"3","\\u0664":"4","\\u0665":"5","\\u0666":"6","\\u0667":"7","\\u0668":"8","\\u0669":"9"};function escapeRegExp(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function parseEasternArabicDigits(n){return n.replace(/[\u0660-\u0669]/g,function(i){const t="\\u0"+i.charCodeAt(0).toString(16);return EASTERN_ARABIC_DIGIT_MAP[t]})}function getAmOrPmString(n,i){const t=i.toLocaleTimeString(n),r=/[^\d\u0660-\u0669]/,o=t.match(new RegExp(`${r.source}+$`,"g"))||t.match(new RegExp(`^${r.source}+`,"g"));return o&&o[0].trim()}function getSeparator(n){let i=TEST_PM_TIME.toLocaleTimeString(n);const t=getPmString(n);t&&i.startsWith(t)&&(i=i.replace(t,""));const r=i.match(/[^\u0660-\u0669\s\d]/);return r&&r[0]}function searchAmOrPmToken(n,i){if(!i)return null;const t=i.split(/\s*/).map(escapeRegExp).join("\\s*"),r=new RegExp(t,"i"),o=n.match(r);if(o)return o[0]}const TEST_PM_TIME=new Date("August 19, 1975 23:15:30"),TEST_AM_TIME=new Date("August 19, 1975 05:15:30");function getPmString(n){return getAmOrPmString(n,TEST_PM_TIME)}function getAmString(n){return getAmOrPmString(n,TEST_AM_TIME)}function parseDigitsIntoInteger(n){return parseInt(parseEasternArabicDigits(n))}function parseMillisecondsIntoInteger(n){return n=parseEasternArabicDigits(n),n.length===1?n+="00":n.length===2&&(n+="0"),parseInt(n)}function formatMilliseconds(n,i,t,r){let o=n;if(n.endsWith(t)?o=n.replace(" "+t,""):n.endsWith(r)&&(o=n.replace(" "+r,"")),i){let a=i<10?"0":"";a+=i<100?"0":"",a+=i,o+="."+a}else o+=".000";return n.endsWith(t)?o=o+" "+t:n.endsWith(r)&&(o=o+" "+r),o}(function(){const n=function(t){return window.Vaadin.Flow.tryCatchWrapper(t,"Vaadin Time Picker")};function i(t,r,o=0){t()?r():setTimeout(()=>i(t,r,200),o)}window.Vaadin.Flow.timepickerConnector={initLazy:t=>n(function(r){r.$connector||(r.$connector={},r.$connector.setLocale=n(function(o){let a;r.value&&r.value!==""&&(a=r.i18n.parseTime(r.value));try{TEST_PM_TIME.toLocaleTimeString(o)}catch{throw o="en-US",new Error("vaadin-time-picker: The locale "+o+" is not supported, falling back to default locale setting(en-US).")}const s=getPmString(o),l=getAmString(o),c=getSeparator(o),h=function(){return r.step&&r.step<60},u=function(){return r.step&&r.step<1};let d,f;r.i18n={formatTime:n(function(p){if(!p)return;const m=new Date;m.setHours(p.hours),m.setMinutes(p.minutes),m.setSeconds(p.seconds!==void 0?p.seconds:0);let g=m.toLocaleTimeString(o,{hour:"numeric",minute:"numeric",second:h()?"numeric":void 0});return u()&&(g=formatMilliseconds(g,p.milliseconds,l,s)),g}),parseTime:n(function(p){if(p&&p===d&&f)return f;if(!p)return;const m=searchAmOrPmToken(p,l),g=searchAmOrPmToken(p,s),v=p.replace(m||"","").replace(g||"","").trim(),_=new RegExp("([\\d\\u0660-\\u0669]){1,2}(?:"+c+")?","g");let y=_.exec(v);if(y){y=parseDigitsIntoInteger(y[0].replace(c,"")),m!==g&&(y===12&&m&&(y=0),y!==12&&g&&(y+=12));const b=_.exec(v),x=b&&_.exec(v),E=/[[\.][\d\u0660-\u0669]{1,3}$/;let C=x&&u()&&E.exec(v);return C&&C.index<=x.index&&(C=void 0),f=y!==void 0&&{hours:y,minutes:b?parseDigitsIntoInteger(b[0].replace(c,"")):0,seconds:x?parseDigitsIntoInteger(x[0].replace(c,"")):0,milliseconds:b&&x&&C?parseMillisecondsIntoInteger(C[0].replace(".","")):0},d=p,f}})},a&&i(()=>r.$,()=>{const p=r.i18n.formatTime(a);r.inputElement.value!==p&&(r.inputElement.value=p,r.$.comboBox.value=p)})}))})(t)}})();window.Vaadin=window.Vaadin||{};window.Vaadin.Flow=window.Vaadin.Flow||{};window.Vaadin.Flow.dndConnector={__ondragenterListener:function(n){const i=n.currentTarget.__dropEffect;n.currentTarget.hasAttribute("disabled")||(i&&(n.dataTransfer.dropEffect=i),i!=="none"&&(n.currentTarget.classList.contains("v-drag-over-target")?n.currentTarget["__skip-leave"]=!0:n.currentTarget.classList.add("v-drag-over-target"),n.preventDefault(),n.stopPropagation()))},__ondragoverListener:function(n){if(!n.currentTarget.hasAttribute("disabled")){const i=n.currentTarget.__dropEffect;i&&(n.dataTransfer.dropEffect=i),n.preventDefault(),n.stopPropagation()}},__ondragleaveListener:function(n){n.currentTarget["__skip-leave"]?n.currentTarget["__skip-leave"]=!1:n.currentTarget.classList.remove("v-drag-over-target"),n.stopPropagation()},__ondropListener:function(n){const i=n.currentTarget.__dropEffect;i&&(n.dataTransfer.dropEffect=i),n.currentTarget.classList.remove("v-drag-over-target"),n.preventDefault(),n.stopPropagation()},updateDropTarget:function(n){n.__active?(n.addEventListener("dragenter",this.__ondragenterListener,!1),n.addEventListener("dragover",this.__ondragoverListener,!1),n.addEventListener("dragleave",this.__ondragleaveListener,!1),n.addEventListener("drop",this.__ondropListener,!1)):(n.removeEventListener("dragenter",this.__ondragenterListener,!1),n.removeEventListener("dragover",this.__ondragoverListener,!1),n.removeEventListener("dragleave",this.__ondragleaveListener,!1),n.removeEventListener("drop",this.__ondropListener,!1),n.classList.remove("v-drag-over-target"))},__dragstartListener:function(n){n.stopPropagation(),n.dataTransfer.setData("text/plain",""),n.currentTarget.hasAttribute("disabled")?n.preventDefault():(n.currentTarget.__effectAllowed&&(n.dataTransfer.effectAllowed=n.currentTarget.__effectAllowed),n.currentTarget.classList.add("v-dragged"))},__dragendListener:function(n){n.currentTarget.classList.remove("v-dragged")},updateDragSource:function(n){n.draggable?(n.addEventListener("dragstart",this.__dragstartListener,!1),n.addEventListener("dragend",this.__dragendListener,!1)):(n.removeEventListener("dragstart",this.__dragstartListener,!1),n.removeEventListener("dragend",this.__dragendListener,!1))}};registerStyles$1("vaadin-form-item",css$e`
    :host {
      --vaadin-form-item-row-spacing: 0;
    }

    /* font-weight, margin-bottom, transition and line-height same as for part label in text-field */
    [part='label'] {
      color: var(--lumo-secondary-text-color);
      font-family: var(--lumo-font-family);
      font-size: var(--lumo-font-size-s);
      font-weight: 500;
      margin-top: var(--lumo-space-m);
      margin-left: calc(var(--lumo-border-radius-m) / 4);
      margin-bottom: var(--lumo-space-xs);
      transition: color 0.4s;
      line-height: 1.333;
    }

    [part='required-indicator']::after {
      content: var(--lumo-required-field-indicator, '\\2022');
      transition: opacity 0.2s;
      opacity: 0;
      color: var(--lumo-required-field-indicator-color, var(--lumo-primary-text-color));
      position: relative;
      width: 1em;
      text-align: center;
    }

    :host([required]) [part='required-indicator']::after {
      opacity: 1;
    }

    :host([invalid]) [part='required-indicator']::after {
      color: var(--lumo-required-field-indicator-color, var(--lumo-error-text-color));
    }
  `,{moduleId:"lumo-form-item"});/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class FormItem extends ThemableMixin(PolymerElement){static get template(){return html`
      <style>
        :host {
          display: inline-flex;
          flex-direction: row;
          align-items: baseline;
          margin: calc(0.5 * var(--vaadin-form-item-row-spacing, 1em)) 0;
        }

        :host([label-position='top']) {
          flex-direction: column;
          align-items: stretch;
        }

        :host([hidden]) {
          display: none !important;
        }

        #label {
          width: var(--vaadin-form-item-label-width, 8em);
          flex: 0 0 auto;
        }

        :host([label-position='top']) #label {
          width: auto;
        }

        #spacing {
          width: var(--vaadin-form-item-label-spacing, 1em);
          flex: 0 0 auto;
        }

        #content {
          flex: 1 1 auto;
        }

        #content ::slotted(.full-width) {
          box-sizing: border-box;
          width: 100%;
          min-width: 0;
        }
      </style>
      <div id="label" part="label" on-click="__onLabelClick">
        <slot name="label" id="labelSlot" on-slotchange="__onLabelSlotChange"></slot>
        <span part="required-indicator" aria-hidden="true"></span>
      </div>
      <div id="spacing"></div>
      <div id="content">
        <slot id="contentSlot" on-slotchange="__onContentSlotChange"></slot>
      </div>
    `}static get is(){return"vaadin-form-item"}constructor(){super(),this.__updateInvalidState=this.__updateInvalidState.bind(this),this.__fieldNodeObserver=new MutationObserver(()=>this.__updateRequiredState(this.__fieldNode.required)),this.__labelNode=null,this.__fieldNode=null}_getFieldAriaTarget(i){return i.ariaTarget||i}__linkLabelToField(i){addValueToAttribute(this._getFieldAriaTarget(i),"aria-labelledby",this.__labelId)}__unlinkLabelFromField(i){removeValueFromAttribute(this._getFieldAriaTarget(i),"aria-labelledby",this.__labelId)}__onLabelClick(){const i=this.__fieldNode;i&&(i.focus(),i.click())}__getValidateFunction(i){return i.validate||i.checkValidity}__onLabelSlotChange(){this.__labelNode&&(this.__labelNode=null,this.__fieldNode&&this.__unlinkLabelFromField(this.__fieldNode));const i=this.$.labelSlot.assignedElements()[0];i&&(this.__labelNode=i,this.__labelNode.id?this.__labelId=this.__labelNode.id:(this.__labelId=`label-${this.localName}-${generateUniqueId()}`,this.__labelNode.id=this.__labelId),this.__fieldNode&&this.__linkLabelToField(this.__fieldNode))}__onContentSlotChange(){this.__fieldNode&&(this.__unlinkLabelFromField(this.__fieldNode),this.__updateRequiredState(!1),this.__fieldNodeObserver.disconnect(),this.__fieldNode=null);const i=this.$.contentSlot.assignedElements();i.length>1&&console.warn(`WARNING: Since Vaadin 23, placing multiple fields directly to a <vaadin-form-item> is deprecated.
Please wrap fields with a <vaadin-custom-field> instead.`);const t=i.find(r=>!!this.__getValidateFunction(r));t&&(this.__fieldNode=t,this.__updateRequiredState(this.__fieldNode.required),this.__fieldNodeObserver.observe(this.__fieldNode,{attributes:!0,attributeFilter:["required"]}),this.__labelNode&&this.__linkLabelToField(this.__fieldNode))}__updateRequiredState(i){i?(this.setAttribute("required",""),this.__fieldNode.addEventListener("blur",this.__updateInvalidState),this.__fieldNode.addEventListener("change",this.__updateInvalidState)):(this.removeAttribute("invalid"),this.removeAttribute("required"),this.__fieldNode.removeEventListener("blur",this.__updateInvalidState),this.__fieldNode.removeEventListener("change",this.__updateInvalidState))}__updateInvalidState(){const i=this.__getValidateFunction(this.__fieldNode).call(this.__fieldNode);this.toggleAttribute("invalid",i===!1)}}defineCustomElement(FormItem);registerStyles$1("vaadin-grid-pro",css$e`
    :host([navigating]) [part~='cell']:active::before {
      content: '';
      position: absolute;
      inset: 0;
      pointer-events: none;
      box-shadow: inset 0 0 0 var(--_focus-ring-width) var(--_focus-ring-color);
    }

    [part~='editable-cell'],
    [part~='editable-cell'] ::slotted(vaadin-grid-cell-content) {
      cursor: var(--lumo-clickable-cursor);
    }

    [part~='editable-cell']:hover,
    [part~='editable-cell']:focus {
      background: var(--lumo-base-color) linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct));
    }

    /* Indicate editable cells */

    :host([theme~='highlight-editable-cells']) [part~='editable-cell'] {
      background: var(--lumo-base-color) linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct));
    }

    :host([theme~='highlight-editable-cells']) [part~='editable-cell']:hover,
    :host([theme~='highlight-editable-cells']) [part~='editable-cell']:focus {
      background: var(--lumo-base-color) linear-gradient(var(--lumo-contrast-10pct), var(--lumo-contrast-10pct));
    }

    /* Indicate read-only cells */

    /* prettier-ignore */
    :host([theme~='highlight-read-only-cells']) [tabindex]:not([part~='editable-cell']):not([part~='header-cell']):not([part~='footer-cell']) {
      background-image: repeating-linear-gradient(
        135deg,
        transparent,
        transparent 6px,
        var(--lumo-contrast-5pct) 6px,
        var(--lumo-contrast-5pct) 14px
      );
    }
  `,{moduleId:"lumo-grid-pro"});/**
 * @license
 * Copyright (c) 2000 - 2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See https://vaadin.com/commercial-license-and-service-terms for the full
 * license.
 */const InlineEditingMixin=n=>class extends n{static get properties(){return{enterNextRow:{type:Boolean,notify:!0},singleCellEdit:{type:Boolean,notify:!0},editOnClick:{type:Boolean},_editingDisabled:{type:Boolean}}}constructor(){super(),this.__boundItemPropertyChanged=this._onItemPropertyChanged.bind(this),this.__boundEditorFocusOut=this._onEditorFocusOut.bind(this),this.__boundEditorFocusIn=this._onEditorFocusIn.bind(this),this.__boundCancelCellSwitch=this._setCancelCellSwitch.bind(this),this.__boundGlobalFocusIn=this._onGlobalFocusIn.bind(this),this._addEditColumnListener("mousedown",t=>{t.stopImmediatePropagation(),this.toggleAttribute("navigating",!0)}),this._addEditColumnListener("focusout",t=>{t.stopImmediatePropagation()})}ready(){if(this.addEventListener("keydown",t=>{switch(t.keyCode){case 27:this.__edited&&this._stopEdit(!0);break;case 9:this.__edited&&this._switchEditCell(t);break;case 13:this.__edited?this._switchEditCell(t):this._enterEditFromEvent(t);break;case 32:this.__edited||this._enterEditFromEvent(t);break;default:t.key&&t.key.length===1&&this._enterEditFromEvent(t,"text");break}}),super.ready(),this.$.table.addEventListener("click",t=>{const r=this.getEventContext(t).column;r&&this._isEditColumn(r)&&(t.target.matches(":not([type=checkbox])")&&t.preventDefault(),this.editOnClick&&this._enterEditFromEvent(t))}),this._ios){let t,r=!1;this.addEventListener("click",o=>{r?(r=!1,new Date().getTime()-t<300&&this._enterEditFromEvent(o)):(t=new Date().getTime(),r=!0,setTimeout(()=>{r=!1},300))})}else this.addEventListener("dblclick",t=>{this.editOnClick||this._enterEditFromEvent(t)})}_disabledChanged(t,r){super._disabledChanged(t,r),t&&this.__edited&&this._stopEdit(!0)}_checkImports(){super._checkImports(),["vaadin-grid-pro-edit-column"].forEach(t=>{this.querySelector(t)&&!customElements.get(t)&&console.warn(`Make sure you have imported the required module for <${t}> element.`)})}_applyEdit({path:t,value:r,index:o,item:a}){set$2(t,r,a),this.requestContentUpdate()}_addEditColumnListener(t,r){this.addEventListener(t,o=>{const a=this.getEventContext(o),s=a.column,l=this.__edited;if(a.item&&this._isEditColumn(s)){const c=o.composedPath(),h=c[c.indexOf(this.$.table)-3];if(!h||h.getAttribute("part").indexOf("details-cell")>-1||l&&l.cell===h)return;r(o)}})}_onItemPropertyChanged(t){t.defaultPrevented||this._applyEdit(t.detail)}_getRowByIndex(t){return Array.from(this.$.items.children).find(r=>r.index===t)}_isEditColumn(t){return t&&t.localName.toLowerCase()==="vaadin-grid-pro-edit-column"}_getEditColumns(){const t=this._columnTree.length-1;return this._columnTree[t].filter(r=>this._isEditColumn(r)&&!r.hidden).sort((r,o)=>r._order-o._order)}_cancelStopEdit(){this._debouncerStopEdit&&(this._debouncerStopEdit.cancel(),delete this._debouncerStopEdit)}_flushStopEdit(){this._debouncerStopEdit&&(this._debouncerStopEdit.flush(),delete this._debouncerStopEdit)}_enterEditFromEvent(t,r){const o=this.getEventContext(t),a=o.column,s=this.__edited;if(o.item&&this._isEditColumn(a)){const l=t.composedPath(),c=l[l.indexOf(this.$.table)-3];if(!c||c.getAttribute("part").indexOf("details-cell")>-1||r&&a.editorType!==r||s&&s.cell===c&&a._getEditorComponent(c).contains(t.target))return;this._flushStopEdit(),this._startEdit(c,a)}else s&&this._stopEdit()}_onEditorFocusOut(){this._debouncerStopEdit=Debouncer$1.debounce(this._debouncerStopEdit,animationFrame,this._stopEdit.bind(this))}_onEditorFocusIn(){this._cancelStopEdit()}_onGlobalFocusIn(t){if(this.__edited){const o=Array.from(t.composedPath()).filter(a=>a.nodeType===Node.ELEMENT_NODE&&/^vaadin-(?!dialog).*-overlay$/iu.test(a.localName))[0];o&&(o.addEventListener("vaadin-overlay-outside-click",this.__boundEditorFocusOut),this._cancelStopEdit())}}_startEdit(t,r){if(this.disabled||this._editingDisabled)return;this._cancelStopEdit(),this._scrollHorizontallyToCell(t);const o=this.__getRowModel(t.parentElement);this.__edited={cell:t,column:r,model:o},r._startCellEdit(t,o),this.dispatchEvent(new CustomEvent("cell-edit-started",{detail:{index:o.index,item:o.item,path:r.path},composed:!0})),this.addEventListener("item-property-changed",this.__boundItemPropertyChanged)}_stopEdit(t,r){if(!this.__edited)return;const{cell:o,column:a,model:s}=this.__edited;if(!t){const l=a._getEditorComponent(o);if(l){const c=a._getEditorValue(l);c!==get$5(a.path,s.item)&&(l.blur(),this.dispatchEvent(new CustomEvent("item-property-changed",{detail:{index:s.index,item:s.item,path:a.path,value:c},bubbles:!0,cancelable:!0,composed:!0})))}}a._stopCellEdit(o,s),this.__edited=null,this.removeEventListener("item-property-changed",this.__boundItemPropertyChanged),r&&o.focus()}_setCancelCellSwitch(){this.__cancelCellSwitch=!0,window.requestAnimationFrame(()=>{this.__cancelCellSwitch=!1})}_switchEditCell(t){if(this.__cancelCellSwitch||t.defaultPrevented&&t.keyCode===9)return;this._cancelStopEdit();const r=this._getEditColumns(),{cell:o,column:a,model:s}=this.__edited,l=r.indexOf(a),{index:c}=s;let h=null,u=c;t.keyCode===13&&(h=a,this.enterNextRow&&(u=t.shiftKey?c-1:c+1)),t.keyCode===9&&(t.shiftKey?r[l-1]?h=r[l-1]:c>0&&(u=c-1,h=r[r.length-1]):r[l+1]?h=r[l+1]:(u=c+1,h=r[0]));const d=u===c?o.parentNode:this._getRowByIndex(u)||null;if(this._stopEdit(),d&&h){const f=Array.from(d.children).find(p=>p._column===h);t.preventDefault(),t.stopImmediatePropagation(),!this.singleCellEdit&&f!==o?this._startEdit(f,h):(this._ensureScrolledToIndex(u),f.focus())}}_updateItem(t,r){if(this.__edited){const{cell:o,model:a}=this.__edited;o.parentNode===t&&a.item!==r&&this._stopEdit()}super._updateItem(t,r)}};/**
 * @license
 * Copyright (c) 2000 - 2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See https://vaadin.com/commercial-license-and-service-terms for the full
 * license.
 */class GridPro extends InlineEditingMixin(Grid){static get is(){return"vaadin-grid-pro"}static get cvdlName(){return"vaadin-grid-pro"}}defineCustomElement(GridPro);/**
 * @license
 * Copyright (c) 2000 - 2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See https://vaadin.com/commercial-license-and-service-terms for the full
 * license.
 */class GridProEditCheckbox extends Checkbox{static get is(){return"vaadin-grid-pro-edit-checkbox"}}defineCustomElement(GridProEditCheckbox);/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-select-item",item,{moduleId:"lumo-select-item"});registerStyles$1("vaadin-select-list-box",listBox,{moduleId:"lumo-select-list-box"});const select=css$e`
  :host(:not([theme*='align'])) ::slotted([slot='value']) {
    text-align: start;
  }

  [part='input-field'] {
    cursor: var(--lumo-clickable-cursor);
  }

  [part='input-field'] ::slotted([slot='value']) {
    font-weight: 500;
  }

  [part='input-field'] ::slotted([slot='value']:not([placeholder])) {
    color: var(--vaadin-input-field-value-color, var(--lumo-body-text-color));
  }

  :host([readonly]) [part='input-field'] ::slotted([slot='value']:not([placeholder])) {
    color: var(--lumo-secondary-text-color);
  }

  /* placeholder styles */
  [part='input-field'] ::slotted([slot='value'][placeholder]) {
    color: var(--vaadin-input-field-placeholder-color, var(--lumo-secondary-text-color));
  }

  :host(:is([readonly], [disabled])) ::slotted([slot='value'][placeholder]) {
    opacity: 0;
  }

  [part='toggle-button']::before {
    content: var(--lumo-icons-dropdown);
  }

  /* Highlight the toggle button when hovering over the entire component */
  :host(:hover:not([readonly]):not([disabled])) [part='toggle-button'] {
    color: var(--lumo-contrast-80pct);
  }

  :host([theme~='small']) [part='input-field'] ::slotted([slot='value']) {
    --_lumo-selected-item-height: var(--lumo-size-s);
    --_lumo-selected-item-padding: 0;
  }
`;registerStyles$1("vaadin-select",[inputFieldShared,select],{moduleId:"lumo-select"});registerStyles$1("vaadin-select-value-button",css$e`
    :host {
      font-family: var(--lumo-font-family);
      font-size: var(--vaadin-input-field-value-font-size, var(--lumo-font-size-m));
      padding: 0 0.25em;
      --_lumo-selected-item-height: var(--lumo-size-m);
      --_lumo-selected-item-padding: 0.5em;
    }

    ::slotted(*) {
      min-height: var(--_lumo-selected-item-height);
      padding-top: var(--_lumo-selected-item-padding);
      padding-bottom: var(--_lumo-selected-item-padding);
    }

    ::slotted(*:hover) {
      background-color: transparent;
    }
  `,{moduleId:"lumo-select-value-button"});const selectOverlay=css$e`
  :host {
    --_lumo-item-selected-icon-display: block;
  }

  [part~='overlay'] {
    min-width: var(--vaadin-select-text-field-width);
  }

  /* Small viewport adjustment */
  :host([phone]) {
    /* stylelint-disable declaration-block-no-redundant-longhand-properties */
    top: 0 !important;
    right: 0 !important;
    bottom: var(--vaadin-overlay-viewport-bottom, 0) !important;
    left: 0 !important;
    /* stylelint-enable declaration-block-no-redundant-longhand-properties */
    align-items: stretch;
    justify-content: flex-end;
  }

  :host([theme~='align-left']) {
    text-align: left;
  }

  :host([theme~='align-right']) {
    text-align: right;
  }

  :host([theme~='align-center']) {
    text-align: center;
  }
`;registerStyles$1("vaadin-select-overlay",[menuOverlay,selectOverlay],{moduleId:"lumo-select-overlay"});/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class SelectItem extends ItemMixin(ThemableMixin(DirMixin(PolymerElement))){static get is(){return"vaadin-select-item"}static get template(){return html`
      <style>
        :host {
          display: inline-block;
        }

        :host([hidden]) {
          display: none !important;
        }
      </style>
      <span part="checkmark" aria-hidden="true"></span>
      <div part="content">
        <slot></slot>
      </div>
    `}ready(){super.ready(),this.setAttribute("role","option")}}defineCustomElement(SelectItem);/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class SelectListBox extends ListMixin(ThemableMixin(DirMixin(ControllerMixin(PolymerElement)))){static get is(){return"vaadin-select-list-box"}static get template(){return html`
      <style>
        :host {
          display: flex;
        }

        :host([hidden]) {
          display: none !important;
        }

        [part='items'] {
          height: 100%;
          width: 100%;
          overflow-y: auto;
          -webkit-overflow-scrolling: touch;
        }
      </style>
      <div part="items">
        <slot></slot>
      </div>
    `}static get properties(){return{orientation:{readOnly:!0}}}get _scrollerElement(){return this.shadowRoot.querySelector('[part="items"]')}ready(){super.ready(),this.setAttribute("role","listbox")}}defineCustomElement(SelectListBox);/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const selectOverlayStyles=css$e`
  :host {
    align-items: flex-start;
    justify-content: flex-start;
  }

  @media (forced-colors: active) {
    [part='overlay'] {
      outline: 3px solid;
    }
  }
`;registerStyles$1("vaadin-select-overlay",[overlayStyles,selectOverlayStyles],{moduleId:"vaadin-select-overlay-styles"});class SelectOverlay extends PositionMixin(OverlayMixin(DirMixin(ThemableMixin(PolymerElement)))){static get is(){return"vaadin-select-overlay"}static get template(){return html`
      <div id="backdrop" part="backdrop" hidden$="[[!withBackdrop]]"></div>
      <div part="overlay" id="overlay" tabindex="0">
        <div part="content" id="content">
          <slot></slot>
        </div>
      </div>
    `}requestContentUpdate(){if(super.requestContentUpdate(),this.owner){const i=this._getMenuElement();this.owner._assignMenuElement(i)}}_getMenuElement(){return Array.from(this.children).find(i=>i.localName!=="style")}}defineCustomElement(SelectOverlay);/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const valueButton=css$e`
  :host {
    display: inline-block;
    position: relative;
    outline: none;
    white-space: nowrap;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
    min-width: 0;
    width: 0;
  }

  ::slotted(*) {
    padding-left: 0;
    padding-right: 0;
    flex: auto;
  }

  /* placeholder styles */
  ::slotted(*:not([selected])) {
    line-height: 1;
  }

  .vaadin-button-container {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    text-align: inherit;
    width: 100%;
    height: 100%;
    min-height: inherit;
    text-shadow: inherit;
  }

  [part='label'] {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    width: 100%;
    line-height: inherit;
  }
`;/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-select-value-button",valueButton,{moduleId:"vaadin-select-value-button-styles"});class SelectValueButton extends ButtonMixin(ThemableMixin(PolymerElement)){static get is(){return"vaadin-select-value-button"}static get template(){return html`
      <div class="vaadin-button-container">
        <span part="label">
          <slot></slot>
        </span>
      </div>
    `}}defineCustomElement(SelectValueButton);/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd..
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const screenReaderOnly=css$e`
  .sr-only {
    border: 0 !important;
    clip: rect(1px, 1px, 1px, 1px) !important;
    -webkit-clip-path: inset(50%) !important;
    clip-path: inset(50%) !important;
    height: 1px !important;
    margin: -1px !important;
    overflow: hidden !important;
    padding: 0 !important;
    position: absolute !important;
    width: 1px !important;
    white-space: nowrap !important;
  }
`;/**
 * @license
 * Copyright (c) 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class ButtonController extends SlotController{constructor(i){super(i,"value","vaadin-select-value-button",{initializer:(t,r)=>{r._setFocusElement(t),r.ariaTarget=t,r.stateTarget=t,t.setAttribute("aria-haspopup","listbox")}})}}/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const SelectBaseMixin=n=>class extends OverlayClassMixin(DelegateFocusMixin(DelegateStateMixin(KeyboardMixin(FieldMixin(n))))){static get properties(){return{items:{type:Array,observer:"__itemsChanged"},opened:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0,observer:"_openedChanged"},renderer:{type:Object},value:{type:String,value:"",notify:!0,observer:"_valueChanged"},name:{type:String},placeholder:{type:String},readonly:{type:Boolean,value:!1,reflectToAttribute:!0},_phone:Boolean,_phoneMediaQuery:{value:"(max-width: 420px), (max-height: 420px)"},_inputContainer:Object,_items:Object}}static get delegateAttrs(){return[...super.delegateAttrs,"invalid"]}static get observers(){return["_updateAriaExpanded(opened, focusElement)","_updateSelectedItem(value, _items, placeholder)"]}constructor(){super(),this._itemId=`value-${this.localName}-${generateUniqueId()}`,this._srLabelController=new LabelController(this),this._srLabelController.slotName="sr-label"}disconnectedCallback(){super.disconnectedCallback(),this.opened=!1}ready(){super.ready();const t=this.shadowRoot.querySelector("vaadin-select-overlay");t.owner=this,this._overlayElement=t,this._inputContainer=this.shadowRoot.querySelector('[part~="input-field"]'),this._valueButtonController=new ButtonController(this),this.addController(this._valueButtonController),this.addController(this._srLabelController),this.addController(new MediaQueryController(this._phoneMediaQuery,r=>{this._phone=r})),this._tooltipController=new TooltipController(this),this._tooltipController.setPosition("top"),this._tooltipController.setAriaTarget(this.focusElement),this.addController(this._tooltipController)}requestContentUpdate(){this._overlayElement&&(this._overlayElement.requestContentUpdate(),this._menuElement&&this._menuElement.items&&this._updateSelectedItem(this.value,this._menuElement.items))}_requiredChanged(t){super._requiredChanged(t),t===!1&&this.validate()}__itemsChanged(t,r){(t||r)&&this.requestContentUpdate()}_assignMenuElement(t){t&&t!==this.__lastMenuElement&&(this._menuElement=t,this.__initMenuItems(t),t.addEventListener("items-changed",()=>{this.__initMenuItems(t)}),t.addEventListener("selected-changed",()=>this.__updateValueButton()),t.addEventListener("keydown",r=>this._onKeyDownInside(r),!0),t.addEventListener("click",()=>{this.__dispatchChangePending=!0},!0),this.__lastMenuElement=t)}__initMenuItems(t){t.items&&(this._items=t.items)}_valueChanged(t,r){this.toggleAttribute("has-value",!!t),r!==void 0&&!this.__dispatchChangePending&&this.validate()}_onClick(t){t.preventDefault(),this.opened=!this.readonly}_onToggleMouseDown(t){t.preventDefault()}_onKeyDown(t){if(t.target===this.focusElement&&!this.readonly&&!this.opened){if(/^(Enter|SpaceBar|\s|ArrowDown|Down|ArrowUp|Up)$/u.test(t.key))t.preventDefault(),this.opened=!0;else if(/[\p{L}\p{Nd}]/u.test(t.key)&&t.key.length===1){const r=this._menuElement.selected,o=r!==void 0?r:-1,a=this._menuElement._searchKey(o,t.key);a>=0&&(this.__dispatchChangePending=!0,this._updateAriaLive(!0),this._menuElement.selected=a)}}}_onKeyDownInside(t){/^(Tab)$/u.test(t.key)&&(this.opened=!1)}_openedChanged(t,r){if(t){if(this._updateAriaLive(!1),!this._overlayElement||!this._menuElement||!this.focusElement||this.disabled||this.readonly){this.opened=!1;return}this._overlayElement.style.setProperty("--vaadin-select-text-field-width",`${this._inputContainer.offsetWidth}px`);const o=this.hasAttribute("focus-ring");this._openedWithFocusRing=o,o&&this.removeAttribute("focus-ring")}else r&&(this.focus(),this._openedWithFocusRing&&this.setAttribute("focus-ring",""),!this.__dispatchChangePending&&!this._keyboardActive&&this.validate())}_updateAriaExpanded(t,r){r&&r.setAttribute("aria-expanded",t?"true":"false")}_updateAriaLive(t){this.focusElement&&(t?this.focusElement.setAttribute("aria-live","polite"):this.focusElement.removeAttribute("aria-live"))}__attachSelectedItem(t){let r;const o=t.getAttribute("label");o?r=this.__createItemElement({label:o}):r=t.cloneNode(!0),r._sourceItem=t,this.__appendValueItemElement(r,this.focusElement),r.selected=!0}__createItemElement(t){const r=document.createElement(t.component||"vaadin-select-item");return t.label&&(r.textContent=t.label),t.value&&(r.value=t.value),t.disabled&&(r.disabled=t.disabled),t.className&&(r.className=t.className),r}__appendValueItemElement(t,r){r.appendChild(t),t.removeAttribute("tabindex"),t.removeAttribute("aria-selected"),t.removeAttribute("role"),t.removeAttribute("focused"),t.removeAttribute("focus-ring"),t.removeAttribute("active"),t.setAttribute("id",this._itemId)}_accessibleNameChanged(t){this._srLabelController.setLabel(t),this._setCustomAriaLabelledBy(t?this._srLabelController.defaultId:null)}_accessibleNameRefChanged(t){this._setCustomAriaLabelledBy(t)}_setCustomAriaLabelledBy(t){const r=this._getLabelIdWithItemId(t);this._fieldAriaController.setLabelId(r,!0)}_getLabelIdWithItemId(t){const o=(this._items?this._items[this._menuElement.selected]:!1)||this.placeholder?this._itemId:"";return t?`${t} ${o}`.trim():null}__updateValueButton(){const t=this.focusElement;if(!t)return;t.innerHTML="";const r=this._items[this._menuElement.selected];if(t.removeAttribute("placeholder"),r)this.__attachSelectedItem(r),this._valueChanging||(this._selectedChanging=!0,this.value=r.value||"",this.__dispatchChangePending&&(this.opened=!1,this.__dispatchChange()),delete this._selectedChanging);else if(this.placeholder){const a=this.__createItemElement({label:this.placeholder});this.__appendValueItemElement(a,t),t.setAttribute("placeholder","")}const o=r||this.placeholder?{newId:this._itemId}:{oldId:this._itemId};setAriaIDReference(t,"aria-labelledby",o),(this.accessibleName||this.accessibleNameRef)&&this._setCustomAriaLabelledBy(this.accessibleNameRef||this._srLabelController.defaultId)}_updateSelectedItem(t,r){if(r){const o=t==null?t:t.toString();this._menuElement.selected=r.reduce((a,s,l)=>a===void 0&&s.value===o?l:a,void 0),this._selectedChanging||(this._valueChanging=!0,this.__updateValueButton(),delete this._valueChanging)}}_shouldRemoveFocus(){return!this.opened}_setFocused(t){super._setFocused(t),!t&&document.hasFocus()&&this.validate()}checkValidity(){return!this.required||this.readonly||!!this.value}__defaultRenderer(t,r){if(!this.items||this.items.length===0){t.textContent="";return}let o=t.firstElementChild;o||(o=document.createElement("vaadin-select-list-box"),t.appendChild(o)),o.textContent="",this.items.forEach(a=>{o.appendChild(this.__createItemElement(a))})}async __dispatchChange(){this.updateComplete&&await this.updateComplete,this.validate(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.__dispatchChangePending=!1}};/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-select",[fieldShared,inputFieldContainer,screenReaderOnly],{moduleId:"vaadin-select-styles"});class Select extends SelectBaseMixin(ElementMixin(ThemableMixin(PolymerElement))){static get is(){return"vaadin-select"}static get template(){return html`
      <style>
        :host {
          position: relative;
        }

        ::slotted([slot='value']) {
          flex-grow: 1;
        }
      </style>

      <div class="vaadin-select-container">
        <div part="label" on-click="_onClick">
          <slot name="label"></slot>
          <span part="required-indicator" aria-hidden="true" on-click="focus"></span>
        </div>

        <vaadin-input-container
          part="input-field"
          readonly="[[readonly]]"
          disabled="[[disabled]]"
          invalid="[[invalid]]"
          theme$="[[_theme]]"
          on-click="_onClick"
        >
          <slot name="prefix" slot="prefix"></slot>
          <slot name="value"></slot>
          <div part="toggle-button" slot="suffix" aria-hidden="true" on-mousedown="_onToggleMouseDown"></div>
        </vaadin-input-container>

        <div part="helper-text">
          <slot name="helper"></slot>
        </div>

        <div part="error-message">
          <slot name="error-message"></slot>
        </div>
      </div>

      <vaadin-select-overlay
        position-target="[[_inputContainer]]"
        opened="{{opened}}"
        with-backdrop="[[_phone]]"
        phone$="[[_phone]]"
        theme$="[[_theme]]"
        on-vaadin-overlay-open="_onOverlayOpen"
      ></vaadin-select-overlay>

      <slot name="tooltip"></slot>
      <div class="sr-only">
        <slot name="sr-label"></slot>
      </div>
    `}static get observers(){return["_rendererChanged(renderer, _overlayElement)"]}ready(){super.ready(),processTemplates(this)}_rendererChanged(i,t){t&&(t.renderer=i||this.__defaultRenderer,this.requestContentUpdate())}_onOverlayOpen(){this._menuElement&&this._menuElement.focus()}}defineCustomElement(Select);const gridProEditor=css$e`
  :host([theme~='grid-pro-editor']) {
    position: absolute;
    inset: 0;
    padding: 0;
    will-change: transform;
    font-size: inherit;
    --lumo-text-field-size: 27px;
    /* outline similar to what grid uses */
    box-shadow: inset 0 0 0 var(--_focus-ring-width) var(--_focus-ring-color);
  }

  :host([theme~='grid-pro-editor']) [part='input-field'] {
    padding: 0;
    border-radius: 0;
    flex-grow: 1;
    font-weight: 400;
    --vaadin-input-field-border-color: transparent;
  }

  /* reset outline inherited from text-field */
  :host([theme~='grid-pro-editor'][focus-ring]) [part='input-field'] {
    box-shadow: none;
  }

  :host([theme~='grid-pro-editor']) ::slotted(input) {
    padding: 0 var(--lumo-space-m);
    font-size: inherit;
  }
`;registerStyles$1("",gridProEditor,{moduleId:"lumo-grid-pro-editor"});const gridProEditSelect=css$e`
  :host([theme~='grid-pro-editor']) [part='toggle-button'] {
    margin-right: var(--lumo-space-xs);
  }

  :host([theme~='grid-pro-editor']) [part='input-field'] ::slotted([slot='value']) {
    box-sizing: border-box;
    padding: 0 var(--lumo-space-m);
    font-size: var(--lumo-font-size-m);
    /* prevent selection on editor focus */
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
`;registerStyles$1("vaadin-grid-pro-edit-select",[gridProEditor,gridProEditSelect],{moduleId:"lumo-grid-pro-edit-select"});/**
 * @license
 * Copyright (c) 2000 - 2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See https://vaadin.com/commercial-license-and-service-terms for the full
 * license.
 */const GridProEditSelectMixin=n=>class extends n{static get properties(){return{options:{type:Array,value:()=>[]},_grid:{type:Object},_initialized:{type:Boolean}}}static get observers(){return["_optionsChanged(options)"]}ready(){super.ready(),this.setAttribute("theme","grid-pro-editor")}_onKeyDown(i){super._onKeyDown(i),this.options.length===0&&/^(ArrowDown|Down|ArrowUp|Up|Enter|SpaceBar| )$/u.test(i.key)&&console.warn('Missing "editorOptions" for <vaadin-grid-pro-edit-column> select editor!'),i.defaultPrevented&&i.stopPropagation()}_onKeyDownInside(i){i.keyCode===13&&(this._enterKeydown=i),i.keyCode===9&&(this._grid.singleCellEdit||this._grid._switchEditCell(i)),super._onKeyDownInside(i)}_valueChanged(i,t){if(super._valueChanged(i,t),!(i===""&&t===void 0)&&this._initialized){const r=this._enterKeydown;r&&this._grid.enterNextRow?this._grid._switchEditCell(r):this._grid.singleCellEdit?this._grid._stopEdit(!1,!0):this.focus()}}_optionsChanged(i){i&&i.length&&(this.items=i.map(t=>({label:t,value:t})),this._overlayElement||(this._overlayElement=this.shadowRoot.querySelector("vaadin-select-overlay")),this._overlayElement.addEventListener("vaadin-overlay-outside-click",()=>{this._grid._stopEdit()}),setTimeout(()=>{this.opened=!0,this._initialized=!0}))}};/**
 * @license
 * Copyright (c) 2000 - 2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See https://vaadin.com/commercial-license-and-service-terms for the full
 * license.
 */class GridProEditSelect extends GridProEditSelectMixin(Select){static get is(){return"vaadin-grid-pro-edit-select"}}defineCustomElement(GridProEditSelect);registerStyles$1("vaadin-grid-pro-edit-text-field",gridProEditor,{moduleId:"lumo-grid-pro-edit-text-field"});/**
 * @license
 * Copyright (c) 2000 - 2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See https://vaadin.com/commercial-license-and-service-terms for the full
 * license.
 */class GridProEditText extends TextField{static get is(){return"vaadin-grid-pro-edit-text-field"}ready(){super.ready(),this.setAttribute("theme","grid-pro-editor")}}defineCustomElement(GridProEditText);/**
 * @license
 * Copyright (c) 2000 - 2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See https://vaadin.com/commercial-license-and-service-terms for the full
 * license.
 */const GridProEditColumnMixin=n=>class extends n{static get properties(){return{editModeRenderer:{type:Function,sync:!0},editorOptions:{type:Array,value:()=>[]},editorType:{type:String,notify:!0,value:"text"},editorValuePath:{type:String,value:"value"},path:{type:String,observer:"_pathChanged",sync:!0},_oldRenderer:Function}}static get observers(){return["_editModeRendererChanged(editModeRenderer, __initialized)","_cellsChanged(_cells)"]}constructor(){super(),this._focusButtonMode=navigator.platform.includes("Mac"),this.__editModeRenderer=function(i,t){const r=i.assignedSlot.parentNode,o=t._getEditorTagName(r);(!i.firstElementChild||i.firstElementChild.localName.toLowerCase()!==o)&&(i.innerHTML=`
          <${o}></${o}>
        `)}}_pathChanged(i){if(!i||i.length===0)throw new Error("You should specify the path for the edit column")}_cellsChanged(){this._cells.forEach(i=>{const t=i._focusButton||i;addValueToAttribute(t,"part","editable-cell")})}_editModeRendererChanged(i){i?this.editorType="custom":this._oldRenderer&&(this.editorType="text"),this._oldRenderer=i}_getEditorTagName(i){return this.editorType==="custom"?this._getEditorComponent(i).localName:this._getTagNameByType()}_getEditorComponent(i){return this.editorType==="custom"?i._content.firstElementChild:i._content.querySelector(this._getEditorTagName(i))}_getTagNameByType(){let i;switch(this.editorType){case"checkbox":i="checkbox";break;case"select":i="select";break;case"text":default:i="text-field";break}return this.constructor.is.replace("column",i)}_focusEditor(i){i.focus(),this.editorType==="checkbox"?i.setAttribute("focus-ring",""):i instanceof HTMLInputElement?i.select():i.focusElement&&i.focusElement instanceof HTMLInputElement&&i.focusElement.select()}_getEditorValue(i){const t=this.editorType==="checkbox"?"checked":this.editorValuePath;return get$5(t,i)}_renderEditor(i,t){i.__savedRenderer=this._renderer||i._renderer,i._renderer=this.editModeRenderer||this.__editModeRenderer,i._focusButton&&i._focusButton.removeAttribute("role"),this._clearCellContent(i),this._runRenderer(i._renderer,i,t)}_removeEditor(i,t){i.__savedRenderer&&(i._renderer=i.__savedRenderer,i.__savedRenderer=void 0,this._clearCellContent(i),i._focusButton&&i._focusButton.setAttribute("role","button"),this.__renderCellsContent(i._renderer,[i]))}_setEditorOptions(i){this.editorOptions&&this.editorOptions.length&&(i.options=this.editorOptions)}_setEditorValue(i,t){const r=this.editorType==="checkbox"?"checked":this.editorValuePath;t=this.editorType==="checkbox"&&typeof t=="string"?t==="true":t,set$2(r,t,i),i.notifyPath&&i.notifyPath(r,t)}_startCellEdit(i,t){this._renderEditor(i,t);const r=this._getEditorComponent(i);r.addEventListener("focusout",this._grid.__boundEditorFocusOut),r.addEventListener("focusin",this._grid.__boundEditorFocusIn),r.addEventListener("internal-tab",this._grid.__boundCancelCellSwitch),document.body.addEventListener("focusin",this._grid.__boundGlobalFocusIn),this._setEditorOptions(r),this._setEditorValue(r,get$5(this.path,t.item)),r._grid=this._grid,this._focusEditor(r),requestAnimationFrame(()=>this._focusEditor(r))}_stopCellEdit(i,t){document.body.removeEventListener("focusin",this._grid.__boundGlobalFocusIn),this._removeEditor(i,t)}};/**
 * @license
 * Copyright (c) 2000 - 2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See https://vaadin.com/commercial-license-and-service-terms for the full
 * license.
 */class GridProEditColumn extends GridProEditColumnMixin(GridColumn){static get is(){return"vaadin-grid-pro-edit-column"}}defineCustomElement(GridProEditColumn);/**
 * @license
 * Copyright 2000-2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 * See <https://vaadin.com/commercial-license-and-service-terms> for the full
 * license.
 */(function(){const n=function(t){return window.Vaadin.Flow.tryCatchWrapper(t,"Vaadin Grid Pro")};function i(t,r){return t.__edited&&t.__edited.model.item.key===r.item.key}window.Vaadin.Flow.gridProConnector={selectAll:t=>{t instanceof HTMLInputElement?t.select():t.focusElement&&t.focusElement instanceof HTMLInputElement&&t.focusElement.select()},setEditModeRenderer:(t,r)=>n(function(o,a){o.editModeRenderer=n(function(l,c,h){if(!i(this._grid,h)){this._grid._stopEdit();return}a.parentNode!==l&&(l.appendChild(a),this._grid._cancelStopEdit(),a.focus())}),o._setEditorValue=function(s,l){}})(t,r),patchEditModeRenderer:t=>n(function(r){r.__editModeRenderer=n(function(a,s,l){const c=a.assignedSlot.parentNode,h=s._grid;if(!i(h,l)){h._stopEdit();return}const u=s._getEditorTagName(c);(!a.firstElementChild||a.firstElementChild.localName.toLowerCase()!==u)&&(a.innerHTML=`<${u}></${u}>`)})})(t)}})();/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const MultiSelectListMixin=n=>class extends ListMixin(n){static get properties(){return{multiple:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_multipleChanged"},selectedValues:{type:Array,notify:!0,value:()=>[]}}}static get observers(){return["_enhanceMultipleItems(items, multiple, selected, disabled, selectedValues, selectedValues.*)"]}ready(){this.addEventListener("click",t=>this._onMultipleClick(t)),super.ready()}_enhanceMultipleItems(t,r,o,a,s){if(!(!t||!r)){if(s){const l=s.map(c=>t[c]);t.forEach(c=>{c.selected=l.includes(c)})}this._scrollToLastSelectedItem()}}_scrollToLastSelectedItem(){const t=this.selectedValues.slice(-1)[0];t&&!t.disabled&&this._scrollToItem(t)}_onMultipleClick(t){const r=this._filterItems(t.composedPath())[0],o=r&&!r.disabled?this.items.indexOf(r):-1;o<0||!this.multiple||(t.preventDefault(),this.selectedValues.includes(o)?this.selectedValues=this.selectedValues.filter(a=>a!==o):this.selectedValues=this.selectedValues.concat(o))}_multipleChanged(t,r){!t&&r&&(this.selectedValues=[],this.items.forEach(o=>{o.selected=!1}),this.removeAttribute("aria-multiselectable")),t&&!r&&(this.setAttribute("aria-multiselectable","true"),this.selected!==void 0&&(this.selectedValues=[...this.selectedValues,this.selected],this.selected=void 0))}};/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class ListBox extends ElementMixin(MultiSelectListMixin(ThemableMixin(ControllerMixin(PolymerElement)))){static get template(){return html`
      <style>
        :host {
          display: flex;
        }

        :host([hidden]) {
          display: none !important;
        }

        [part='items'] {
          height: 100%;
          width: 100%;
          overflow-y: auto;
          -webkit-overflow-scrolling: touch;
        }
      </style>
      <div part="items">
        <slot></slot>
      </div>

      <slot name="tooltip"></slot>
    `}static get is(){return"vaadin-list-box"}static get properties(){return{orientation:{readOnly:!0}}}constructor(){super(),this.focused}get _scrollerElement(){return this.shadowRoot.querySelector('[part="items"]')}ready(){super.ready(),this.setAttribute("role","listbox"),setTimeout(this._checkImport.bind(this),2e3),this._tooltipController=new TooltipController(this),this.addController(this._tooltipController)}_checkImport(){const i=this.querySelector("vaadin-item");i&&!(i instanceof PolymerElement)&&console.warn("Make sure you have imported the vaadin-item element.")}}defineCustomElement(ListBox);/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Item extends ItemMixin(ThemableMixin(DirMixin(PolymerElement))){static get template(){return html`
      <style>
        :host {
          display: inline-block;
        }

        :host([hidden]) {
          display: none !important;
        }
      </style>
      <span part="checkmark" aria-hidden="true"></span>
      <div part="content">
        <slot></slot>
      </div>
    `}static get is(){return"vaadin-item"}constructor(){super(),this.value,this.label}ready(){super.ready(),this.setAttribute("role","option")}}defineCustomElement(Item);/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const passwordFieldButton=css$e`
  :host {
    position: absolute;
    right: 0;
    top: 0;
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    min-width: auto;
    background: transparent;
    outline: none;
  }
`;registerStyles$1("vaadin-password-field-button",[button,passwordFieldButton],{moduleId:"lumo-password-field-button"});/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const passwordField=css$e`
  [part='reveal-button']::before {
    content: var(--lumo-icons-eye);
  }

  :host([password-visible]) [part='reveal-button']::before {
    content: var(--lumo-icons-eye-disabled);
  }

  /* Make it easy to hide the button across the whole app */
  [part='reveal-button'] {
    position: relative;
    display: var(--lumo-password-field-reveal-button-display, block);
  }

  [part='reveal-button'][hidden] {
    display: none !important;
  }
`;registerStyles$1("vaadin-password-field",[inputFieldShared,passwordField],{moduleId:"lumo-password-field"});/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class PasswordFieldButton extends Button{static get is(){return"vaadin-password-field-button"}static get template(){return html`
      <style>
        :host {
          display: block;
        }

        :host([hidden]) {
          display: none !important;
        }
      </style>
      <slot name="tooltip"></slot>
    `}}defineCustomElement(PasswordFieldButton);/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const ownTemplate=html`
  <div part="reveal-button" slot="suffix">
    <slot name="reveal"></slot>
  </div>
`;let memoizedTemplate;class PasswordField extends TextField{static get is(){return"vaadin-password-field"}static get template(){if(!memoizedTemplate){memoizedTemplate=super.template.cloneNode(!0);const i=ownTemplate.content.querySelector('[part="reveal-button"]');memoizedTemplate.content.querySelector('[part="input-field"]').appendChild(i)}return memoizedTemplate}static get properties(){return{revealButtonHidden:{type:Boolean,observer:"_revealButtonHiddenChanged",value:!1},passwordVisible:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_passwordVisibleChanged",readOnly:!0},i18n:{type:Object,value:()=>({reveal:"Show password"})}}}static get observers(){return["__i18nChanged(i18n.*)"]}constructor(){super(),this._setType("password"),this.__boundRevealButtonClick=this._onRevealButtonClick.bind(this),this.__boundRevealButtonMouseDown=this._onRevealButtonMouseDown.bind(this),this.__lastChange=""}get slotStyles(){const i=this.localName;return[...super.slotStyles,`
        ${i} [slot="input"]::-ms-reveal {
          display: none;
        }
      `]}get _revealNode(){return this._revealButtonController&&this._revealButtonController.node}ready(){super.ready(),this._revealPart=this.shadowRoot.querySelector('[part="reveal-button"]'),this._revealButtonController=new SlotController(this,"reveal","vaadin-password-field-button",{initializer:i=>{i.disabled=this.disabled,i.addEventListener("click",this.__boundRevealButtonClick),i.addEventListener("mousedown",this.__boundRevealButtonMouseDown)}}),this.addController(this._revealButtonController),this.__updateAriaLabel(this.i18n),this._updateToggleState(!1),this._toggleRevealHidden(this.revealButtonHidden),this.inputElement&&(this.inputElement.autocapitalize="off")}_onChange(i){super._onChange(i),this.__lastChange=this.inputElement.value}_shouldSetFocus(i){return i.target===this.inputElement||i.target===this._revealNode}_shouldRemoveFocus(i){return!(i.relatedTarget===this._revealNode||i.relatedTarget===this.inputElement&&i.target===this._revealNode)}_setFocused(i){if(super._setFocused(i),!i)this._setPasswordVisible(!1),this.__lastChange!==this.inputElement.value&&(this.__lastChange=this.inputElement.value,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})));else{const t=this.getRootNode().activeElement===this._revealNode;this.toggleAttribute("focus-ring",this._keyboardActive&&!t)}}__updateAriaLabel(i){i.reveal&&this._revealNode&&this._revealNode.setAttribute("aria-label",i.reveal)}__i18nChanged(i){this.__updateAriaLabel(i.base)}_revealButtonHiddenChanged(i){this._toggleRevealHidden(i)}_togglePasswordVisibility(){this._setPasswordVisible(!this.passwordVisible)}_onRevealButtonClick(){this._togglePasswordVisibility()}_onRevealButtonMouseDown(i){i.preventDefault(),this.inputElement.focus()}_toggleRevealHidden(i){this._revealNode&&(i?(this._revealPart.setAttribute("hidden",""),this._revealNode.setAttribute("tabindex","-1"),this._revealNode.setAttribute("aria-hidden","true")):(this._revealPart.removeAttribute("hidden"),this._revealNode.setAttribute("tabindex","0"),this._revealNode.removeAttribute("aria-hidden")))}_updateToggleState(i){this._revealNode&&this._revealNode.setAttribute("aria-pressed",i?"true":"false")}_passwordVisibleChanged(i){this._setType(i?"text":"password"),this._updateToggleState(i)}_disabledChanged(i,t){super._disabledChanged(i,t),this._revealNode&&(this._revealNode.disabled=i)}}defineCustomElement(PasswordField);const loginFormWrapper$1=css$e`
  :host {
    max-width: calc(var(--lumo-size-m) * 10);
    background: var(--lumo-base-color) linear-gradient(var(--lumo-tint-5pct), var(--lumo-tint-5pct));
  }

  [part='form'] {
    padding: var(--lumo-space-l);
  }

  [part='form-title'] {
    margin-top: calc(var(--lumo-font-size-xxxl) - var(--lumo-font-size-xxl));
  }

  ::slotted([slot='submit']) {
    margin-top: var(--lumo-space-l);
    margin-bottom: var(--lumo-space-s);
  }

  ::slotted([slot='forgot-password']) {
    margin: var(--lumo-space-s) auto;
  }

  [part='error-message'] {
    background-color: var(--lumo-error-color-10pct);
    padding: var(--lumo-space-m);
    border-radius: var(--lumo-border-radius-m);
    margin-top: var(--lumo-space-m);
    margin-bottom: var(--lumo-space-s);
    color: var(--lumo-error-text-color);
  }

  :host(:not([dir='rtl'])) [part='error-message'] {
    padding-left: var(--lumo-size-m);
  }

  :host([dir='rtl']) [part='error-message'] {
    padding-right: var(--lumo-size-m);
  }

  [part='error-message']::before {
    content: var(--lumo-icons-error);
    font-family: lumo-icons;
    font-size: var(--lumo-icon-size-m);
    position: absolute;
    width: var(--lumo-size-m);
    height: 1em;
    line-height: 1;
    text-align: center;
  }

  :host(:not([dir='rtl'])) [part='error-message']::before {
    /* Visual centering */
    margin-left: calc(var(--lumo-size-m) * -0.95);
  }

  :host([dir='rtl']) [part='error-message']::before {
    /* Visual centering */
    margin-right: calc(var(--lumo-size-m) * -0.95);
  }

  [part='error-message-title'] {
    margin: 0 0 0.25em;
    color: inherit;
  }

  [part='error-message-description'] {
    font-size: var(--lumo-font-size-s);
    line-height: var(--lumo-line-height-s);
    margin: 0;
    opacity: 0.9;
  }

  [part='footer'] {
    font-size: var(--lumo-font-size-xs);
    line-height: var(--lumo-line-height-s);
    color: var(--lumo-secondary-text-color);
  }
`;registerStyles$1("vaadin-login-form-wrapper",[color$h,typography,loginFormWrapper$1],{moduleId:"lumo-login-form-wrapper"});/**
 * @license
 * Copyright (c) 2018 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const loginFormWrapperStyles=css$e`
  :host {
    overflow: hidden;
    display: inline-block;
  }

  :host([hidden]) {
    display: none !important;
  }

  [part='form'] {
    flex: 1;
    display: flex;
    flex-direction: column;
    box-sizing: border-box;
  }

  [part='form-title'] {
    margin: 0;
  }

  [part='error-message'] {
    position: relative;
  }
`;/**
 * @license
 * Copyright (c) 2018 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-login-form-wrapper",loginFormWrapperStyles,{moduleId:"vaadin-login-form-wrapper-styles"});class LoginFormWrapper extends ThemableMixin(PolymerElement){static get template(){return html`
      <section part="form">
        <h2 part="form-title">[[i18n.form.title]]</h2>
        <div part="error-message" hidden$="[[!error]]">
          <h5 part="error-message-title">[[i18n.errorMessage.title]]</h5>
          <p part="error-message-description">[[i18n.errorMessage.message]]</p>
        </div>

        <slot name="form"></slot>

        <slot name="custom-form-area"></slot>

        <slot name="submit"></slot>

        <slot name="forgot-password"></slot>

        <div part="footer">
          <slot name="footer"></slot>
          <p>[[i18n.additionalInformation]]</p>
        </div>
      </section>
    `}static get is(){return"vaadin-login-form-wrapper"}static get properties(){return{error:{type:Boolean,value:!1,reflectToAttribute:!0},i18n:{type:Object}}}}defineCustomElement(LoginFormWrapper);/**
 * @license
 * Copyright (c) 2018 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const LoginMixin=n=>class extends n{static get properties(){return{action:{type:String,value:null},disabled:{type:Boolean,value:!1,notify:!0},error:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0},noForgotPassword:{type:Boolean,value:!1},noAutofocus:{type:Boolean,value:!1},i18n:{type:Object,value(){return{form:{title:"Log in",username:"Username",password:"Password",submit:"Log in",forgotPassword:"Forgot password"},errorMessage:{title:"Incorrect username or password",message:"Check that you have entered the correct username and password and try again.",username:"Username is required",password:"Password is required"}}}},_preventAutoEnable:{type:Boolean,value:!1}}}};/**
 * @license
 * Copyright (c) 2018 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const LoginFormMixin=n=>class extends LoginMixin(n){static get observers(){return["_errorChanged(error)"]}get _customFields(){return[...this.$.vaadinLoginFormWrapper.children].filter(t=>t.getAttribute("slot")==="custom-form-area"&&t.hasAttribute("name"))}async connectedCallback(){super.connectedCallback(),this.noAutofocus||(await new Promise(requestAnimationFrame),this.$.vaadinLoginUsername.focus())}_errorChanged(){this.error&&!this._preventAutoEnable&&(this.disabled=!1)}submit(){const t=this.$.vaadinLoginUsername,r=this.$.vaadinLoginPassword;if(this.disabled||!(t.validate()&&r.validate()))return;this.error=!1,this.disabled=!0;const o={username:t.value,password:r.value},a=this._customFields;a.length&&(o.custom={},a.forEach(c=>{o.custom[c.name]=c.value}));const s={bubbles:!0,cancelable:!0,detail:o},l=this.dispatchEvent(new CustomEvent("login",s));if(this.action&&l){const c=document.querySelector("meta[name=_csrf_parameter]"),h=document.querySelector("meta[name=_csrf]");c&&h&&(this.$.csrf.name=c.content,this.$.csrf.value=h.content),this.querySelector("form").submit()}}_onFormData(t){const{formData:r}=t;this._customFields.length&&this._customFields.forEach(o=>{r.append(o.name,o.value)})}_handleInputKeydown(t){if(t.key==="Enter"){const{currentTarget:r}=t,o=r.id==="vaadinLoginUsername"?this.$.vaadinLoginPassword:this.$.vaadinLoginUsername;r.validate()&&(o.checkValidity()?this.submit():o.focus())}}_handleInputKeyup(t){const r=t.currentTarget;t.key==="Tab"&&r instanceof HTMLInputElement&&r.select()}_onForgotPasswordClick(){this.dispatchEvent(new CustomEvent("forgot-password"))}};/**
 * @license
 * Copyright (c) 2018 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class LoginForm extends LoginFormMixin(ElementMixin(ThemableMixin(PolymerElement))){static get template(){return html`
      <style>
        vaadin-login-form-wrapper > form > * {
          width: 100%;
        }
      </style>
      <vaadin-login-form-wrapper id="vaadinLoginFormWrapper" theme$="[[_theme]]" error="[[error]]" i18n="[[i18n]]">
        <form method="POST" action$="[[action]]" on-formdata="_onFormData" slot="form">
          <input id="csrf" type="hidden" />
          <vaadin-text-field
            name="username"
            label="[[i18n.form.username]]"
            error-message="[[i18n.errorMessage.username]]"
            id="vaadinLoginUsername"
            required
            on-keydown="_handleInputKeydown"
            autocapitalize="none"
            autocorrect="off"
            spellcheck="false"
            autocomplete="username"
          >
            <input type="text" slot="input" on-keyup="_handleInputKeyup" />
          </vaadin-text-field>

          <vaadin-password-field
            name="password"
            label="[[i18n.form.password]]"
            error-message="[[i18n.errorMessage.password]]"
            id="vaadinLoginPassword"
            required
            on-keydown="_handleInputKeydown"
            spellcheck="false"
            autocomplete="current-password"
          >
            <input type="password" slot="input" on-keyup="_handleInputKeyup" />
          </vaadin-password-field>
        </form>

        <vaadin-button slot="submit" theme="primary contained submit" on-click="submit" disabled$="[[disabled]]">
          [[i18n.form.submit]]
        </vaadin-button>

        <vaadin-button
          slot="forgot-password"
          theme="tertiary small"
          on-click="_onForgotPasswordClick"
          hidden$="[[noForgotPassword]]"
        >
          [[i18n.form.forgotPassword]]
        </vaadin-button>
      </vaadin-login-form-wrapper>
    `}static get is(){return"vaadin-login-form"}_attachDom(i){this.appendChild(i)}}defineCustomElement(LoginForm);const loginOverlayWrapper=css$e`
  :host {
    inset: 0;
  }

  [part='backdrop'] {
    background: var(--lumo-base-color) linear-gradient(var(--lumo-shade-5pct), var(--lumo-shade-5pct));
  }

  [part='content'] {
    padding: 0;
  }

  [part='overlay'] {
    background: none;
    border-radius: 0;
    box-shadow: none;
    width: 100%;
    height: 100%;
  }

  [part='card'] {
    width: calc(var(--lumo-size-m) * 10);
    background: var(--lumo-base-color) linear-gradient(var(--lumo-tint-5pct), var(--lumo-tint-5pct));
  }

  [part='brand'] {
    padding: var(--lumo-space-l) var(--lumo-space-xl) var(--lumo-space-l) var(--lumo-space-l);
    background-color: var(--lumo-primary-color);
    color: var(--lumo-primary-contrast-color);
    min-height: calc(var(--lumo-size-m) * 5);
  }

  [part='description'] {
    line-height: var(--lumo-line-height-s);
    color: var(--lumo-tint-70pct);
    margin-bottom: 0;
  }

  [part='content'] {
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  [part='card'] {
    border-radius: var(--lumo-border-radius-l);
    box-shadow: var(--lumo-box-shadow-s);
    margin: var(--lumo-space-s);
    height: auto;
  }

  /* Small screen */
  @media only screen and (max-width: 500px) {
    [part='overlay'],
    [part='content'] {
      height: 100%;
    }

    [part='content'] {
      min-height: 100%;
      background: var(--lumo-base-color);
      align-items: flex-start;
    }

    [part='card'],
    [part='overlay'] {
      width: 100%;
      border-radius: 0;
      box-shadow: none;
      margin: 0;
    }

    /* RTL styles */
    :host([dir='rtl']) [part='brand'] {
      padding: var(--lumo-space-l) var(--lumo-space-l) var(--lumo-space-l) var(--lumo-space-xl);
    }
  }

  /* Landscape small screen */
  @media only screen and (max-height: 600px) and (min-width: 600px) and (orientation: landscape) {
    [part='card'] {
      flex-direction: row;
      align-items: stretch;
      max-width: calc(var(--lumo-size-m) * 16);
      width: 100%;
    }

    [part='brand'],
    [part='form'] {
      flex: auto;
      flex-basis: 0;
      box-sizing: border-box;
    }

    [part='brand'] {
      justify-content: flex-start;
    }

    [part='form'] {
      padding: var(--lumo-space-l);
      overflow: auto;
    }
  }

  /* Landscape really small screen */
  @media only screen and (max-height: 500px) and (min-width: 600px) and (orientation: landscape),
    only screen and (max-width: 600px) and (min-width: 600px) and (orientation: landscape) {
    [part='content'] {
      height: 100vh;
    }

    [part='card'] {
      margin: 0;
      width: 100%;
      max-width: none;
      height: 100%;
      flex: auto;
      border-radius: 0;
      box-shadow: none;
    }

    [part='form'] {
      height: 100%;
      overflow: auto;
      -webkit-overflow-scrolling: touch;
    }
  }

  /* Handle iPhone X notch */
  @media only screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) {
    [part='card'] {
      padding-right: constant(safe-area-inset-right);
      padding-right: env(safe-area-inset-right);

      padding-left: constant(safe-area-inset-left);
      padding-left: env(safe-area-inset-left);
    }

    [part='brand'] {
      margin-left: calc(constant(safe-area-inset-left) * -1);
      margin-left: calc(env(safe-area-inset-left) * -1);

      padding-left: calc(var(--lumo-space-l) + constant(safe-area-inset-left));
      padding-left: calc(var(--lumo-space-l) + env(safe-area-inset-left));
    }

    /* RTL styles */
    :host([dir='rtl']) [part='card'] {
      padding-left: constant(safe-area-inset-right);
      padding-left: env(safe-area-inset-right);
      padding-right: constant(safe-area-inset-left);
      padding-right: env(safe-area-inset-left);
    }

    :host([dir='rtl']) [part='brand'] {
      margin-right: calc(constant(safe-area-inset-left) * -1);
      margin-right: calc(env(safe-area-inset-left) * -1);
      padding-right: calc(var(--lumo-space-l) + constant(safe-area-inset-left));
      padding-right: calc(var(--lumo-space-l) + env(safe-area-inset-left));
    }
  }
`;registerStyles$1("vaadin-login-overlay-wrapper",[color$h,typography,overlay,loginOverlayWrapper],{moduleId:"lumo-login-overlay-wrapper"});const loginFormWrapper=css$e`
  :host([theme~='with-overlay']) {
    min-height: 100%;
    display: flex;
    justify-content: center;
    max-width: 100%;
  }

  /* Landscape small screen */
  @media only screen and (max-height: 600px) and (min-width: 600px) and (orientation: landscape) {
    :host([theme~='with-overlay']) [part='form'] {
      height: 100%;
      -webkit-overflow-scrolling: touch;
      flex: 1;
      padding: 2px;
    }
  }
`;registerStyles$1("vaadin-login-form-wrapper",[color$h,typography,loginFormWrapper],{moduleId:"lumo-login-overlay"});/**
 * @license
 * Copyright (c) 2018 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const loginOverlayWrapperStyles=css$e`
  [part='overlay'] {
    outline: none;
  }

  [part='card'] {
    max-width: 100%;
    box-sizing: border-box;
    overflow: hidden;
    display: flex;
    flex-direction: column;
  }

  [part='brand'] {
    box-sizing: border-box;
    overflow: hidden;
    flex-grow: 1;
    flex-shrink: 0;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
  }

  [part='brand'] h1 {
    color: inherit;
    margin: 0;
  }
`;/**
 * @license
 * Copyright (c) 2018 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-login-overlay-wrapper",[overlayStyles,loginOverlayWrapperStyles],{moduleId:"vaadin-login-overlay-wrapper-styles"});class LoginOverlayWrapper extends OverlayMixin(DirMixin(ThemableMixin(PolymerElement))){static get is(){return"vaadin-login-overlay-wrapper"}static get properties(){return{title:{type:String},description:{type:String}}}static get template(){return html`
      <div id="backdrop" part="backdrop" hidden$="[[!withBackdrop]]"></div>
      <div part="overlay" id="overlay" tabindex="0">
        <div part="content" id="content">
          <section part="card">
            <div part="brand">
              <slot name="title">
                <h1 part="title">[[title]]</h1>
              </slot>
              <p part="description">[[description]]</p>
            </div>
            <div part="form">
              <slot></slot>
            </div>
          </section>
        </div>
      </div>
    `}}defineCustomElement(LoginOverlayWrapper);/**
 * @license
 * Copyright (c) 2018 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const LoginOverlayMixin=n=>class extends OverlayClassMixin(LoginMixin(n)){static get properties(){return{description:{type:String,value:"Application description",notify:!0},opened:{type:Boolean,value:!1,observer:"_onOpenedChange"},title:{type:String,value:"App name"}}}static get observers(){return["__i18nChanged(i18n)"]}ready(){super.ready(),this._overlayElement=this.$.vaadinLoginOverlayWrapper}connectedCallback(){super.connectedCallback(),this.__restoreOpened&&(this.opened=!0)}disconnectedCallback(){super.disconnectedCallback(),this.__restoreOpened=this.opened,this.opened=!1}__i18nChanged(t){const r=t&&t.header;r&&(this.title=r.title,this.description=r.description)}_preventClosingLogin(t){t.preventDefault()}_retargetEvent(t){t.stopPropagation();const{detail:r,composed:o,cancelable:a,bubbles:s}=t;this.dispatchEvent(new CustomEvent(t.type,{bubbles:s,cancelable:a,composed:o,detail:r}))||t.preventDefault()}async _onOpenedChange(){const t=this.$.vaadinLoginForm;!t.$&&this.updateComplete&&await this.updateComplete,this.opened?(this._undoTitleTeleport=this._teleport("title",this.$.vaadinLoginOverlayWrapper),this._undoFieldsTeleport=this._teleport("custom-form-area",t.$.vaadinLoginFormWrapper,t.querySelector("vaadin-button")),this._undoFooterTeleport=this._teleport("footer",t.$.vaadinLoginFormWrapper),document.body.style.pointerEvents=this.$.vaadinLoginOverlayWrapper._previousDocumentPointerEvents):(t.$.vaadinLoginUsername.value="",t.$.vaadinLoginPassword.value="",this.disabled=!1,this._undoTitleTeleport&&this._undoTitleTeleport(),this._undoFieldsTeleport&&this._undoFieldsTeleport(),this._undoFooterTeleport&&this._undoFooterTeleport())}_teleport(t,r,o){const a=[...this.querySelectorAll(`[slot="${t}"]`)].map(s=>(o?r.insertBefore(s,o):r.appendChild(s),s));return()=>{this.append(...a)}}};/**
 * @license
 * Copyright (c) 2018 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class LoginOverlay extends LoginOverlayMixin(ElementMixin(ThemableMixin(PolymerElement))){static get template(){return html`
      <vaadin-login-overlay-wrapper
        id="vaadinLoginOverlayWrapper"
        opened="{{opened}}"
        focus-trap
        with-backdrop
        title="[[title]]"
        description="[[description]]"
        theme$="[[_theme]]"
        on-vaadin-overlay-escape-press="_preventClosingLogin"
        on-vaadin-overlay-outside-click="_preventClosingLogin"
      >
        <vaadin-login-form
          theme="with-overlay"
          id="vaadinLoginForm"
          action="[[action]]"
          disabled="{{disabled}}"
          error="{{error}}"
          no-autofocus="[[noAutofocus]]"
          no-forgot-password="[[noForgotPassword]]"
          i18n="{{i18n}}"
          on-login="_retargetEvent"
          on-forgot-password="_retargetEvent"
        ></vaadin-login-form>
      </vaadin-login-overlay-wrapper>

      <div hidden>
        <slot name="custom-form-area"></slot>
        <slot name="footer"></slot>
      </div>
    `}static get is(){return"vaadin-login-overlay"}}defineCustomElement(LoginOverlay);/**
 * @license
 * Copyright (c) 2000 - 2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See https://vaadin.com/commercial-license-and-service-terms for the full
 * license.
 */registerStyles$1("vaadin-map",css$e`
    :host {
      font-family: var(--lumo-font-family);
      font-size: var(--lumo-font-size-m);
      --vaadin-map-controls-inset: var(--lumo-space-xs);
      --vaadin-map-icon-zoom-in: var(--lumo-icons-plus);
      --vaadin-map-icon-zoom-out: var(--lumo-icons-minus);
      --vaadin-map-icon-compass: var(--lumo-icons-arrow-up);
      --vaadin-map-icon-overview-map-collapse: var(--lumo-icons-angle-down);
      --vaadin-map-icon-overview-map-expand: var(--lumo-icons-angle-up);
      --vaadin-map-icon-close: var(--lumo-icons-cross);
      --vaadin-map-icon-attribution-collapse: var(--lumo-icons-angle-right);
      --_focus-ring-color: var(--vaadin-focus-ring-color, var(--lumo-primary-color-50pct));
      --_focus-ring-width: var(--vaadin-focus-ring-width, 2px);
    }

    :host(:not([theme~='borderless'])) {
      border-radius: var(--lumo-border-radius-l);
      position: relative;
    }

    :host(:not([theme~='borderless']))::before {
      content: '';
      position: absolute;
      inset: 0;
      border: 1px solid var(--lumo-contrast-10pct);
      border-radius: inherit;
      z-index: 1;
      pointer-events: none;
    }

    :host([focus-ring]) {
      box-shadow: 0 0 0 var(--_focus-ring-width) var(--_focus-ring-color);
    }

    .ol-control,
    .ol-scale-bar,
    .ol-scale-line {
      margin: var(--lumo-space-xs);
    }

    .ol-control {
      border-radius: var(--lumo-border-radius-m);
      transition: 0.15s box-shadow, 0.15s background-color;
      -webkit-backdrop-filter: blur(8px);
    }

    .ol-control:hover {
      background-color: var(--lumo-base-color);
    }

    .ol-control:not(.ol-uncollapsible):hover {
      box-shadow: var(--lumo-box-shadow-s);
      background-color: var(--lumo-shade-20pct);
    }

    .ol-control button {
      width: var(--lumo-size-s);
      height: var(--lumo-size-s);
      border-radius: inherit;
      font-family: 'lumo-icons';
      font-size: var(--lumo-icon-size-s);
      font-weight: 400;
    }

    .ol-control button,
    .ol-attribution:not(.ol-uncollapsible) ul {
      transition: 0.15s opacity;
      background-color: var(--lumo-base-color);
      color: var(--lumo-body-text-color);
      opacity: 0.65;
    }

    .ol-control:hover button,
    .ol-control button:focus,
    .ol-attribution:hover ul {
      opacity: 1;
    }

    .ol-control button:hover {
      color: var(--lumo-primary-text-color);
    }

    .ol-control button:active {
      background: var(--lumo-base-color) linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct));
    }

    @supports not selector(:focus-visible) {
      .ol-control button:focus {
        outline: none;
        box-shadow: 0 0 0 var(--_focus-ring-width) var(--_focus-ring-color);
      }
    }

    .ol-control button:focus-visible {
      outline: none;
      box-shadow: 0 0 0 var(--_focus-ring-width) var(--_focus-ring-color);
    }

    .ol-zoom {
      gap: 2px;
    }

    button.ol-zoom-in {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;
    }

    button.ol-zoom-out {
      border-top-left-radius: 0;
      border-top-right-radius: 0;
    }

    .ol-attribution.ol-uncollapsible {
      border-radius: var(--lumo-border-radius-m) 0 0 0;
    }

    .ol-attribution ul {
      font-size: var(--lumo-font-size-xxs);
      color: var(--lumo-secondary-text-color);
      padding: var(--lumo-space-xs) var(--lumo-space-s);
      cursor: default;
    }

    .ol-attribution:not(.ol-uncollapsible) ul {
      background-color: var(--lumo-base-color);
    }

    .ol-attribution a {
      color: inherit;
      cursor: pointer;
    }

    .ol-scale-bar-inner {
      border-radius: var(--lumo-border-radius-s);
    }

    .ol-full-screen {
      height: var(--lumo-size-s);
    }

    .ol-overviewmap:not(.ol-collapsed),
    .ol-overviewmap:not(.ol-collapsed):hover {
      background-color: var(--lumo-base-color);
      box-shadow: var(--lumo-box-shadow-s);
      transition: 0.15s box-shadow;
    }

    .ol-overviewmap-map {
      margin: var(--lumo-space-xs);
      border: 0;
      border-radius: var(--lumo-border-radius-s);
    }

    .ol-overviewmap:not(.ol-uncollapsible) .ol-overviewmap-map {
      margin-bottom: 0;
    }

    .ol-zoomslider:not(.ol-uncollapsible):hover {
      box-shadow: none;
      overflow: visible;
    }

    .ol-zoomslider button {
      height: var(--lumo-space-m);
    }

    .ol-zoomslider:hover button {
      box-shadow: var(--lumo-box-shadow-s);
    }
  `,{moduleId:"lumo-map"});var BaseEvent=function(){function n(i){this.propagationStopped,this.defaultPrevented,this.type=i,this.target=null}return n.prototype.preventDefault=function(){this.defaultPrevented=!0},n.prototype.stopPropagation=function(){this.propagationStopped=!0},n}();const Event=BaseEvent,ObjectEventType={PROPERTYCHANGE:"propertychange"};var Disposable=function(){function n(){this.disposed=!1}return n.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},n.prototype.disposeInternal=function(){},n}();const Disposable$1=Disposable;function numberSafeCompareFunction(n,i){return n>i?1:n<i?-1:0}function includes(n,i){return n.indexOf(i)>=0}function linearFindNearest(n,i,t){var r=n.length;if(n[0]<=i)return 0;if(i<=n[r-1])return r-1;var o=void 0;if(t>0){for(o=1;o<r;++o)if(n[o]<i)return o-1}else if(t<0){for(o=1;o<r;++o)if(n[o]<=i)return o}else for(o=1;o<r;++o){if(n[o]==i)return o;if(n[o]<i)return typeof t=="function"?t(i,n[o-1],n[o])>0?o-1:o:n[o-1]-i<i-n[o]?o-1:o}return r-1}function reverseSubArray(n,i,t){for(;i<t;){var r=n[i];n[i]=n[t],n[t]=r,++i,--t}}function extend$3(n,i){for(var t=Array.isArray(i)?i:[i],r=t.length,o=0;o<r;o++)n[n.length]=t[o]}function equals$2(n,i){var t=n.length;if(t!==i.length)return!1;for(var r=0;r<t;r++)if(n[r]!==i[r])return!1;return!0}function isSorted(n,i,t){var r=i||numberSafeCompareFunction;return n.every(function(o,a){if(a===0)return!0;var s=r(n[a-1],o);return!(s>0||t&&s===0)})}function TRUE(){return!0}function FALSE(){return!1}function VOID(){}function memoizeOne(n){var i=!1,t,r,o;return function(){var a=Array.prototype.slice.call(arguments);return(!i||this!==o||!equals$2(a,r))&&(i=!0,o=this,r=a,t=n.apply(this,arguments)),t}}var assign=typeof Object.assign=="function"?Object.assign:function(n,i){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(n),r=1,o=arguments.length;r<o;++r){var a=arguments[r];if(a!=null)for(var s in a)a.hasOwnProperty(s)&&(t[s]=a[s])}return t};function clear(n){for(var i in n)delete n[i]}var getValues=typeof Object.values=="function"?Object.values:function(n){var i=[];for(var t in n)i.push(n[t]);return i};function isEmpty$1(n){var i;for(i in n)return!1;return!i}var __extends$1h=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Target=function(n){__extends$1h(i,n);function i(t){var r=n.call(this)||this;return r.eventTarget_=t,r.pendingRemovals_=null,r.dispatching_=null,r.listeners_=null,r}return i.prototype.addEventListener=function(t,r){if(!(!t||!r)){var o=this.listeners_||(this.listeners_={}),a=o[t]||(o[t]=[]);a.indexOf(r)===-1&&a.push(r)}},i.prototype.dispatchEvent=function(t){var r=typeof t=="string",o=r?t:t.type,a=this.listeners_&&this.listeners_[o];if(a){var s=r?new Event(t):t;s.target||(s.target=this.eventTarget_||this);var l=this.dispatching_||(this.dispatching_={}),c=this.pendingRemovals_||(this.pendingRemovals_={});o in l||(l[o]=0,c[o]=0),++l[o];for(var h,u=0,d=a.length;u<d;++u)if("handleEvent"in a[u]?h=a[u].handleEvent(s):h=a[u].call(this,s),h===!1||s.propagationStopped){h=!1;break}if(--l[o]===0){var f=c[o];for(delete c[o];f--;)this.removeEventListener(o,VOID);delete l[o]}return h}},i.prototype.disposeInternal=function(){this.listeners_&&clear(this.listeners_)},i.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},i.prototype.hasListener=function(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1},i.prototype.removeEventListener=function(t,r){var o=this.listeners_&&this.listeners_[t];if(o){var a=o.indexOf(r);a!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(o[a]=VOID,++this.pendingRemovals_[t]):(o.splice(a,1),o.length===0&&delete this.listeners_[t]))}},i}(Disposable$1);const EventType={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function listen(n,i,t,r,o){if(r&&r!==n&&(t=t.bind(r)),o){var a=t;t=function(){n.removeEventListener(i,t),a.apply(this,arguments)}}var s={target:n,type:i,listener:t};return n.addEventListener(i,t),s}function listenOnce(n,i,t,r){return listen(n,i,t,r,!0)}function unlistenByKey(n){n&&n.target&&(n.target.removeEventListener(n.type,n.listener),clear(n))}var __extends$1g=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Observable=function(n){__extends$1g(i,n);function i(){var t=n.call(this)||this;return t.on=t.onInternal,t.once=t.onceInternal,t.un=t.unInternal,t.revision_=0,t}return i.prototype.changed=function(){++this.revision_,this.dispatchEvent(EventType.CHANGE)},i.prototype.getRevision=function(){return this.revision_},i.prototype.onInternal=function(t,r){if(Array.isArray(t)){for(var o=t.length,a=new Array(o),s=0;s<o;++s)a[s]=listen(this,t[s],r);return a}else return listen(this,t,r)},i.prototype.onceInternal=function(t,r){var o;if(Array.isArray(t)){var a=t.length;o=new Array(a);for(var s=0;s<a;++s)o[s]=listenOnce(this,t[s],r)}else o=listenOnce(this,t,r);return r.ol_key=o,o},i.prototype.unInternal=function(t,r){var o=r.ol_key;if(o)unByKey(o);else if(Array.isArray(t))for(var a=0,s=t.length;a<s;++a)this.removeEventListener(t[a],r);else this.removeEventListener(t,r)},i}(Target);Observable.prototype.on;Observable.prototype.once;Observable.prototype.un;function unByKey(n){if(Array.isArray(n))for(var i=0,t=n.length;i<t;++i)unlistenByKey(n[i]);else unlistenByKey(n)}const Observable$1=Observable;function abstract(){return function(){throw new Error("Unimplemented abstract method.")}()}var uidCounter_=0;function getUid(n){return n.ol_uid||(n.ol_uid=String(++uidCounter_))}var VERSION="6.13.0",__extends$1f=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ObjectEvent=function(n){__extends$1f(i,n);function i(t,r,o){var a=n.call(this,t)||this;return a.key=r,a.oldValue=o,a}return i}(Event),BaseObject=function(n){__extends$1f(i,n);function i(t){var r=n.call(this)||this;return r.on,r.once,r.un,getUid(r),r.values_=null,t!==void 0&&r.setProperties(t),r}return i.prototype.get=function(t){var r;return this.values_&&this.values_.hasOwnProperty(t)&&(r=this.values_[t]),r},i.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},i.prototype.getProperties=function(){return this.values_&&assign({},this.values_)||{}},i.prototype.hasProperties=function(){return!!this.values_},i.prototype.notify=function(t,r){var o;o="change:".concat(t),this.hasListener(o)&&this.dispatchEvent(new ObjectEvent(o,t,r)),o=ObjectEventType.PROPERTYCHANGE,this.hasListener(o)&&this.dispatchEvent(new ObjectEvent(o,t,r))},i.prototype.addChangeListener=function(t,r){this.addEventListener("change:".concat(t),r)},i.prototype.removeChangeListener=function(t,r){this.removeEventListener("change:".concat(t),r)},i.prototype.set=function(t,r,o){var a=this.values_||(this.values_={});if(o)a[t]=r;else{var s=a[t];a[t]=r,s!==r&&this.notify(t,s)}},i.prototype.setProperties=function(t,r){for(var o in t)this.set(o,t[o],r)},i.prototype.applyProperties=function(t){t.values_&&assign(this.values_||(this.values_={}),t.values_)},i.prototype.unset=function(t,r){if(this.values_&&t in this.values_){var o=this.values_[t];delete this.values_[t],isEmpty$1(this.values_)&&(this.values_=null),r||this.notify(t,o)}},i}(Observable$1);const BaseObject$1=BaseObject,MapEventType={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"};var ua=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",FIREFOX=ua.indexOf("firefox")!==-1;ua.indexOf("safari")!==-1&&ua.indexOf("chrom")==-1;var WEBKIT=ua.indexOf("webkit")!==-1&&ua.indexOf("edge")==-1,MAC=ua.indexOf("macintosh")!==-1,DEVICE_PIXEL_RATIO=typeof devicePixelRatio<"u"?devicePixelRatio:1,WORKER_OFFSCREEN_CANVAS=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,IMAGE_DECODE=typeof Image<"u"&&Image.prototype.decode,PASSIVE_EVENT_LISTENERS=function(){var n=!1;try{var i=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("_",null,i),window.removeEventListener("_",null,i)}catch{}return n}();function createCanvasContext2D(n,i,t,r){var o;return t&&t.length?o=t.shift():WORKER_OFFSCREEN_CANVAS?o=new OffscreenCanvas(n||300,i||300):o=document.createElement("canvas"),n&&(o.width=n),i&&(o.height=i),o.getContext("2d",r)}function replaceNode(n,i){var t=i.parentNode;t&&t.replaceChild(n,i)}function removeNode(n){return n&&n.parentNode?n.parentNode.removeChild(n):null}function removeChildren(n){for(;n.lastChild;)n.removeChild(n.lastChild)}function replaceChildren(n,i){for(var t=n.childNodes,r=0;;++r){var o=t[r],a=i[r];if(!o&&!a)break;if(o!==a){if(!o){n.appendChild(a);continue}if(!a){n.removeChild(o),--r;continue}n.insertBefore(a,o)}}}var __extends$1e=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Control=function(n){__extends$1e(i,n);function i(t){var r=n.call(this)||this,o=t.element;return o&&!t.target&&!o.style.pointerEvents&&(o.style.pointerEvents="auto"),r.element=o||null,r.target_=null,r.map_=null,r.listenerKeys=[],t.render&&(r.render=t.render),t.target&&r.setTarget(t.target),r}return i.prototype.disposeInternal=function(){removeNode(this.element),n.prototype.disposeInternal.call(this)},i.prototype.getMap=function(){return this.map_},i.prototype.setMap=function(t){this.map_&&removeNode(this.element);for(var r=0,o=this.listenerKeys.length;r<o;++r)unlistenByKey(this.listenerKeys[r]);if(this.listenerKeys.length=0,this.map_=t,t){var a=this.target_?this.target_:t.getOverlayContainerStopEvent();a.appendChild(this.element),this.render!==VOID&&this.listenerKeys.push(listen(t,MapEventType.POSTRENDER,this.render,this)),t.render()}},i.prototype.render=function(t){},i.prototype.setTarget=function(t){this.target_=typeof t=="string"?document.getElementById(t):t},i}(BaseObject$1);const Control$1=Control;var CLASS_HIDDEN="ol-hidden",CLASS_UNSELECTABLE="ol-unselectable",CLASS_CONTROL="ol-control",CLASS_COLLAPSED="ol-collapsed",fontRegEx=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),fontRegExMatchIndex=["style","variant","weight","size","lineHeight","family"],getFontParameters=function(n){var i=n.match(fontRegEx);if(!i)return null;for(var t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},r=0,o=fontRegExMatchIndex.length;r<o;++r){var a=i[r+1];a!==void 0&&(t[fontRegExMatchIndex[r]]=a)}return t.families=t.family.split(/,\s?/),t};function cssOpacity(n){return n===1?"":String(Math.round(n*100)/100)}const LayerProperty={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};var __extends$1d=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),AssertionError=function(n){__extends$1d(i,n);function i(t){var r=this,o="v"+VERSION.split("-")[0],a="Assertion failed. See https://openlayers.org/en/"+o+"/doc/errors/#"+t+" for details.";return r=n.call(this,a)||this,r.code=t,r.name="AssertionError",r.message=a,r}return i}(Error);const AssertionError$1=AssertionError;function assert(n,i){if(!n)throw new AssertionError$1(i)}function clamp(n,i,t){return Math.min(Math.max(n,i),t)}var cosh$1=function(){var n;return"cosh"in Math?n=Math.cosh:n=function(i){var t=Math.exp(i);return(t+1/t)/2},n}(),log2=function(){var n;return"log2"in Math?n=Math.log2:n=function(i){return Math.log(i)*Math.LOG2E},n}();function squaredSegmentDistance(n,i,t,r,o,a){var s=o-t,l=a-r;if(s!==0||l!==0){var c=((n-t)*s+(i-r)*l)/(s*s+l*l);c>1?(t=o,r=a):c>0&&(t+=s*c,r+=l*c)}return squaredDistance(n,i,t,r)}function squaredDistance(n,i,t,r){var o=t-n,a=r-i;return o*o+a*a}function solveLinearSystem(n){for(var i=n.length,t=0;t<i;t++){for(var r=t,o=Math.abs(n[t][t]),a=t+1;a<i;a++){var s=Math.abs(n[a][t]);s>o&&(o=s,r=a)}if(o===0)return null;var l=n[r];n[r]=n[t],n[t]=l;for(var c=t+1;c<i;c++)for(var h=-n[c][t]/n[t][t],u=t;u<i+1;u++)t==u?n[c][u]=0:n[c][u]+=h*n[t][u]}for(var d=new Array(i),f=i-1;f>=0;f--){d[f]=n[f][i]/n[f][f];for(var p=f-1;p>=0;p--)n[p][i]-=n[p][f]*d[f]}return d}function toRadians(n){return n*Math.PI/180}function modulo(n,i){var t=n%i;return t*i<0?t+i:t}function lerp(n,i,t){return n+t*(i-n)}function toFixed(n,i){var t=Math.pow(10,i);return Math.round(n*t)/t}function round(n,i){return Math.round(toFixed(n,i))}function floor(n,i){return Math.floor(toFixed(n,i))}function ceil(n,i){return Math.ceil(toFixed(n,i))}var __extends$1c=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),BaseLayer=function(n){__extends$1c(i,n);function i(t){var r=n.call(this)||this;r.on,r.once,r.un,r.background_=t.background;var o=assign({},t);return typeof t.properties=="object"&&(delete o.properties,assign(o,t.properties)),o[LayerProperty.OPACITY]=t.opacity!==void 0?t.opacity:1,assert(typeof o[LayerProperty.OPACITY]=="number",64),o[LayerProperty.VISIBLE]=t.visible!==void 0?t.visible:!0,o[LayerProperty.Z_INDEX]=t.zIndex,o[LayerProperty.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,o[LayerProperty.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,o[LayerProperty.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,o[LayerProperty.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,r.className_=o.className!==void 0?o.className:"ol-layer",delete o.className,r.setProperties(o),r.state_=null,r}return i.prototype.getBackground=function(){return this.background_},i.prototype.getClassName=function(){return this.className_},i.prototype.getLayerState=function(t){var r=this.state_||{layer:this,managed:t===void 0?!0:t},o=this.getZIndex();return r.opacity=clamp(Math.round(this.getOpacity()*100)/100,0,1),r.visible=this.getVisible(),r.extent=this.getExtent(),r.zIndex=o===void 0&&!r.managed?1/0:o,r.maxResolution=this.getMaxResolution(),r.minResolution=Math.max(this.getMinResolution(),0),r.minZoom=this.getMinZoom(),r.maxZoom=this.getMaxZoom(),this.state_=r,r},i.prototype.getLayersArray=function(t){return abstract()},i.prototype.getLayerStatesArray=function(t){return abstract()},i.prototype.getExtent=function(){return this.get(LayerProperty.EXTENT)},i.prototype.getMaxResolution=function(){return this.get(LayerProperty.MAX_RESOLUTION)},i.prototype.getMinResolution=function(){return this.get(LayerProperty.MIN_RESOLUTION)},i.prototype.getMinZoom=function(){return this.get(LayerProperty.MIN_ZOOM)},i.prototype.getMaxZoom=function(){return this.get(LayerProperty.MAX_ZOOM)},i.prototype.getOpacity=function(){return this.get(LayerProperty.OPACITY)},i.prototype.getSourceState=function(){return abstract()},i.prototype.getVisible=function(){return this.get(LayerProperty.VISIBLE)},i.prototype.getZIndex=function(){return this.get(LayerProperty.Z_INDEX)},i.prototype.setBackground=function(t){this.background_=t,this.changed()},i.prototype.setExtent=function(t){this.set(LayerProperty.EXTENT,t)},i.prototype.setMaxResolution=function(t){this.set(LayerProperty.MAX_RESOLUTION,t)},i.prototype.setMinResolution=function(t){this.set(LayerProperty.MIN_RESOLUTION,t)},i.prototype.setMaxZoom=function(t){this.set(LayerProperty.MAX_ZOOM,t)},i.prototype.setMinZoom=function(t){this.set(LayerProperty.MIN_ZOOM,t)},i.prototype.setOpacity=function(t){assert(typeof t=="number",64),this.set(LayerProperty.OPACITY,t)},i.prototype.setVisible=function(t){this.set(LayerProperty.VISIBLE,t)},i.prototype.setZIndex=function(t){this.set(LayerProperty.Z_INDEX,t)},i.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),n.prototype.disposeInternal.call(this)},i}(BaseObject$1);const BaseLayer$1=BaseLayer,RenderEventType={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},SourceState={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"};var __extends$1b=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Layer=function(n){__extends$1b(i,n);function i(t){var r=this,o=assign({},t);delete o.source,r=n.call(this,o)||this,r.on,r.once,r.un,r.mapPrecomposeKey_=null,r.mapRenderKey_=null,r.sourceChangeKey_=null,r.renderer_=null,r.rendered=!1,t.render&&(r.render=t.render),t.map&&r.setMap(t.map),r.addChangeListener(LayerProperty.SOURCE,r.handleSourcePropertyChange_);var a=t.source?t.source:null;return r.setSource(a),r}return i.prototype.getLayersArray=function(t){var r=t||[];return r.push(this),r},i.prototype.getLayerStatesArray=function(t){var r=t||[];return r.push(this.getLayerState()),r},i.prototype.getSource=function(){return this.get(LayerProperty.SOURCE)||null},i.prototype.getRenderSource=function(){return this.getSource()},i.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():SourceState.UNDEFINED},i.prototype.handleSourceChange_=function(){this.changed()},i.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(unlistenByKey(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=listen(t,EventType.CHANGE,this.handleSourceChange_,this)),this.changed()},i.prototype.getFeatures=function(t){return this.renderer_?this.renderer_.getFeatures(t):new Promise(function(r){return r([])})},i.prototype.getData=function(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)},i.prototype.render=function(t,r){var o=this.getRenderer();if(o.prepareFrame(t))return this.rendered=!0,o.renderFrame(t,r)},i.prototype.unrender=function(){this.rendered=!1},i.prototype.setMapInternal=function(t){t||this.unrender(),this.set(LayerProperty.MAP,t)},i.prototype.getMapInternal=function(){return this.get(LayerProperty.MAP)},i.prototype.setMap=function(t){this.mapPrecomposeKey_&&(unlistenByKey(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(unlistenByKey(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=listen(t,RenderEventType.PRECOMPOSE,function(r){var o=r,a=o.frameState.layerStatesArray,s=this.getLayerState(!1);assert(!a.some(function(l){return l.layer===s.layer}),67),a.push(s)},this),this.mapRenderKey_=listen(this,EventType.CHANGE,t.render,t),this.changed())},i.prototype.setSource=function(t){this.set(LayerProperty.SOURCE,t)},i.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},i.prototype.hasRenderer=function(){return!!this.renderer_},i.prototype.createRenderer=function(){return null},i.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),n.prototype.disposeInternal.call(this)},i}(BaseLayer$1);function inView(n,i){if(!n.visible)return!1;var t=i.resolution;if(t<n.minResolution||t>=n.maxResolution)return!1;var r=i.zoom;return r>n.minZoom&&r<=n.maxZoom}var __extends$1a=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Attribution=function(n){__extends$1a(i,n);function i(t){var r=this,o=t||{};r=n.call(this,{element:document.createElement("div"),render:o.render,target:o.target})||this,r.ulElement_=document.createElement("ul"),r.collapsed_=o.collapsed!==void 0?o.collapsed:!0,r.userCollapsed_=r.collapsed_,r.overrideCollapsible_=o.collapsible!==void 0,r.collapsible_=o.collapsible!==void 0?o.collapsible:!0,r.collapsible_||(r.collapsed_=!1);var a=o.className!==void 0?o.className:"ol-attribution",s=o.tipLabel!==void 0?o.tipLabel:"Attributions",l=o.expandClassName!==void 0?o.expandClassName:a+"-expand",c=o.collapseLabel!==void 0?o.collapseLabel:"›",h=o.collapseClassName!==void 0?o.collapseClassName:a+"-collapse";typeof c=="string"?(r.collapseLabel_=document.createElement("span"),r.collapseLabel_.textContent=c,r.collapseLabel_.className=h):r.collapseLabel_=c;var u=o.label!==void 0?o.label:"i";typeof u=="string"?(r.label_=document.createElement("span"),r.label_.textContent=u,r.label_.className=l):r.label_=u;var d=r.collapsible_&&!r.collapsed_?r.collapseLabel_:r.label_;r.toggleButton_=document.createElement("button"),r.toggleButton_.setAttribute("type","button"),r.toggleButton_.setAttribute("aria-expanded",String(!r.collapsed_)),r.toggleButton_.title=s,r.toggleButton_.appendChild(d),r.toggleButton_.addEventListener(EventType.CLICK,r.handleClick_.bind(r),!1);var f=a+" "+CLASS_UNSELECTABLE+" "+CLASS_CONTROL+(r.collapsed_&&r.collapsible_?" "+CLASS_COLLAPSED:"")+(r.collapsible_?"":" ol-uncollapsible"),p=r.element;return p.className=f,p.appendChild(r.toggleButton_),p.appendChild(r.ulElement_),r.renderedAttributions_=[],r.renderedVisible_=!0,r}return i.prototype.collectSourceAttributions_=function(t){for(var r={},o=[],a=!0,s=t.layerStatesArray,l=0,c=s.length;l<c;++l){var h=s[l];if(inView(h,t.viewState)){var u=h.layer.getSource();if(u){var d=u.getAttributions();if(d){var f=d(t);if(f)if(a=a&&u.getAttributionsCollapsible()!==!1,Array.isArray(f))for(var p=0,m=f.length;p<m;++p)f[p]in r||(o.push(f[p]),r[f[p]]=!0);else f in r||(o.push(f),r[f]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(a),o},i.prototype.updateElement_=function(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var r=this.collectSourceAttributions_(t),o=r.length>0;if(this.renderedVisible_!=o&&(this.element.style.display=o?"":"none",this.renderedVisible_=o),!equals$2(r,this.renderedAttributions_)){removeChildren(this.ulElement_);for(var a=0,s=r.length;a<s;++a){var l=document.createElement("li");l.innerHTML=r[a],this.ulElement_.appendChild(l)}this.renderedAttributions_=r}},i.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},i.prototype.handleToggle_=function(){this.element.classList.toggle(CLASS_COLLAPSED),this.collapsed_?replaceNode(this.collapseLabel_,this.label_):replaceNode(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},i.prototype.getCollapsible=function(){return this.collapsible_},i.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},i.prototype.setCollapsed=function(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()},i.prototype.getCollapsed=function(){return this.collapsed_},i.prototype.render=function(t){this.updateElement_(t.frameState)},i}(Control$1);const Attribution$1=Attribution,CollectionEventType={ADD:"add",REMOVE:"remove"};var __extends$19=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Property$2={LENGTH:"length"},CollectionEvent=function(n){__extends$19(i,n);function i(t,r,o){var a=n.call(this,t)||this;return a.element=r,a.index=o,a}return i}(Event),Collection=function(n){__extends$19(i,n);function i(t,r){var o=n.call(this)||this;o.on,o.once,o.un;var a=r||{};if(o.unique_=!!a.unique,o.array_=t||[],o.unique_)for(var s=0,l=o.array_.length;s<l;++s)o.assertUnique_(o.array_[s],s);return o.updateLength_(),o}return i.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},i.prototype.extend=function(t){for(var r=0,o=t.length;r<o;++r)this.push(t[r]);return this},i.prototype.forEach=function(t){for(var r=this.array_,o=0,a=r.length;o<a;++o)t(r[o],o,r)},i.prototype.getArray=function(){return this.array_},i.prototype.item=function(t){return this.array_[t]},i.prototype.getLength=function(){return this.get(Property$2.LENGTH)},i.prototype.insertAt=function(t,r){this.unique_&&this.assertUnique_(r),this.array_.splice(t,0,r),this.updateLength_(),this.dispatchEvent(new CollectionEvent(CollectionEventType.ADD,r,t))},i.prototype.pop=function(){return this.removeAt(this.getLength()-1)},i.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var r=this.getLength();return this.insertAt(r,t),this.getLength()},i.prototype.remove=function(t){for(var r=this.array_,o=0,a=r.length;o<a;++o)if(r[o]===t)return this.removeAt(o)},i.prototype.removeAt=function(t){var r=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new CollectionEvent(CollectionEventType.REMOVE,r,t)),r},i.prototype.setAt=function(t,r){var o=this.getLength();if(t<o){this.unique_&&this.assertUnique_(r,t);var a=this.array_[t];this.array_[t]=r,this.dispatchEvent(new CollectionEvent(CollectionEventType.REMOVE,a,t)),this.dispatchEvent(new CollectionEvent(CollectionEventType.ADD,r,t))}else{for(var s=o;s<t;++s)this.insertAt(s,void 0);this.insertAt(t,r)}},i.prototype.updateLength_=function(){this.set(Property$2.LENGTH,this.array_.length)},i.prototype.assertUnique_=function(t,r){for(var o=0,a=this.array_.length;o<a;++o)if(this.array_[o]===t&&o!==r)throw new AssertionError$1(58)},i}(BaseObject$1);function easeIn(n){return Math.pow(n,3)}function easeOut(n){return 1-easeIn(1-n)}function inAndOut(n){return 3*n*n-2*n*n*n}function linear(n){return n}var __extends$18=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Rotate=function(n){__extends$18(i,n);function i(t){var r=this,o=t||{};r=n.call(this,{element:document.createElement("div"),render:o.render,target:o.target})||this;var a=o.className!==void 0?o.className:"ol-rotate",s=o.label!==void 0?o.label:"⇧",l=o.compassClassName!==void 0?o.compassClassName:"ol-compass";r.label_=null,typeof s=="string"?(r.label_=document.createElement("span"),r.label_.className=l,r.label_.textContent=s):(r.label_=s,r.label_.classList.add(l));var c=o.tipLabel?o.tipLabel:"Reset rotation",h=document.createElement("button");h.className=a+"-reset",h.setAttribute("type","button"),h.title=c,h.appendChild(r.label_),h.addEventListener(EventType.CLICK,r.handleClick_.bind(r),!1);var u=a+" "+CLASS_UNSELECTABLE+" "+CLASS_CONTROL,d=r.element;return d.className=u,d.appendChild(h),r.callResetNorth_=o.resetNorth?o.resetNorth:void 0,r.duration_=o.duration!==void 0?o.duration:250,r.autoHide_=o.autoHide!==void 0?o.autoHide:!0,r.rotation_=void 0,r.autoHide_&&r.element.classList.add(CLASS_HIDDEN),r}return i.prototype.handleClick_=function(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()},i.prototype.resetNorth_=function(){var t=this.getMap(),r=t.getView();if(r){var o=r.getRotation();o!==void 0&&(this.duration_>0&&o%(2*Math.PI)!==0?r.animate({rotation:0,duration:this.duration_,easing:easeOut}):r.setRotation(0))}},i.prototype.render=function(t){var r=t.frameState;if(r){var o=r.viewState.rotation;if(o!=this.rotation_){var a="rotate("+o+"rad)";if(this.autoHide_){var s=this.element.classList.contains(CLASS_HIDDEN);!s&&o===0?this.element.classList.add(CLASS_HIDDEN):s&&o!==0&&this.element.classList.remove(CLASS_HIDDEN)}this.label_.style.transform=a}this.rotation_=o}},i}(Control$1);const Rotate$1=Rotate;var __extends$17=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Zoom=function(n){__extends$17(i,n);function i(t){var r=this,o=t||{};r=n.call(this,{element:document.createElement("div"),target:o.target})||this;var a=o.className!==void 0?o.className:"ol-zoom",s=o.delta!==void 0?o.delta:1,l=o.zoomInClassName!==void 0?o.zoomInClassName:a+"-in",c=o.zoomOutClassName!==void 0?o.zoomOutClassName:a+"-out",h=o.zoomInLabel!==void 0?o.zoomInLabel:"+",u=o.zoomOutLabel!==void 0?o.zoomOutLabel:"–",d=o.zoomInTipLabel!==void 0?o.zoomInTipLabel:"Zoom in",f=o.zoomOutTipLabel!==void 0?o.zoomOutTipLabel:"Zoom out",p=document.createElement("button");p.className=l,p.setAttribute("type","button"),p.title=d,p.appendChild(typeof h=="string"?document.createTextNode(h):h),p.addEventListener(EventType.CLICK,r.handleClick_.bind(r,s),!1);var m=document.createElement("button");m.className=c,m.setAttribute("type","button"),m.title=f,m.appendChild(typeof u=="string"?document.createTextNode(u):u),m.addEventListener(EventType.CLICK,r.handleClick_.bind(r,-s),!1);var g=a+" "+CLASS_UNSELECTABLE+" "+CLASS_CONTROL,v=r.element;return v.className=g,v.appendChild(p),v.appendChild(m),r.duration_=o.duration!==void 0?o.duration:250,r}return i.prototype.handleClick_=function(t,r){r.preventDefault(),this.zoomByDelta_(t)},i.prototype.zoomByDelta_=function(t){var r=this.getMap(),o=r.getView();if(o){var a=o.getZoom();if(a!==void 0){var s=o.getConstrainedZoom(a+t);this.duration_>0?(o.getAnimating()&&o.cancelAnimations(),o.animate({zoom:s,duration:this.duration_,easing:easeOut})):o.setZoom(s)}}},i}(Control$1);const Zoom$1=Zoom,MapProperty={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},PointerEventType={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var Units={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},METERS_PER_UNIT$1={};METERS_PER_UNIT$1[Units.RADIANS]=6370997/(2*Math.PI);METERS_PER_UNIT$1[Units.DEGREES]=2*Math.PI*6370997/360;METERS_PER_UNIT$1[Units.FEET]=.3048;METERS_PER_UNIT$1[Units.METERS]=1;METERS_PER_UNIT$1[Units.USFEET]=1200/3937;var Projection$1=function(){function n(i){this.code_=i.code,this.units_=i.units,this.extent_=i.extent!==void 0?i.extent:null,this.worldExtent_=i.worldExtent!==void 0?i.worldExtent:null,this.axisOrientation_=i.axisOrientation!==void 0?i.axisOrientation:"enu",this.global_=i.global!==void 0?i.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=i.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=i.metersPerUnit}return n.prototype.canWrapX=function(){return this.canWrapX_},n.prototype.getCode=function(){return this.code_},n.prototype.getExtent=function(){return this.extent_},n.prototype.getUnits=function(){return this.units_},n.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||METERS_PER_UNIT$1[this.units_]},n.prototype.getWorldExtent=function(){return this.worldExtent_},n.prototype.getAxisOrientation=function(){return this.axisOrientation_},n.prototype.isGlobal=function(){return this.global_},n.prototype.setGlobal=function(i){this.global_=i,this.canWrapX_=!!(i&&this.extent_)},n.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},n.prototype.setDefaultTileGrid=function(i){this.defaultTileGrid_=i},n.prototype.setExtent=function(i){this.extent_=i,this.canWrapX_=!!(this.global_&&i)},n.prototype.setWorldExtent=function(i){this.worldExtent_=i},n.prototype.setGetPointResolution=function(i){this.getPointResolutionFunc_=i},n.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},n}();const Projection$2=Projection$1;var __extends$16=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),RADIUS$1=6378137,HALF_SIZE=Math.PI*RADIUS$1,EXTENT$1=[-HALF_SIZE,-HALF_SIZE,HALF_SIZE,HALF_SIZE],WORLD_EXTENT=[-180,-85,180,85],MAX_SAFE_Y=RADIUS$1*Math.log(Math.tan(Math.PI/2)),EPSG3857Projection=function(n){__extends$16(i,n);function i(t){return n.call(this,{code:t,units:Units.METERS,extent:EXTENT$1,global:!0,worldExtent:WORLD_EXTENT,getPointResolution:function(r,o){return r/cosh$1(o[1]/RADIUS$1)}})||this}return i}(Projection$2),PROJECTIONS$1=[new EPSG3857Projection("EPSG:3857"),new EPSG3857Projection("EPSG:102100"),new EPSG3857Projection("EPSG:102113"),new EPSG3857Projection("EPSG:900913"),new EPSG3857Projection("http://www.opengis.net/def/crs/EPSG/0/3857"),new EPSG3857Projection("http://www.opengis.net/gml/srs/epsg.xml#3857")];function fromEPSG4326(n,i,t){var r=n.length,o=t>1?t:2,a=i;a===void 0&&(o>2?a=n.slice():a=new Array(r));for(var s=0;s<r;s+=o){a[s]=HALF_SIZE*n[s]/180;var l=RADIUS$1*Math.log(Math.tan(Math.PI*(+n[s+1]+90)/360));l>MAX_SAFE_Y?l=MAX_SAFE_Y:l<-MAX_SAFE_Y&&(l=-MAX_SAFE_Y),a[s+1]=l}return a}function toEPSG4326(n,i,t){var r=n.length,o=t>1?t:2,a=i;a===void 0&&(o>2?a=n.slice():a=new Array(r));for(var s=0;s<r;s+=o)a[s]=180*n[s]/HALF_SIZE,a[s+1]=360*Math.atan(Math.exp(n[s+1]/RADIUS$1))/Math.PI-90;return a}var __extends$15=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),RADIUS=6378137,EXTENT=[-180,-90,180,90],METERS_PER_UNIT=Math.PI*RADIUS/180,EPSG4326Projection=function(n){__extends$15(i,n);function i(t,r){return n.call(this,{code:t,units:Units.DEGREES,extent:EXTENT,axisOrientation:r,global:!0,metersPerUnit:METERS_PER_UNIT,worldExtent:EXTENT})||this}return i}(Projection$2),PROJECTIONS=[new EPSG4326Projection("CRS:84"),new EPSG4326Projection("EPSG:4326","neu"),new EPSG4326Projection("urn:ogc:def:crs:OGC:1.3:CRS84"),new EPSG4326Projection("urn:ogc:def:crs:OGC:2:84"),new EPSG4326Projection("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new EPSG4326Projection("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new EPSG4326Projection("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],cache={};function get$4(n){return cache[n]||cache[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function add$3(n,i){cache[n]=i}var transforms={};function add$2(n,i,t){var r=n.getCode(),o=i.getCode();r in transforms||(transforms[r]={}),transforms[r][o]=t}function get$3(n,i){var t;return n in transforms&&i in transforms[n]&&(t=transforms[n][i]),t}const Corner={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},Relationship={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function boundingExtent(n){for(var i=createEmpty(),t=0,r=n.length;t<r;++t)extendCoordinate(i,n[t]);return i}function _boundingExtentXYs(n,i,t){var r=Math.min.apply(null,n),o=Math.min.apply(null,i),a=Math.max.apply(null,n),s=Math.max.apply(null,i);return createOrUpdate$2(r,o,a,s,t)}function buffer$1(n,i,t){return t?(t[0]=n[0]-i,t[1]=n[1]-i,t[2]=n[2]+i,t[3]=n[3]+i,t):[n[0]-i,n[1]-i,n[2]+i,n[3]+i]}function clone(n,i){return i?(i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],i):n.slice()}function closestSquaredDistanceXY(n,i,t){var r,o;return i<n[0]?r=n[0]-i:n[2]<i?r=i-n[2]:r=0,t<n[1]?o=n[1]-t:n[3]<t?o=t-n[3]:o=0,r*r+o*o}function containsCoordinate(n,i){return containsXY(n,i[0],i[1])}function containsExtent(n,i){return n[0]<=i[0]&&i[2]<=n[2]&&n[1]<=i[1]&&i[3]<=n[3]}function containsXY(n,i,t){return n[0]<=i&&i<=n[2]&&n[1]<=t&&t<=n[3]}function coordinateRelationship(n,i){var t=n[0],r=n[1],o=n[2],a=n[3],s=i[0],l=i[1],c=Relationship.UNKNOWN;return s<t?c=c|Relationship.LEFT:s>o&&(c=c|Relationship.RIGHT),l<r?c=c|Relationship.BELOW:l>a&&(c=c|Relationship.ABOVE),c===Relationship.UNKNOWN&&(c=Relationship.INTERSECTING),c}function createEmpty(){return[1/0,1/0,-1/0,-1/0]}function createOrUpdate$2(n,i,t,r,o){return o?(o[0]=n,o[1]=i,o[2]=t,o[3]=r,o):[n,i,t,r]}function createOrUpdateEmpty(n){return createOrUpdate$2(1/0,1/0,-1/0,-1/0,n)}function createOrUpdateFromCoordinate(n,i){var t=n[0],r=n[1];return createOrUpdate$2(t,r,t,r,i)}function createOrUpdateFromFlatCoordinates(n,i,t,r,o){var a=createOrUpdateEmpty(o);return extendFlatCoordinates(a,n,i,t,r)}function equals$1(n,i){return n[0]==i[0]&&n[2]==i[2]&&n[1]==i[1]&&n[3]==i[3]}function extend$2(n,i){return i[0]<n[0]&&(n[0]=i[0]),i[2]>n[2]&&(n[2]=i[2]),i[1]<n[1]&&(n[1]=i[1]),i[3]>n[3]&&(n[3]=i[3]),n}function extendCoordinate(n,i){i[0]<n[0]&&(n[0]=i[0]),i[0]>n[2]&&(n[2]=i[0]),i[1]<n[1]&&(n[1]=i[1]),i[1]>n[3]&&(n[3]=i[1])}function extendFlatCoordinates(n,i,t,r,o){for(;t<r;t+=o)extendXY(n,i[t],i[t+1]);return n}function extendXY(n,i,t){n[0]=Math.min(n[0],i),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],i),n[3]=Math.max(n[3],t)}function forEachCorner(n,i){var t;return t=i(getBottomLeft(n)),t||(t=i(getBottomRight(n)),t)||(t=i(getTopRight(n)),t)||(t=i(getTopLeft(n)),t)?t:!1}function getArea(n){var i=0;return isEmpty(n)||(i=getWidth(n)*getHeight(n)),i}function getBottomLeft(n){return[n[0],n[1]]}function getBottomRight(n){return[n[2],n[1]]}function getCenter(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function getCorner(n,i){var t;return i===Corner.BOTTOM_LEFT?t=getBottomLeft(n):i===Corner.BOTTOM_RIGHT?t=getBottomRight(n):i===Corner.TOP_LEFT?t=getTopLeft(n):i===Corner.TOP_RIGHT?t=getTopRight(n):assert(!1,13),t}function getForViewAndSize(n,i,t,r,o){var a=i*r[0]/2,s=i*r[1]/2,l=Math.cos(t),c=Math.sin(t),h=a*l,u=a*c,d=s*l,f=s*c,p=n[0],m=n[1],g=p-h+f,v=p-h-f,_=p+h-f,y=p+h+f,b=m-u-d,x=m-u+d,E=m+u+d,C=m+u-d;return createOrUpdate$2(Math.min(g,v,_,y),Math.min(b,x,E,C),Math.max(g,v,_,y),Math.max(b,x,E,C),o)}function getHeight(n){return n[3]-n[1]}function getIntersection(n,i,t){var r=t||createEmpty();return intersects$1(n,i)?(n[0]>i[0]?r[0]=n[0]:r[0]=i[0],n[1]>i[1]?r[1]=n[1]:r[1]=i[1],n[2]<i[2]?r[2]=n[2]:r[2]=i[2],n[3]<i[3]?r[3]=n[3]:r[3]=i[3]):createOrUpdateEmpty(r),r}function getTopLeft(n){return[n[0],n[3]]}function getTopRight(n){return[n[2],n[3]]}function getWidth(n){return n[2]-n[0]}function intersects$1(n,i){return n[0]<=i[2]&&n[2]>=i[0]&&n[1]<=i[3]&&n[3]>=i[1]}function isEmpty(n){return n[2]<n[0]||n[3]<n[1]}function returnOrUpdate(n,i){return i?(i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],i):n}function intersectsSegment(n,i,t){var r=!1,o=coordinateRelationship(n,i),a=coordinateRelationship(n,t);if(o===Relationship.INTERSECTING||a===Relationship.INTERSECTING)r=!0;else{var s=n[0],l=n[1],c=n[2],h=n[3],u=i[0],d=i[1],f=t[0],p=t[1],m=(p-d)/(f-u),g=void 0,v=void 0;a&Relationship.ABOVE&&!(o&Relationship.ABOVE)&&(g=f-(p-h)/m,r=g>=s&&g<=c),!r&&a&Relationship.RIGHT&&!(o&Relationship.RIGHT)&&(v=p-(f-c)*m,r=v>=l&&v<=h),!r&&a&Relationship.BELOW&&!(o&Relationship.BELOW)&&(g=f-(p-l)/m,r=g>=s&&g<=c),!r&&a&Relationship.LEFT&&!(o&Relationship.LEFT)&&(v=p-(f-s)*m,r=v>=l&&v<=h)}return r}function applyTransform(n,i,t,r){var o=[];if(r>1)for(var a=n[2]-n[0],s=n[3]-n[1],l=0;l<r;++l)o.push(n[0]+a*l/r,n[1],n[2],n[1]+s*l/r,n[2]-a*l/r,n[3],n[0],n[3]-s*l/r);else o=[n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3]];i(o,o,2);for(var c=[],h=[],l=0,u=o.length;l<u;l+=2)c.push(o[l]),h.push(o[l+1]);return _boundingExtentXYs(c,h,t)}function wrapX$2(n,i){var t=i.getExtent(),r=getCenter(n);if(i.canWrapX()&&(r[0]<t[0]||r[0]>=t[2])){var o=getWidth(t),a=Math.floor((r[0]-t[0])/o),s=a*o;n[0]-=s,n[2]-=s}return n}function compareVersions(n,i){for(var t=(""+n).split("."),r=(""+i).split("."),o=0;o<Math.max(t.length,r.length);o++){var a=parseInt(t[o]||"0",10),s=parseInt(r[o]||"0",10);if(a>s)return 1;if(s>a)return-1}return 0}function add$1(n,i){return n[0]+=+i[0],n[1]+=+i[1],n}function equals(n,i){for(var t=!0,r=n.length-1;r>=0;--r)if(n[r]!=i[r]){t=!1;break}return t}function rotate$1(n,i){var t=Math.cos(i),r=Math.sin(i),o=n[0]*t-n[1]*r,a=n[1]*t+n[0]*r;return n[0]=o,n[1]=a,n}function scale$2(n,i){return n[0]*=i,n[1]*=i,n}function wrapX$1(n,i){if(i.canWrapX()){var t=getWidth(i.getExtent()),r=getWorldsAway(n,i,t);r&&(n[0]-=r*t)}return n}function getWorldsAway(n,i,t){var r=i.getExtent(),o=0;if(i.canWrapX()&&(n[0]<r[0]||n[0]>r[2])){var a=t||getWidth(r);o=Math.floor((n[0]-r[0])/a)}return o}const GeometryType={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"};var DEFAULT_RADIUS=63710088e-1;function getDistance(n,i,t){var r=t||DEFAULT_RADIUS,o=toRadians(n[1]),a=toRadians(i[1]),s=(a-o)/2,l=toRadians(i[0]-n[0])/2,c=Math.sin(s)*Math.sin(s)+Math.sin(l)*Math.sin(l)*Math.cos(o)*Math.cos(a);return 2*r*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}var showCoordinateWarning=!0;function disableCoordinateWarning(n){var i=n===void 0?!0:n;showCoordinateWarning=!i}function cloneTransform(n,i,t){var r;if(i!==void 0){for(var o=0,a=n.length;o<a;++o)i[o]=n[o];r=i}else r=n.slice();return r}function identityTransform(n,i,t){if(i!==void 0&&n!==i){for(var r=0,o=n.length;r<o;++r)i[r]=n[r];n=i}return n}function addProjection(n){add$3(n.getCode(),n),add$2(n,n,cloneTransform)}function addProjections(n){n.forEach(addProjection)}function get$2(n){return typeof n=="string"?get$4(n):n||null}function getPointResolution(n,i,t,r){n=get$2(n);var o,a=n.getPointResolutionFunc();if(a){if(o=a(i,t),r&&r!==n.getUnits()){var s=n.getMetersPerUnit();s&&(o=o*s/METERS_PER_UNIT$1[r])}}else{var l=n.getUnits();if(l==Units.DEGREES&&!r||r==Units.DEGREES)o=i;else{var c=getTransformFromProjections(n,get$2("EPSG:4326"));if(c===identityTransform&&l!==Units.DEGREES)o=i*n.getMetersPerUnit();else{var h=[t[0]-i/2,t[1],t[0]+i/2,t[1],t[0],t[1]-i/2,t[0],t[1]+i/2];h=c(h,h,2);var u=getDistance(h.slice(0,2),h.slice(2,4)),d=getDistance(h.slice(4,6),h.slice(6,8));o=(u+d)/2}var s=r?METERS_PER_UNIT$1[r]:n.getMetersPerUnit();s!==void 0&&(o/=s)}}return o}function addEquivalentProjections(n){addProjections(n),n.forEach(function(i){n.forEach(function(t){i!==t&&add$2(i,t,cloneTransform)})})}function addEquivalentTransforms(n,i,t,r){n.forEach(function(o){i.forEach(function(a){add$2(o,a,t),add$2(a,o,r)})})}function createProjection(n,i){return n?typeof n=="string"?get$2(n):n:get$2(i)}function createTransformFromCoordinateTransform(n){return function(i,t,r){for(var o=i.length,a=r!==void 0?r:2,s=t!==void 0?t:new Array(o),l=0;l<o;l+=a){var c=n([i[l],i[l+1]]);s[l]=c[0],s[l+1]=c[1];for(var h=a-1;h>=2;--h)s[l+h]=i[l+h]}return s}}function addCoordinateTransforms(n,i,t,r){var o=get$2(n),a=get$2(i);add$2(o,a,createTransformFromCoordinateTransform(t)),add$2(a,o,createTransformFromCoordinateTransform(r))}function equivalent(n,i){if(n===i)return!0;var t=n.getUnits()===i.getUnits();if(n.getCode()===i.getCode())return t;var r=getTransformFromProjections(n,i);return r===cloneTransform&&t}function getTransformFromProjections(n,i){var t=n.getCode(),r=i.getCode(),o=get$3(t,r);return o||(o=identityTransform),o}function getTransform(n,i){var t=get$2(n),r=get$2(i);return getTransformFromProjections(t,r)}function transform$1(n,i,t){var r=getTransform(i,t);return r(n,void 0,n.length)}function transformExtent(n,i,t,r){var o=getTransform(i,t);return applyTransform(n,o,void 0,r)}var userProjection=null;function setUserProjection(n){userProjection=get$2(n)}function getUserProjection(){return userProjection}function toUserCoordinate(n,i){return userProjection?transform$1(n,i,userProjection):n}function fromUserCoordinate(n,i){return userProjection?transform$1(n,userProjection,i):(showCoordinateWarning&&!equals(n,[0,0])&&n[0]>=-180&&n[0]<=180&&n[1]>=-90&&n[1]<=90&&(showCoordinateWarning=!1,console.warn("Call useGeographic() ol/proj once to work with [longitude, latitude] coordinates.")),n)}function toUserExtent(n,i){return userProjection?transformExtent(n,i,userProjection):n}function fromUserExtent(n,i){return userProjection?transformExtent(n,userProjection,i):n}function toUserResolution(n,i){if(!userProjection)return n;var t=get$2(i).getUnits(),r=userProjection.getUnits();return t&&r?n*METERS_PER_UNIT$1[t]/METERS_PER_UNIT$1[r]:n}function createSafeCoordinateTransform(n,i,t){return function(r){var o=r[0],a=r[1],s,l;if(n.canWrapX()){var c=n.getExtent(),h=getWidth(c);l=getWorldsAway(r,n,h),l&&(o=o-l*h),o=clamp(o,c[0],c[2]),a=clamp(a,c[1],c[3]),s=t([o,a])}else s=t(r);return l&&i.canWrapX()&&(s[0]+=l*getWidth(i.getExtent())),s}}function addCommon(){addEquivalentProjections(PROJECTIONS$1),addEquivalentProjections(PROJECTIONS),addEquivalentTransforms(PROJECTIONS,PROJECTIONS$1,fromEPSG4326,toEPSG4326)}addCommon();new Array(6);function create(){return[1,0,0,1,0,0]}function set(n,i,t,r,o,a,s){return n[0]=i,n[1]=t,n[2]=r,n[3]=o,n[4]=a,n[5]=s,n}function setFromArray(n,i){return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n}function apply(n,i){var t=i[0],r=i[1];return i[0]=n[0]*t+n[2]*r+n[4],i[1]=n[1]*t+n[3]*r+n[5],i}function makeScale(n,i,t){return set(n,i,0,0,t,0,0)}function compose(n,i,t,r,o,a,s,l){var c=Math.sin(a),h=Math.cos(a);return n[0]=r*h,n[1]=o*c,n[2]=-r*c,n[3]=o*h,n[4]=s*r*h-l*r*c+i,n[5]=s*o*c+l*o*h+t,n}function makeInverse(n,i){var t=determinant(i);assert(t!==0,32);var r=i[0],o=i[1],a=i[2],s=i[3],l=i[4],c=i[5];return n[0]=s/t,n[1]=-o/t,n[2]=-a/t,n[3]=r/t,n[4]=(a*c-s*l)/t,n[5]=-(r*c-o*l)/t,n}function determinant(n){return n[0]*n[3]-n[1]*n[2]}var transformStringDiv;function toString$1(n){var i="matrix("+n.join(", ")+")";if(WORKER_OFFSCREEN_CANVAS)return i;var t=transformStringDiv||(transformStringDiv=document.createElement("div"));return t.style.transform=i,t.style.transform}var HEX_COLOR_RE_=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,NAMED_COLOR_RE_=/^([a-z]*)$|^hsla?\(.*\)$/i;function asString(n){return typeof n=="string"?n:toString(n)}function fromNamed(n){var i=document.createElement("div");if(i.style.color=n,i.style.color!==""){document.body.appendChild(i);var t=getComputedStyle(i).color;return document.body.removeChild(i),t}else return""}var fromString=function(){var n=1024,i={},t=0;return function(r){var o;if(i.hasOwnProperty(r))o=i[r];else{if(t>=n){var a=0;for(var s in i)a++&3||(delete i[s],--t)}o=fromStringInternal_(r),i[r]=o,++t}return o}}();function asArray(n){return Array.isArray(n)?n:fromString(n)}function fromStringInternal_(n){var i,t,r,o,a;if(NAMED_COLOR_RE_.exec(n)&&(n=fromNamed(n)),HEX_COLOR_RE_.exec(n)){var s=n.length-1,l=void 0;s<=4?l=1:l=2;var c=s===4||s===8;i=parseInt(n.substr(1+0*l,l),16),t=parseInt(n.substr(1+1*l,l),16),r=parseInt(n.substr(1+2*l,l),16),c?o=parseInt(n.substr(1+3*l,l),16):o=255,l==1&&(i=(i<<4)+i,t=(t<<4)+t,r=(r<<4)+r,c&&(o=(o<<4)+o)),a=[i,t,r,o/255]}else n.indexOf("rgba(")==0?(a=n.slice(5,-1).split(",").map(Number),normalize(a)):n.indexOf("rgb(")==0?(a=n.slice(4,-1).split(",").map(Number),a.push(1),normalize(a)):assert(!1,14);return a}function normalize(n){return n[0]=clamp(n[0]+.5|0,0,255),n[1]=clamp(n[1]+.5|0,0,255),n[2]=clamp(n[2]+.5|0,0,255),n[3]=clamp(n[3],0,1),n}function toString(n){var i=n[0];i!=(i|0)&&(i=i+.5|0);var t=n[1];t!=(t|0)&&(t=t+.5|0);var r=n[2];r!=(r|0)&&(r=r+.5|0);var o=n[3]===void 0?1:Math.round(n[3]*100)/100;return"rgba("+i+","+t+","+r+","+o+")"}var IconImageCache=function(){function n(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return n.prototype.clear=function(){this.cache_={},this.cacheSize_=0},n.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},n.prototype.expire=function(){if(this.canExpireCache()){var i=0;for(var t in this.cache_){var r=this.cache_[t];!(i++&3)&&!r.hasListener()&&(delete this.cache_[t],--this.cacheSize_)}}},n.prototype.get=function(i,t,r){var o=getKey$1(i,t,r);return o in this.cache_?this.cache_[o]:null},n.prototype.set=function(i,t,r,o){var a=getKey$1(i,t,r);this.cache_[a]=o,++this.cacheSize_},n.prototype.setSize=function(i){this.maxCacheSize_=i,this.expire()},n}();function getKey$1(n,i,t){var r=t?asString(t):"null";return i+":"+n+":"+r}var shared=new IconImageCache,__extends$14=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),MapRenderer=function(n){__extends$14(i,n);function i(t){var r=n.call(this)||this;return r.map_=t,r}return i.prototype.dispatchRenderEvent=function(t,r){abstract()},i.prototype.calculateMatrices2D=function(t){var r=t.viewState,o=t.coordinateToPixelTransform,a=t.pixelToCoordinateTransform;compose(o,t.size[0]/2,t.size[1]/2,1/r.resolution,-1/r.resolution,-r.rotation,-r.center[0],-r.center[1]),makeInverse(a,o)},i.prototype.forEachFeatureAtCoordinate=function(t,r,o,a,s,l,c,h){var u,d=r.viewState;function f(B,U,D,M){return s.call(l,U,B?D:null,M)}var p=d.projection,m=wrapX$1(t.slice(),p),g=[[0,0]];if(p.canWrapX()&&a){var v=p.getExtent(),_=getWidth(v);g.push([-_,0],[_,0])}for(var y=r.layerStatesArray,b=y.length,x=[],E=[],C=0;C<g.length;C++)for(var $=b-1;$>=0;--$){var S=y[$],P=S.layer;if(P.hasRenderer()&&inView(S,d)&&c.call(h,P)){var T=P.getRenderer(),k=P.getSource();if(T&&k){var L=k.getWrapX()?m:t,N=f.bind(null,S.managed);E[0]=L[0]+g[C][0],E[1]=L[1]+g[C][1],u=T.forEachFeatureAtCoordinate(E,r,o,N,x)}if(u)return u}}if(x.length!==0){var z=1/x.length;return x.forEach(function(B,U){return B.distanceSq+=U*z}),x.sort(function(B,U){return B.distanceSq-U.distanceSq}),x.some(function(B){return u=B.callback(B.feature,B.layer,B.geometry)}),u}},i.prototype.forEachLayerAtPixel=function(t,r,o,a,s){return abstract()},i.prototype.hasFeatureAtCoordinate=function(t,r,o,a,s,l){var c=this.forEachFeatureAtCoordinate(t,r,o,a,TRUE,this,s,l);return c!==void 0},i.prototype.getMap=function(){return this.map_},i.prototype.renderFrame=function(t){abstract()},i.prototype.scheduleExpireIconCache=function(t){shared.canExpireCache()&&t.postRenderFunctions.push(expireIconCache)},i}(Disposable$1);function expireIconCache(n,i){shared.expire()}const MapRenderer$1=MapRenderer;var __extends$13=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),RenderEvent=function(n){__extends$13(i,n);function i(t,r,o,a){var s=n.call(this,t)||this;return s.inversePixelTransform=r,s.frameState=o,s.context=a,s}return i}(Event),defaultFont="10px sans-serif",defaultFillStyle="#000",defaultLineCap="round",defaultLineDash=[],defaultLineDashOffset=0,defaultLineJoin="round",defaultMiterLimit=10,defaultStrokeStyle="#000",defaultTextAlign="center",defaultTextBaseline="middle",defaultPadding=[0,0,0,0],defaultLineWidth=1,checkedFonts=new BaseObject$1,labelCache=new Target;labelCache.setSize=function(){console.warn("labelCache is deprecated.")};var measureContext=null,measureFont,textHeights={},registerFont=function(){var n=100,i="32px ",t=["monospace","serif"],r=t.length,o="wmytzilWMYTZIL@#/&?$%10",a,s;function l(h,u,d){for(var f=!0,p=0;p<r;++p){var m=t[p];if(s=measureTextWidth(h+" "+u+" "+i+m,o),d!=m){var g=measureTextWidth(h+" "+u+" "+i+d+","+m,o);f=f&&g!=s}}return!!f}function c(){for(var h=!0,u=checkedFonts.getKeys(),d=0,f=u.length;d<f;++d){var p=u[d];checkedFonts.get(p)<n&&(l.apply(this,p.split(`
`))?(clear(textHeights),measureContext=null,measureFont=void 0,checkedFonts.set(p,n)):(checkedFonts.set(p,checkedFonts.get(p)+1,!0),h=!1))}h&&(clearInterval(a),a=void 0)}return function(h){var u=getFontParameters(h);if(u)for(var d=u.families,f=0,p=d.length;f<p;++f){var m=d[f],g=u.style+`
`+u.weight+`
`+m;checkedFonts.get(g)===void 0&&(checkedFonts.set(g,n,!0),l(u.style,u.weight,m)||(checkedFonts.set(g,0,!0),a===void 0&&(a=setInterval(c,32))))}}}(),measureTextHeight=function(){var n;return function(i){var t=textHeights[i];if(t==null){if(WORKER_OFFSCREEN_CANVAS){var r=getFontParameters(i),o=measureText(i,"Žg"),a=isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight);t=a*(o.actualBoundingBoxAscent+o.actualBoundingBoxDescent)}else n||(n=document.createElement("div"),n.innerHTML="M",n.style.minHeight="0",n.style.maxHeight="none",n.style.height="auto",n.style.padding="0",n.style.border="none",n.style.position="absolute",n.style.display="block",n.style.left="-99999px"),n.style.font=i,document.body.appendChild(n),t=n.offsetHeight,document.body.removeChild(n);textHeights[i]=t}return t}}();function measureText(n,i){return measureContext||(measureContext=createCanvasContext2D(1,1)),n!=measureFont&&(measureContext.font=n,measureFont=measureContext.font),measureContext.measureText(i)}function measureTextWidth(n,i){return measureText(n,i).width}function measureAndCacheTextWidth(n,i,t){if(i in t)return t[i];var r=measureTextWidth(n,i);return t[i]=r,r}function getTextDimensions(n,i){for(var t=[],r=[],o=[],a=0,s=0,l=0,c=0,h=0,u=i.length;h<=u;h+=2){var d=i[h];if(d===`
`||h===u){a=Math.max(a,s),o.push(s),s=0,l+=c;continue}var f=i[h+1]||n.font,p=measureTextWidth(f,d);t.push(p),s+=p;var m=measureTextHeight(f);r.push(m),c=Math.max(c,m)}return{width:a,height:l,widths:t,heights:r,lineWidths:o}}function drawImageOrLabel(n,i,t,r,o,a,s,l,c,h,u){n.save(),t!==1&&(n.globalAlpha*=t),i&&n.setTransform.apply(n,i),r.contextInstructions?(n.translate(c,h),n.scale(u[0],u[1]),executeLabelInstructions(r,n)):u[0]<0||u[1]<0?(n.translate(c,h),n.scale(u[0],u[1]),n.drawImage(r,o,a,s,l,0,0,s,l)):n.drawImage(r,o,a,s,l,c,h,s*u[0],l*u[1]),n.restore()}function executeLabelInstructions(n,i){for(var t=n.contextInstructions,r=0,o=t.length;r<o;r+=2)Array.isArray(t[r+1])?i[t[r]].apply(i,t[r+1]):i[t[r]]=t[r+1]}var __extends$12=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),CompositeMapRenderer=function(n){__extends$12(i,n);function i(t){var r=n.call(this,t)||this;r.fontChangeListenerKey_=listen(checkedFonts,ObjectEventType.PROPERTYCHANGE,t.redrawText.bind(t)),r.element_=document.createElement("div");var o=r.element_.style;o.position="absolute",o.width="100%",o.height="100%",o.zIndex="0",r.element_.className=CLASS_UNSELECTABLE+" ol-layers";var a=t.getViewport();return a.insertBefore(r.element_,a.firstChild||null),r.children_=[],r.renderedVisible_=!0,r}return i.prototype.dispatchRenderEvent=function(t,r){var o=this.getMap();if(o.hasListener(t)){var a=new RenderEvent(t,void 0,r);o.dispatchEvent(a)}},i.prototype.disposeInternal=function(){unlistenByKey(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),n.prototype.disposeInternal.call(this)},i.prototype.renderFrame=function(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(RenderEventType.PRECOMPOSE,t);var r=t.layerStatesArray.sort(function(p,m){return p.zIndex-m.zIndex}),o=t.viewState;this.children_.length=0;for(var a=[],s=null,l=0,c=r.length;l<c;++l){var h=r[l];t.layerIndex=l;var u=h.layer,d=u.getSourceState();if(!inView(h,o)||d!=SourceState.READY&&d!=SourceState.UNDEFINED){u.unrender();continue}var f=u.render(t,s);f&&(f!==s&&(this.children_.push(f),s=f),"getDeclutter"in u&&a.push(u))}for(var l=a.length-1;l>=0;--l)a[l].renderDeclutter(t);replaceChildren(this.element_,this.children_),this.dispatchRenderEvent(RenderEventType.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)},i.prototype.forEachLayerAtPixel=function(t,r,o,a,s){for(var l=r.viewState,c=r.layerStatesArray,h=c.length,u=h-1;u>=0;--u){var d=c[u],f=d.layer;if(f.hasRenderer()&&inView(d,l)&&s(f)){var p=f.getRenderer(),m=p.getDataAtPixel(t,r,o);if(m){var g=a(f,m);if(g)return g}}}},i}(MapRenderer$1);const CompositeMapRenderer$1=CompositeMapRenderer;var __extends$11=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),GroupEvent=function(n){__extends$11(i,n);function i(t,r){var o=n.call(this,t)||this;return o.layer=r,o}return i}(Event),Property$1={LAYERS:"layers"},LayerGroup=function(n){__extends$11(i,n);function i(t){var r=this,o=t||{},a=assign({},o);delete a.layers;var s=o.layers;return r=n.call(this,a)||this,r.on,r.once,r.un,r.layersListenerKeys_=[],r.listenerKeys_={},r.addChangeListener(Property$1.LAYERS,r.handleLayersChanged_),s?Array.isArray(s)?s=new Collection(s.slice(),{unique:!0}):assert(typeof s.getArray=="function",43):s=new Collection(void 0,{unique:!0}),r.setLayers(s),r}return i.prototype.handleLayerChange_=function(){this.changed()},i.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(unlistenByKey),this.layersListenerKeys_.length=0;var t=this.getLayers();this.layersListenerKeys_.push(listen(t,CollectionEventType.ADD,this.handleLayersAdd_,this),listen(t,CollectionEventType.REMOVE,this.handleLayersRemove_,this));for(var r in this.listenerKeys_)this.listenerKeys_[r].forEach(unlistenByKey);clear(this.listenerKeys_);for(var o=t.getArray(),a=0,s=o.length;a<s;a++){var l=o[a];this.registerLayerListeners_(l),this.dispatchEvent(new GroupEvent("addlayer",l))}this.changed()},i.prototype.registerLayerListeners_=function(t){var r=[listen(t,ObjectEventType.PROPERTYCHANGE,this.handleLayerChange_,this),listen(t,EventType.CHANGE,this.handleLayerChange_,this)];t instanceof i&&r.push(listen(t,"addlayer",this.handleLayerGroupAdd_,this),listen(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[getUid(t)]=r},i.prototype.handleLayerGroupAdd_=function(t){this.dispatchEvent(new GroupEvent("addlayer",t.layer))},i.prototype.handleLayerGroupRemove_=function(t){this.dispatchEvent(new GroupEvent("removelayer",t.layer))},i.prototype.handleLayersAdd_=function(t){var r=t.element;this.registerLayerListeners_(r),this.dispatchEvent(new GroupEvent("addlayer",r)),this.changed()},i.prototype.handleLayersRemove_=function(t){var r=t.element,o=getUid(r);this.listenerKeys_[o].forEach(unlistenByKey),delete this.listenerKeys_[o],this.dispatchEvent(new GroupEvent("removelayer",r)),this.changed()},i.prototype.getLayers=function(){return this.get(Property$1.LAYERS)},i.prototype.setLayers=function(t){var r=this.getLayers();if(r)for(var o=r.getArray(),a=0,s=o.length;a<s;++a)this.dispatchEvent(new GroupEvent("removelayer",o[a]));this.set(Property$1.LAYERS,t)},i.prototype.getLayersArray=function(t){var r=t!==void 0?t:[];return this.getLayers().forEach(function(o){o.getLayersArray(r)}),r},i.prototype.getLayerStatesArray=function(t){var r=t!==void 0?t:[],o=r.length;this.getLayers().forEach(function(u){u.getLayerStatesArray(r)});var a=this.getLayerState(),s=a.zIndex;!t&&a.zIndex===void 0&&(s=0);for(var l=o,c=r.length;l<c;l++){var h=r[l];h.opacity*=a.opacity,h.visible=h.visible&&a.visible,h.maxResolution=Math.min(h.maxResolution,a.maxResolution),h.minResolution=Math.max(h.minResolution,a.minResolution),h.minZoom=Math.max(h.minZoom,a.minZoom),h.maxZoom=Math.min(h.maxZoom,a.maxZoom),a.extent!==void 0&&(h.extent!==void 0?h.extent=getIntersection(h.extent,a.extent):h.extent=a.extent),h.zIndex===void 0&&(h.zIndex=s)}return r},i.prototype.getSourceState=function(){return SourceState.READY},i}(BaseLayer$1);const LayerGroup$1=LayerGroup;var __extends$10=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),MapEvent=function(n){__extends$10(i,n);function i(t,r,o){var a=n.call(this,t)||this;return a.map=r,a.frameState=o!==void 0?o:null,a}return i}(Event),__extends$$=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),MapBrowserEvent=function(n){__extends$$(i,n);function i(t,r,o,a,s){var l=n.call(this,t,r,s)||this;return l.originalEvent=o,l.pixel_=null,l.coordinate_=null,l.dragging=a!==void 0?a:!1,l}return Object.defineProperty(i.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),i.prototype.preventDefault=function(){n.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},i.prototype.stopPropagation=function(){n.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},i}(MapEvent);const MapBrowserEventType={SINGLECLICK:"singleclick",CLICK:EventType.CLICK,DBLCLICK:EventType.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var __extends$_=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),MapBrowserEventHandler=function(n){__extends$_(i,n);function i(t,r){var o=n.call(this,t)||this;o.map_=t,o.clickTimeoutId_,o.emulateClicks_=!1,o.dragging_=!1,o.dragListenerKeys_=[],o.moveTolerance_=r===void 0?1:r,o.down_=null;var a=o.map_.getViewport();return o.activePointers_=0,o.trackedTouches_={},o.element_=a,o.pointerdownListenerKey_=listen(a,PointerEventType.POINTERDOWN,o.handlePointerDown_,o),o.originalPointerMoveEvent_,o.relayedListenerKey_=listen(a,PointerEventType.POINTERMOVE,o.relayEvent_,o),o.boundHandleTouchMove_=o.handleTouchMove_.bind(o),o.element_.addEventListener(EventType.TOUCHMOVE,o.boundHandleTouchMove_,PASSIVE_EVENT_LISTENERS?{passive:!1}:!1),o}return i.prototype.emulateClick_=function(t){var r=new MapBrowserEvent(MapBrowserEventType.CLICK,this.map_,t);this.dispatchEvent(r),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,r=new MapBrowserEvent(MapBrowserEventType.DBLCLICK,this.map_,t),this.dispatchEvent(r)):this.clickTimeoutId_=setTimeout((function(){this.clickTimeoutId_=void 0;var o=new MapBrowserEvent(MapBrowserEventType.SINGLECLICK,this.map_,t);this.dispatchEvent(o)}).bind(this),250)},i.prototype.updateActivePointers_=function(t){var r=t;r.type==MapBrowserEventType.POINTERUP||r.type==MapBrowserEventType.POINTERCANCEL?delete this.trackedTouches_[r.pointerId]:r.type==MapBrowserEventType.POINTERDOWN&&(this.trackedTouches_[r.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},i.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var r=new MapBrowserEvent(MapBrowserEventType.POINTERUP,this.map_,t);this.dispatchEvent(r),this.emulateClicks_&&!r.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_===0&&(this.dragListenerKeys_.forEach(unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},i.prototype.isMouseActionButton_=function(t){return t.button===0},i.prototype.handlePointerDown_=function(t){this.emulateClicks_=this.activePointers_===0,this.updateActivePointers_(t);var r=new MapBrowserEvent(MapBrowserEventType.POINTERDOWN,this.map_,t);this.dispatchEvent(r),this.down_={};for(var o in t){var a=t[o];this.down_[o]=typeof a=="function"?VOID:a}if(this.dragListenerKeys_.length===0){var s=this.map_.getOwnerDocument();this.dragListenerKeys_.push(listen(s,MapBrowserEventType.POINTERMOVE,this.handlePointerMove_,this),listen(s,MapBrowserEventType.POINTERUP,this.handlePointerUp_,this),listen(this.element_,MapBrowserEventType.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==s&&this.dragListenerKeys_.push(listen(this.element_.getRootNode(),MapBrowserEventType.POINTERUP,this.handlePointerUp_,this))}},i.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var r=new MapBrowserEvent(MapBrowserEventType.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(r)}},i.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var r=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new MapBrowserEvent(t.type,this.map_,t,r))},i.prototype.handleTouchMove_=function(t){var r=this.originalPointerMoveEvent_;(!r||r.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()},i.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},i.prototype.disposeInternal=function(){this.relayedListenerKey_&&(unlistenByKey(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(EventType.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(unlistenByKey(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(unlistenByKey),this.dragListenerKeys_.length=0,this.element_=null,n.prototype.disposeInternal.call(this)},i}(Target);const MapBrowserEventHandler$1=MapBrowserEventHandler;var DROP=1/0,PriorityQueue=function(){function n(i,t){this.priorityFunction_=i,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return n.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,clear(this.queuedElements_)},n.prototype.dequeue=function(){var i=this.elements_,t=this.priorities_,r=i[0];i.length==1?(i.length=0,t.length=0):(i[0]=i.pop(),t[0]=t.pop(),this.siftUp_(0));var o=this.keyFunction_(r);return delete this.queuedElements_[o],r},n.prototype.enqueue=function(i){assert(!(this.keyFunction_(i)in this.queuedElements_),31);var t=this.priorityFunction_(i);return t!=DROP?(this.elements_.push(i),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(i)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1},n.prototype.getCount=function(){return this.elements_.length},n.prototype.getLeftChildIndex_=function(i){return i*2+1},n.prototype.getRightChildIndex_=function(i){return i*2+2},n.prototype.getParentIndex_=function(i){return i-1>>1},n.prototype.heapify_=function(){var i;for(i=(this.elements_.length>>1)-1;i>=0;i--)this.siftUp_(i)},n.prototype.isEmpty=function(){return this.elements_.length===0},n.prototype.isKeyQueued=function(i){return i in this.queuedElements_},n.prototype.isQueued=function(i){return this.isKeyQueued(this.keyFunction_(i))},n.prototype.siftUp_=function(i){for(var t=this.elements_,r=this.priorities_,o=t.length,a=t[i],s=r[i],l=i;i<o>>1;){var c=this.getLeftChildIndex_(i),h=this.getRightChildIndex_(i),u=h<o&&r[h]<r[c]?h:c;t[i]=t[u],r[i]=r[u],i=u}t[i]=a,r[i]=s,this.siftDown_(l,i)},n.prototype.siftDown_=function(i,t){for(var r=this.elements_,o=this.priorities_,a=r[t],s=o[t];t>i;){var l=this.getParentIndex_(t);if(o[l]>s)r[t]=r[l],o[t]=o[l],t=l;else break}r[t]=a,o[t]=s},n.prototype.reprioritize=function(){var i=this.priorityFunction_,t=this.elements_,r=this.priorities_,o=0,a=t.length,s,l,c;for(l=0;l<a;++l)s=t[l],c=i(s),c==DROP?delete this.queuedElements_[this.keyFunction_(s)]:(r[o]=c,t[o++]=s);t.length=o,r.length=o,this.heapify_()},n}();const PriorityQueue$1=PriorityQueue,TileState={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var __extends$Z=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),TileQueue=function(n){__extends$Z(i,n);function i(t,r){var o=n.call(this,function(a){return t.apply(null,a)},function(a){return a[0].getKey()})||this;return o.boundHandleTileChange_=o.handleTileChange.bind(o),o.tileChangeCallback_=r,o.tilesLoading_=0,o.tilesLoadingKeys_={},o}return i.prototype.enqueue=function(t){var r=n.prototype.enqueue.call(this,t);if(r){var o=t[0];o.addEventListener(EventType.CHANGE,this.boundHandleTileChange_)}return r},i.prototype.getTilesLoading=function(){return this.tilesLoading_},i.prototype.handleTileChange=function(t){var r=t.target,o=r.getState();if(o===TileState.LOADED||o===TileState.ERROR||o===TileState.EMPTY){r.removeEventListener(EventType.CHANGE,this.boundHandleTileChange_);var a=r.getKey();a in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[a],--this.tilesLoading_),this.tileChangeCallback_()}},i.prototype.loadMoreTiles=function(t,r){for(var o=0,a,s,l;this.tilesLoading_<t&&o<r&&this.getCount()>0;)s=this.dequeue()[0],l=s.getKey(),a=s.getState(),a===TileState.IDLE&&!(l in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[l]=!0,++this.tilesLoading_,++o,s.load())},i}(PriorityQueue$1);const TileQueue$1=TileQueue;function getTilePriority(n,i,t,r,o){if(!n||!(t in n.wantedTiles)||!n.wantedTiles[t][i.getKey()])return DROP;var a=n.viewState.center,s=r[0]-a[0],l=r[1]-a[1];return 65536*Math.log(o)+Math.sqrt(s*s+l*l)/o}const ViewHint={ANIMATING:0,INTERACTING:1},ViewProperty={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};var DEFAULT_MAX_ZOOM=42,DEFAULT_TILE_SIZE=256;function createExtent(n,i,t){return function(r,o,a,s,l){if(r){if(!o&&!i)return r;var c=i?0:a[0]*o,h=i?0:a[1]*o,u=l?l[0]:0,d=l?l[1]:0,f=n[0]+c/2+u,p=n[2]-c/2+u,m=n[1]+h/2+d,g=n[3]-h/2+d;f>p&&(f=(p+f)/2,p=f),m>g&&(m=(g+m)/2,g=m);var v=clamp(r[0],f,p),_=clamp(r[1],m,g);if(s&&t&&o){var y=30*o;v+=-y*Math.log(1+Math.max(0,f-r[0])/y)+y*Math.log(1+Math.max(0,r[0]-p)/y),_+=-y*Math.log(1+Math.max(0,m-r[1])/y)+y*Math.log(1+Math.max(0,r[1]-g)/y)}return[v,_]}}}function none$1(n){return n}function getViewportClampedResolution(n,i,t,r){var o=getWidth(i)/t[0],a=getHeight(i)/t[1];return r?Math.min(n,Math.max(o,a)):Math.min(n,Math.min(o,a))}function getSmoothClampedResolution(n,i,t){var r=Math.min(n,i),o=50;return r*=Math.log(1+o*Math.max(0,n/i-1))/o+1,t&&(r=Math.max(r,t),r/=Math.log(1+o*Math.max(0,t/n-1))/o+1),clamp(r,t/2,i*2)}function createSnapToResolutions(n,i,t,r){return function(o,a,s,l){if(o!==void 0){var c=n[0],h=n[n.length-1],u=t?getViewportClampedResolution(c,t,s,r):c;if(l){var d=i!==void 0?i:!0;return d?getSmoothClampedResolution(o,u,h):clamp(o,h,u)}var f=Math.min(u,o),p=Math.floor(linearFindNearest(n,f,a));return n[p]>u&&p<n.length-1?n[p+1]:n[p]}else return}}function createSnapToPower(n,i,t,r,o,a){return function(s,l,c,h){if(s!==void 0){var u=o?getViewportClampedResolution(i,o,c,a):i,d=t!==void 0?t:0;if(h){var f=r!==void 0?r:!0;return f?getSmoothClampedResolution(s,u,d):clamp(s,d,u)}var p=1e-9,m=Math.ceil(Math.log(i/u)/Math.log(n)-p),g=-l*(.5-p)+.5,v=Math.min(u,s),_=Math.floor(Math.log(i/v)/Math.log(n)+g),y=Math.max(m,_),b=i/Math.pow(n,y);return clamp(b,d,u)}else return}}function createMinMaxResolution(n,i,t,r,o){return function(a,s,l,c){if(a!==void 0){var h=r?getViewportClampedResolution(n,r,l,o):n,u=t!==void 0?t:!0;return!u||!c?clamp(a,i,h):getSmoothClampedResolution(a,h,i)}else return}}function disable(n){if(n!==void 0)return 0}function none(n){if(n!==void 0)return n}function createSnapToN(n){var i=2*Math.PI/n;return function(t,r){if(r)return t;if(t!==void 0)return t=Math.floor(t/i+.5)*i,t}}function createSnapToZero(n){var i=n||toRadians(5);return function(t,r){if(r)return t;if(t!==void 0)return Math.abs(t)<=i?0:t}}const GeometryLayout={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};function transform2D(n,i,t,r,o,a){for(var s=a||[],l=0,c=i;c<t;c+=r){var h=n[c],u=n[c+1];s[l++]=o[0]*h+o[2]*u+o[4],s[l++]=o[1]*h+o[3]*u+o[5]}return a&&s.length!=l&&(s.length=l),s}function rotate(n,i,t,r,o,a,s){for(var l=s||[],c=Math.cos(o),h=Math.sin(o),u=a[0],d=a[1],f=0,p=i;p<t;p+=r){var m=n[p]-u,g=n[p+1]-d;l[f++]=u+m*c-g*h,l[f++]=d+m*h+g*c;for(var v=p+2;v<p+r;++v)l[f++]=n[v]}return s&&l.length!=f&&(l.length=f),l}function scale$1(n,i,t,r,o,a,s,l){for(var c=l||[],h=s[0],u=s[1],d=0,f=i;f<t;f+=r){var p=n[f]-h,m=n[f+1]-u;c[d++]=h+o*p,c[d++]=u+a*m;for(var g=f+2;g<f+r;++g)c[d++]=n[g]}return l&&c.length!=d&&(c.length=d),c}function translate(n,i,t,r,o,a,s){for(var l=s||[],c=0,h=i;h<t;h+=r){l[c++]=n[h]+o,l[c++]=n[h+1]+a;for(var u=h+2;u<h+r;++u)l[c++]=n[u]}return s&&l.length!=c&&(l.length=c),l}var __extends$Y=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tmpTransform=create(),Geometry=function(n){__extends$Y(i,n);function i(){var t=n.call(this)||this;return t.extent_=createEmpty(),t.extentRevision_=-1,t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t.simplifyTransformedInternal=memoizeOne(function(r,o,a){if(!a)return this.getSimplifiedGeometry(o);var s=this.clone();return s.applyTransform(a),s.getSimplifiedGeometry(o)}),t}return i.prototype.simplifyTransformed=function(t,r){return this.simplifyTransformedInternal(this.getRevision(),t,r)},i.prototype.clone=function(){return abstract()},i.prototype.closestPointXY=function(t,r,o,a){return abstract()},i.prototype.containsXY=function(t,r){var o=this.getClosestPoint([t,r]);return o[0]===t&&o[1]===r},i.prototype.getClosestPoint=function(t,r){var o=r||[NaN,NaN];return this.closestPointXY(t[0],t[1],o,1/0),o},i.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},i.prototype.computeExtent=function(t){return abstract()},i.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var r=this.computeExtent(this.extent_);(isNaN(r[0])||isNaN(r[1]))&&createOrUpdateEmpty(r),this.extentRevision_=this.getRevision()}return returnOrUpdate(this.extent_,t)},i.prototype.rotate=function(t,r){abstract()},i.prototype.scale=function(t,r,o){abstract()},i.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},i.prototype.getSimplifiedGeometry=function(t){return abstract()},i.prototype.getType=function(){return abstract()},i.prototype.applyTransform=function(t){abstract()},i.prototype.intersectsExtent=function(t){return abstract()},i.prototype.translate=function(t,r){abstract()},i.prototype.transform=function(t,r){var o=get$2(t),a=o.getUnits()==Units.TILE_PIXELS?function(s,l,c){var h=o.getExtent(),u=o.getWorldExtent(),d=getHeight(u)/getHeight(h);return compose(tmpTransform,u[0],u[3],d,-d,0,0,0),transform2D(s,0,s.length,c,tmpTransform,l),getTransform(o,r)(s,l,c)}:getTransform(o,r);return this.applyTransform(a),this},i}(BaseObject$1);const Geometry$1=Geometry;var __extends$X=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),SimpleGeometry=function(n){__extends$X(i,n);function i(){var t=n.call(this)||this;return t.layout=GeometryLayout.XY,t.stride=2,t.flatCoordinates=null,t}return i.prototype.computeExtent=function(t){return createOrUpdateFromFlatCoordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},i.prototype.getCoordinates=function(){return abstract()},i.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},i.prototype.getFlatCoordinates=function(){return this.flatCoordinates},i.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},i.prototype.getLayout=function(){return this.layout},i.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var r=this.getSimplifiedGeometryInternal(t),o=r.getFlatCoordinates();return o.length<this.flatCoordinates.length?r:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},i.prototype.getSimplifiedGeometryInternal=function(t){return this},i.prototype.getStride=function(){return this.stride},i.prototype.setFlatCoordinates=function(t,r){this.stride=getStrideForLayout(t),this.layout=t,this.flatCoordinates=r},i.prototype.setCoordinates=function(t,r){abstract()},i.prototype.setLayout=function(t,r,o){var a;if(t)a=getStrideForLayout(t);else{for(var s=0;s<o;++s)if(r.length===0){this.layout=GeometryLayout.XY,this.stride=2;return}else r=r[0];a=r.length,t=getLayoutForStride(a)}this.layout=t,this.stride=a},i.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},i.prototype.rotate=function(t,r){var o=this.getFlatCoordinates();if(o){var a=this.getStride();rotate(o,0,o.length,a,t,r,o),this.changed()}},i.prototype.scale=function(t,r,o){var a=r;a===void 0&&(a=t);var s=o;s||(s=getCenter(this.getExtent()));var l=this.getFlatCoordinates();if(l){var c=this.getStride();scale$1(l,0,l.length,c,t,a,s,l),this.changed()}},i.prototype.translate=function(t,r){var o=this.getFlatCoordinates();if(o){var a=this.getStride();translate(o,0,o.length,a,t,r,o),this.changed()}},i}(Geometry$1);function getLayoutForStride(n){var i;return n==2?i=GeometryLayout.XY:n==3?i=GeometryLayout.XYZ:n==4&&(i=GeometryLayout.XYZM),i}function getStrideForLayout(n){var i;return n==GeometryLayout.XY?i=2:n==GeometryLayout.XYZ||n==GeometryLayout.XYM?i=3:n==GeometryLayout.XYZM&&(i=4),i}function transformGeom2D(n,i,t){var r=n.getFlatCoordinates();if(r){var o=n.getStride();return transform2D(r,0,r.length,o,i,t)}else return null}const SimpleGeometry$1=SimpleGeometry;function assignClosest(n,i,t,r,o,a,s){var l=n[i],c=n[i+1],h=n[t]-l,u=n[t+1]-c,d;if(h===0&&u===0)d=i;else{var f=((o-l)*h+(a-c)*u)/(h*h+u*u);if(f>1)d=t;else if(f>0){for(var p=0;p<r;++p)s[p]=lerp(n[i+p],n[t+p],f);s.length=r;return}else d=i}for(var p=0;p<r;++p)s[p]=n[d+p];s.length=r}function maxSquaredDelta(n,i,t,r,o){var a=n[i],s=n[i+1];for(i+=r;i<t;i+=r){var l=n[i],c=n[i+1],h=squaredDistance(a,s,l,c);h>o&&(o=h),a=l,s=c}return o}function arrayMaxSquaredDelta(n,i,t,r,o){for(var a=0,s=t.length;a<s;++a){var l=t[a];o=maxSquaredDelta(n,i,l,r,o),i=l}return o}function assignClosestPoint(n,i,t,r,o,a,s,l,c,h,u){if(i==t)return h;var d,f;if(o===0)if(f=squaredDistance(s,l,n[i],n[i+1]),f<h){for(d=0;d<r;++d)c[d]=n[i+d];return c.length=r,f}else return h;for(var p=u||[NaN,NaN],m=i+r;m<t;)if(assignClosest(n,m-r,m,r,s,l,p),f=squaredDistance(s,l,p[0],p[1]),f<h){for(h=f,d=0;d<r;++d)c[d]=p[d];c.length=r,m+=r}else m+=r*Math.max((Math.sqrt(f)-Math.sqrt(h))/o|0,1);if(a&&(assignClosest(n,t-r,i,r,s,l,p),f=squaredDistance(s,l,p[0],p[1]),f<h)){for(h=f,d=0;d<r;++d)c[d]=p[d];c.length=r}return h}function assignClosestArrayPoint(n,i,t,r,o,a,s,l,c,h,u){for(var d=u||[NaN,NaN],f=0,p=t.length;f<p;++f){var m=t[f];h=assignClosestPoint(n,i,m,r,o,a,s,l,c,h,d),i=m}return h}function deflateCoordinate(n,i,t,r){for(var o=0,a=t.length;o<a;++o)n[i++]=t[o];return i}function deflateCoordinates(n,i,t,r){for(var o=0,a=t.length;o<a;++o)for(var s=t[o],l=0;l<r;++l)n[i++]=s[l];return i}function deflateCoordinatesArray(n,i,t,r,o){for(var a=o||[],s=0,l=0,c=t.length;l<c;++l){var h=deflateCoordinates(n,i,t[l],r);a[s++]=h,i=h}return a.length=s,a}function douglasPeucker(n,i,t,r,o,a,s){var l=(t-i)/r;if(l<3){for(;i<t;i+=r)a[s++]=n[i],a[s++]=n[i+1];return s}var c=new Array(l);c[0]=1,c[l-1]=1;for(var h=[i,t-r],u=0;h.length>0;){for(var d=h.pop(),f=h.pop(),p=0,m=n[f],g=n[f+1],v=n[d],_=n[d+1],y=f+r;y<d;y+=r){var b=n[y],x=n[y+1],E=squaredSegmentDistance(b,x,m,g,v,_);E>p&&(u=y,p=E)}p>o&&(c[(u-i)/r]=1,f+r<u&&h.push(f,u),u+r<d&&h.push(u,d))}for(var y=0;y<l;++y)c[y]&&(a[s++]=n[i+y*r],a[s++]=n[i+y*r+1]);return s}function snap(n,i){return i*Math.round(n/i)}function quantize(n,i,t,r,o,a,s){if(i==t)return s;var l=snap(n[i],o),c=snap(n[i+1],o);i+=r,a[s++]=l,a[s++]=c;var h,u;do if(h=snap(n[i],o),u=snap(n[i+1],o),i+=r,i==t)return a[s++]=h,a[s++]=u,s;while(h==l&&u==c);for(;i<t;){var d=snap(n[i],o),f=snap(n[i+1],o);if(i+=r,!(d==h&&f==u)){var p=h-l,m=u-c,g=d-l,v=f-c;if(p*v==m*g&&(p<0&&g<p||p==g||p>0&&g>p)&&(m<0&&v<m||m==v||m>0&&v>m)){h=d,u=f;continue}a[s++]=h,a[s++]=u,l=h,c=u,h=d,u=f}}return a[s++]=h,a[s++]=u,s}function quantizeArray(n,i,t,r,o,a,s,l){for(var c=0,h=t.length;c<h;++c){var u=t[c];s=quantize(n,i,u,r,o,a,s),l.push(s),i=u}return s}function inflateCoordinates(n,i,t,r,o){for(var a=o!==void 0?o:[],s=0,l=i;l<t;l+=r)a[s++]=n.slice(l,l+r);return a.length=s,a}function inflateCoordinatesArray(n,i,t,r,o){for(var a=o!==void 0?o:[],s=0,l=0,c=t.length;l<c;++l){var h=t[l];a[s++]=inflateCoordinates(n,i,h,r,a[s]),i=h}return a.length=s,a}function inflateMultiCoordinatesArray(n,i,t,r,o){for(var a=o!==void 0?o:[],s=0,l=0,c=t.length;l<c;++l){var h=t[l];a[s++]=inflateCoordinatesArray(n,i,h,r,a[s]),i=h[h.length-1]}return a.length=s,a}function linearRing(n,i,t,r){for(var o=0,a=n[t-r],s=n[t-r+1];i<t;i+=r){var l=n[i],c=n[i+1];o+=s*l-a*c,a=l,s=c}return o/2}function linearRings(n,i,t,r){for(var o=0,a=0,s=t.length;a<s;++a){var l=t[a];o+=linearRing(n,i,l,r),i=l}return o}var __extends$W=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),LinearRing=function(n){__extends$W(i,n);function i(t,r){var o=n.call(this)||this;return o.maxDelta_=-1,o.maxDeltaRevision_=-1,r!==void 0&&!Array.isArray(t[0])?o.setFlatCoordinates(r,t):o.setCoordinates(t,r),o}return i.prototype.clone=function(){return new i(this.flatCoordinates.slice(),this.layout)},i.prototype.closestPointXY=function(t,r,o,a){return a<closestSquaredDistanceXY(this.getExtent(),t,r)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(maxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),assignClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,r,o,a))},i.prototype.getArea=function(){return linearRing(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},i.prototype.getCoordinates=function(){return inflateCoordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},i.prototype.getSimplifiedGeometryInternal=function(t){var r=[];return r.length=douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,0),new i(r,GeometryLayout.XY)},i.prototype.getType=function(){return GeometryType.LINEAR_RING},i.prototype.intersectsExtent=function(t){return!1},i.prototype.setCoordinates=function(t,r){this.setLayout(r,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=deflateCoordinates(this.flatCoordinates,0,t,this.stride),this.changed()},i}(SimpleGeometry$1);const LinearRing$1=LinearRing;var __extends$V=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Point$1=function(n){__extends$V(i,n);function i(t,r){var o=n.call(this)||this;return o.setCoordinates(t,r),o}return i.prototype.clone=function(){var t=new i(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},i.prototype.closestPointXY=function(t,r,o,a){var s=this.flatCoordinates,l=squaredDistance(t,r,s[0],s[1]);if(l<a){for(var c=this.stride,h=0;h<c;++h)o[h]=s[h];return o.length=c,l}else return a},i.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},i.prototype.computeExtent=function(t){return createOrUpdateFromCoordinate(this.flatCoordinates,t)},i.prototype.getType=function(){return GeometryType.POINT},i.prototype.intersectsExtent=function(t){return containsXY(t,this.flatCoordinates[0],this.flatCoordinates[1])},i.prototype.setCoordinates=function(t,r){this.setLayout(r,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=deflateCoordinate(this.flatCoordinates,0,t,this.stride),this.changed()},i}(SimpleGeometry$1);const Point$2=Point$1;function linearRingContainsExtent(n,i,t,r,o){var a=forEachCorner(o,function(s){return!linearRingContainsXY(n,i,t,r,s[0],s[1])});return!a}function linearRingContainsXY(n,i,t,r,o,a){for(var s=0,l=n[t-r],c=n[t-r+1];i<t;i+=r){var h=n[i],u=n[i+1];c<=a?u>a&&(h-l)*(a-c)-(o-l)*(u-c)>0&&s++:u<=a&&(h-l)*(a-c)-(o-l)*(u-c)<0&&s--,l=h,c=u}return s!==0}function linearRingsContainsXY(n,i,t,r,o,a){if(t.length===0||!linearRingContainsXY(n,i,t[0],r,o,a))return!1;for(var s=1,l=t.length;s<l;++s)if(linearRingContainsXY(n,t[s-1],t[s],r,o,a))return!1;return!0}function getInteriorPointOfArray(n,i,t,r,o,a,s){for(var l,c,h,u,d,f,p,m=o[a+1],g=[],v=0,_=t.length;v<_;++v){var y=t[v];for(u=n[y-r],f=n[y-r+1],l=i;l<y;l+=r)d=n[l],p=n[l+1],(m<=f&&p<=m||f<=m&&m<=p)&&(h=(m-f)/(p-f)*(d-u)+u,g.push(h)),u=d,f=p}var b=NaN,x=-1/0;for(g.sort(numberSafeCompareFunction),u=g[0],l=1,c=g.length;l<c;++l){d=g[l];var E=Math.abs(d-u);E>x&&(h=(u+d)/2,linearRingsContainsXY(n,i,t,r,h,m)&&(b=h,x=E)),u=d}return isNaN(b)&&(b=o[a]),s?(s.push(b,m,x),s):[b,m,x]}function forEach(n,i,t,r,o){var a;for(i+=r;i<t;i+=r)if(a=o(n.slice(i-r,i),n.slice(i,i+r)),a)return a;return!1}function intersectsLineString(n,i,t,r,o){var a=extendFlatCoordinates(createEmpty(),n,i,t,r);return intersects$1(o,a)?containsExtent(o,a)||a[0]>=o[0]&&a[2]<=o[2]||a[1]>=o[1]&&a[3]<=o[3]?!0:forEach(n,i,t,r,function(s,l){return intersectsSegment(o,s,l)}):!1}function intersectsLinearRing(n,i,t,r,o){return!!(intersectsLineString(n,i,t,r,o)||linearRingContainsXY(n,i,t,r,o[0],o[1])||linearRingContainsXY(n,i,t,r,o[0],o[3])||linearRingContainsXY(n,i,t,r,o[2],o[1])||linearRingContainsXY(n,i,t,r,o[2],o[3]))}function intersectsLinearRingArray(n,i,t,r,o){if(!intersectsLinearRing(n,i,t[0],r,o))return!1;if(t.length===1)return!0;for(var a=1,s=t.length;a<s;++a)if(linearRingContainsExtent(n,t[a-1],t[a],r,o)&&!intersectsLineString(n,t[a-1],t[a],r,o))return!1;return!0}function coordinates(n,i,t,r){for(;i<t-r;){for(var o=0;o<r;++o){var a=n[i+o];n[i+o]=n[t-r+o],n[t-r+o]=a}i+=r,t-=r}}function linearRingIsClockwise(n,i,t,r){for(var o=0,a=n[t-r],s=n[t-r+1];i<t;i+=r){var l=n[i],c=n[i+1];o+=(l-a)*(c+s),a=l,s=c}return o===0?void 0:o>0}function linearRingsAreOriented(n,i,t,r,o){for(var a=o!==void 0?o:!1,s=0,l=t.length;s<l;++s){var c=t[s],h=linearRingIsClockwise(n,i,c,r);if(s===0){if(a&&h||!a&&!h)return!1}else if(a&&!h||!a&&h)return!1;i=c}return!0}function orientLinearRings(n,i,t,r,o){for(var a=o!==void 0?o:!1,s=0,l=t.length;s<l;++s){var c=t[s],h=linearRingIsClockwise(n,i,c,r),u=s===0?a&&h||!a&&!h:a&&!h||!a&&h;u&&coordinates(n,i,c,r),i=c}return i}var __extends$U=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Polygon=function(n){__extends$U(i,n);function i(t,r,o){var a=n.call(this)||this;return a.ends_=[],a.flatInteriorPointRevision_=-1,a.flatInteriorPoint_=null,a.maxDelta_=-1,a.maxDeltaRevision_=-1,a.orientedRevision_=-1,a.orientedFlatCoordinates_=null,r!==void 0&&o?(a.setFlatCoordinates(r,t),a.ends_=o):a.setCoordinates(t,r),a}return i.prototype.appendLinearRing=function(t){this.flatCoordinates?extend$3(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},i.prototype.clone=function(){var t=new i(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},i.prototype.closestPointXY=function(t,r,o,a){return a<closestSquaredDistanceXY(this.getExtent(),t,r)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(arrayMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),assignClosestArrayPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,r,o,a))},i.prototype.containsXY=function(t,r){return linearRingsContainsXY(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,r)},i.prototype.getArea=function(){return linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},i.prototype.getCoordinates=function(t){var r;return t!==void 0?(r=this.getOrientedFlatCoordinates().slice(),orientLinearRings(r,0,this.ends_,this.stride,t)):r=this.flatCoordinates,inflateCoordinatesArray(r,0,this.ends_,this.stride)},i.prototype.getEnds=function(){return this.ends_},i.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=getCenter(this.getExtent());this.flatInteriorPoint_=getInteriorPointOfArray(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},i.prototype.getInteriorPoint=function(){return new Point$2(this.getFlatInteriorPoint(),GeometryLayout.XYM)},i.prototype.getLinearRingCount=function(){return this.ends_.length},i.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new LinearRing$1(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},i.prototype.getLinearRings=function(){for(var t=this.layout,r=this.flatCoordinates,o=this.ends_,a=[],s=0,l=0,c=o.length;l<c;++l){var h=o[l],u=new LinearRing$1(r.slice(s,h),t);a.push(u),s=h}return a},i.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;linearRingsAreOriented(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=orientLinearRings(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},i.prototype.getSimplifiedGeometryInternal=function(t){var r=[],o=[];return r.length=quantizeArray(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),r,0,o),new i(r,GeometryLayout.XY,o)},i.prototype.getType=function(){return GeometryType.POLYGON},i.prototype.intersectsExtent=function(t){return intersectsLinearRingArray(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},i.prototype.setCoordinates=function(t,r){this.setLayout(r,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var o=deflateCoordinatesArray(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=o.length===0?0:o[o.length-1],this.changed()},i}(SimpleGeometry$1);function fromExtent(n){var i=n[0],t=n[1],r=n[2],o=n[3],a=[i,t,i,o,r,o,r,t,i,t];return new Polygon(a,GeometryLayout.XY,[a.length])}var __extends$T=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),DEFAULT_MIN_ZOOM=0,View=function(n){__extends$T(i,n);function i(t){var r=n.call(this)||this;r.on,r.once,r.un;var o=assign({},t);return r.hints_=[0,0],r.animations_=[],r.updateAnimationKey_,r.projection_=createProjection(o.projection,"EPSG:3857"),r.viewportSize_=[100,100],r.targetCenter_=null,r.targetResolution_,r.targetRotation_,r.nextCenter_=null,r.nextResolution_,r.nextRotation_,r.cancelAnchor_=void 0,o.center&&(o.center=fromUserCoordinate(o.center,r.projection_)),o.extent&&(o.extent=fromUserExtent(o.extent,r.projection_)),o.projection&&disableCoordinateWarning(),r.applyOptions_(o),r}return i.prototype.applyOptions_=function(t){var r=assign({},t);for(var o in ViewProperty)delete r[o];this.setProperties(r,!0);var a=createResolutionConstraint(t);this.maxResolution_=a.maxResolution,this.minResolution_=a.minResolution,this.zoomFactor_=a.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=a.minZoom;var s=createCenterConstraint(t),l=a.constraint,c=createRotationConstraint(t);this.constraints_={center:s,resolution:l,rotation:c},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)},Object.defineProperty(i.prototype,"padding",{get:function(){return this.padding_},set:function(t){var r=this.padding_;this.padding_=t;var o=this.getCenter();if(o){var a=t||[0,0,0,0];r=r||[0,0,0,0];var s=this.getResolution(),l=s/2*(a[3]-r[3]+r[1]-a[1]),c=s/2*(a[0]-r[0]+r[2]-a[2]);this.setCenterInternal([o[0]+l,o[1]-c])}},enumerable:!1,configurable:!0}),i.prototype.getUpdatedOptions_=function(t){var r=this.getProperties();return r.resolution!==void 0?r.resolution=this.getResolution():r.zoom=this.getZoom(),r.center=this.getCenterInternal(),r.rotation=this.getRotation(),assign({},r,t)},i.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var r=new Array(arguments.length),o=0;o<r.length;++o){var a=arguments[o];a.center&&(a=assign({},a),a.center=fromUserCoordinate(a.center,this.getProjection())),a.anchor&&(a=assign({},a),a.anchor=fromUserCoordinate(a.anchor,this.getProjection())),r[o]=a}this.animateInternal.apply(this,r)},i.prototype.animateInternal=function(t){var r=arguments.length,o;r>1&&typeof arguments[r-1]=="function"&&(o=arguments[r-1],--r);for(var a=0;a<r&&!this.isDef();++a){var s=arguments[a];s.center&&this.setCenterInternal(s.center),s.zoom!==void 0?this.setZoom(s.zoom):s.resolution&&this.setResolution(s.resolution),s.rotation!==void 0&&this.setRotation(s.rotation)}if(a===r){o&&animationCallback(o,!0);return}for(var l=Date.now(),c=this.targetCenter_.slice(),h=this.targetResolution_,u=this.targetRotation_,d=[];a<r;++a){var f=arguments[a],p={start:l,complete:!1,anchor:f.anchor,duration:f.duration!==void 0?f.duration:1e3,easing:f.easing||inAndOut,callback:o};if(f.center&&(p.sourceCenter=c,p.targetCenter=f.center.slice(),c=p.targetCenter),f.zoom!==void 0?(p.sourceResolution=h,p.targetResolution=this.getResolutionForZoom(f.zoom),h=p.targetResolution):f.resolution&&(p.sourceResolution=h,p.targetResolution=f.resolution,h=p.targetResolution),f.rotation!==void 0){p.sourceRotation=u;var m=modulo(f.rotation-u+Math.PI,2*Math.PI)-Math.PI;p.targetRotation=u+m,u=p.targetRotation}isNoopAnimation(p)?p.complete=!0:l+=p.duration,d.push(p)}this.animations_.push(d),this.setHint(ViewHint.ANIMATING,1),this.updateAnimations_()},i.prototype.getAnimating=function(){return this.hints_[ViewHint.ANIMATING]>0},i.prototype.getInteracting=function(){return this.hints_[ViewHint.INTERACTING]>0},i.prototype.cancelAnimations=function(){this.setHint(ViewHint.ANIMATING,-this.hints_[ViewHint.ANIMATING]);for(var t,r=0,o=this.animations_.length;r<o;++r){var a=this.animations_[r];if(a[0].callback&&animationCallback(a[0].callback,!1),!t)for(var s=0,l=a.length;s<l;++s){var c=a[s];if(!c.complete){t=c.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},i.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!!this.getAnimating()){for(var t=Date.now(),r=!1,o=this.animations_.length-1;o>=0;--o){for(var a=this.animations_[o],s=!0,l=0,c=a.length;l<c;++l){var h=a[l];if(!h.complete){var u=t-h.start,d=h.duration>0?u/h.duration:1;d>=1?(h.complete=!0,d=1):s=!1;var f=h.easing(d);if(h.sourceCenter){var p=h.sourceCenter[0],m=h.sourceCenter[1],g=h.targetCenter[0],v=h.targetCenter[1];this.nextCenter_=h.targetCenter;var _=p+f*(g-p),y=m+f*(v-m);this.targetCenter_=[_,y]}if(h.sourceResolution&&h.targetResolution){var b=f===1?h.targetResolution:h.sourceResolution+f*(h.targetResolution-h.sourceResolution);if(h.anchor){var x=this.getViewportSize_(this.getRotation()),E=this.constraints_.resolution(b,0,x,!0);this.targetCenter_=this.calculateCenterZoom(E,h.anchor)}this.nextResolution_=h.targetResolution,this.targetResolution_=b,this.applyTargetState_(!0)}if(h.sourceRotation!==void 0&&h.targetRotation!==void 0){var C=f===1?modulo(h.targetRotation+Math.PI,2*Math.PI)-Math.PI:h.sourceRotation+f*(h.targetRotation-h.sourceRotation);if(h.anchor){var $=this.constraints_.rotation(C,!0);this.targetCenter_=this.calculateCenterRotate($,h.anchor)}this.nextRotation_=h.targetRotation,this.targetRotation_=C}if(this.applyTargetState_(!0),r=!0,!h.complete)break}}if(s){this.animations_[o]=null,this.setHint(ViewHint.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var S=a[0].callback;S&&animationCallback(S,!0)}}this.animations_=this.animations_.filter(Boolean),r&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},i.prototype.calculateCenterRotate=function(t,r){var o,a=this.getCenterInternal();return a!==void 0&&(o=[a[0]-r[0],a[1]-r[1]],rotate$1(o,t-this.getRotation()),add$1(o,r)),o},i.prototype.calculateCenterZoom=function(t,r){var o,a=this.getCenterInternal(),s=this.getResolution();if(a!==void 0&&s!==void 0){var l=r[0]-t*(r[0]-a[0])/s,c=r[1]-t*(r[1]-a[1])/s;o=[l,c]}return o},i.prototype.getViewportSize_=function(t){var r=this.viewportSize_;if(t){var o=r[0],a=r[1];return[Math.abs(o*Math.cos(t))+Math.abs(a*Math.sin(t)),Math.abs(o*Math.sin(t))+Math.abs(a*Math.cos(t))]}else return r},i.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},i.prototype.getCenter=function(){var t=this.getCenterInternal();return t&&toUserCoordinate(t,this.getProjection())},i.prototype.getCenterInternal=function(){return this.get(ViewProperty.CENTER)},i.prototype.getConstraints=function(){return this.constraints_},i.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},i.prototype.getHints=function(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},i.prototype.calculateExtent=function(t){var r=this.calculateExtentInternal(t);return toUserExtent(r,this.getProjection())},i.prototype.calculateExtentInternal=function(t){var r=t||this.getViewportSizeMinusPadding_(),o=this.getCenterInternal();assert(o,1);var a=this.getResolution();assert(a!==void 0,2);var s=this.getRotation();return assert(s!==void 0,3),getForViewAndSize(o,a,s,r)},i.prototype.getMaxResolution=function(){return this.maxResolution_},i.prototype.getMinResolution=function(){return this.minResolution_},i.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},i.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},i.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},i.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},i.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},i.prototype.getProjection=function(){return this.projection_},i.prototype.getResolution=function(){return this.get(ViewProperty.RESOLUTION)},i.prototype.getResolutions=function(){return this.resolutions_},i.prototype.getResolutionForExtent=function(t,r){return this.getResolutionForExtentInternal(fromUserExtent(t,this.getProjection()),r)},i.prototype.getResolutionForExtentInternal=function(t,r){var o=r||this.getViewportSizeMinusPadding_(),a=getWidth(t)/o[0],s=getHeight(t)/o[1];return Math.max(a,s)},i.prototype.getResolutionForValueFunction=function(t){var r=t||2,o=this.getConstrainedResolution(this.maxResolution_),a=this.minResolution_,s=Math.log(o/a)/Math.log(r);return function(l){var c=o/Math.pow(r,l*s);return c}},i.prototype.getRotation=function(){return this.get(ViewProperty.ROTATION)},i.prototype.getValueForResolutionFunction=function(t){var r=Math.log(t||2),o=this.getConstrainedResolution(this.maxResolution_),a=this.minResolution_,s=Math.log(o/a)/r;return function(l){var c=Math.log(o/l)/r/s;return c}},i.prototype.getViewportSizeMinusPadding_=function(t){var r=this.getViewportSize_(t),o=this.padding_;return o&&(r=[r[0]-o[1]-o[3],r[1]-o[0]-o[2]]),r},i.prototype.getState=function(){var t=this.getProjection(),r=this.getResolution(),o=this.getRotation(),a=this.getCenterInternal(),s=this.padding_;if(s){var l=this.getViewportSizeMinusPadding_();a=calculateCenterOn(a,this.getViewportSize_(),[l[0]/2+s[3],l[1]/2+s[0]],r,o)}return{center:a.slice(0),projection:t!==void 0?t:null,resolution:r,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:o,zoom:this.getZoom()}},i.prototype.getZoom=function(){var t,r=this.getResolution();return r!==void 0&&(t=this.getZoomForResolution(r)),t},i.prototype.getZoomForResolution=function(t){var r=this.minZoom_||0,o,a;if(this.resolutions_){var s=linearFindNearest(this.resolutions_,t,1);r=s,o=this.resolutions_[s],s==this.resolutions_.length-1?a=2:a=o/this.resolutions_[s+1]}else o=this.maxResolution_,a=this.zoomFactor_;return r+Math.log(o/t)/Math.log(a)},i.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var r=clamp(Math.floor(t),0,this.resolutions_.length-2),o=this.resolutions_[r]/this.resolutions_[r+1];return this.resolutions_[r]/Math.pow(o,clamp(t-r,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},i.prototype.fit=function(t,r){var o;if(assert(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function",24),Array.isArray(t)){assert(!isEmpty(t),25);var a=fromUserExtent(t,this.getProjection());o=fromExtent(a)}else if(t.getType()===GeometryType.CIRCLE){var a=fromUserExtent(t.getExtent(),this.getProjection());o=fromExtent(a),o.rotate(this.getRotation(),getCenter(a))}else{var s=getUserProjection();s?o=t.clone().transform(s,this.getProjection()):o=t}this.fitInternal(o,r)},i.prototype.rotatedExtentForGeometry=function(t){for(var r=this.getRotation(),o=Math.cos(r),a=Math.sin(-r),s=t.getFlatCoordinates(),l=t.getStride(),c=1/0,h=1/0,u=-1/0,d=-1/0,f=0,p=s.length;f<p;f+=l){var m=s[f]*o-s[f+1]*a,g=s[f]*a+s[f+1]*o;c=Math.min(c,m),h=Math.min(h,g),u=Math.max(u,m),d=Math.max(d,g)}return[c,h,u,d]},i.prototype.fitInternal=function(t,r){var o=r||{},a=o.size;a||(a=this.getViewportSizeMinusPadding_());var s=o.padding!==void 0?o.padding:[0,0,0,0],l=o.nearest!==void 0?o.nearest:!1,c;o.minResolution!==void 0?c=o.minResolution:o.maxZoom!==void 0?c=this.getResolutionForZoom(o.maxZoom):c=0;var h=this.rotatedExtentForGeometry(t),u=this.getResolutionForExtentInternal(h,[a[0]-s[1]-s[3],a[1]-s[0]-s[2]]);u=isNaN(u)?c:Math.max(u,c),u=this.getConstrainedResolution(u,l?0:1);var d=this.getRotation(),f=Math.sin(d),p=Math.cos(d),m=getCenter(h);m[0]+=(s[1]-s[3])/2*u,m[1]+=(s[0]-s[2])/2*u;var g=m[0]*p-m[1]*f,v=m[1]*p+m[0]*f,_=this.getConstrainedCenter([g,v],u),y=o.callback?o.callback:VOID;o.duration!==void 0?this.animateInternal({resolution:u,center:_,duration:o.duration,easing:o.easing},y):(this.targetResolution_=u,this.targetCenter_=_,this.applyTargetState_(!1,!0),animationCallback(y,!0))},i.prototype.centerOn=function(t,r,o){this.centerOnInternal(fromUserCoordinate(t,this.getProjection()),r,o)},i.prototype.centerOnInternal=function(t,r,o){this.setCenterInternal(calculateCenterOn(t,r,o,this.getResolution(),this.getRotation()))},i.prototype.calculateCenterShift=function(t,r,o,a){var s,l=this.padding_;if(l&&t){var c=this.getViewportSizeMinusPadding_(-o),h=calculateCenterOn(t,a,[c[0]/2+l[3],c[1]/2+l[0]],r,o);s=[t[0]-h[0],t[1]-h[1]]}return s},i.prototype.isDef=function(){return!!this.getCenterInternal()&&this.getResolution()!==void 0},i.prototype.adjustCenter=function(t){var r=toUserCoordinate(this.targetCenter_,this.getProjection());this.setCenter([r[0]+t[0],r[1]+t[1]])},i.prototype.adjustCenterInternal=function(t){var r=this.targetCenter_;this.setCenterInternal([r[0]+t[0],r[1]+t[1]])},i.prototype.adjustResolution=function(t,r){var o=r&&fromUserCoordinate(r,this.getProjection());this.adjustResolutionInternal(t,o)},i.prototype.adjustResolutionInternal=function(t,r){var o=this.getAnimating()||this.getInteracting(),a=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*t,0,a,o);r&&(this.targetCenter_=this.calculateCenterZoom(s,r)),this.targetResolution_*=t,this.applyTargetState_()},i.prototype.adjustZoom=function(t,r){this.adjustResolution(Math.pow(this.zoomFactor_,-t),r)},i.prototype.adjustRotation=function(t,r){r&&(r=fromUserCoordinate(r,this.getProjection())),this.adjustRotationInternal(t,r)},i.prototype.adjustRotationInternal=function(t,r){var o=this.getAnimating()||this.getInteracting(),a=this.constraints_.rotation(this.targetRotation_+t,o);r&&(this.targetCenter_=this.calculateCenterRotate(a,r)),this.targetRotation_+=t,this.applyTargetState_()},i.prototype.setCenter=function(t){this.setCenterInternal(t&&fromUserCoordinate(t,this.getProjection()))},i.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},i.prototype.setHint=function(t,r){return this.hints_[t]+=r,this.changed(),this.hints_[t]},i.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},i.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},i.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},i.prototype.applyTargetState_=function(t,r){var o=this.getAnimating()||this.getInteracting()||r,a=this.constraints_.rotation(this.targetRotation_,o),s=this.getViewportSize_(a),l=this.constraints_.resolution(this.targetResolution_,0,s,o),c=this.constraints_.center(this.targetCenter_,l,s,o,this.calculateCenterShift(this.targetCenter_,l,a,s));this.get(ViewProperty.ROTATION)!==a&&this.set(ViewProperty.ROTATION,a),this.get(ViewProperty.RESOLUTION)!==l&&(this.set(ViewProperty.RESOLUTION,l),this.set("zoom",this.getZoom(),!0)),(!c||!this.get(ViewProperty.CENTER)||!equals(this.get(ViewProperty.CENTER),c))&&this.set(ViewProperty.CENTER,c),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},i.prototype.resolveConstraints=function(t,r,o){var a=t!==void 0?t:200,s=r||0,l=this.constraints_.rotation(this.targetRotation_),c=this.getViewportSize_(l),h=this.constraints_.resolution(this.targetResolution_,s,c),u=this.constraints_.center(this.targetCenter_,h,c,!1,this.calculateCenterShift(this.targetCenter_,h,l,c));if(a===0&&!this.cancelAnchor_){this.targetResolution_=h,this.targetRotation_=l,this.targetCenter_=u,this.applyTargetState_();return}var d=o||(a===0?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==h||this.getRotation()!==l||!this.getCenterInternal()||!equals(this.getCenterInternal(),u))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:l,center:u,resolution:h,duration:a,easing:easeOut,anchor:d}))},i.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(ViewHint.INTERACTING,1)},i.prototype.endInteraction=function(t,r,o){var a=o&&fromUserCoordinate(o,this.getProjection());this.endInteractionInternal(t,r,a)},i.prototype.endInteractionInternal=function(t,r,o){this.setHint(ViewHint.INTERACTING,-1),this.resolveConstraints(t,r,o)},i.prototype.getConstrainedCenter=function(t,r){var o=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,r||this.getResolution(),o)},i.prototype.getConstrainedZoom=function(t,r){var o=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(o,r))},i.prototype.getConstrainedResolution=function(t,r){var o=r||0,a=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,o,a)},i}(BaseObject$1);function animationCallback(n,i){setTimeout(function(){n(i)},0)}function createCenterConstraint(n){if(n.extent!==void 0){var i=n.smoothExtentConstraint!==void 0?n.smoothExtentConstraint:!0;return createExtent(n.extent,n.constrainOnlyCenter,i)}var t=createProjection(n.projection,"EPSG:3857");if(n.multiWorld!==!0&&t.isGlobal()){var r=t.getExtent().slice();return r[0]=-1/0,r[2]=1/0,createExtent(r,!1,!1)}return none$1}function createResolutionConstraint(n){var i,t,r,o=28,a=2,s=n.minZoom!==void 0?n.minZoom:DEFAULT_MIN_ZOOM,l=n.maxZoom!==void 0?n.maxZoom:o,c=n.zoomFactor!==void 0?n.zoomFactor:a,h=n.multiWorld!==void 0?n.multiWorld:!1,u=n.smoothResolutionConstraint!==void 0?n.smoothResolutionConstraint:!0,d=n.showFullExtent!==void 0?n.showFullExtent:!1,f=createProjection(n.projection,"EPSG:3857"),p=f.getExtent(),m=n.constrainOnlyCenter,g=n.extent;if(!h&&!g&&f.isGlobal()&&(m=!1,g=p),n.resolutions!==void 0){var v=n.resolutions;t=v[s],r=v[l]!==void 0?v[l]:v[v.length-1],n.constrainResolution?i=createSnapToResolutions(v,u,!m&&g,d):i=createMinMaxResolution(t,r,u,!m&&g,d)}else{var _=p?Math.max(getWidth(p),getHeight(p)):360*METERS_PER_UNIT$1[Units.DEGREES]/f.getMetersPerUnit(),y=_/DEFAULT_TILE_SIZE/Math.pow(a,DEFAULT_MIN_ZOOM),b=y/Math.pow(a,o-DEFAULT_MIN_ZOOM);t=n.maxResolution,t!==void 0?s=0:t=y/Math.pow(c,s),r=n.minResolution,r===void 0&&(n.maxZoom!==void 0?n.maxResolution!==void 0?r=t/Math.pow(c,l):r=y/Math.pow(c,l):r=b),l=s+Math.floor(Math.log(t/r)/Math.log(c)),r=t/Math.pow(c,l-s),n.constrainResolution?i=createSnapToPower(c,t,r,u,!m&&g,d):i=createMinMaxResolution(t,r,u,!m&&g,d)}return{constraint:i,maxResolution:t,minResolution:r,minZoom:s,zoomFactor:c}}function createRotationConstraint(n){var i=n.enableRotation!==void 0?n.enableRotation:!0;if(i){var t=n.constrainRotation;return t===void 0||t===!0?createSnapToZero():t===!1?none:typeof t=="number"?createSnapToN(t):none}else return disable}function isNoopAnimation(n){return!(n.sourceCenter&&n.targetCenter&&!equals(n.sourceCenter,n.targetCenter)||n.sourceResolution!==n.targetResolution||n.sourceRotation!==n.targetRotation)}function calculateCenterOn(n,i,t,r,o){var a=Math.cos(-o),s=Math.sin(-o),l=n[0]*a-n[1]*s,c=n[1]*a+n[0]*s;l+=(i[0]/2-t[0])*r,c+=(t[1]-i[1]/2)*r,s=-s;var h=l*a-c*s,u=c*a+l*s;return[h,u]}const View$1=View;function buffer(n,i,t){return t===void 0&&(t=[0,0]),t[0]=n[0]+2*i,t[1]=n[1]+2*i,t}function hasArea(n){return n[0]>0&&n[1]>0}function scale(n,i,t){return t===void 0&&(t=[0,0]),t[0]=n[0]*i+.5|0,t[1]=n[1]*i+.5|0,t}function toSize(n,i){return Array.isArray(n)?n:(i===void 0?i=[n,n]:(i[0]=n,i[1]=n),i)}var __extends$S=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function removeLayerMapProperty(n){if(n instanceof Layer){n.setMapInternal(null);return}n instanceof LayerGroup$1&&n.getLayers().forEach(removeLayerMapProperty)}function setLayerMapProperty(n,i){if(n instanceof Layer){n.setMapInternal(i);return}if(n instanceof LayerGroup$1)for(var t=n.getLayers().getArray(),r=0,o=t.length;r<o;++r)setLayerMapProperty(t[r],i)}var PluggableMap=function(n){__extends$S(i,n);function i(t){var r=n.call(this)||this;r.on,r.once,r.un;var o=createOptionsInternal(t);r.renderComplete_,r.boundHandleBrowserEvent_=r.handleBrowserEvent.bind(r),r.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,r.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:DEVICE_PIXEL_RATIO,r.postRenderTimeoutHandle_,r.animationDelayKey_,r.animationDelay_=(function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}).bind(r),r.coordinateToPixelTransform_=create(),r.pixelToCoordinateTransform_=create(),r.frameIndex_=0,r.frameState_=null,r.previousExtent_=null,r.viewPropertyListenerKey_=null,r.viewChangeListenerKey_=null,r.layerGroupPropertyListenerKeys_=null,r.viewport_=document.createElement("div"),r.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),r.viewport_.style.position="relative",r.viewport_.style.overflow="hidden",r.viewport_.style.width="100%",r.viewport_.style.height="100%",r.overlayContainer_=document.createElement("div"),r.overlayContainer_.style.position="absolute",r.overlayContainer_.style.zIndex="0",r.overlayContainer_.style.width="100%",r.overlayContainer_.style.height="100%",r.overlayContainer_.style.pointerEvents="none",r.overlayContainer_.className="ol-overlaycontainer",r.viewport_.appendChild(r.overlayContainer_),r.overlayContainerStopEvent_=document.createElement("div"),r.overlayContainerStopEvent_.style.position="absolute",r.overlayContainerStopEvent_.style.zIndex="0",r.overlayContainerStopEvent_.style.width="100%",r.overlayContainerStopEvent_.style.height="100%",r.overlayContainerStopEvent_.style.pointerEvents="none",r.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",r.viewport_.appendChild(r.overlayContainerStopEvent_),r.mapBrowserEventHandler_=null,r.moveTolerance_=t.moveTolerance,r.keyboardEventTarget_=o.keyboardEventTarget,r.targetChangeHandlerKeys_=null,r.controls=o.controls||new Collection,r.interactions=o.interactions||new Collection,r.overlays_=o.overlays,r.overlayIdIndex_={},r.renderer_=null,r.postRenderFunctions_=[],r.tileQueue_=new TileQueue$1(r.getTilePriority.bind(r),r.handleTileChange_.bind(r)),r.addChangeListener(MapProperty.LAYERGROUP,r.handleLayerGroupChanged_),r.addChangeListener(MapProperty.VIEW,r.handleViewChanged_),r.addChangeListener(MapProperty.SIZE,r.handleSizeChanged_),r.addChangeListener(MapProperty.TARGET,r.handleTargetChanged_),r.setProperties(o.values);var a=r;return t.view&&!(t.view instanceof View$1)&&t.view.then(function(s){a.setView(new View$1(s))}),r.controls.addEventListener(CollectionEventType.ADD,(function(s){s.element.setMap(this)}).bind(r)),r.controls.addEventListener(CollectionEventType.REMOVE,(function(s){s.element.setMap(null)}).bind(r)),r.interactions.addEventListener(CollectionEventType.ADD,(function(s){s.element.setMap(this)}).bind(r)),r.interactions.addEventListener(CollectionEventType.REMOVE,(function(s){s.element.setMap(null)}).bind(r)),r.overlays_.addEventListener(CollectionEventType.ADD,(function(s){this.addOverlayInternal_(s.element)}).bind(r)),r.overlays_.addEventListener(CollectionEventType.REMOVE,(function(s){var l=s.element,c=l.getId();c!==void 0&&delete this.overlayIdIndex_[c.toString()],s.element.setMap(null)}).bind(r)),r.controls.forEach((function(s){s.setMap(this)}).bind(r)),r.interactions.forEach((function(s){s.setMap(this)}).bind(r)),r.overlays_.forEach(r.addOverlayInternal_.bind(r)),r}return i.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},i.prototype.addControl=function(t){this.getControls().push(t)},i.prototype.addInteraction=function(t){this.getInteractions().push(t)},i.prototype.addLayer=function(t){var r=this.getLayerGroup().getLayers();r.push(t)},i.prototype.handleLayerAdd_=function(t){setLayerMapProperty(t.layer,this)},i.prototype.addOverlay=function(t){this.getOverlays().push(t)},i.prototype.addOverlayInternal_=function(t){var r=t.getId();r!==void 0&&(this.overlayIdIndex_[r.toString()]=t),t.setMap(this)},i.prototype.disposeInternal=function(){this.setTarget(null),n.prototype.disposeInternal.call(this)},i.prototype.forEachFeatureAtPixel=function(t,r,o){if(this.frameState_){var a=this.getCoordinateFromPixelInternal(t);o=o!==void 0?o:{};var s=o.hitTolerance!==void 0?o.hitTolerance:0,l=o.layerFilter!==void 0?o.layerFilter:TRUE,c=o.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(a,this.frameState_,s,c,r,null,l,null)}},i.prototype.getFeaturesAtPixel=function(t,r){var o=[];return this.forEachFeatureAtPixel(t,function(a){o.push(a)},r),o},i.prototype.getAllLayers=function(){var t=[];function r(o){o.forEach(function(a){a instanceof LayerGroup$1?r(a.getLayers()):t.push(a)})}return r(this.getLayers()),t},i.prototype.forEachLayerAtPixel=function(t,r,o){if(this.frameState_){var a=o||{},s=a.hitTolerance!==void 0?a.hitTolerance:0,l=a.layerFilter||TRUE;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,s,r,l)}},i.prototype.hasFeatureAtPixel=function(t,r){if(!this.frameState_)return!1;var o=this.getCoordinateFromPixelInternal(t);r=r!==void 0?r:{};var a=r.layerFilter!==void 0?r.layerFilter:TRUE,s=r.hitTolerance!==void 0?r.hitTolerance:0,l=r.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(o,this.frameState_,s,l,a,null)},i.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},i.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},i.prototype.getEventPixel=function(t){var r=this.viewport_.getBoundingClientRect(),o="changedTouches"in t?t.changedTouches[0]:t;return[o.clientX-r.left,o.clientY-r.top]},i.prototype.getTarget=function(){return this.get(MapProperty.TARGET)},i.prototype.getTargetElement=function(){var t=this.getTarget();return t!==void 0?typeof t=="string"?document.getElementById(t):t:null},i.prototype.getCoordinateFromPixel=function(t){return toUserCoordinate(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},i.prototype.getCoordinateFromPixelInternal=function(t){var r=this.frameState_;return r?apply(r.pixelToCoordinateTransform,t.slice()):null},i.prototype.getControls=function(){return this.controls},i.prototype.getOverlays=function(){return this.overlays_},i.prototype.getOverlayById=function(t){var r=this.overlayIdIndex_[t.toString()];return r!==void 0?r:null},i.prototype.getInteractions=function(){return this.interactions},i.prototype.getLayerGroup=function(){return this.get(MapProperty.LAYERGROUP)},i.prototype.setLayers=function(t){var r=this.getLayerGroup();if(t instanceof Collection){r.setLayers(t);return}var o=r.getLayers();o.clear(),o.extend(t)},i.prototype.getLayers=function(){var t=this.getLayerGroup().getLayers();return t},i.prototype.getLoadingOrNotReady=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),r=0,o=t.length;r<o;++r){var a=t[r].layer;if(!a.getRenderer().ready)return!0;var s=a.getSource();if(s&&s.loading)return!0}return!1},i.prototype.getPixelFromCoordinate=function(t){var r=fromUserCoordinate(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(r)},i.prototype.getPixelFromCoordinateInternal=function(t){var r=this.frameState_;return r?apply(r.coordinateToPixelTransform,t.slice(0,2)):null},i.prototype.getRenderer=function(){return this.renderer_},i.prototype.getSize=function(){return this.get(MapProperty.SIZE)},i.prototype.getView=function(){return this.get(MapProperty.VIEW)},i.prototype.getViewport=function(){return this.viewport_},i.prototype.getOverlayContainer=function(){return this.overlayContainer_},i.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},i.prototype.getOwnerDocument=function(){var t=this.getTargetElement();return t?t.ownerDocument:document},i.prototype.getTilePriority=function(t,r,o,a){return getTilePriority(this.frameState_,t,r,o,a)},i.prototype.handleBrowserEvent=function(t,r){var o=r||t.type,a=new MapBrowserEvent(o,this,t);this.handleMapBrowserEvent(a)},i.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){var r=t.originalEvent,o=r.type;if(o===PointerEventType.POINTERDOWN||o===EventType.WHEEL||o===EventType.KEYDOWN){var a=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():a,l=r.target;if(this.overlayContainerStopEvent_.contains(l)||!(s===a?a.documentElement:s).contains(l))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1)for(var c=this.getInteractions().getArray().slice(),h=c.length-1;h>=0;h--){var u=c[h];if(!(u.getMap()!==this||!u.getActive()||!this.getTargetElement())){var d=u.handleEvent(t);if(!d||t.propagationStopped)break}}}},i.prototype.handlePostRender=function(){var t=this.frameState_,r=this.tileQueue_;if(!r.isEmpty()){var o=this.maxTilesLoading_,a=o;if(t){var s=t.viewHints;if(s[ViewHint.ANIMATING]||s[ViewHint.INTERACTING]){var l=Date.now()-t.time>8;o=l?0:8,a=l?0:2}}r.getTilesLoading()<o&&(r.reprioritize(),r.loadMoreTiles(o,a))}t&&this.hasListener(RenderEventType.RENDERCOMPLETE)&&!t.animate&&this.renderComplete_&&this.renderer_.dispatchRenderEvent(RenderEventType.RENDERCOMPLETE,t);for(var c=this.postRenderFunctions_,h=0,u=c.length;h<u;++h)c[h](this,t);c.length=0},i.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},i.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var t=0,r=this.targetChangeHandlerKeys_.length;t<r;++t)unlistenByKey(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(EventType.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(EventType.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,removeNode(this.viewport_)}var o=this.getTargetElement();if(!o)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{o.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new MapBrowserEventHandler$1(this,this.moveTolerance_);for(var a in MapBrowserEventType)this.mapBrowserEventHandler_.addEventListener(MapBrowserEventType[a],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(EventType.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(EventType.WHEEL,this.boundHandleBrowserEvent_,PASSIVE_EVENT_LISTENERS?{passive:!1}:!1);var s=this.getOwnerDocument().defaultView,l=this.keyboardEventTarget_?this.keyboardEventTarget_:o;this.targetChangeHandlerKeys_=[listen(l,EventType.KEYDOWN,this.handleBrowserEvent,this),listen(l,EventType.KEYPRESS,this.handleBrowserEvent,this),listen(s,EventType.RESIZE,this.updateSize,this)]}this.updateSize()},i.prototype.handleTileChange_=function(){this.render()},i.prototype.handleViewPropertyChanged_=function(){this.render()},i.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(unlistenByKey(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(unlistenByKey(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=listen(t,ObjectEventType.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=listen(t,EventType.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},i.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.handleLayerAdd_(new GroupEvent("addlayer",t)),this.layerGroupPropertyListenerKeys_=[listen(t,ObjectEventType.PROPERTYCHANGE,this.render,this),listen(t,EventType.CHANGE,this.render,this),listen(t,"addlayer",this.handleLayerAdd_,this),listen(t,"removelayer",this.handleLayerRemove_,this)]),this.render()},i.prototype.isRendered=function(){return!!this.frameState_},i.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},i.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),r=0,o=t.length;r<o;++r){var a=t[r].layer;a.hasRenderer()&&a.getRenderer().handleFontsChanged()}},i.prototype.render=function(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},i.prototype.removeControl=function(t){return this.getControls().remove(t)},i.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},i.prototype.removeLayer=function(t){var r=this.getLayerGroup().getLayers();return r.remove(t)},i.prototype.handleLayerRemove_=function(t){removeLayerMapProperty(t.layer)},i.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},i.prototype.renderFrame_=function(t){var r=this,o=this.getSize(),a=this.getView(),s=this.frameState_,l=null;if(o!==void 0&&hasArea(o)&&a&&a.isDef()){var c=a.getHints(this.frameState_?this.frameState_.viewHints:void 0),h=a.getState();if(l={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:getForViewAndSize(h.center,h.resolution,h.rotation,o),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:o,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:h,viewHints:c,wantedTiles:{},mapId:getUid(this),renderTargets:{}},h.nextCenter&&h.nextResolution){var u=isNaN(h.nextRotation)?h.rotation:h.nextRotation;l.nextExtent=getForViewAndSize(h.nextCenter,h.nextResolution,u,o)}}if(this.frameState_=l,this.renderer_.renderFrame(l),l){if(l.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,l.postRenderFunctions),s){var d=!this.previousExtent_||!isEmpty(this.previousExtent_)&&!equals$1(l.extent,this.previousExtent_);d&&(this.dispatchEvent(new MapEvent(MapEventType.MOVESTART,this,s)),this.previousExtent_=createOrUpdateEmpty(this.previousExtent_))}var f=this.previousExtent_&&!l.viewHints[ViewHint.ANIMATING]&&!l.viewHints[ViewHint.INTERACTING]&&!equals$1(l.extent,this.previousExtent_);f&&(this.dispatchEvent(new MapEvent(MapEventType.MOVEEND,this,l)),clone(l.extent,this.previousExtent_))}this.dispatchEvent(new MapEvent(MapEventType.POSTRENDER,this,l)),this.renderComplete_=!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){r.postRenderTimeoutHandle_=void 0,r.handlePostRender()},0))},i.prototype.setLayerGroup=function(t){var r=this.getLayerGroup();r&&this.handleLayerRemove_(new GroupEvent("removelayer",r)),this.set(MapProperty.LAYERGROUP,t)},i.prototype.setSize=function(t){this.set(MapProperty.SIZE,t)},i.prototype.setTarget=function(t){this.set(MapProperty.TARGET,t)},i.prototype.setView=function(t){if(!t||t instanceof View$1){this.set(MapProperty.VIEW,t);return}this.set(MapProperty.VIEW,new View$1);var r=this;t.then(function(o){r.setView(new View$1(o))})},i.prototype.updateSize=function(){var t=this.getTargetElement(),r=void 0;if(t){var o=getComputedStyle(t),a=t.offsetWidth-parseFloat(o.borderLeftWidth)-parseFloat(o.paddingLeft)-parseFloat(o.paddingRight)-parseFloat(o.borderRightWidth),s=t.offsetHeight-parseFloat(o.borderTopWidth)-parseFloat(o.paddingTop)-parseFloat(o.paddingBottom)-parseFloat(o.borderBottomWidth);!isNaN(a)&&!isNaN(s)&&(r=[a,s],!hasArea(r)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(r),this.updateViewportSize_()},i.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var r=void 0,o=getComputedStyle(this.viewport_);o.width&&o.height&&(r=[parseInt(o.width,10),parseInt(o.height,10)]),t.setViewportSize(r)}},i}(BaseObject$1);function createOptionsInternal(n){var i=null;n.keyboardEventTarget!==void 0&&(i=typeof n.keyboardEventTarget=="string"?document.getElementById(n.keyboardEventTarget):n.keyboardEventTarget);var t={},r=n.layers&&typeof n.layers.getLayers=="function"?n.layers:new LayerGroup$1({layers:n.layers});t[MapProperty.LAYERGROUP]=r,t[MapProperty.TARGET]=n.target,t[MapProperty.VIEW]=n.view instanceof View$1?n.view:new View$1;var o;n.controls!==void 0&&(Array.isArray(n.controls)?o=new Collection(n.controls.slice()):(assert(typeof n.controls.getArray=="function",47),o=n.controls));var a;n.interactions!==void 0&&(Array.isArray(n.interactions)?a=new Collection(n.interactions.slice()):(assert(typeof n.interactions.getArray=="function",48),a=n.interactions));var s;return n.overlays!==void 0?Array.isArray(n.overlays)?s=new Collection(n.overlays.slice()):(assert(typeof n.overlays.getArray=="function",49),s=n.overlays):s=new Collection,{controls:o,interactions:a,keyboardEventTarget:i,overlays:s,values:t}}const PluggableMap$1=PluggableMap;function defaults$1(n){var i=n||{},t=new Collection,r=i.zoom!==void 0?i.zoom:!0;r&&t.push(new Zoom$1(i.zoomOptions));var o=i.rotate!==void 0?i.rotate:!0;o&&t.push(new Rotate$1(i.rotateOptions));var a=i.attribution!==void 0?i.attribution:!0;return a&&t.push(new Attribution$1(i.attributionOptions)),t}const InteractionProperty={ACTIVE:"active"};var __extends$R=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Interaction=function(n){__extends$R(i,n);function i(t){var r=n.call(this)||this;return r.on,r.once,r.un,t&&t.handleEvent&&(r.handleEvent=t.handleEvent),r.map_=null,r.setActive(!0),r}return i.prototype.getActive=function(){return this.get(InteractionProperty.ACTIVE)},i.prototype.getMap=function(){return this.map_},i.prototype.handleEvent=function(t){return!0},i.prototype.setActive=function(t){this.set(InteractionProperty.ACTIVE,t)},i.prototype.setMap=function(t){this.map_=t},i}(BaseObject$1);function pan(n,i,t){var r=n.getCenterInternal();if(r){var o=[r[0]+i[0],r[1]+i[1]];n.animateInternal({duration:t!==void 0?t:250,easing:linear,center:n.getConstrainedCenter(o)})}}function zoomByDelta(n,i,t,r){var o=n.getZoom();if(o!==void 0){var a=n.getConstrainedZoom(o+i),s=n.getResolutionForZoom(a);n.getAnimating()&&n.cancelAnimations(),n.animate({resolution:s,anchor:t,duration:r!==void 0?r:250,easing:easeOut})}}const Interaction$1=Interaction;var __extends$Q=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),DoubleClickZoom=function(n){__extends$Q(i,n);function i(t){var r=n.call(this)||this,o=t||{};return r.delta_=o.delta?o.delta:1,r.duration_=o.duration!==void 0?o.duration:250,r}return i.prototype.handleEvent=function(t){var r=!1;if(t.type==MapBrowserEventType.DBLCLICK){var o=t.originalEvent,a=t.map,s=t.coordinate,l=o.shiftKey?-this.delta_:this.delta_,c=a.getView();zoomByDelta(c,l,s,this.duration_),o.preventDefault(),r=!0}return!r},i}(Interaction$1);const DoubleClickZoom$1=DoubleClickZoom;var __extends$P=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),PointerInteraction=function(n){__extends$P(i,n);function i(t){var r=this,o=t||{};return r=n.call(this,o)||this,o.handleDownEvent&&(r.handleDownEvent=o.handleDownEvent),o.handleDragEvent&&(r.handleDragEvent=o.handleDragEvent),o.handleMoveEvent&&(r.handleMoveEvent=o.handleMoveEvent),o.handleUpEvent&&(r.handleUpEvent=o.handleUpEvent),o.stopDown&&(r.stopDown=o.stopDown),r.handlingDownUpSequence=!1,r.trackedPointers_={},r.targetPointers=[],r}return i.prototype.getPointerCount=function(){return this.targetPointers.length},i.prototype.handleDownEvent=function(t){return!1},i.prototype.handleDragEvent=function(t){},i.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var r=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==MapBrowserEventType.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==MapBrowserEventType.POINTERUP){var o=this.handleUpEvent(t);this.handlingDownUpSequence=o&&this.targetPointers.length>0}}else if(t.type==MapBrowserEventType.POINTERDOWN){var a=this.handleDownEvent(t);this.handlingDownUpSequence=a,r=this.stopDown(a)}else t.type==MapBrowserEventType.POINTERMOVE&&this.handleMoveEvent(t);return!r},i.prototype.handleMoveEvent=function(t){},i.prototype.handleUpEvent=function(t){return!1},i.prototype.stopDown=function(t){return t},i.prototype.updateTrackedPointers_=function(t){if(isPointerDraggingEvent(t)){var r=t.originalEvent,o=r.pointerId.toString();t.type==MapBrowserEventType.POINTERUP?delete this.trackedPointers_[o]:t.type==MapBrowserEventType.POINTERDOWN?this.trackedPointers_[o]=r:o in this.trackedPointers_&&(this.trackedPointers_[o]=r),this.targetPointers=getValues(this.trackedPointers_)}},i}(Interaction$1);function centroid(n){for(var i=n.length,t=0,r=0,o=0;o<i;o++)t+=n[o].clientX,r+=n[o].clientY;return[t/i,r/i]}function isPointerDraggingEvent(n){var i=n.type;return i===MapBrowserEventType.POINTERDOWN||i===MapBrowserEventType.POINTERDRAG||i===MapBrowserEventType.POINTERUP}const PointerInteraction$1=PointerInteraction;function all$1(n){var i=arguments;return function(t){for(var r=!0,o=0,a=i.length;o<a&&(r=r&&i[o](t),!!r);++o);return r}}var altShiftKeysOnly=function(n){var i=n.originalEvent;return i.altKey&&!(i.metaKey||i.ctrlKey)&&i.shiftKey},focus=function(n){var i=n.map.getTargetElement(),t=n.map.getOwnerDocument().activeElement;return i.contains(t)},focusWithTabindex=function(n){return n.map.getTargetElement().hasAttribute("tabindex")?focus(n):!0},always=TRUE,mouseActionButton=function(n){var i=n.originalEvent;return i.button==0&&!(WEBKIT&&MAC&&i.ctrlKey)},noModifierKeys=function(n){var i=n.originalEvent;return!i.altKey&&!(i.metaKey||i.ctrlKey)&&!i.shiftKey},shiftKeyOnly=function(n){var i=n.originalEvent;return!i.altKey&&!(i.metaKey||i.ctrlKey)&&i.shiftKey},targetNotEditable=function(n){var i=n.originalEvent,t=i.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"},mouseOnly=function(n){var i=n.originalEvent;return assert(i!==void 0,56),i.pointerType=="mouse"},primaryAction=function(n){var i=n.originalEvent;return assert(i!==void 0,56),i.isPrimary&&i.button===0},__extends$O=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),DragPan=function(n){__extends$O(i,n);function i(t){var r=n.call(this,{stopDown:FALSE})||this,o=t||{};r.kinetic_=o.kinetic,r.lastCentroid=null,r.lastPointersCount_,r.panning_=!1;var a=o.condition?o.condition:all$1(noModifierKeys,primaryAction);return r.condition_=o.onFocusOnly?all$1(focusWithTabindex,a):a,r.noKinetic_=!1,r}return i.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var r=this.targetPointers,o=centroid(r);if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(o[0],o[1]),this.lastCentroid){var a=[this.lastCentroid[0]-o[0],o[1]-this.lastCentroid[1]],s=t.map,l=s.getView();scale$2(a,l.getResolution()),rotate$1(a,l.getRotation()),l.adjustCenterInternal(a)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=o,this.lastPointersCount_=r.length,t.originalEvent.preventDefault()},i.prototype.handleUpEvent=function(t){var r=t.map,o=r.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var a=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),l=o.getCenterInternal(),c=r.getPixelFromCoordinateInternal(l),h=r.getCoordinateFromPixelInternal([c[0]-a*Math.cos(s),c[1]-a*Math.sin(s)]);o.animateInternal({center:o.getConstrainedCenter(h),duration:500,easing:easeOut})}return this.panning_&&(this.panning_=!1,o.endInteraction()),!1}else return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},i.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var r=t.map,o=r.getView();return this.lastCentroid=null,o.getAnimating()&&o.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}else return!1},i}(PointerInteraction$1);const DragPan$1=DragPan;var __extends$N=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),DragRotate=function(n){__extends$N(i,n);function i(t){var r=this,o=t||{};return r=n.call(this,{stopDown:FALSE})||this,r.condition_=o.condition?o.condition:altShiftKeysOnly,r.lastAngle_=void 0,r.duration_=o.duration!==void 0?o.duration:250,r}return i.prototype.handleDragEvent=function(t){if(mouseOnly(t)){var r=t.map,o=r.getView();if(o.getConstraints().rotation!==disable){var a=r.getSize(),s=t.pixel,l=Math.atan2(a[1]/2-s[1],s[0]-a[0]/2);if(this.lastAngle_!==void 0){var c=l-this.lastAngle_;o.adjustRotationInternal(-c)}this.lastAngle_=l}}},i.prototype.handleUpEvent=function(t){if(!mouseOnly(t))return!0;var r=t.map,o=r.getView();return o.endInteraction(this.duration_),!1},i.prototype.handleDownEvent=function(t){if(!mouseOnly(t))return!1;if(mouseActionButton(t)&&this.condition_(t)){var r=t.map;return r.getView().beginInteraction(),this.lastAngle_=void 0,!0}else return!1},i}(PointerInteraction$1),__extends$M=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),RenderBox=function(n){__extends$M(i,n);function i(t){var r=n.call(this)||this;return r.geometry_=null,r.element_=document.createElement("div"),r.element_.style.position="absolute",r.element_.style.pointerEvents="auto",r.element_.className="ol-box "+t,r.map_=null,r.startPixel_=null,r.endPixel_=null,r}return i.prototype.disposeInternal=function(){this.setMap(null)},i.prototype.render_=function(){var t=this.startPixel_,r=this.endPixel_,o="px",a=this.element_.style;a.left=Math.min(t[0],r[0])+o,a.top=Math.min(t[1],r[1])+o,a.width=Math.abs(r[0]-t[0])+o,a.height=Math.abs(r[1]-t[1])+o},i.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var r=this.element_.style;r.left="inherit",r.top="inherit",r.width="inherit",r.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},i.prototype.setPixels=function(t,r){this.startPixel_=t,this.endPixel_=r,this.createOrUpdateGeometry(),this.render_()},i.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,r=this.endPixel_,o=[t,[t[0],r[1]],r,[r[0],t[1]]],a=o.map(this.map_.getCoordinateFromPixelInternal,this.map_);a[4]=a[0].slice(),this.geometry_?this.geometry_.setCoordinates([a]):this.geometry_=new Polygon([a])},i.prototype.getGeometry=function(){return this.geometry_},i}(Disposable$1);const RenderBox$1=RenderBox;var __extends$L=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),DragBoxEventType={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},DragBoxEvent=function(n){__extends$L(i,n);function i(t,r,o){var a=n.call(this,t)||this;return a.coordinate=r,a.mapBrowserEvent=o,a}return i}(Event),DragBox=function(n){__extends$L(i,n);function i(t){var r=n.call(this)||this;r.on,r.once,r.un;var o=t||{};return r.box_=new RenderBox$1(o.className||"ol-dragbox"),r.minArea_=o.minArea!==void 0?o.minArea:64,o.onBoxEnd&&(r.onBoxEnd=o.onBoxEnd),r.startPixel_=null,r.condition_=o.condition?o.condition:mouseActionButton,r.boxEndCondition_=o.boxEndCondition?o.boxEndCondition:r.defaultBoxEndCondition,r}return i.prototype.defaultBoxEndCondition=function(t,r,o){var a=o[0]-r[0],s=o[1]-r[1];return a*a+s*s>=this.minArea_},i.prototype.getGeometry=function(){return this.box_.getGeometry()},i.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new DragBoxEvent(DragBoxEventType.BOXDRAG,t.coordinate,t))},i.prototype.handleUpEvent=function(t){this.box_.setMap(null);var r=this.boxEndCondition_(t,this.startPixel_,t.pixel);return r&&this.onBoxEnd(t),this.dispatchEvent(new DragBoxEvent(r?DragBoxEventType.BOXEND:DragBoxEventType.BOXCANCEL,t.coordinate,t)),!1},i.prototype.handleDownEvent=function(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new DragBoxEvent(DragBoxEventType.BOXSTART,t.coordinate,t)),!0):!1},i.prototype.onBoxEnd=function(t){},i}(PointerInteraction$1);const DragBox$1=DragBox;var __extends$K=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),DragZoom=function(n){__extends$K(i,n);function i(t){var r=this,o=t||{},a=o.condition?o.condition:shiftKeyOnly;return r=n.call(this,{condition:a,className:o.className||"ol-dragzoom",minArea:o.minArea})||this,r.duration_=o.duration!==void 0?o.duration:200,r.out_=o.out!==void 0?o.out:!1,r}return i.prototype.onBoxEnd=function(t){var r=this.getMap(),o=r.getView(),a=this.getGeometry();if(this.out_){var s=o.rotatedExtentForGeometry(a),l=o.getResolutionForExtentInternal(s),c=o.getResolution()/l;a=a.clone(),a.scale(c*c)}o.fitInternal(a,{duration:this.duration_,easing:easeOut})},i}(DragBox$1);const DragZoom$1=DragZoom,KeyCode={LEFT:37,UP:38,RIGHT:39,DOWN:40};var __extends$J=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),KeyboardPan=function(n){__extends$J(i,n);function i(t){var r=n.call(this)||this,o=t||{};return r.defaultCondition_=function(a){return noModifierKeys(a)&&targetNotEditable(a)},r.condition_=o.condition!==void 0?o.condition:r.defaultCondition_,r.duration_=o.duration!==void 0?o.duration:100,r.pixelDelta_=o.pixelDelta!==void 0?o.pixelDelta:128,r}return i.prototype.handleEvent=function(t){var r=!1;if(t.type==EventType.KEYDOWN){var o=t.originalEvent,a=o.keyCode;if(this.condition_(t)&&(a==KeyCode.DOWN||a==KeyCode.LEFT||a==KeyCode.RIGHT||a==KeyCode.UP)){var s=t.map,l=s.getView(),c=l.getResolution()*this.pixelDelta_,h=0,u=0;a==KeyCode.DOWN?u=-c:a==KeyCode.LEFT?h=-c:a==KeyCode.RIGHT?h=c:u=c;var d=[h,u];rotate$1(d,l.getRotation()),pan(l,d,this.duration_),o.preventDefault(),r=!0}}return!r},i}(Interaction$1),__extends$I=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),KeyboardZoom=function(n){__extends$I(i,n);function i(t){var r=n.call(this)||this,o=t||{};return r.condition_=o.condition?o.condition:targetNotEditable,r.delta_=o.delta?o.delta:1,r.duration_=o.duration!==void 0?o.duration:100,r}return i.prototype.handleEvent=function(t){var r=!1;if(t.type==EventType.KEYDOWN||t.type==EventType.KEYPRESS){var o=t.originalEvent,a=o.charCode;if(this.condition_(t)&&(a==43||a==45)){var s=t.map,l=a==43?this.delta_:-this.delta_,c=s.getView();zoomByDelta(c,l,void 0,this.duration_),o.preventDefault(),r=!0}}return!r},i}(Interaction$1);const KeyboardZoom$1=KeyboardZoom;var Kinetic=function(){function n(i,t,r){this.decay_=i,this.minVelocity_=t,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}return n.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},n.prototype.update=function(i,t){this.points_.push(i,t,Date.now())},n.prototype.end=function(){if(this.points_.length<6)return!1;var i=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<i)return!1;for(var r=t-3;r>0&&this.points_[r+2]>i;)r-=3;var o=this.points_[t+2]-this.points_[r+2];if(o<1e3/60)return!1;var a=this.points_[t]-this.points_[r],s=this.points_[t+1]-this.points_[r+1];return this.angle_=Math.atan2(s,a),this.initialVelocity_=Math.sqrt(a*a+s*s)/o,this.initialVelocity_>this.minVelocity_},n.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},n.prototype.getAngle=function(){return this.angle_},n}(),__extends$H=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Mode={TRACKPAD:"trackpad",WHEEL:"wheel"},MouseWheelZoom=function(n){__extends$H(i,n);function i(t){var r=this,o=t||{};r=n.call(this,o)||this,r.totalDelta_=0,r.lastDelta_=0,r.maxDelta_=o.maxDelta!==void 0?o.maxDelta:1,r.duration_=o.duration!==void 0?o.duration:250,r.timeout_=o.timeout!==void 0?o.timeout:80,r.useAnchor_=o.useAnchor!==void 0?o.useAnchor:!0,r.constrainResolution_=o.constrainResolution!==void 0?o.constrainResolution:!1;var a=o.condition?o.condition:always;return r.condition_=o.onFocusOnly?all$1(focusWithTabindex,a):a,r.lastAnchor_=null,r.startTime_=void 0,r.timeoutId_,r.mode_=void 0,r.trackpadEventGap_=400,r.trackpadTimeoutId_,r.deltaPerZoom_=300,r}return i.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var t=this.getMap().getView();t.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},i.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var r=t.type;if(r!==EventType.WHEEL)return!0;var o=t.map,a=t.originalEvent;a.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate);var s;if(t.type==EventType.WHEEL&&(s=a.deltaY,FIREFOX&&a.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=DEVICE_PIXEL_RATIO),a.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;var l=Date.now();this.startTime_===void 0&&(this.startTime_=l),(!this.mode_||l-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?Mode.TRACKPAD:Mode.WHEEL);var c=o.getView();if(this.mode_===Mode.TRACKPAD&&!(c.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(c.getAnimating()&&c.cancelAnimations(),c.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),c.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=l,!1;this.totalDelta_+=s;var h=Math.max(this.timeout_-(l-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,o),h),!1},i.prototype.handleWheelZoom_=function(t){var r=t.getView();r.getAnimating()&&r.cancelAnimations();var o=-clamp(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(r.getConstrainResolution()||this.constrainResolution_)&&(o=o?o>0?1:-1:0),zoomByDelta(r,o,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},i.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},i}(Interaction$1);const MouseWheelZoom$1=MouseWheelZoom;var __extends$G=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),PinchRotate=function(n){__extends$G(i,n);function i(t){var r=this,o=t||{},a=o;return a.stopDown||(a.stopDown=FALSE),r=n.call(this,a)||this,r.anchor_=null,r.lastAngle_=void 0,r.rotating_=!1,r.rotationDelta_=0,r.threshold_=o.threshold!==void 0?o.threshold:.3,r.duration_=o.duration!==void 0?o.duration:250,r}return i.prototype.handleDragEvent=function(t){var r=0,o=this.targetPointers[0],a=this.targetPointers[1],s=Math.atan2(a.clientY-o.clientY,a.clientX-o.clientX);if(this.lastAngle_!==void 0){var l=s-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),r=l}this.lastAngle_=s;var c=t.map,h=c.getView();if(h.getConstraints().rotation!==disable){var u=c.getViewport().getBoundingClientRect(),d=centroid(this.targetPointers);d[0]-=u.left,d[1]-=u.top,this.anchor_=c.getCoordinateFromPixelInternal(d),this.rotating_&&(c.render(),h.adjustRotationInternal(r,this.anchor_))}},i.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var r=t.map,o=r.getView();return o.endInteraction(this.duration_),!1}else return!0},i.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var r=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||r.getView().beginInteraction(),!0}else return!1},i}(PointerInteraction$1),__extends$F=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),PinchZoom=function(n){__extends$F(i,n);function i(t){var r=this,o=t||{},a=o;return a.stopDown||(a.stopDown=FALSE),r=n.call(this,a)||this,r.anchor_=null,r.duration_=o.duration!==void 0?o.duration:400,r.lastDistance_=void 0,r.lastScaleDelta_=1,r}return i.prototype.handleDragEvent=function(t){var r=1,o=this.targetPointers[0],a=this.targetPointers[1],s=o.clientX-a.clientX,l=o.clientY-a.clientY,c=Math.sqrt(s*s+l*l);this.lastDistance_!==void 0&&(r=this.lastDistance_/c),this.lastDistance_=c;var h=t.map,u=h.getView();r!=1&&(this.lastScaleDelta_=r);var d=h.getViewport().getBoundingClientRect(),f=centroid(this.targetPointers);f[0]-=d.left,f[1]-=d.top,this.anchor_=h.getCoordinateFromPixelInternal(f),h.render(),u.adjustResolutionInternal(r,this.anchor_)},i.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var r=t.map,o=r.getView(),a=this.lastScaleDelta_>1?1:-1;return o.endInteraction(this.duration_,a),!1}else return!0},i.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var r=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||r.getView().beginInteraction(),!0}else return!1},i}(PointerInteraction$1);const PinchZoom$1=PinchZoom,FormatType={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"};var __extends$E=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Feature=function(n){__extends$E(i,n);function i(t){var r=n.call(this)||this;if(r.on,r.once,r.un,r.id_=void 0,r.geometryName_="geometry",r.style_=null,r.styleFunction_=void 0,r.geometryChangeKey_=null,r.addChangeListener(r.geometryName_,r.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){var o=t;r.setGeometry(o)}else{var a=t;r.setProperties(a)}return r}return i.prototype.clone=function(){var t=new i(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var r=this.getGeometry();r&&t.setGeometry(r.clone());var o=this.getStyle();return o&&t.setStyle(o),t},i.prototype.getGeometry=function(){return this.get(this.geometryName_)},i.prototype.getId=function(){return this.id_},i.prototype.getGeometryName=function(){return this.geometryName_},i.prototype.getStyle=function(){return this.style_},i.prototype.getStyleFunction=function(){return this.styleFunction_},i.prototype.handleGeometryChange_=function(){this.changed()},i.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(unlistenByKey(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=listen(t,EventType.CHANGE,this.handleGeometryChange_,this)),this.changed()},i.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},i.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?createStyleFunction(t):void 0,this.changed()},i.prototype.setId=function(t){this.id_=t,this.changed()},i.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},i}(BaseObject$1);function createStyleFunction(n){if(typeof n=="function")return n;var i;if(Array.isArray(n))i=n;else{assert(typeof n.getZIndex=="function",41);var t=n;i=[t]}return function(){return i}}function lineStringLength(n,i,t,r){for(var o=n[i],a=n[i+1],s=0,l=i+r;l<t;l+=r){var c=n[l],h=n[l+1];s+=Math.sqrt((c-o)*(c-o)+(h-a)*(h-a)),o=c,a=h}return s}function quickselect(n,i,t,r,o){quickselectStep(n,i,t||0,r||n.length-1,o||defaultCompare)}function quickselectStep(n,i,t,r,o){for(;r>t;){if(r-t>600){var a=r-t+1,s=i-t+1,l=Math.log(a),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(a-c)/a)*(s-a/2<0?-1:1),u=Math.max(t,Math.floor(i-s*c/a+h)),d=Math.min(r,Math.floor(i+(a-s)*c/a+h));quickselectStep(n,i,u,d,o)}var f=n[i],p=t,m=r;for(swap(n,t,i),o(n[r],f)>0&&swap(n,t,r);p<m;){for(swap(n,p,m),p++,m--;o(n[p],f)<0;)p++;for(;o(n[m],f)>0;)m--}o(n[t],f)===0?swap(n,t,m):(m++,swap(n,m,r)),m<=i&&(t=m+1),i<=m&&(r=m-1)}}function swap(n,i,t){var r=n[i];n[i]=n[t],n[t]=r}function defaultCompare(n,i){return n<i?-1:n>i?1:0}let RBush$1=class{constructor(i=9){this._maxEntries=Math.max(4,i),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(i){let t=this.data;const r=[];if(!intersects(i,t))return r;const o=this.toBBox,a=[];for(;t;){for(let s=0;s<t.children.length;s++){const l=t.children[s],c=t.leaf?o(l):l;intersects(i,c)&&(t.leaf?r.push(l):contains(i,c)?this._all(l,r):a.push(l))}t=a.pop()}return r}collides(i){let t=this.data;if(!intersects(i,t))return!1;const r=[];for(;t;){for(let o=0;o<t.children.length;o++){const a=t.children[o],s=t.leaf?this.toBBox(a):a;if(intersects(i,s)){if(t.leaf||contains(i,s))return!0;r.push(a)}}t=r.pop()}return!1}load(i){if(!(i&&i.length))return this;if(i.length<this._minEntries){for(let r=0;r<i.length;r++)this.insert(i[r]);return this}let t=this._build(i.slice(),0,i.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const r=this.data;this.data=t,t=r}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(i){return i&&this._insert(i,this.data.height-1),this}clear(){return this.data=createNode([]),this}remove(i,t){if(!i)return this;let r=this.data;const o=this.toBBox(i),a=[],s=[];let l,c,h;for(;r||a.length;){if(r||(r=a.pop(),c=a[a.length-1],l=s.pop(),h=!0),r.leaf){const u=findItem(i,r.children,t);if(u!==-1)return r.children.splice(u,1),a.push(r),this._condense(a),this}!h&&!r.leaf&&contains(r,o)?(a.push(r),s.push(l),l=0,c=r,r=r.children[0]):c?(l++,r=c.children[l],h=!1):r=null}return this}toBBox(i){return i}compareMinX(i,t){return i.minX-t.minX}compareMinY(i,t){return i.minY-t.minY}toJSON(){return this.data}fromJSON(i){return this.data=i,this}_all(i,t){const r=[];for(;i;)i.leaf?t.push(...i.children):r.push(...i.children),i=r.pop();return t}_build(i,t,r,o){const a=r-t+1;let s=this._maxEntries,l;if(a<=s)return l=createNode(i.slice(t,r+1)),calcBBox(l,this.toBBox),l;o||(o=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,o-1))),l=createNode([]),l.leaf=!1,l.height=o;const c=Math.ceil(a/s),h=c*Math.ceil(Math.sqrt(s));multiSelect(i,t,r,h,this.compareMinX);for(let u=t;u<=r;u+=h){const d=Math.min(u+h-1,r);multiSelect(i,u,d,c,this.compareMinY);for(let f=u;f<=d;f+=c){const p=Math.min(f+c-1,d);l.children.push(this._build(i,f,p,o-1))}}return calcBBox(l,this.toBBox),l}_chooseSubtree(i,t,r,o){for(;o.push(t),!(t.leaf||o.length-1===r);){let a=1/0,s=1/0,l;for(let c=0;c<t.children.length;c++){const h=t.children[c],u=bboxArea(h),d=enlargedArea(i,h)-u;d<s?(s=d,a=u<a?u:a,l=h):d===s&&u<a&&(a=u,l=h)}t=l||t.children[0]}return t}_insert(i,t,r){const o=r?i:this.toBBox(i),a=[],s=this._chooseSubtree(o,this.data,t,a);for(s.children.push(i),extend$1(s,o);t>=0&&a[t].children.length>this._maxEntries;)this._split(a,t),t--;this._adjustParentBBoxes(o,a,t)}_split(i,t){const r=i[t],o=r.children.length,a=this._minEntries;this._chooseSplitAxis(r,a,o);const s=this._chooseSplitIndex(r,a,o),l=createNode(r.children.splice(s,r.children.length-s));l.height=r.height,l.leaf=r.leaf,calcBBox(r,this.toBBox),calcBBox(l,this.toBBox),t?i[t-1].children.push(l):this._splitRoot(r,l)}_splitRoot(i,t){this.data=createNode([i,t]),this.data.height=i.height+1,this.data.leaf=!1,calcBBox(this.data,this.toBBox)}_chooseSplitIndex(i,t,r){let o,a=1/0,s=1/0;for(let l=t;l<=r-t;l++){const c=distBBox(i,0,l,this.toBBox),h=distBBox(i,l,r,this.toBBox),u=intersectionArea(c,h),d=bboxArea(c)+bboxArea(h);u<a?(a=u,o=l,s=d<s?d:s):u===a&&d<s&&(s=d,o=l)}return o||r-t}_chooseSplitAxis(i,t,r){const o=i.leaf?this.compareMinX:compareNodeMinX,a=i.leaf?this.compareMinY:compareNodeMinY,s=this._allDistMargin(i,t,r,o),l=this._allDistMargin(i,t,r,a);s<l&&i.children.sort(o)}_allDistMargin(i,t,r,o){i.children.sort(o);const a=this.toBBox,s=distBBox(i,0,t,a),l=distBBox(i,r-t,r,a);let c=bboxMargin(s)+bboxMargin(l);for(let h=t;h<r-t;h++){const u=i.children[h];extend$1(s,i.leaf?a(u):u),c+=bboxMargin(s)}for(let h=r-t-1;h>=t;h--){const u=i.children[h];extend$1(l,i.leaf?a(u):u),c+=bboxMargin(l)}return c}_adjustParentBBoxes(i,t,r){for(let o=r;o>=0;o--)extend$1(t[o],i)}_condense(i){for(let t=i.length-1,r;t>=0;t--)i[t].children.length===0?t>0?(r=i[t-1].children,r.splice(r.indexOf(i[t]),1)):this.clear():calcBBox(i[t],this.toBBox)}};function findItem(n,i,t){if(!t)return i.indexOf(n);for(let r=0;r<i.length;r++)if(t(n,i[r]))return r;return-1}function calcBBox(n,i){distBBox(n,0,n.children.length,i,n)}function distBBox(n,i,t,r,o){o||(o=createNode(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(let a=i;a<t;a++){const s=n.children[a];extend$1(o,n.leaf?r(s):s)}return o}function extend$1(n,i){return n.minX=Math.min(n.minX,i.minX),n.minY=Math.min(n.minY,i.minY),n.maxX=Math.max(n.maxX,i.maxX),n.maxY=Math.max(n.maxY,i.maxY),n}function compareNodeMinX(n,i){return n.minX-i.minX}function compareNodeMinY(n,i){return n.minY-i.minY}function bboxArea(n){return(n.maxX-n.minX)*(n.maxY-n.minY)}function bboxMargin(n){return n.maxX-n.minX+(n.maxY-n.minY)}function enlargedArea(n,i){return(Math.max(i.maxX,n.maxX)-Math.min(i.minX,n.minX))*(Math.max(i.maxY,n.maxY)-Math.min(i.minY,n.minY))}function intersectionArea(n,i){const t=Math.max(n.minX,i.minX),r=Math.max(n.minY,i.minY),o=Math.min(n.maxX,i.maxX),a=Math.min(n.maxY,i.maxY);return Math.max(0,o-t)*Math.max(0,a-r)}function contains(n,i){return n.minX<=i.minX&&n.minY<=i.minY&&i.maxX<=n.maxX&&i.maxY<=n.maxY}function intersects(n,i){return i.minX<=n.maxX&&i.minY<=n.maxY&&i.maxX>=n.minX&&i.maxY>=n.minY}function createNode(n){return{children:n,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function multiSelect(n,i,t,r,o){const a=[i,t];for(;a.length;){if(t=a.pop(),i=a.pop(),t-i<=r)continue;const s=i+Math.ceil((t-i)/r/2)*r;quickselect(n,s,i,t,o),a.push(i,s,s,t)}}const ImageState={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var ImageStyle=function(){function n(i){this.opacity_=i.opacity,this.rotateWithView_=i.rotateWithView,this.rotation_=i.rotation,this.scale_=i.scale,this.scaleArray_=toSize(i.scale),this.displacement_=i.displacement}return n.prototype.clone=function(){var i=this.getScale();return new n({opacity:this.getOpacity(),scale:Array.isArray(i)?i.slice():i,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},n.prototype.getOpacity=function(){return this.opacity_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getScaleArray=function(){return this.scaleArray_},n.prototype.getDisplacement=function(){return this.displacement_},n.prototype.getAnchor=function(){return abstract()},n.prototype.getImage=function(i){return abstract()},n.prototype.getHitDetectionImage=function(){return abstract()},n.prototype.getPixelRatio=function(i){return 1},n.prototype.getImageState=function(){return abstract()},n.prototype.getImageSize=function(){return abstract()},n.prototype.getOrigin=function(){return abstract()},n.prototype.getSize=function(){return abstract()},n.prototype.setDisplacement=function(i){this.displacement_=i},n.prototype.setOpacity=function(i){this.opacity_=i},n.prototype.setRotateWithView=function(i){this.rotateWithView_=i},n.prototype.setRotation=function(i){this.rotation_=i},n.prototype.setScale=function(i){this.scale_=i,this.scaleArray_=toSize(i)},n.prototype.listenImageChange=function(i){abstract()},n.prototype.load=function(){abstract()},n.prototype.unlistenImageChange=function(i){abstract()},n}();const ImageStyle$1=ImageStyle;function asColorLike(n){return Array.isArray(n)?toString(n):n}var __extends$D=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),RegularShape=function(n){__extends$D(i,n);function i(t){var r=this,o=t.rotateWithView!==void 0?t.rotateWithView:!1;return r=n.call(this,{opacity:1,rotateWithView:o,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0]})||this,r.canvas_=void 0,r.hitDetectionCanvas_=null,r.fill_=t.fill!==void 0?t.fill:null,r.origin_=[0,0],r.points_=t.points,r.radius_=t.radius!==void 0?t.radius:t.radius1,r.radius2_=t.radius2,r.angle_=t.angle!==void 0?t.angle:0,r.stroke_=t.stroke!==void 0?t.stroke:null,r.size_=null,r.renderOptions_=null,r.render(),r}return i.prototype.clone=function(){var t=this.getScale(),r=new i({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return r.setOpacity(this.getOpacity()),r},i.prototype.getAnchor=function(){var t=this.size_;if(!t)return null;var r=this.getDisplacement();return[t[0]/2-r[0],t[1]/2+r[1]]},i.prototype.getAngle=function(){return this.angle_},i.prototype.getFill=function(){return this.fill_},i.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},i.prototype.getImage=function(t){var r=this.canvas_[t];if(!r){var o=this.renderOptions_,a=createCanvasContext2D(o.size*t,o.size*t);this.draw_(o,a,t),r=a.canvas,this.canvas_[t]=r}return r},i.prototype.getPixelRatio=function(t){return t},i.prototype.getImageSize=function(){return this.size_},i.prototype.getImageState=function(){return ImageState.LOADED},i.prototype.getOrigin=function(){return this.origin_},i.prototype.getPoints=function(){return this.points_},i.prototype.getRadius=function(){return this.radius_},i.prototype.getRadius2=function(){return this.radius2_},i.prototype.getSize=function(){return this.size_},i.prototype.getStroke=function(){return this.stroke_},i.prototype.listenImageChange=function(t){},i.prototype.load=function(){},i.prototype.unlistenImageChange=function(t){},i.prototype.calculateLineJoinSize_=function(t,r,o){if(r===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return r;var a=this.radius_,s=this.radius2_===void 0?a:this.radius2_;if(a<s){var l=a;a=s,s=l}var c=this.radius2_===void 0?this.points_:this.points_*2,h=2*Math.PI/c,u=s*Math.sin(h),d=Math.sqrt(s*s-u*u),f=a-d,p=Math.sqrt(u*u+f*f),m=p/u;if(t==="miter"&&m<=o)return m*r;var g=r/2/m,v=r/2*(f/p),_=Math.sqrt((a+g)*(a+g)+v*v),y=_-a;if(this.radius2_===void 0||t==="bevel")return y*2;var b=a*Math.sin(h),x=Math.sqrt(a*a-b*b),E=s-x,C=Math.sqrt(b*b+E*E),$=C/b;if($<=o){var S=$*r/2-s-a;return 2*Math.max(y,S)}return y*2},i.prototype.createRenderOptions=function(){var t=defaultLineJoin,r=0,o=null,a=0,s,l=0;this.stroke_&&(s=this.stroke_.getColor(),s===null&&(s=defaultStrokeStyle),s=asColorLike(s),l=this.stroke_.getWidth(),l===void 0&&(l=defaultLineWidth),o=this.stroke_.getLineDash(),a=this.stroke_.getLineDashOffset(),t=this.stroke_.getLineJoin(),t===void 0&&(t=defaultLineJoin),r=this.stroke_.getMiterLimit(),r===void 0&&(r=defaultMiterLimit));var c=this.calculateLineJoinSize_(t,l,r),h=Math.max(this.radius_,this.radius2_||0),u=Math.ceil(2*h+c);return{strokeStyle:s,strokeWidth:l,size:u,lineDash:o,lineDashOffset:a,lineJoin:t,miterLimit:r}},i.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]},i.prototype.draw_=function(t,r,o){if(r.scale(o,o),r.translate(t.size/2,t.size/2),this.createPath_(r),this.fill_){var a=this.fill_.getColor();a===null&&(a=defaultFillStyle),r.fillStyle=asColorLike(a),r.fill()}this.stroke_&&(r.strokeStyle=t.strokeStyle,r.lineWidth=t.strokeWidth,r.setLineDash&&t.lineDash&&(r.setLineDash(t.lineDash),r.lineDashOffset=t.lineDashOffset),r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit,r.stroke())},i.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var r=this.fill_.getColor(),o=0;if(typeof r=="string"&&(r=asArray(r)),r===null?o=1:Array.isArray(r)&&(o=r.length===4?r[3]:1),o===0){var a=createCanvasContext2D(t.size,t.size);this.hitDetectionCanvas_=a.canvas,this.drawHitDetectionCanvas_(t,a)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},i.prototype.createPath_=function(t){var r=this.points_,o=this.radius_;if(r===1/0)t.arc(0,0,o,0,2*Math.PI);else{var a=this.radius2_===void 0?o:this.radius2_;this.radius2_!==void 0&&(r*=2);for(var s=this.angle_-Math.PI/2,l=2*Math.PI/r,c=0;c<r;c++){var h=s+c*l,u=c%2===0?o:a;t.lineTo(u*Math.cos(h),u*Math.sin(h))}t.closePath()}},i.prototype.drawHitDetectionCanvas_=function(t,r){r.translate(t.size/2,t.size/2),this.createPath_(r),r.fillStyle=defaultFillStyle,r.fill(),this.stroke_&&(r.strokeStyle=t.strokeStyle,r.lineWidth=t.strokeWidth,t.lineDash&&(r.setLineDash(t.lineDash),r.lineDashOffset=t.lineDashOffset),r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit,r.stroke())},i}(ImageStyle$1);const RegularShape$1=RegularShape;var __extends$C=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),CircleStyle=function(n){__extends$C(i,n);function i(t){var r=t||{};return n.call(this,{points:1/0,fill:r.fill,radius:r.radius,stroke:r.stroke,scale:r.scale!==void 0?r.scale:1,rotation:r.rotation!==void 0?r.rotation:0,rotateWithView:r.rotateWithView!==void 0?r.rotateWithView:!1,displacement:r.displacement!==void 0?r.displacement:[0,0]})||this}return i.prototype.clone=function(){var t=this.getScale(),r=new i({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return r.setOpacity(this.getOpacity()),r},i.prototype.setRadius=function(t){this.radius_=t,this.render()},i}(RegularShape$1),Fill=function(){function n(i){var t=i||{};this.color_=t.color!==void 0?t.color:null}return n.prototype.clone=function(){var i=this.getColor();return new n({color:Array.isArray(i)?i.slice():i||void 0})},n.prototype.getColor=function(){return this.color_},n.prototype.setColor=function(i){this.color_=i},n}(),Stroke=function(){function n(i){var t=i||{};this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}return n.prototype.clone=function(){var i=this.getColor();return new n({color:Array.isArray(i)?i.slice():i||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},n.prototype.getColor=function(){return this.color_},n.prototype.getLineCap=function(){return this.lineCap_},n.prototype.getLineDash=function(){return this.lineDash_},n.prototype.getLineDashOffset=function(){return this.lineDashOffset_},n.prototype.getLineJoin=function(){return this.lineJoin_},n.prototype.getMiterLimit=function(){return this.miterLimit_},n.prototype.getWidth=function(){return this.width_},n.prototype.setColor=function(i){this.color_=i},n.prototype.setLineCap=function(i){this.lineCap_=i},n.prototype.setLineDash=function(i){this.lineDash_=i},n.prototype.setLineDashOffset=function(i){this.lineDashOffset_=i},n.prototype.setLineJoin=function(i){this.lineJoin_=i},n.prototype.setMiterLimit=function(i){this.miterLimit_=i},n.prototype.setWidth=function(i){this.width_=i},n}();const Stroke$1=Stroke;var Style=function(){function n(i){var t=i||{};this.geometry_=null,this.geometryFunction_=defaultGeometryFunction,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}return n.prototype.clone=function(){var i=this.getGeometry();return i&&typeof i=="object"&&(i=i.clone()),new n({geometry:i,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},n.prototype.getRenderer=function(){return this.renderer_},n.prototype.setRenderer=function(i){this.renderer_=i},n.prototype.setHitDetectionRenderer=function(i){this.hitDetectionRenderer_=i},n.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},n.prototype.getGeometry=function(){return this.geometry_},n.prototype.getGeometryFunction=function(){return this.geometryFunction_},n.prototype.getFill=function(){return this.fill_},n.prototype.setFill=function(i){this.fill_=i},n.prototype.getImage=function(){return this.image_},n.prototype.setImage=function(i){this.image_=i},n.prototype.getStroke=function(){return this.stroke_},n.prototype.setStroke=function(i){this.stroke_=i},n.prototype.getText=function(){return this.text_},n.prototype.setText=function(i){this.text_=i},n.prototype.getZIndex=function(){return this.zIndex_},n.prototype.setGeometry=function(i){typeof i=="function"?this.geometryFunction_=i:typeof i=="string"?this.geometryFunction_=function(t){return t.get(i)}:i?i!==void 0&&(this.geometryFunction_=function(){return i}):this.geometryFunction_=defaultGeometryFunction,this.geometry_=i},n.prototype.setZIndex=function(i){this.zIndex_=i},n}();function toFunction(n){var i;if(typeof n=="function")i=n;else{var t;if(Array.isArray(n))t=n;else{assert(typeof n.getZIndex=="function",41);var r=n;t=[r]}i=function(){return t}}return i}var defaultStyles=null;function createDefaultStyle(n,i){if(!defaultStyles){var t=new Fill({color:"rgba(255,255,255,0.4)"}),r=new Stroke$1({color:"#3399CC",width:1.25});defaultStyles=[new Style({image:new CircleStyle({fill:t,stroke:r,radius:5}),fill:t,stroke:r})]}return defaultStyles}function defaultGeometryFunction(n){return n.getGeometry()}var __extends$B=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Property={RENDER_ORDER:"renderOrder"},BaseVectorLayer=function(n){__extends$B(i,n);function i(t){var r=this,o=t||{},a=assign({},o);return delete a.style,delete a.renderBuffer,delete a.updateWhileAnimating,delete a.updateWhileInteracting,r=n.call(this,a)||this,r.declutter_=o.declutter!==void 0?o.declutter:!1,r.renderBuffer_=o.renderBuffer!==void 0?o.renderBuffer:100,r.style_=null,r.styleFunction_=void 0,r.setStyle(o.style),r.updateWhileAnimating_=o.updateWhileAnimating!==void 0?o.updateWhileAnimating:!1,r.updateWhileInteracting_=o.updateWhileInteracting!==void 0?o.updateWhileInteracting:!1,r}return i.prototype.getDeclutter=function(){return this.declutter_},i.prototype.getFeatures=function(t){return n.prototype.getFeatures.call(this,t)},i.prototype.getRenderBuffer=function(){return this.renderBuffer_},i.prototype.getRenderOrder=function(){return this.get(Property.RENDER_ORDER)},i.prototype.getStyle=function(){return this.style_},i.prototype.getStyleFunction=function(){return this.styleFunction_},i.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},i.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},i.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new RBush$1(9)),this.getRenderer().renderDeclutter(t)},i.prototype.setRenderOrder=function(t){this.set(Property.RENDER_ORDER,t)},i.prototype.setStyle=function(t){this.style_=t!==void 0?t:createDefaultStyle,this.styleFunction_=t===null?void 0:toFunction(this.style_),this.changed()},i}(Layer);const BaseVectorLayer$1=BaseVectorLayer;var Instruction={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},fillInstruction=[Instruction.FILL],strokeInstruction=[Instruction.STROKE],beginPathInstruction=[Instruction.BEGIN_PATH],closePathInstruction=[Instruction.CLOSE_PATH],VectorContext=function(){function n(){}return n.prototype.drawCustom=function(i,t,r,o){},n.prototype.drawGeometry=function(i){},n.prototype.setStyle=function(i){},n.prototype.drawCircle=function(i,t){},n.prototype.drawFeature=function(i,t){},n.prototype.drawGeometryCollection=function(i,t){},n.prototype.drawLineString=function(i,t){},n.prototype.drawMultiLineString=function(i,t){},n.prototype.drawMultiPoint=function(i,t){},n.prototype.drawMultiPolygon=function(i,t){},n.prototype.drawPoint=function(i,t){},n.prototype.drawPolygon=function(i,t){},n.prototype.drawText=function(i,t){},n.prototype.setFillStrokeStyle=function(i,t){},n.prototype.setImageStyle=function(i,t){},n.prototype.setTextStyle=function(i,t){},n}();const VectorContext$1=VectorContext;var __extends$A=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),CanvasBuilder=function(n){__extends$A(i,n);function i(t,r,o,a){var s=n.call(this)||this;return s.tolerance=t,s.maxExtent=r,s.pixelRatio=a,s.maxLineWidth=0,s.resolution=o,s.beginGeometryInstruction1_=null,s.beginGeometryInstruction2_=null,s.bufferedMaxExtent_=null,s.instructions=[],s.coordinates=[],s.tmpCoordinate_=[],s.hitDetectionInstructions=[],s.state={},s}return i.prototype.applyPixelRatio=function(t){var r=this.pixelRatio;return r==1?t:t.map(function(o){return o*r})},i.prototype.appendFlatPointCoordinates=function(t,r){for(var o=this.getBufferedMaxExtent(),a=this.tmpCoordinate_,s=this.coordinates,l=s.length,c=0,h=t.length;c<h;c+=r)a[0]=t[c],a[1]=t[c+1],containsCoordinate(o,a)&&(s[l++]=a[0],s[l++]=a[1]);return l},i.prototype.appendFlatLineCoordinates=function(t,r,o,a,s,l){var c=this.coordinates,h=c.length,u=this.getBufferedMaxExtent();l&&(r+=a);var d=t[r],f=t[r+1],p=this.tmpCoordinate_,m=!0,g,v,_;for(g=r+a;g<o;g+=a)p[0]=t[g],p[1]=t[g+1],_=coordinateRelationship(u,p),_!==v?(m&&(c[h++]=d,c[h++]=f,m=!1),c[h++]=p[0],c[h++]=p[1]):_===Relationship.INTERSECTING?(c[h++]=p[0],c[h++]=p[1],m=!1):m=!0,d=p[0],f=p[1],v=_;return(s&&m||g===r+a)&&(c[h++]=d,c[h++]=f),h},i.prototype.drawCustomCoordinates_=function(t,r,o,a,s){for(var l=0,c=o.length;l<c;++l){var h=o[l],u=this.appendFlatLineCoordinates(t,r,h,a,!1,!1);s.push(u),r=h}return r},i.prototype.drawCustom=function(t,r,o,a){this.beginGeometry(t,r);var s=t.getType(),l=t.getStride(),c=this.coordinates.length,h,u,d,f,p;switch(s){case GeometryType.MULTI_POLYGON:h=t.getOrientedFlatCoordinates(),f=[];var m=t.getEndss();p=0;for(var g=0,v=m.length;g<v;++g){var _=[];p=this.drawCustomCoordinates_(h,p,m[g],l,_),f.push(_)}this.instructions.push([Instruction.CUSTOM,c,f,t,o,inflateMultiCoordinatesArray]),this.hitDetectionInstructions.push([Instruction.CUSTOM,c,f,t,a||o,inflateMultiCoordinatesArray]);break;case GeometryType.POLYGON:case GeometryType.MULTI_LINE_STRING:d=[],h=s==GeometryType.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),p=this.drawCustomCoordinates_(h,0,t.getEnds(),l,d),this.instructions.push([Instruction.CUSTOM,c,d,t,o,inflateCoordinatesArray]),this.hitDetectionInstructions.push([Instruction.CUSTOM,c,d,t,a||o,inflateCoordinatesArray]);break;case GeometryType.LINE_STRING:case GeometryType.CIRCLE:h=t.getFlatCoordinates(),u=this.appendFlatLineCoordinates(h,0,h.length,l,!1,!1),this.instructions.push([Instruction.CUSTOM,c,u,t,o,inflateCoordinates]),this.hitDetectionInstructions.push([Instruction.CUSTOM,c,u,t,a||o,inflateCoordinates]);break;case GeometryType.MULTI_POINT:h=t.getFlatCoordinates(),u=this.appendFlatPointCoordinates(h,l),u>c&&(this.instructions.push([Instruction.CUSTOM,c,u,t,o,inflateCoordinates]),this.hitDetectionInstructions.push([Instruction.CUSTOM,c,u,t,a||o,inflateCoordinates]));break;case GeometryType.POINT:h=t.getFlatCoordinates(),this.coordinates.push(h[0],h[1]),u=this.coordinates.length,this.instructions.push([Instruction.CUSTOM,c,u,t,o]),this.hitDetectionInstructions.push([Instruction.CUSTOM,c,u,t,a||o]);break}this.endGeometry(r)},i.prototype.beginGeometry=function(t,r){this.beginGeometryInstruction1_=[Instruction.BEGIN_GEOMETRY,r,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Instruction.BEGIN_GEOMETRY,r,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},i.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},i.prototype.reverseHitDetectionInstructions=function(){var t=this.hitDetectionInstructions;t.reverse();var r,o=t.length,a,s,l=-1;for(r=0;r<o;++r)a=t[r],s=a[0],s==Instruction.END_GEOMETRY?l=r:s==Instruction.BEGIN_GEOMETRY&&(a[2]=r,reverseSubArray(this.hitDetectionInstructions,l,r),l=-1)},i.prototype.setFillStrokeStyle=function(t,r){var o=this.state;if(t){var a=t.getColor();o.fillStyle=asColorLike(a||defaultFillStyle)}else o.fillStyle=void 0;if(r){var s=r.getColor();o.strokeStyle=asColorLike(s||defaultStrokeStyle);var l=r.getLineCap();o.lineCap=l!==void 0?l:defaultLineCap;var c=r.getLineDash();o.lineDash=c?c.slice():defaultLineDash;var h=r.getLineDashOffset();o.lineDashOffset=h||defaultLineDashOffset;var u=r.getLineJoin();o.lineJoin=u!==void 0?u:defaultLineJoin;var d=r.getWidth();o.lineWidth=d!==void 0?d:defaultLineWidth;var f=r.getMiterLimit();o.miterLimit=f!==void 0?f:defaultMiterLimit,o.lineWidth>this.maxLineWidth&&(this.maxLineWidth=o.lineWidth,this.bufferedMaxExtent_=null)}else o.strokeStyle=void 0,o.lineCap=void 0,o.lineDash=null,o.lineDashOffset=void 0,o.lineJoin=void 0,o.lineWidth=void 0,o.miterLimit=void 0},i.prototype.createFill=function(t){var r=t.fillStyle,o=[Instruction.SET_FILL_STYLE,r];return typeof r!="string"&&o.push(!0),o},i.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},i.prototype.createStroke=function(t){return[Instruction.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},i.prototype.updateFillStyle=function(t,r){var o=t.fillStyle;(typeof o!="string"||t.currentFillStyle!=o)&&(o!==void 0&&this.instructions.push(r.call(this,t)),t.currentFillStyle=o)},i.prototype.updateStrokeStyle=function(t,r){var o=t.strokeStyle,a=t.lineCap,s=t.lineDash,l=t.lineDashOffset,c=t.lineJoin,h=t.lineWidth,u=t.miterLimit;(t.currentStrokeStyle!=o||t.currentLineCap!=a||s!=t.currentLineDash&&!equals$2(t.currentLineDash,s)||t.currentLineDashOffset!=l||t.currentLineJoin!=c||t.currentLineWidth!=h||t.currentMiterLimit!=u)&&(o!==void 0&&r.call(this,t),t.currentStrokeStyle=o,t.currentLineCap=a,t.currentLineDash=s,t.currentLineDashOffset=l,t.currentLineJoin=c,t.currentLineWidth=h,t.currentMiterLimit=u)},i.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var r=[Instruction.END_GEOMETRY,t];this.instructions.push(r),this.hitDetectionInstructions.push(r)},i.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=clone(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;buffer$1(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},i}(VectorContext$1);const Builder=CanvasBuilder;var __extends$z=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),CanvasImageBuilder=function(n){__extends$z(i,n);function i(t,r,o,a){var s=n.call(this,t,r,o,a)||this;return s.hitDetectionImage_=null,s.image_=null,s.imagePixelRatio_=void 0,s.anchorX_=void 0,s.anchorY_=void 0,s.height_=void 0,s.opacity_=void 0,s.originX_=void 0,s.originY_=void 0,s.rotateWithView_=void 0,s.rotation_=void 0,s.scale_=void 0,s.width_=void 0,s.declutterImageWithText_=void 0,s}return i.prototype.drawPoint=function(t,r){if(this.image_){this.beginGeometry(t,r);var o=t.getFlatCoordinates(),a=t.getStride(),s=this.coordinates.length,l=this.appendFlatPointCoordinates(o,a);this.instructions.push([Instruction.DRAW_IMAGE,s,l,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Instruction.DRAW_IMAGE,s,l,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(r)}},i.prototype.drawMultiPoint=function(t,r){if(this.image_){this.beginGeometry(t,r);var o=t.getFlatCoordinates(),a=t.getStride(),s=this.coordinates.length,l=this.appendFlatPointCoordinates(o,a);this.instructions.push([Instruction.DRAW_IMAGE,s,l,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Instruction.DRAW_IMAGE,s,l,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(r)}},i.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,n.prototype.finish.call(this)},i.prototype.setImageStyle=function(t,r){var o=t.getAnchor(),a=t.getSize(),s=t.getHitDetectionImage(),l=t.getImage(this.pixelRatio),c=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=o[0],this.anchorY_=o[1],this.hitDetectionImage_=s,this.image_=l,this.height_=a[1],this.opacity_=t.getOpacity(),this.originX_=c[0]*this.imagePixelRatio_,this.originY_=c[1]*this.imagePixelRatio_,this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=a[0],this.declutterImageWithText_=r},i}(Builder);const ImageBuilder=CanvasImageBuilder;var __extends$y=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),CanvasLineStringBuilder=function(n){__extends$y(i,n);function i(t,r,o,a){return n.call(this,t,r,o,a)||this}return i.prototype.drawFlatCoordinates_=function(t,r,o,a){var s=this.coordinates.length,l=this.appendFlatLineCoordinates(t,r,o,a,!1,!1),c=[Instruction.MOVE_TO_LINE_TO,s,l];return this.instructions.push(c),this.hitDetectionInstructions.push(c),o},i.prototype.drawLineString=function(t,r){var o=this.state,a=o.strokeStyle,s=o.lineWidth;if(!(a===void 0||s===void 0)){this.updateStrokeStyle(o,this.applyStroke),this.beginGeometry(t,r),this.hitDetectionInstructions.push([Instruction.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,defaultLineDash,defaultLineDashOffset],beginPathInstruction);var l=t.getFlatCoordinates(),c=t.getStride();this.drawFlatCoordinates_(l,0,l.length,c),this.hitDetectionInstructions.push(strokeInstruction),this.endGeometry(r)}},i.prototype.drawMultiLineString=function(t,r){var o=this.state,a=o.strokeStyle,s=o.lineWidth;if(!(a===void 0||s===void 0)){this.updateStrokeStyle(o,this.applyStroke),this.beginGeometry(t,r),this.hitDetectionInstructions.push([Instruction.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset],beginPathInstruction);for(var l=t.getEnds(),c=t.getFlatCoordinates(),h=t.getStride(),u=0,d=0,f=l.length;d<f;++d)u=this.drawFlatCoordinates_(c,u,l[d],h);this.hitDetectionInstructions.push(strokeInstruction),this.endGeometry(r)}},i.prototype.finish=function(){var t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(strokeInstruction),this.reverseHitDetectionInstructions(),this.state=null,n.prototype.finish.call(this)},i.prototype.applyStroke=function(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(strokeInstruction),t.lastStroke=this.coordinates.length),t.lastStroke=0,n.prototype.applyStroke.call(this,t),this.instructions.push(beginPathInstruction)},i}(Builder);const LineStringBuilder=CanvasLineStringBuilder;var __extends$x=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),CanvasPolygonBuilder=function(n){__extends$x(i,n);function i(t,r,o,a){return n.call(this,t,r,o,a)||this}return i.prototype.drawFlatCoordinatess_=function(t,r,o,a){var s=this.state,l=s.fillStyle!==void 0,c=s.strokeStyle!==void 0,h=o.length;this.instructions.push(beginPathInstruction),this.hitDetectionInstructions.push(beginPathInstruction);for(var u=0;u<h;++u){var d=o[u],f=this.coordinates.length,p=this.appendFlatLineCoordinates(t,r,d,a,!0,!c),m=[Instruction.MOVE_TO_LINE_TO,f,p];this.instructions.push(m),this.hitDetectionInstructions.push(m),c&&(this.instructions.push(closePathInstruction),this.hitDetectionInstructions.push(closePathInstruction)),r=d}return l&&(this.instructions.push(fillInstruction),this.hitDetectionInstructions.push(fillInstruction)),c&&(this.instructions.push(strokeInstruction),this.hitDetectionInstructions.push(strokeInstruction)),r},i.prototype.drawCircle=function(t,r){var o=this.state,a=o.fillStyle,s=o.strokeStyle;if(!(a===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,r),o.fillStyle!==void 0&&this.hitDetectionInstructions.push([Instruction.SET_FILL_STYLE,defaultFillStyle]),o.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Instruction.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);var l=t.getFlatCoordinates(),c=t.getStride(),h=this.coordinates.length;this.appendFlatLineCoordinates(l,0,l.length,c,!1,!1);var u=[Instruction.CIRCLE,h];this.instructions.push(beginPathInstruction,u),this.hitDetectionInstructions.push(beginPathInstruction,u),o.fillStyle!==void 0&&(this.instructions.push(fillInstruction),this.hitDetectionInstructions.push(fillInstruction)),o.strokeStyle!==void 0&&(this.instructions.push(strokeInstruction),this.hitDetectionInstructions.push(strokeInstruction)),this.endGeometry(r)}},i.prototype.drawPolygon=function(t,r){var o=this.state,a=o.fillStyle,s=o.strokeStyle;if(!(a===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,r),o.fillStyle!==void 0&&this.hitDetectionInstructions.push([Instruction.SET_FILL_STYLE,defaultFillStyle]),o.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Instruction.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);var l=t.getEnds(),c=t.getOrientedFlatCoordinates(),h=t.getStride();this.drawFlatCoordinatess_(c,0,l,h),this.endGeometry(r)}},i.prototype.drawMultiPolygon=function(t,r){var o=this.state,a=o.fillStyle,s=o.strokeStyle;if(!(a===void 0&&s===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,r),o.fillStyle!==void 0&&this.hitDetectionInstructions.push([Instruction.SET_FILL_STYLE,defaultFillStyle]),o.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Instruction.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);for(var l=t.getEndss(),c=t.getOrientedFlatCoordinates(),h=t.getStride(),u=0,d=0,f=l.length;d<f;++d)u=this.drawFlatCoordinatess_(c,u,l[d],h);this.endGeometry(r)}},i.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(t!==0)for(var r=this.coordinates,o=0,a=r.length;o<a;++o)r[o]=snap(r[o],t);return n.prototype.finish.call(this)},i.prototype.setFillStrokeStyles_=function(){var t=this.state,r=t.fillStyle;r!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)},i}(Builder);const PolygonBuilder=CanvasPolygonBuilder,TextPlacement={POINT:"point",LINE:"line"};function matchingChunk(n,i,t,r,o){var a=t,s=t,l=0,c=0,h=t,u,d,f,p,m,g,v,_,y,b;for(d=t;d<r;d+=o){var x=i[d],E=i[d+1];m!==void 0&&(y=x-m,b=E-g,p=Math.sqrt(y*y+b*b),v!==void 0&&(c+=f,u=Math.acos((v*y+_*b)/(f*p)),u>n&&(c>l&&(l=c,a=h,s=d),c=0,h=d-o)),f=p,v=y,_=b),m=x,g=E}return c+=p,c>l?[h,d]:[a,s]}var __extends$w=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),TEXT_ALIGN={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},CanvasTextBuilder=function(n){__extends$w(i,n);function i(t,r,o,a){var s=n.call(this,t,r,o,a)||this;return s.labels_=null,s.text_="",s.textOffsetX_=0,s.textOffsetY_=0,s.textRotateWithView_=void 0,s.textRotation_=0,s.textFillState_=null,s.fillStates={},s.textStrokeState_=null,s.strokeStates={},s.textState_={},s.textStates={},s.textKey_="",s.fillKey_="",s.strokeKey_="",s.declutterImageWithText_=void 0,s}return i.prototype.finish=function(){var t=n.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},i.prototype.drawText=function(t,r){var o=this.textFillState_,a=this.textStrokeState_,s=this.textState_;if(!(this.text_===""||!s||!o&&!a)){var l=this.coordinates,c=l.length,h=t.getType(),u=null,d=t.getStride();if(s.placement===TextPlacement.LINE&&(h==GeometryType.LINE_STRING||h==GeometryType.MULTI_LINE_STRING||h==GeometryType.POLYGON||h==GeometryType.MULTI_POLYGON)){if(!intersects$1(this.getBufferedMaxExtent(),t.getExtent()))return;var f=void 0;if(u=t.getFlatCoordinates(),h==GeometryType.LINE_STRING)f=[u.length];else if(h==GeometryType.MULTI_LINE_STRING)f=t.getEnds();else if(h==GeometryType.POLYGON)f=t.getEnds().slice(0,1);else if(h==GeometryType.MULTI_POLYGON){var p=t.getEndss();f=[];for(var m=0,g=p.length;m<g;++m)f.push(p[m][0])}this.beginGeometry(t,r);for(var v=s.textAlign,_=0,y=void 0,b=0,x=f.length;b<x;++b){if(v==null){var E=matchingChunk(s.maxAngle,u,_,f[b],d);_=E[0],y=E[1]}else y=f[b];for(var m=_;m<y;m+=d)l.push(u[m],u[m+1]);var C=l.length;_=f[b],this.drawChars_(c,C),c=C}this.endGeometry(r)}else{var $=s.overflow?null:[];switch(h){case GeometryType.POINT:case GeometryType.MULTI_POINT:u=t.getFlatCoordinates();break;case GeometryType.LINE_STRING:u=t.getFlatMidpoint();break;case GeometryType.CIRCLE:u=t.getCenter();break;case GeometryType.MULTI_LINE_STRING:u=t.getFlatMidpoints(),d=2;break;case GeometryType.POLYGON:u=t.getFlatInteriorPoint(),s.overflow||$.push(u[2]/this.resolution),d=3;break;case GeometryType.MULTI_POLYGON:var S=t.getFlatInteriorPoints();u=[];for(var m=0,g=S.length;m<g;m+=3)s.overflow||$.push(S[m+2]/this.resolution),u.push(S[m],S[m+1]);if(u.length===0)return;d=2;break}var C=this.appendFlatPointCoordinates(u,d);if(C===c)return;if($&&(C-c)/2!==u.length/d){var P=c/2;$=$.filter(function(M,F){var j=l[(P+F)*2]===u[F*d]&&l[(P+F)*2+1]===u[F*d+1];return j||--P,j})}this.saveTextStates_(),(s.backgroundFill||s.backgroundStroke)&&(this.setFillStrokeStyle(s.backgroundFill,s.backgroundStroke),s.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),s.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,r);var T=s.padding;if(T!=defaultPadding&&(s.scale[0]<0||s.scale[1]<0)){var k=s.padding[0],L=s.padding[1],N=s.padding[2],z=s.padding[3];s.scale[0]<0&&(L=-L,z=-z),s.scale[1]<0&&(k=-k,N=-N),T=[k,L,N,z]}var B=this.pixelRatio;this.instructions.push([Instruction.DRAW_IMAGE,c,C,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,T==defaultPadding?defaultPadding:T.map(function(M){return M*B}),!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,$]);var U=1/B;this.hitDetectionInstructions.push([Instruction.DRAW_IMAGE,c,C,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[U,U],NaN,this.declutterImageWithText_,T,!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,$]),this.endGeometry(r)}}},i.prototype.saveTextStates_=function(){var t=this.textStrokeState_,r=this.textState_,o=this.textFillState_,a=this.strokeKey_;t&&(a in this.strokeStates||(this.strokeStates[a]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var s=this.textKey_;s in this.textStates||(this.textStates[s]={font:r.font,textAlign:r.textAlign||defaultTextAlign,textBaseline:r.textBaseline||defaultTextBaseline,scale:r.scale});var l=this.fillKey_;o&&(l in this.fillStates||(this.fillStates[l]={fillStyle:o.fillStyle}))},i.prototype.drawChars_=function(t,r){var o=this.textStrokeState_,a=this.textState_,s=this.strokeKey_,l=this.textKey_,c=this.fillKey_;this.saveTextStates_();var h=this.pixelRatio,u=TEXT_ALIGN[a.textBaseline],d=this.textOffsetY_*h,f=this.text_,p=o?o.lineWidth*Math.abs(a.scale[0])/2:0;this.instructions.push([Instruction.DRAW_CHARS,t,r,u,a.overflow,c,a.maxAngle,h,d,s,p*h,f,l,1]),this.hitDetectionInstructions.push([Instruction.DRAW_CHARS,t,r,u,a.overflow,c,a.maxAngle,1,d,s,p,f,l,1/h])},i.prototype.setTextStyle=function(t,r){var o,a,s;if(!t)this.text_="";else{var l=t.getFill();l?(a=this.textFillState_,a||(a={},this.textFillState_=a),a.fillStyle=asColorLike(l.getColor()||defaultFillStyle)):(a=null,this.textFillState_=a);var c=t.getStroke();if(!c)s=null,this.textStrokeState_=s;else{s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);var h=c.getLineDash(),u=c.getLineDashOffset(),d=c.getWidth(),f=c.getMiterLimit();s.lineCap=c.getLineCap()||defaultLineCap,s.lineDash=h?h.slice():defaultLineDash,s.lineDashOffset=u===void 0?defaultLineDashOffset:u,s.lineJoin=c.getLineJoin()||defaultLineJoin,s.lineWidth=d===void 0?defaultLineWidth:d,s.miterLimit=f===void 0?defaultMiterLimit:f,s.strokeStyle=asColorLike(c.getColor()||defaultStrokeStyle)}o=this.textState_;var p=t.getFont()||defaultFont;registerFont(p);var m=t.getScaleArray();o.overflow=t.getOverflow(),o.font=p,o.maxAngle=t.getMaxAngle(),o.placement=t.getPlacement(),o.textAlign=t.getTextAlign(),o.textBaseline=t.getTextBaseline()||defaultTextBaseline,o.backgroundFill=t.getBackgroundFill(),o.backgroundStroke=t.getBackgroundStroke(),o.padding=t.getPadding()||defaultPadding,o.scale=m===void 0?[1,1]:m;var g=t.getOffsetX(),v=t.getOffsetY(),_=t.getRotateWithView(),y=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=g===void 0?0:g,this.textOffsetY_=v===void 0?0:v,this.textRotateWithView_=_===void 0?!1:_,this.textRotation_=y===void 0?0:y,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:getUid(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=o.font+o.scale+(o.textAlign||"?")+(o.textBaseline||"?"),this.fillKey_=a?typeof a.fillStyle=="string"?a.fillStyle:"|"+getUid(a.fillStyle):""}this.declutterImageWithText_=r},i}(Builder),BATCH_CONSTRUCTORS={Circle:PolygonBuilder,Default:Builder,Image:ImageBuilder,LineString:LineStringBuilder,Polygon:PolygonBuilder,Text:CanvasTextBuilder},BuilderGroup=function(){function n(i,t,r,o){this.tolerance_=i,this.maxExtent_=t,this.pixelRatio_=o,this.resolution_=r,this.buildersByZIndex_={}}return n.prototype.finish=function(){var i={};for(var t in this.buildersByZIndex_){i[t]=i[t]||{};var r=this.buildersByZIndex_[t];for(var o in r){var a=r[o].finish();i[t][o]=a}}return i},n.prototype.getBuilder=function(i,t){var r=i!==void 0?i.toString():"0",o=this.buildersByZIndex_[r];o===void 0&&(o={},this.buildersByZIndex_[r]=o);var a=o[t];if(a===void 0){var s=BATCH_CONSTRUCTORS[t];a=new s(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),o[t]=a}return a},n}(),__extends$v=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),LayerRenderer=function(n){__extends$v(i,n);function i(t){var r=n.call(this)||this;return r.ready=!0,r.boundHandleImageChange_=r.handleImageChange_.bind(r),r.layer_=t,r.declutterExecutorGroup=null,r}return i.prototype.getFeatures=function(t){return abstract()},i.prototype.getData=function(t){return null},i.prototype.prepareFrame=function(t){return abstract()},i.prototype.renderFrame=function(t,r){return abstract()},i.prototype.loadedTileCallback=function(t,r,o){t[r]||(t[r]={}),t[r][o.tileCoord.toString()]=o},i.prototype.createLoadedTileFinder=function(t,r,o){return(function(a,s){var l=this.loadedTileCallback.bind(this,o,a);return t.forEachLoadedTile(r,a,s,l)}).bind(this)},i.prototype.forEachFeatureAtCoordinate=function(t,r,o,a,s){},i.prototype.getDataAtPixel=function(t,r,o){return null},i.prototype.getLayer=function(){return this.layer_},i.prototype.handleFontsChanged=function(){},i.prototype.handleImageChange_=function(t){var r=t.target;r.getState()===ImageState.LOADED&&this.renderIfReadyAndVisible()},i.prototype.loadImage=function(t){var r=t.getState();return r!=ImageState.LOADED&&r!=ImageState.ERROR&&t.addEventListener(EventType.CHANGE,this.boundHandleImageChange_),r==ImageState.IDLE&&(t.load(),r=t.getState()),r==ImageState.LOADED},i.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==SourceState.READY&&t.changed()},i.prototype.disposeInternal=function(){delete this.layer_,n.prototype.disposeInternal.call(this)},i}(Observable$1);const LayerRenderer$1=LayerRenderer;var __extends$u=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pixelContext=null;function createPixelContext(){var n=document.createElement("canvas");n.width=1,n.height=1,pixelContext=n.getContext("2d")}var CanvasLayerRenderer=function(n){__extends$u(i,n);function i(t){var r=n.call(this,t)||this;return r.container=null,r.renderedResolution,r.tempTransform=create(),r.pixelTransform=create(),r.inversePixelTransform=create(),r.context=null,r.containerReused=!1,r.pixelContext_=null,r.frameState=null,r}return i.prototype.getImageData=function(t,r,o){pixelContext||createPixelContext(),pixelContext.clearRect(0,0,1,1);var a;try{pixelContext.drawImage(t,r,o,1,1,0,0,1,1),a=pixelContext.getImageData(0,0,1,1).data}catch{return null}return a},i.prototype.getBackground=function(t){var r=this.getLayer(),o=r.getBackground();return typeof o=="function"&&(o=o(t.viewState.resolution)),o||void 0},i.prototype.useContainer=function(t,r,o,a){var s=this.getLayer().getClassName(),l,c;if(t&&t.className===s&&t.style.opacity===""&&o===1&&(!a||t.style.backgroundColor&&equals$2(asArray(t.style.backgroundColor),asArray(a)))){var h=t.firstElementChild;h instanceof HTMLCanvasElement&&(c=h.getContext("2d"))}if(c&&c.canvas.style.transform===r?(this.container=t,this.context=c,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){l=document.createElement("div"),l.className=s;var u=l.style;u.position="absolute",u.width="100%",u.height="100%",a&&(u.backgroundColor=a),c=createCanvasContext2D();var h=c.canvas;l.appendChild(h),u=h.style,u.position="absolute",u.left="0",u.transformOrigin="top left",this.container=l,this.context=c}},i.prototype.clipUnrotated=function(t,r,o){var a=getTopLeft(o),s=getTopRight(o),l=getBottomRight(o),c=getBottomLeft(o);apply(r.coordinateToPixelTransform,a),apply(r.coordinateToPixelTransform,s),apply(r.coordinateToPixelTransform,l),apply(r.coordinateToPixelTransform,c);var h=this.inversePixelTransform;apply(h,a),apply(h,s),apply(h,l),apply(h,c),t.save(),t.beginPath(),t.moveTo(Math.round(a[0]),Math.round(a[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(l[0]),Math.round(l[1])),t.lineTo(Math.round(c[0]),Math.round(c[1])),t.clip()},i.prototype.dispatchRenderEvent_=function(t,r,o){var a=this.getLayer();if(a.hasListener(t)){var s=new RenderEvent(t,this.inversePixelTransform,o,r);a.dispatchEvent(s)}},i.prototype.preRender=function(t,r){this.frameState=r,this.dispatchRenderEvent_(RenderEventType.PRERENDER,t,r)},i.prototype.postRender=function(t,r){this.dispatchRenderEvent_(RenderEventType.POSTRENDER,t,r)},i.prototype.getRenderTransform=function(t,r,o,a,s,l,c){var h=s/2,u=l/2,d=a/r,f=-d,p=-t[0]+c,m=-t[1];return compose(this.tempTransform,h,u,d,f,-o,p,m)},i.prototype.getDataAtPixel=function(t,r,o){var a=apply(this.inversePixelTransform,t.slice()),s=this.context,l=this.getLayer(),c=l.getExtent();if(c){var h=apply(r.pixelToCoordinateTransform,t.slice());if(!containsCoordinate(c,h))return null}var u=Math.round(a[0]),d=Math.round(a[1]),f=this.pixelContext_;if(!f){var p=document.createElement("canvas");p.width=1,p.height=1,f=p.getContext("2d"),this.pixelContext_=f}f.clearRect(0,0,1,1);var m;try{f.drawImage(s.canvas,u,d,1,1,0,0,1,1),m=f.getImageData(0,0,1,1).data}catch(g){return g.name==="SecurityError"?(this.pixelContext_=null,new Uint8Array):m}return m[3]===0?null:m},i.prototype.disposeInternal=function(){delete this.frameState,n.prototype.disposeInternal.call(this)},i}(LayerRenderer$1);const CanvasLayerRenderer$1=CanvasLayerRenderer,BuilderType={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};function drawTextOnPath(n,i,t,r,o,a,s,l,c,h,u,d){var f=n[i],p=n[i+1],m=0,g=0,v=0,_=0;function y(){m=f,g=p,i+=r,f=n[i],p=n[i+1],_+=v,v=Math.sqrt((f-m)*(f-m)+(p-g)*(p-g))}do y();while(i<t-r&&_+v<a);for(var b=v===0?0:(a-_)/v,x=lerp(m,f,b),E=lerp(g,p,b),C=i-r,$=_,S=a+l*c(h,o,u);i<t-r&&_+v<S;)y();b=v===0?0:(S-_)/v;var P=lerp(m,f,b),T=lerp(g,p,b),k;if(d){var L=[x,E,P,T];rotate(L,0,4,2,d,L,L),k=L[0]>L[2]}else k=x>P;var N=Math.PI,z=[],B=C+r===i;i=C,v=0,_=$,f=n[i],p=n[i+1];var U;if(B){y(),U=Math.atan2(p-g,f-m),k&&(U+=U>0?-N:N);var D=(P+x)/2,M=(T+E)/2;return z[0]=[D,M,(S-a)/2,U,o],z}for(var F=0,j=o.length;F<j;){y();var Y=Math.atan2(p-g,f-m);if(k&&(Y+=Y>0?-N:N),U!==void 0){var W=Y-U;if(W+=W>N?-2*N:W<-N?2*N:0,Math.abs(W)>s)return null}U=Y;for(var q=F,X=0;F<j;++F){var K=k?j-F-1:F,Q=l*c(h,o[K],u);if(i+r<t&&_+v<a+X+Q/2)break;X+=Q}if(F!==q){var rt=k?o.substring(j-q,j-F):o.substring(q,F);b=v===0?0:(a+X/2-_)/v;var D=lerp(m,f,b),M=lerp(g,p,b);z.push([D,M,X/2,Y,rt]),a+=X}}return z}var tmpExtent=createEmpty(),p1=[],p2=[],p3=[],p4=[];function getDeclutterBox(n){return n[3].declutterBox}var rtlRegEx=new RegExp("[֑-ࣿיִ-﷿ﹰ-ﻼࠀ-࿿-]");function horizontalTextAlign(n,i){return(i==="start"||i==="end")&&!rtlRegEx.test(n)&&(i=i==="start"?"left":"right"),TEXT_ALIGN[i]}function createTextChunks(n,i,t){return t>0&&n.push(`
`,""),n.push(i,""),n}var Executor=function(){function n(i,t,r,o){this.overlaps=r,this.pixelRatio=t,this.resolution=i,this.alignFill_,this.instructions=o.instructions,this.coordinates=o.coordinates,this.coordinateCache_={},this.renderedTransform_=create(),this.hitDetectionInstructions=o.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=o.fillStates||{},this.strokeStates=o.strokeStates||{},this.textStates=o.textStates||{},this.widths_={},this.labels_={}}return n.prototype.createLabel=function(i,t,r,o){var a=i+t+r+o;if(this.labels_[a])return this.labels_[a];var s=o?this.strokeStates[o]:null,l=r?this.fillStates[r]:null,c=this.textStates[t],h=this.pixelRatio,u=[c.scale[0]*h,c.scale[1]*h],d=Array.isArray(i),f=horizontalTextAlign(d?i[0]:i,c.textAlign||defaultTextAlign),p=o&&s.lineWidth?s.lineWidth:0,m=d?i:i.split(`
`).reduce(createTextChunks,[]),g=getTextDimensions(c,m),v=g.width,_=g.height,y=g.widths,b=g.heights,x=g.lineWidths,E=v+p,C=[],$=(E+2)*u[0],S=(_+p)*u[1],P={width:$<0?Math.floor($):Math.ceil($),height:S<0?Math.floor(S):Math.ceil(S),contextInstructions:C};if((u[0]!=1||u[1]!=1)&&C.push("scale",u),o){C.push("strokeStyle",s.strokeStyle),C.push("lineWidth",p),C.push("lineCap",s.lineCap),C.push("lineJoin",s.lineJoin),C.push("miterLimit",s.miterLimit);var T=WORKER_OFFSCREEN_CANVAS?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D;T.prototype.setLineDash&&(C.push("setLineDash",[s.lineDash]),C.push("lineDashOffset",s.lineDashOffset))}r&&C.push("fillStyle",l.fillStyle),C.push("textBaseline","middle"),C.push("textAlign","center");for(var k=.5-f,L=f*E+k*p,N=[],z=[],B=0,U=0,D=0,M=0,F,j=0,Y=m.length;j<Y;j+=2){var W=m[j];if(W===`
`){U+=B,B=0,L=f*E+k*p,++M;continue}var q=m[j+1]||c.font;q!==F&&(o&&N.push("font",q),r&&z.push("font",q),F=q),B=Math.max(B,b[D]);var X=[W,L+k*y[D]+f*(y[D]-x[M]),.5*(p+B)+U];L+=y[D],o&&N.push("strokeText",X),r&&z.push("fillText",X),++D}return Array.prototype.push.apply(C,N),Array.prototype.push.apply(C,z),this.labels_[a]=P,P},n.prototype.replayTextBackground_=function(i,t,r,o,a,s,l){i.beginPath(),i.moveTo.apply(i,t),i.lineTo.apply(i,r),i.lineTo.apply(i,o),i.lineTo.apply(i,a),i.lineTo.apply(i,t),s&&(this.alignFill_=s[2],this.fill_(i)),l&&(this.setStrokeStyle_(i,l),i.stroke())},n.prototype.calculateImageOrLabelDimensions_=function(i,t,r,o,a,s,l,c,h,u,d,f,p,m,g,v){l*=f[0],c*=f[1];var _=r-l,y=o-c,b=a+h>i?i-h:a,x=s+u>t?t-u:s,E=m[3]+b*f[0]+m[1],C=m[0]+x*f[1]+m[2],$=_-m[3],S=y-m[0];(g||d!==0)&&(p1[0]=$,p4[0]=$,p1[1]=S,p2[1]=S,p2[0]=$+E,p3[0]=p2[0],p3[1]=S+C,p4[1]=p3[1]);var P;return d!==0?(P=compose(create(),r,o,1,1,d,-r,-o),apply(P,p1),apply(P,p2),apply(P,p3),apply(P,p4),createOrUpdate$2(Math.min(p1[0],p2[0],p3[0],p4[0]),Math.min(p1[1],p2[1],p3[1],p4[1]),Math.max(p1[0],p2[0],p3[0],p4[0]),Math.max(p1[1],p2[1],p3[1],p4[1]),tmpExtent)):createOrUpdate$2(Math.min($,$+E),Math.min(S,S+C),Math.max($,$+E),Math.max(S,S+C),tmpExtent),p&&(_=Math.round(_),y=Math.round(y)),{drawImageX:_,drawImageY:y,drawImageW:b,drawImageH:x,originX:h,originY:u,declutterBox:{minX:tmpExtent[0],minY:tmpExtent[1],maxX:tmpExtent[2],maxY:tmpExtent[3],value:v},canvasTransform:P,scale:f}},n.prototype.replayImageOrLabel_=function(i,t,r,o,a,s,l){var c=!!(s||l),h=o.declutterBox,u=i.canvas,d=l?l[2]*o.scale[0]/2:0,f=h.minX-d<=u.width/t&&h.maxX+d>=0&&h.minY-d<=u.height/t&&h.maxY+d>=0;return f&&(c&&this.replayTextBackground_(i,p1,p2,p3,p4,s,l),drawImageOrLabel(i,o.canvasTransform,a,r,o.originX,o.originY,o.drawImageW,o.drawImageH,o.drawImageX,o.drawImageY,o.scale)),!0},n.prototype.fill_=function(i){if(this.alignFill_){var t=apply(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;i.save(),i.translate(t[0]%r,t[1]%r),i.rotate(this.viewRotation_)}i.fill(),this.alignFill_&&i.restore()},n.prototype.setStrokeStyle_=function(i,t){i.strokeStyle=t[1],i.lineWidth=t[2],i.lineCap=t[3],i.lineJoin=t[4],i.miterLimit=t[5],i.setLineDash&&(i.lineDashOffset=t[7],i.setLineDash(t[6]))},n.prototype.drawLabelWithPointPlacement_=function(i,t,r,o){var a=this.textStates[t],s=this.createLabel(i,t,o,r),l=this.strokeStates[r],c=this.pixelRatio,h=horizontalTextAlign(Array.isArray(i)?i[0]:i,a.textAlign||defaultTextAlign),u=TEXT_ALIGN[a.textBaseline||defaultTextBaseline],d=l&&l.lineWidth?l.lineWidth:0,f=s.width/c-2*a.scale[0],p=h*f+2*(.5-h)*d,m=u*s.height/c+2*(.5-u)*d;return{label:s,anchorX:p,anchorY:m}},n.prototype.execute_=function(i,t,r,o,a,s,l,c){var h;this.pixelCoordinates_&&equals$2(r,this.renderedTransform_)?h=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),h=transform2D(this.coordinates,0,this.coordinates.length,2,r,this.pixelCoordinates_),setFromArray(this.renderedTransform_,r));for(var u=0,d=o.length,f=0,p,m,g,v,_,y,b,x,E,C,$,S,P=0,T=0,k=null,L=null,N=this.coordinateCache_,z=this.viewRotation_,B=Math.round(Math.atan2(-r[1],r[0])*1e12)/1e12,U={context:i,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:z},D=this.instructions!=o||this.overlaps?0:200,M,F,j,Y;u<d;){var W=o[u],q=W[0];switch(q){case Instruction.BEGIN_GEOMETRY:M=W[1],Y=W[3],M.getGeometry()?l!==void 0&&!intersects$1(l,Y.getExtent())?u=W[2]+1:++u:u=W[2];break;case Instruction.BEGIN_PATH:P>D&&(this.fill_(i),P=0),T>D&&(i.stroke(),T=0),!P&&!T&&(i.beginPath(),v=NaN,_=NaN),++u;break;case Instruction.CIRCLE:f=W[1];var X=h[f],K=h[f+1],Q=h[f+2],rt=h[f+3],J=Q-X,et=rt-K,nt=Math.sqrt(J*J+et*et);i.moveTo(X+nt,K),i.arc(X,K,nt,0,2*Math.PI,!0),++u;break;case Instruction.CLOSE_PATH:i.closePath(),++u;break;case Instruction.CUSTOM:f=W[1],p=W[2];var at=W[3],ct=W[4],ht=W.length==6?W[5]:void 0;U.geometry=at,U.feature=M,u in N||(N[u]=[]);var ut=N[u];ht?ht(h,f,p,2,ut):(ut[0]=h[f],ut[1]=h[f+1],ut.length=2),ct(ut,U),++u;break;case Instruction.DRAW_IMAGE:f=W[1],p=W[2],x=W[3],m=W[4],g=W[5];var tt=W[6],it=W[7],ot=W[8],st=W[9],lt=W[10],dt=W[11],pt=W[12],ft=W[13],mt=W[14];if(!x&&W.length>=19){E=W[18],C=W[19],$=W[20],S=W[21];var vt=this.drawLabelWithPointPlacement_(E,C,$,S);x=vt.label,W[3]=x;var _t=W[22];m=(vt.anchorX-_t)*this.pixelRatio,W[4]=m;var gt=W[23];g=(vt.anchorY-gt)*this.pixelRatio,W[5]=g,tt=x.height,W[6]=tt,ft=x.width,W[13]=ft}var bt=void 0;W.length>24&&(bt=W[24]);var $t=void 0,Ct=void 0,St=void 0;W.length>16?($t=W[15],Ct=W[16],St=W[17]):($t=defaultPadding,Ct=!1,St=!1),lt&&B?dt+=z:!lt&&!B&&(dt-=z);for(var Ot=0;f<p;f+=2)if(!(bt&&bt[Ot++]<ft/this.pixelRatio)){var xt=this.calculateImageOrLabelDimensions_(x.width,x.height,h[f],h[f+1],ft,tt,m,g,ot,st,dt,pt,a,$t,Ct||St,M),Rt=[i,t,x,xt,it,Ct?k:null,St?L:null],yt=void 0,Tt=void 0;if(c&&mt){var Pt=p-f;if(!mt[Pt]){mt[Pt]=Rt;continue}if(yt=mt[Pt],delete mt[Pt],Tt=getDeclutterBox(yt),c.collides(Tt))continue}c&&c.collides(xt.declutterBox)||(yt&&(c&&c.insert(Tt),this.replayImageOrLabel_.apply(this,yt)),c&&c.insert(xt.declutterBox),this.replayImageOrLabel_.apply(this,Rt))}++u;break;case Instruction.DRAW_CHARS:var Ht=W[1],Gt=W[2],Bt=W[3],te=W[4];S=W[5];var ee=W[6],Wt=W[7],Vt=W[8];$=W[9];var zt=W[10];E=W[11],C=W[12];var Yt=[W[13],W[13]],Ut=this.textStates[C],Mt=Ut.font,kt=[Ut.scale[0]*Wt,Ut.scale[1]*Wt],It=void 0;Mt in this.widths_?It=this.widths_[Mt]:(It={},this.widths_[Mt]=It);var Xt=lineStringLength(h,Ht,Gt,2),qt=Math.abs(kt[0])*measureAndCacheTextWidth(Mt,E,It);if(te||qt<=Xt){var ie=this.textStates[C].textAlign,re=(Xt-qt)*TEXT_ALIGN[ie],Lt=drawTextOnPath(h,Ht,Gt,2,E,re,ee,Math.abs(kt[0]),measureAndCacheTextWidth,Mt,It,B?0:this.viewRotation_);t:if(Lt){var Dt=[],At=void 0,Nt=void 0,Ft=void 0,wt=void 0,Et=void 0;if($)for(At=0,Nt=Lt.length;At<Nt;++At){Et=Lt[At],Ft=Et[4],wt=this.createLabel(Ft,C,"",$),m=Et[2]+(kt[0]<0?-zt:zt),g=Bt*wt.height+(.5-Bt)*2*zt*kt[1]/kt[0]-Vt;var xt=this.calculateImageOrLabelDimensions_(wt.width,wt.height,Et[0],Et[1],wt.width,wt.height,m,g,0,0,Et[3],Yt,!1,defaultPadding,!1,M);if(c&&c.collides(xt.declutterBox))break t;Dt.push([i,t,wt,xt,1,null,null])}if(S)for(At=0,Nt=Lt.length;At<Nt;++At){Et=Lt[At],Ft=Et[4],wt=this.createLabel(Ft,C,S,""),m=Et[2],g=Bt*wt.height-Vt;var xt=this.calculateImageOrLabelDimensions_(wt.width,wt.height,Et[0],Et[1],wt.width,wt.height,m,g,0,0,Et[3],Yt,!1,defaultPadding,!1,M);if(c&&c.collides(xt.declutterBox))break t;Dt.push([i,t,wt,xt,1,null,null])}c&&c.load(Dt.map(getDeclutterBox));for(var jt=0,ne=Dt.length;jt<ne;++jt)this.replayImageOrLabel_.apply(this,Dt[jt])}}++u;break;case Instruction.END_GEOMETRY:if(s!==void 0){M=W[1];var Kt=s(M,Y);if(Kt)return Kt}++u;break;case Instruction.FILL:D?P++:this.fill_(i),++u;break;case Instruction.MOVE_TO_LINE_TO:for(f=W[1],p=W[2],F=h[f],j=h[f+1],y=F+.5|0,b=j+.5|0,(y!==v||b!==_)&&(i.moveTo(F,j),v=y,_=b),f+=2;f<p;f+=2)F=h[f],j=h[f+1],y=F+.5|0,b=j+.5|0,(f==p-2||y!==v||b!==_)&&(i.lineTo(F,j),v=y,_=b);++u;break;case Instruction.SET_FILL_STYLE:k=W,this.alignFill_=W[2],P&&(this.fill_(i),P=0,T&&(i.stroke(),T=0)),i.fillStyle=W[1],++u;break;case Instruction.SET_STROKE_STYLE:L=W,T&&(i.stroke(),T=0),this.setStrokeStyle_(i,W),++u;break;case Instruction.STROKE:D?T++:i.stroke(),++u;break;default:++u;break}}P&&this.fill_(i),T&&i.stroke()},n.prototype.execute=function(i,t,r,o,a,s){this.viewRotation_=o,this.execute_(i,t,r,this.instructions,a,void 0,void 0,s)},n.prototype.executeHitDetection=function(i,t,r,o,a){return this.viewRotation_=r,this.execute_(i,1,t,this.hitDetectionInstructions,!0,o,a)},n}();const Executor$1=Executor;var ORDER=[BuilderType.POLYGON,BuilderType.CIRCLE,BuilderType.LINE_STRING,BuilderType.IMAGE,BuilderType.TEXT,BuilderType.DEFAULT],ExecutorGroup=function(){function n(i,t,r,o,a,s){this.maxExtent_=i,this.overlaps_=o,this.pixelRatio_=r,this.resolution_=t,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=create(),this.createExecutors_(a)}return n.prototype.clip=function(i,t){var r=this.getClipCoords(t);i.beginPath(),i.moveTo(r[0],r[1]),i.lineTo(r[2],r[3]),i.lineTo(r[4],r[5]),i.lineTo(r[6],r[7]),i.clip()},n.prototype.createExecutors_=function(i){for(var t in i){var r=this.executorsByZIndex_[t];r===void 0&&(r={},this.executorsByZIndex_[t]=r);var o=i[t];for(var a in o){var s=o[a];r[a]=new Executor$1(this.resolution_,this.pixelRatio_,this.overlaps_,s)}}},n.prototype.hasExecutors=function(i){for(var t in this.executorsByZIndex_)for(var r=this.executorsByZIndex_[t],o=0,a=i.length;o<a;++o)if(i[o]in r)return!0;return!1},n.prototype.forEachFeatureAtCoordinate=function(i,t,r,o,a,s){o=Math.round(o);var l=o*2+1,c=compose(this.hitDetectionTransform_,o+.5,o+.5,1/t,-1/t,-r,-i[0],-i[1]),h=!this.hitDetectionContext_;h&&(this.hitDetectionContext_=createCanvasContext2D(l,l));var u=this.hitDetectionContext_;u.canvas.width!==l||u.canvas.height!==l?(u.canvas.width=l,u.canvas.height=l):h||u.clearRect(0,0,l,l);var d;this.renderBuffer_!==void 0&&(d=createEmpty(),extendCoordinate(d,i),buffer$1(d,t*(this.renderBuffer_+o),d));var f=getPixelIndexArray(o),p;function m(C,$){for(var S=u.getImageData(0,0,l,l).data,P=0,T=f.length;P<T;P++)if(S[f[P]]>0){if(!s||p!==BuilderType.IMAGE&&p!==BuilderType.TEXT||s.indexOf(C)!==-1){var k=(f[P]-3)/4,L=o-k%l,N=o-(k/l|0),z=a(C,$,L*L+N*N);if(z)return z}u.clearRect(0,0,l,l);break}}var g=Object.keys(this.executorsByZIndex_).map(Number);g.sort(numberSafeCompareFunction);var v,_,y,b,x;for(v=g.length-1;v>=0;--v){var E=g[v].toString();for(y=this.executorsByZIndex_[E],_=ORDER.length-1;_>=0;--_)if(p=ORDER[_],b=y[p],b!==void 0&&(x=b.executeHitDetection(u,c,r,m,d),x))return x}},n.prototype.getClipCoords=function(i){var t=this.maxExtent_;if(!t)return null;var r=t[0],o=t[1],a=t[2],s=t[3],l=[r,o,r,s,a,s,a,o];return transform2D(l,0,8,2,i,l),l},n.prototype.isEmpty=function(){return isEmpty$1(this.executorsByZIndex_)},n.prototype.execute=function(i,t,r,o,a,s,l){var c=Object.keys(this.executorsByZIndex_).map(Number);c.sort(numberSafeCompareFunction),this.maxExtent_&&(i.save(),this.clip(i,r));var h=s||ORDER,u,d,f,p,m,g;for(l&&c.reverse(),u=0,d=c.length;u<d;++u){var v=c[u].toString();for(m=this.executorsByZIndex_[v],f=0,p=h.length;f<p;++f){var _=h[f];g=m[_],g!==void 0&&g.execute(i,t,r,o,a,l)}}this.maxExtent_&&i.restore()},n}(),circlePixelIndexArrayCache={};function getPixelIndexArray(n){if(circlePixelIndexArrayCache[n]!==void 0)return circlePixelIndexArrayCache[n];for(var i=n*2+1,t=n*n,r=new Array(t+1),o=0;o<=n;++o)for(var a=0;a<=n;++a){var s=o*o+a*a;if(s>t)break;var l=r[s];l||(l=[],r[s]=l),l.push(((n+o)*i+(n+a))*4+3),o>0&&l.push(((n-o)*i+(n+a))*4+3),a>0&&(l.push(((n+o)*i+(n-a))*4+3),o>0&&l.push(((n-o)*i+(n-a))*4+3))}for(var c=[],o=0,h=r.length;o<h;++o)r[o]&&c.push.apply(c,r[o]);return circlePixelIndexArrayCache[n]=c,c}const ExecutorGroup$1=ExecutorGroup;var __extends$t=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),CanvasImmediateRenderer=function(n){__extends$t(i,n);function i(t,r,o,a,s,l,c){var h=n.call(this)||this;return h.context_=t,h.pixelRatio_=r,h.extent_=o,h.transform_=a,h.viewRotation_=s,h.squaredTolerance_=l,h.userTransform_=c,h.contextFillState_=null,h.contextStrokeState_=null,h.contextTextState_=null,h.fillState_=null,h.strokeState_=null,h.image_=null,h.imageAnchorX_=0,h.imageAnchorY_=0,h.imageHeight_=0,h.imageOpacity_=0,h.imageOriginX_=0,h.imageOriginY_=0,h.imageRotateWithView_=!1,h.imageRotation_=0,h.imageScale_=[0,0],h.imageWidth_=0,h.text_="",h.textOffsetX_=0,h.textOffsetY_=0,h.textRotateWithView_=!1,h.textRotation_=0,h.textScale_=[0,0],h.textFillState_=null,h.textStrokeState_=null,h.textState_=null,h.pixelCoordinates_=[],h.tmpLocalTransform_=create(),h}return i.prototype.drawImages_=function(t,r,o,a){if(this.image_){var s=transform2D(t,r,o,a,this.transform_,this.pixelCoordinates_),l=this.context_,c=this.tmpLocalTransform_,h=l.globalAlpha;this.imageOpacity_!=1&&(l.globalAlpha=h*this.imageOpacity_);var u=this.imageRotation_;this.imageRotateWithView_&&(u+=this.viewRotation_);for(var d=0,f=s.length;d<f;d+=2){var p=s[d]-this.imageAnchorX_,m=s[d+1]-this.imageAnchorY_;if(u!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){var g=p+this.imageAnchorX_,v=m+this.imageAnchorY_;compose(c,g,v,1,1,u,-g,-v),l.setTransform.apply(l,c),l.translate(g,v),l.scale(this.imageScale_[0],this.imageScale_[1]),l.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),l.setTransform(1,0,0,1,0,0)}else l.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,p,m,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(l.globalAlpha=h)}},i.prototype.drawText_=function(t,r,o,a){if(!(!this.textState_||this.text_==="")){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var s=transform2D(t,r,o,a,this.transform_,this.pixelCoordinates_),l=this.context_,c=this.textRotation_;for(this.textRotateWithView_&&(c+=this.viewRotation_);r<o;r+=a){var h=s[r]+this.textOffsetX_,u=s[r+1]+this.textOffsetY_;if(c!==0||this.textScale_[0]!=1||this.textScale_[1]!=1){var d=compose(this.tmpLocalTransform_,h,u,1,1,c,-h,-u);l.setTransform.apply(l,d),l.translate(h,u),l.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&l.strokeText(this.text_,0,0),this.textFillState_&&l.fillText(this.text_,0,0),l.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&l.strokeText(this.text_,h,u),this.textFillState_&&l.fillText(this.text_,h,u)}}},i.prototype.moveToLineTo_=function(t,r,o,a,s){var l=this.context_,c=transform2D(t,r,o,a,this.transform_,this.pixelCoordinates_);l.moveTo(c[0],c[1]);var h=c.length;s&&(h-=2);for(var u=2;u<h;u+=2)l.lineTo(c[u],c[u+1]);return s&&l.closePath(),o},i.prototype.drawRings_=function(t,r,o,a){for(var s=0,l=o.length;s<l;++s)r=this.moveToLineTo_(t,r,o[s],a,!0);return r},i.prototype.drawCircle=function(t){if(intersects$1(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=transformGeom2D(t,this.transform_,this.pixelCoordinates_),o=r[2]-r[0],a=r[3]-r[1],s=Math.sqrt(o*o+a*a),l=this.context_;l.beginPath(),l.arc(r[0],r[1],s,0,2*Math.PI),this.fillState_&&l.fill(),this.strokeState_&&l.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}},i.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},i.prototype.setTransform=function(t){this.transform_=t},i.prototype.drawGeometry=function(t){var r=t.getType();switch(r){case GeometryType.POINT:this.drawPoint(t);break;case GeometryType.LINE_STRING:this.drawLineString(t);break;case GeometryType.POLYGON:this.drawPolygon(t);break;case GeometryType.MULTI_POINT:this.drawMultiPoint(t);break;case GeometryType.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case GeometryType.MULTI_POLYGON:this.drawMultiPolygon(t);break;case GeometryType.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case GeometryType.CIRCLE:this.drawCircle(t);break}},i.prototype.drawFeature=function(t,r){var o=r.getGeometryFunction()(t);!o||!intersects$1(this.extent_,o.getExtent())||(this.setStyle(r),this.drawGeometry(o))},i.prototype.drawGeometryCollection=function(t){for(var r=t.getGeometriesArray(),o=0,a=r.length;o<a;++o)this.drawGeometry(r[o])},i.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=t.getFlatCoordinates(),o=t.getStride();this.image_&&this.drawImages_(r,0,r.length,o),this.text_!==""&&this.drawText_(r,0,r.length,o)},i.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=t.getFlatCoordinates(),o=t.getStride();this.image_&&this.drawImages_(r,0,r.length,o),this.text_!==""&&this.drawText_(r,0,r.length,o)},i.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!intersects$1(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var r=this.context_,o=t.getFlatCoordinates();r.beginPath(),this.moveToLineTo_(o,0,o.length,t.getStride(),!1),r.stroke()}if(this.text_!==""){var a=t.getFlatMidpoint();this.drawText_(a,0,2,2)}}},i.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=t.getExtent();if(intersects$1(this.extent_,r)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var o=this.context_,a=t.getFlatCoordinates(),s=0,l=t.getEnds(),c=t.getStride();o.beginPath();for(var h=0,u=l.length;h<u;++h)s=this.moveToLineTo_(a,s,l[h],c,!1);o.stroke()}if(this.text_!==""){var d=t.getFlatMidpoints();this.drawText_(d,0,d.length,2)}}},i.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!intersects$1(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=this.context_;r.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(this.text_!==""){var o=t.getFlatInteriorPoint();this.drawText_(o,0,2,2)}}},i.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!intersects$1(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=this.context_,o=t.getOrientedFlatCoordinates(),a=0,s=t.getEndss(),l=t.getStride();r.beginPath();for(var c=0,h=s.length;c<h;++c){var u=s[c];a=this.drawRings_(o,a,u,l)}this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(this.text_!==""){var d=t.getFlatInteriorPoints();this.drawText_(d,0,d.length,2)}}},i.prototype.setContextFillState_=function(t){var r=this.context_,o=this.contextFillState_;o?o.fillStyle!=t.fillStyle&&(o.fillStyle=t.fillStyle,r.fillStyle=t.fillStyle):(r.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},i.prototype.setContextStrokeState_=function(t){var r=this.context_,o=this.contextStrokeState_;o?(o.lineCap!=t.lineCap&&(o.lineCap=t.lineCap,r.lineCap=t.lineCap),r.setLineDash&&(equals$2(o.lineDash,t.lineDash)||r.setLineDash(o.lineDash=t.lineDash),o.lineDashOffset!=t.lineDashOffset&&(o.lineDashOffset=t.lineDashOffset,r.lineDashOffset=t.lineDashOffset)),o.lineJoin!=t.lineJoin&&(o.lineJoin=t.lineJoin,r.lineJoin=t.lineJoin),o.lineWidth!=t.lineWidth&&(o.lineWidth=t.lineWidth,r.lineWidth=t.lineWidth),o.miterLimit!=t.miterLimit&&(o.miterLimit=t.miterLimit,r.miterLimit=t.miterLimit),o.strokeStyle!=t.strokeStyle&&(o.strokeStyle=t.strokeStyle,r.strokeStyle=t.strokeStyle)):(r.lineCap=t.lineCap,r.setLineDash&&(r.setLineDash(t.lineDash),r.lineDashOffset=t.lineDashOffset),r.lineJoin=t.lineJoin,r.lineWidth=t.lineWidth,r.miterLimit=t.miterLimit,r.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},i.prototype.setContextTextState_=function(t){var r=this.context_,o=this.contextTextState_,a=t.textAlign?t.textAlign:defaultTextAlign;o?(o.font!=t.font&&(o.font=t.font,r.font=t.font),o.textAlign!=a&&(o.textAlign=a,r.textAlign=a),o.textBaseline!=t.textBaseline&&(o.textBaseline=t.textBaseline,r.textBaseline=t.textBaseline)):(r.font=t.font,r.textAlign=a,r.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:a,textBaseline:t.textBaseline})},i.prototype.setFillStrokeStyle=function(t,r){var o=this;if(!t)this.fillState_=null;else{var a=t.getColor();this.fillState_={fillStyle:asColorLike(a||defaultFillStyle)}}if(!r)this.strokeState_=null;else{var s=r.getColor(),l=r.getLineCap(),c=r.getLineDash(),h=r.getLineDashOffset(),u=r.getLineJoin(),d=r.getWidth(),f=r.getMiterLimit(),p=c||defaultLineDash;this.strokeState_={lineCap:l!==void 0?l:defaultLineCap,lineDash:this.pixelRatio_===1?p:p.map(function(m){return m*o.pixelRatio_}),lineDashOffset:(h||defaultLineDashOffset)*this.pixelRatio_,lineJoin:u!==void 0?u:defaultLineJoin,lineWidth:(d!==void 0?d:defaultLineWidth)*this.pixelRatio_,miterLimit:f!==void 0?f:defaultMiterLimit,strokeStyle:asColorLike(s||defaultStrokeStyle)}}},i.prototype.setImageStyle=function(t){var r;if(!t||!(r=t.getSize())){this.image_=null;return}var o=t.getAnchor(),a=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=o[0]*this.pixelRatio_,this.imageAnchorY_=o[1]*this.pixelRatio_,this.imageHeight_=r[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=a[0],this.imageOriginY_=a[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=r[0]*this.pixelRatio_},i.prototype.setTextStyle=function(t){if(!t)this.text_="";else{var r=t.getFill();if(!r)this.textFillState_=null;else{var o=r.getColor();this.textFillState_={fillStyle:asColorLike(o||defaultFillStyle)}}var a=t.getStroke();if(!a)this.textStrokeState_=null;else{var s=a.getColor(),l=a.getLineCap(),c=a.getLineDash(),h=a.getLineDashOffset(),u=a.getLineJoin(),d=a.getWidth(),f=a.getMiterLimit();this.textStrokeState_={lineCap:l!==void 0?l:defaultLineCap,lineDash:c||defaultLineDash,lineDashOffset:h||defaultLineDashOffset,lineJoin:u!==void 0?u:defaultLineJoin,lineWidth:d!==void 0?d:defaultLineWidth,miterLimit:f!==void 0?f:defaultMiterLimit,strokeStyle:asColorLike(s||defaultStrokeStyle)}}var p=t.getFont(),m=t.getOffsetX(),g=t.getOffsetY(),v=t.getRotateWithView(),_=t.getRotation(),y=t.getScaleArray(),b=t.getText(),x=t.getTextAlign(),E=t.getTextBaseline();this.textState_={font:p!==void 0?p:defaultFont,textAlign:x!==void 0?x:defaultTextAlign,textBaseline:E!==void 0?E:defaultTextBaseline},this.text_=b!==void 0?Array.isArray(b)?b.reduce(function(C,$,S){return C+=S%2?" ":$},""):b:"",this.textOffsetX_=m!==void 0?this.pixelRatio_*m:0,this.textOffsetY_=g!==void 0?this.pixelRatio_*g:0,this.textRotateWithView_=v!==void 0?v:!1,this.textRotation_=_!==void 0?_:0,this.textScale_=[this.pixelRatio_*y[0],this.pixelRatio_*y[1]]}},i}(VectorContext$1);const IconAnchorUnits={FRACTION:"fraction",PIXELS:"pixels"},IconOrigin={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};var __extends$s=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ImageBase=function(n){__extends$s(i,n);function i(t,r,o,a){var s=n.call(this)||this;return s.extent=t,s.pixelRatio_=o,s.resolution=r,s.state=a,s}return i.prototype.changed=function(){this.dispatchEvent(EventType.CHANGE)},i.prototype.getExtent=function(){return this.extent},i.prototype.getImage=function(){return abstract()},i.prototype.getPixelRatio=function(){return this.pixelRatio_},i.prototype.getResolution=function(){return this.resolution},i.prototype.getState=function(){return this.state},i.prototype.load=function(){abstract()},i}(Target);const ImageBase$1=ImageBase;var __extends$r=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ImageWrapper=function(n){__extends$r(i,n);function i(t,r,o,a,s,l){var c=n.call(this,t,r,o,ImageState.IDLE)||this;return c.src_=a,c.image_=new Image,s!==null&&(c.image_.crossOrigin=s),c.unlisten_=null,c.state=ImageState.IDLE,c.imageLoadFunction_=l,c}return i.prototype.getImage=function(){return this.image_},i.prototype.handleImageError_=function(){this.state=ImageState.ERROR,this.unlistenImage_(),this.changed()},i.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=getHeight(this.extent)/this.image_.height),this.state=ImageState.LOADED,this.unlistenImage_(),this.changed()},i.prototype.load=function(){(this.state==ImageState.IDLE||this.state==ImageState.ERROR)&&(this.state=ImageState.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=listenImage(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},i.prototype.setImage=function(t){this.image_=t,this.resolution=getHeight(this.extent)/this.image_.height},i.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},i}(ImageBase$1);function listenImage(n,i,t){var r=n,o=!0,a=!1,s=!1,l=[listenOnce(r,EventType.LOAD,function(){s=!0,a||i()})];return r.src&&IMAGE_DECODE?(a=!0,r.decode().then(function(){o&&i()}).catch(function(c){o&&(s?i():t())})):l.push(listenOnce(r,EventType.ERROR,t)),function(){o=!1,l.forEach(unlistenByKey)}}const ImageWrapper$1=ImageWrapper;var __extends$q=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),taintedTestContext=null,IconImage=function(n){__extends$q(i,n);function i(t,r,o,a,s,l){var c=n.call(this)||this;return c.hitDetectionImage_=null,c.image_=t||new Image,a!==null&&(c.image_.crossOrigin=a),c.canvas_={},c.color_=l,c.unlisten_=null,c.imageState_=s,c.size_=o,c.src_=r,c.tainted_,c}return i.prototype.isTainted_=function(){if(this.tainted_===void 0&&this.imageState_===ImageState.LOADED){taintedTestContext||(taintedTestContext=createCanvasContext2D(1,1)),taintedTestContext.drawImage(this.image_,0,0);try{taintedTestContext.getImageData(0,0,1,1),this.tainted_=!1}catch{taintedTestContext=null,this.tainted_=!0}}return this.tainted_===!0},i.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(EventType.CHANGE)},i.prototype.handleImageError_=function(){this.imageState_=ImageState.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},i.prototype.handleImageLoad_=function(){this.imageState_=ImageState.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},i.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},i.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},i.prototype.getImageState=function(){return this.imageState_},i.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],r=this.size_[1],o=createCanvasContext2D(t,r);o.fillRect(0,0,t,r),this.hitDetectionImage_=o.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},i.prototype.getSize=function(){return this.size_},i.prototype.getSrc=function(){return this.src_},i.prototype.load=function(){if(this.imageState_==ImageState.IDLE){this.imageState_=ImageState.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=listenImage(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},i.prototype.replaceColor_=function(t){if(!(!this.color_||this.canvas_[t]||this.imageState_!==ImageState.LOADED)){var r=document.createElement("canvas");this.canvas_[t]=r,r.width=Math.ceil(this.image_.width*t),r.height=Math.ceil(this.image_.height*t);var o=r.getContext("2d");if(o.scale(t,t),o.drawImage(this.image_,0,0),o.globalCompositeOperation="multiply",o.globalCompositeOperation==="multiply"||this.isTainted_())o.fillStyle=asString(this.color_),o.fillRect(0,0,r.width/t,r.height/t),o.globalCompositeOperation="destination-in",o.drawImage(this.image_,0,0);else{for(var a=o.getImageData(0,0,r.width,r.height),s=a.data,l=this.color_[0]/255,c=this.color_[1]/255,h=this.color_[2]/255,u=this.color_[3],d=0,f=s.length;d<f;d+=4)s[d]*=l,s[d+1]*=c,s[d+2]*=h,s[d+3]*=u;o.putImageData(a,0,0)}}},i.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},i}(Target);function get$1(n,i,t,r,o,a){var s=shared.get(i,r,a);return s||(s=new IconImage(n,i,t,r,o,a),shared.set(i,r,a,s)),s}var __extends$p=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Icon=function(n){__extends$p(i,n);function i(t){var r=this,o=t||{},a=o.opacity!==void 0?o.opacity:1,s=o.rotation!==void 0?o.rotation:0,l=o.scale!==void 0?o.scale:1,c=o.rotateWithView!==void 0?o.rotateWithView:!1;r=n.call(this,{opacity:a,rotation:s,scale:l,displacement:o.displacement!==void 0?o.displacement:[0,0],rotateWithView:c})||this,r.anchor_=o.anchor!==void 0?o.anchor:[.5,.5],r.normalizedAnchor_=null,r.anchorOrigin_=o.anchorOrigin!==void 0?o.anchorOrigin:IconOrigin.TOP_LEFT,r.anchorXUnits_=o.anchorXUnits!==void 0?o.anchorXUnits:IconAnchorUnits.FRACTION,r.anchorYUnits_=o.anchorYUnits!==void 0?o.anchorYUnits:IconAnchorUnits.FRACTION,r.crossOrigin_=o.crossOrigin!==void 0?o.crossOrigin:null;var h=o.img!==void 0?o.img:null;r.imgSize_=o.imgSize;var u=o.src;assert(!(u!==void 0&&h),4),assert(!h||h&&r.imgSize_,5),(u===void 0||u.length===0)&&h&&(u=h.src||getUid(h)),assert(u!==void 0&&u.length>0,6);var d=o.src!==void 0?ImageState.IDLE:ImageState.LOADED;return r.color_=o.color!==void 0?asArray(o.color):null,r.iconImage_=get$1(h,u,r.imgSize_!==void 0?r.imgSize_:null,r.crossOrigin_,d,r.color_),r.offset_=o.offset!==void 0?o.offset:[0,0],r.offsetOrigin_=o.offsetOrigin!==void 0?o.offsetOrigin:IconOrigin.TOP_LEFT,r.origin_=null,r.size_=o.size!==void 0?o.size:null,r}return i.prototype.clone=function(){var t=this.getScale();return new i({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc()})},i.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var r=this.getSize();if(this.anchorXUnits_==IconAnchorUnits.FRACTION||this.anchorYUnits_==IconAnchorUnits.FRACTION){if(!r)return null;t=this.anchor_.slice(),this.anchorXUnits_==IconAnchorUnits.FRACTION&&(t[0]*=r[0]),this.anchorYUnits_==IconAnchorUnits.FRACTION&&(t[1]*=r[1])}if(this.anchorOrigin_!=IconOrigin.TOP_LEFT){if(!r)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_==IconOrigin.TOP_RIGHT||this.anchorOrigin_==IconOrigin.BOTTOM_RIGHT)&&(t[0]=-t[0]+r[0]),(this.anchorOrigin_==IconOrigin.BOTTOM_LEFT||this.anchorOrigin_==IconOrigin.BOTTOM_RIGHT)&&(t[1]=-t[1]+r[1])}this.normalizedAnchor_=t}var o=this.getDisplacement();return[t[0]-o[0],t[1]+o[1]]},i.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},i.prototype.getColor=function(){return this.color_},i.prototype.getImage=function(t){return this.iconImage_.getImage(t)},i.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},i.prototype.getImageSize=function(){return this.iconImage_.getSize()},i.prototype.getImageState=function(){return this.iconImage_.getImageState()},i.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},i.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=IconOrigin.TOP_LEFT){var r=this.getSize(),o=this.iconImage_.getSize();if(!r||!o)return null;t=t.slice(),(this.offsetOrigin_==IconOrigin.TOP_RIGHT||this.offsetOrigin_==IconOrigin.BOTTOM_RIGHT)&&(t[0]=o[0]-r[0]-t[0]),(this.offsetOrigin_==IconOrigin.BOTTOM_LEFT||this.offsetOrigin_==IconOrigin.BOTTOM_RIGHT)&&(t[1]=o[1]-r[1]-t[1])}return this.origin_=t,this.origin_},i.prototype.getSrc=function(){return this.iconImage_.getSrc()},i.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},i.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(EventType.CHANGE,t)},i.prototype.load=function(){this.iconImage_.load()},i.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(EventType.CHANGE,t)},i}(ImageStyle$1);const Icon$1=Icon;var DEFAULT_FILL_COLOR="#333",Text$1=function(){function n(i){var t=i||{};this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=toSize(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new Fill({color:DEFAULT_FILL_COLOR}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:TextPlacement.POINT,this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding}return n.prototype.clone=function(){var i=this.getScale();return new n({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(i)?i.slice():i,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})},n.prototype.getOverflow=function(){return this.overflow_},n.prototype.getFont=function(){return this.font_},n.prototype.getMaxAngle=function(){return this.maxAngle_},n.prototype.getPlacement=function(){return this.placement_},n.prototype.getOffsetX=function(){return this.offsetX_},n.prototype.getOffsetY=function(){return this.offsetY_},n.prototype.getFill=function(){return this.fill_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getScaleArray=function(){return this.scaleArray_},n.prototype.getStroke=function(){return this.stroke_},n.prototype.getText=function(){return this.text_},n.prototype.getTextAlign=function(){return this.textAlign_},n.prototype.getTextBaseline=function(){return this.textBaseline_},n.prototype.getBackgroundFill=function(){return this.backgroundFill_},n.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},n.prototype.getPadding=function(){return this.padding_},n.prototype.setOverflow=function(i){this.overflow_=i},n.prototype.setFont=function(i){this.font_=i},n.prototype.setMaxAngle=function(i){this.maxAngle_=i},n.prototype.setOffsetX=function(i){this.offsetX_=i},n.prototype.setOffsetY=function(i){this.offsetY_=i},n.prototype.setPlacement=function(i){this.placement_=i},n.prototype.setRotateWithView=function(i){this.rotateWithView_=i},n.prototype.setFill=function(i){this.fill_=i},n.prototype.setRotation=function(i){this.rotation_=i},n.prototype.setScale=function(i){this.scale_=i,this.scaleArray_=toSize(i!==void 0?i:1)},n.prototype.setStroke=function(i){this.stroke_=i},n.prototype.setText=function(i){this.text_=i},n.prototype.setTextAlign=function(i){this.textAlign_=i},n.prototype.setTextBaseline=function(i){this.textBaseline_=i},n.prototype.setBackgroundFill=function(i){this.backgroundFill_=i},n.prototype.setBackgroundStroke=function(i){this.backgroundStroke_=i},n.prototype.setPadding=function(i){this.padding_=i},n}();const Text$2=Text$1;var HIT_DETECT_RESOLUTION=.5;function createHitDetectionImageData(n,i,t,r,o,a,s){var l=n[0]*HIT_DETECT_RESOLUTION,c=n[1]*HIT_DETECT_RESOLUTION,h=createCanvasContext2D(l,c);h.imageSmoothingEnabled=!1;for(var u=h.canvas,d=new CanvasImmediateRenderer(h,HIT_DETECT_RESOLUTION,o,null,s),f=t.length,p=Math.floor((256*256*256-1)/f),m={},g=1;g<=f;++g){var v=t[g-1],_=v.getStyleFunction()||r;if(r){var y=_(v,a);if(y){Array.isArray(y)||(y=[y]);for(var b=g*p,x="#"+("000000"+b.toString(16)).slice(-6),E=0,C=y.length;E<C;++E){var $=y[E],S=$.getGeometryFunction()(v);if(!(!S||!intersects$1(o,S.getExtent()))){var P=$.clone(),T=P.getFill();T&&T.setColor(x);var k=P.getStroke();k&&(k.setColor(x),k.setLineDash(null)),P.setText(void 0);var L=$.getImage();if(L&&L.getOpacity()!==0){var N=L.getImageSize();if(!N)continue;var z=createCanvasContext2D(N[0],N[1],void 0,{alpha:!1}),B=z.canvas;z.fillStyle=x,z.fillRect(0,0,B.width,B.height),P.setImage(new Icon$1({img:B,imgSize:N,anchor:L.getAnchor(),anchorXUnits:IconAnchorUnits.PIXELS,anchorYUnits:IconAnchorUnits.PIXELS,offset:L.getOrigin(),opacity:1,size:L.getSize(),scale:L.getScale(),rotation:L.getRotation(),rotateWithView:L.getRotateWithView()}))}var U=P.getZIndex()||0,D=m[U];D||(D={},m[U]=D,D[GeometryType.POLYGON]=[],D[GeometryType.CIRCLE]=[],D[GeometryType.LINE_STRING]=[],D[GeometryType.POINT]=[]),D[S.getType().replace("Multi","")].push(S,P)}}}}}for(var M=Object.keys(m).map(Number).sort(numberSafeCompareFunction),g=0,F=M.length;g<F;++g){var D=m[M[g]];for(var j in D)for(var Y=D[j],E=0,C=Y.length;E<C;E+=2){d.setStyle(Y[E+1]);for(var W=0,q=i.length;W<q;++W)d.setTransform(i[W]),d.drawGeometry(Y[E])}}return h.getImageData(0,0,u.width,u.height)}function hitDetect(n,i,t){var r=[];if(t){var o=Math.floor(Math.round(n[0])*HIT_DETECT_RESOLUTION),a=Math.floor(Math.round(n[1])*HIT_DETECT_RESOLUTION),s=(clamp(o,0,t.width-1)+clamp(a,0,t.height-1)*t.width)*4,l=t.data[s],c=t.data[s+1],h=t.data[s+2],u=h+256*(c+256*l),d=Math.floor((256*256*256-1)/i.length);u&&u%d===0&&r.push(i[u/d-1])}return r}var SIMPLIFY_TOLERANCE=.5,GEOMETRY_RENDERERS={Point:renderPointGeometry,LineString:renderLineStringGeometry,Polygon:renderPolygonGeometry,MultiPoint:renderMultiPointGeometry,MultiLineString:renderMultiLineStringGeometry,MultiPolygon:renderMultiPolygonGeometry,GeometryCollection:renderGeometryCollectionGeometry,Circle:renderCircleGeometry};function defaultOrder(n,i){return parseInt(getUid(n),10)-parseInt(getUid(i),10)}function getSquaredTolerance(n,i){var t=getTolerance(n,i);return t*t}function getTolerance(n,i){return SIMPLIFY_TOLERANCE*n/i}function renderCircleGeometry(n,i,t,r,o){var a=t.getFill(),s=t.getStroke();if(a||s){var l=n.getBuilder(t.getZIndex(),BuilderType.CIRCLE);l.setFillStrokeStyle(a,s),l.drawCircle(i,r)}var c=t.getText();if(c&&c.getText()){var h=(o||n).getBuilder(t.getZIndex(),BuilderType.TEXT);h.setTextStyle(c),h.drawText(i,r)}}function renderFeature(n,i,t,r,o,a,s){var l=!1,c=t.getImage();if(c){var h=c.getImageState();h==ImageState.LOADED||h==ImageState.ERROR?c.unlistenImageChange(o):(h==ImageState.IDLE&&c.load(),h=c.getImageState(),c.listenImageChange(o),l=!0)}return renderFeatureInternal(n,i,t,r,a,s),l}function renderFeatureInternal(n,i,t,r,o,a){var s=t.getGeometryFunction()(i);if(s){var l=s.simplifyTransformed(r,o),c=t.getRenderer();if(c)renderGeometry(n,l,t,i);else{var h=GEOMETRY_RENDERERS[l.getType()];h(n,l,t,i,a)}}}function renderGeometry(n,i,t,r){if(i.getType()==GeometryType.GEOMETRY_COLLECTION){for(var o=i.getGeometries(),a=0,s=o.length;a<s;++a)renderGeometry(n,o[a],t,r);return}var l=n.getBuilder(t.getZIndex(),BuilderType.DEFAULT);l.drawCustom(i,r,t.getRenderer(),t.getHitDetectionRenderer())}function renderGeometryCollectionGeometry(n,i,t,r,o){var a=i.getGeometriesArray(),s,l;for(s=0,l=a.length;s<l;++s){var c=GEOMETRY_RENDERERS[a[s].getType()];c(n,a[s],t,r,o)}}function renderLineStringGeometry(n,i,t,r,o){var a=t.getStroke();if(a){var s=n.getBuilder(t.getZIndex(),BuilderType.LINE_STRING);s.setFillStrokeStyle(null,a),s.drawLineString(i,r)}var l=t.getText();if(l&&l.getText()){var c=(o||n).getBuilder(t.getZIndex(),BuilderType.TEXT);c.setTextStyle(l),c.drawText(i,r)}}function renderMultiLineStringGeometry(n,i,t,r,o){var a=t.getStroke();if(a){var s=n.getBuilder(t.getZIndex(),BuilderType.LINE_STRING);s.setFillStrokeStyle(null,a),s.drawMultiLineString(i,r)}var l=t.getText();if(l&&l.getText()){var c=(o||n).getBuilder(t.getZIndex(),BuilderType.TEXT);c.setTextStyle(l),c.drawText(i,r)}}function renderMultiPolygonGeometry(n,i,t,r,o){var a=t.getFill(),s=t.getStroke();if(s||a){var l=n.getBuilder(t.getZIndex(),BuilderType.POLYGON);l.setFillStrokeStyle(a,s),l.drawMultiPolygon(i,r)}var c=t.getText();if(c&&c.getText()){var h=(o||n).getBuilder(t.getZIndex(),BuilderType.TEXT);h.setTextStyle(c),h.drawText(i,r)}}function renderPointGeometry(n,i,t,r,o){var a=t.getImage(),s=t.getText(),l;if(o&&(n=o,l=a&&s&&s.getText()?{}:void 0),a){if(a.getImageState()!=ImageState.LOADED)return;var c=n.getBuilder(t.getZIndex(),BuilderType.IMAGE);c.setImageStyle(a,l),c.drawPoint(i,r)}if(s&&s.getText()){var h=n.getBuilder(t.getZIndex(),BuilderType.TEXT);h.setTextStyle(s,l),h.drawText(i,r)}}function renderMultiPointGeometry(n,i,t,r,o){var a=t.getImage(),s=t.getText(),l;if(o&&(n=o,l=a&&s&&s.getText()?{}:void 0),a){if(a.getImageState()!=ImageState.LOADED)return;var c=n.getBuilder(t.getZIndex(),BuilderType.IMAGE);c.setImageStyle(a,l),c.drawMultiPoint(i,r)}if(s&&s.getText()){var h=(o||n).getBuilder(t.getZIndex(),BuilderType.TEXT);h.setTextStyle(s,l),h.drawText(i,r)}}function renderPolygonGeometry(n,i,t,r,o){var a=t.getFill(),s=t.getStroke();if(a||s){var l=n.getBuilder(t.getZIndex(),BuilderType.POLYGON);l.setFillStrokeStyle(a,s),l.drawPolygon(i,r)}var c=t.getText();if(c&&c.getText()){var h=(o||n).getBuilder(t.getZIndex(),BuilderType.TEXT);h.setTextStyle(c),h.drawText(i,r)}}var __extends$o=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),CanvasVectorLayerRenderer=function(n){__extends$o(i,n);function i(t){var r=n.call(this,t)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.animatingOrInteracting_,r.dirty_=!1,r.hitDetectionImageData_=null,r.renderedFeatures_=null,r.renderedRevision_=-1,r.renderedResolution_=NaN,r.renderedExtent_=createEmpty(),r.wrappedRenderedExtent_=createEmpty(),r.renderedRotation_,r.renderedCenter_=null,r.renderedProjection_=null,r.renderedRenderOrder_=null,r.replayGroup_=null,r.replayGroupChanged=!0,r.declutterExecutorGroup=null,r.clipping=!0,r}return i.prototype.renderWorlds=function(t,r,o){var a=r.extent,s=r.viewState,l=s.center,c=s.resolution,h=s.projection,u=s.rotation,d=h.getExtent(),f=this.getLayer().getSource(),p=r.pixelRatio,m=r.viewHints,g=!(m[ViewHint.ANIMATING]||m[ViewHint.INTERACTING]),v=this.context,_=Math.round(r.size[0]*p),y=Math.round(r.size[1]*p),b=f.getWrapX()&&h.canWrapX(),x=b?getWidth(d):null,E=b?Math.ceil((a[2]-d[2])/x)+1:1,C=b?Math.floor((a[0]-d[0])/x):0;do{var $=this.getRenderTransform(l,c,u,p,_,y,C*x);t.execute(v,1,$,u,g,void 0,o)}while(++C<E)},i.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)},i.prototype.renderFrame=function(t,r){var o=t.pixelRatio,a=t.layerStatesArray[t.layerIndex];makeScale(this.pixelTransform,1/o,1/o),makeInverse(this.inversePixelTransform,this.pixelTransform);var s=toString$1(this.pixelTransform);this.useContainer(r,s,a.opacity,this.getBackground(t));var l=this.context,c=l.canvas,h=this.replayGroup_,u=this.declutterExecutorGroup;if((!h||h.isEmpty())&&(!u||u.isEmpty()))return null;var d=Math.round(t.size[0]*o),f=Math.round(t.size[1]*o);c.width!=d||c.height!=f?(c.width=d,c.height=f,c.style.transform!==s&&(c.style.transform=s)):this.containerReused||l.clearRect(0,0,d,f),this.preRender(l,t);var p=t.viewState,m=p.projection,g=!1,v=!0;if(a.extent&&this.clipping){var _=fromUserExtent(a.extent,m);v=intersects$1(_,t.extent),g=v&&!containsExtent(_,t.extent),g&&this.clipUnrotated(l,t,_)}v&&this.renderWorlds(h,t),g&&l.restore(),this.postRender(l,t);var y=cssOpacity(a.opacity),b=this.container;return y!==b.style.opacity&&(b.style.opacity=y),this.renderedRotation_!==p.rotation&&(this.renderedRotation_=p.rotation,this.hitDetectionImageData_=null),this.container},i.prototype.getFeatures=function(t){return new Promise((function(r){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var o=[this.context.canvas.width,this.context.canvas.height];apply(this.pixelTransform,o);var a=this.renderedCenter_,s=this.renderedResolution_,l=this.renderedRotation_,c=this.renderedProjection_,h=this.wrappedRenderedExtent_,u=this.getLayer(),d=[],f=o[0]*HIT_DETECT_RESOLUTION,p=o[1]*HIT_DETECT_RESOLUTION;d.push(this.getRenderTransform(a,s,l,HIT_DETECT_RESOLUTION,f,p,0).slice());var m=u.getSource(),g=c.getExtent();if(m.getWrapX()&&c.canWrapX()&&!containsExtent(g,h)){for(var v=h[0],_=getWidth(g),y=0,b=void 0;v<g[0];)--y,b=_*y,d.push(this.getRenderTransform(a,s,l,HIT_DETECT_RESOLUTION,f,p,b).slice()),v+=_;for(y=0,v=h[2];v>g[2];)++y,b=_*y,d.push(this.getRenderTransform(a,s,l,HIT_DETECT_RESOLUTION,f,p,b).slice()),v-=_}this.hitDetectionImageData_=createHitDetectionImageData(o,d,this.renderedFeatures_,u.getStyleFunction(),h,s,l)}r(hitDetect(t,this.renderedFeatures_,this.hitDetectionImageData_))}).bind(this))},i.prototype.forEachFeatureAtCoordinate=function(t,r,o,a,s){var l=this;if(this.replayGroup_){var c=r.viewState.resolution,h=r.viewState.rotation,u=this.getLayer(),d={},f=function(g,v,_){var y=getUid(g),b=d[y];if(b){if(b!==!0&&_<b.distanceSq){if(_===0)return d[y]=!0,s.splice(s.lastIndexOf(b),1),a(g,u,v);b.geometry=v,b.distanceSq=_}}else{if(_===0)return d[y]=!0,a(g,u,v);s.push(d[y]={feature:g,layer:u,geometry:v,distanceSq:_,callback:a})}},p,m=[this.replayGroup_];return this.declutterExecutorGroup&&m.push(this.declutterExecutorGroup),m.some(function(g){return p=g.forEachFeatureAtCoordinate(t,c,h,o,f,g===l.declutterExecutorGroup&&r.declutterTree?r.declutterTree.all().map(function(v){return v.value}):null)}),p}},i.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},i.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},i.prototype.prepareFrame=function(t){var r=this.getLayer(),o=r.getSource();if(!o)return!1;var a=t.viewHints[ViewHint.ANIMATING],s=t.viewHints[ViewHint.INTERACTING],l=r.getUpdateWhileAnimating(),c=r.getUpdateWhileInteracting();if(!this.dirty_&&!l&&a||!c&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var h=t.extent,u=t.viewState,d=u.projection,f=u.resolution,p=t.pixelRatio,m=r.getRevision(),g=r.getRenderBuffer(),v=r.getRenderOrder();v===void 0&&(v=defaultOrder);var _=u.center.slice(),y=buffer$1(h,g*f),b=y.slice(),x=[y.slice()],E=d.getExtent();if(o.getWrapX()&&d.canWrapX()&&!containsExtent(E,t.extent)){var C=getWidth(E),$=Math.max(getWidth(y)/2,C);y[0]=E[0]-$,y[2]=E[2]+$,wrapX$1(_,d);var S=wrapX$2(x[0],d);S[0]<E[0]&&S[2]<E[2]?x.push([S[0]+C,S[1],S[2]+C,S[3]]):S[0]>E[0]&&S[2]>E[2]&&x.push([S[0]-C,S[1],S[2]-C,S[3]])}if(!this.dirty_&&this.renderedResolution_==f&&this.renderedRevision_==m&&this.renderedRenderOrder_==v&&containsExtent(this.wrappedRenderedExtent_,y))return equals$2(this.renderedExtent_,b)||(this.hitDetectionImageData_=null,this.renderedExtent_=b),this.renderedCenter_=_,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var P=new BuilderGroup(getTolerance(f,p),y,f,p),T;this.getLayer().getDeclutter()&&(T=new BuilderGroup(getTolerance(f,p),y,f,p));var k=getUserProjection(),L;if(k){for(var N=0,z=x.length;N<z;++N){var B=x[N],U=toUserExtent(B,d);o.loadFeatures(U,toUserResolution(f,d),k)}L=getTransformFromProjections(k,d)}else for(var N=0,z=x.length;N<z;++N)o.loadFeatures(x[N],f,d);var D=getSquaredTolerance(f,p),M=(function(q){var X,K=q.getStyleFunction()||r.getStyleFunction();if(K&&(X=K(q,f)),X){var Q=this.renderFeature(q,D,X,P,L,T);this.dirty_=this.dirty_||Q}}).bind(this),F=toUserExtent(y,d),j=o.getFeaturesInExtent(F);v&&j.sort(v);for(var N=0,z=j.length;N<z;++N)M(j[N]);this.renderedFeatures_=j;var Y=P.finish(),W=new ExecutorGroup$1(y,f,p,o.getOverlaps(),Y,r.getRenderBuffer());return T&&(this.declutterExecutorGroup=new ExecutorGroup$1(y,f,p,o.getOverlaps(),T.finish(),r.getRenderBuffer())),this.renderedResolution_=f,this.renderedRevision_=m,this.renderedRenderOrder_=v,this.renderedExtent_=b,this.wrappedRenderedExtent_=y,this.renderedCenter_=_,this.renderedProjection_=d,this.replayGroup_=W,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},i.prototype.renderFeature=function(t,r,o,a,s,l){if(!o)return!1;var c=!1;if(Array.isArray(o))for(var h=0,u=o.length;h<u;++h)c=renderFeature(a,t,o[h],r,this.boundHandleStyleImageChange_,s,l)||c;else c=renderFeature(a,t,o,r,this.boundHandleStyleImageChange_,s,l);return c},i}(CanvasLayerRenderer$1);const CanvasVectorLayerRenderer$1=CanvasVectorLayerRenderer;var __extends$n=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),VectorLayer=function(n){__extends$n(i,n);function i(t){return n.call(this,t)||this}return i.prototype.createRenderer=function(){return new CanvasVectorLayerRenderer$1(this)},i}(BaseVectorLayer$1);const VectorLayer$1=VectorLayer;var RBush=function(){function n(i){this.rbush_=new RBush$1(i),this.items_={}}return n.prototype.insert=function(i,t){var r={minX:i[0],minY:i[1],maxX:i[2],maxY:i[3],value:t};this.rbush_.insert(r),this.items_[getUid(t)]=r},n.prototype.load=function(i,t){for(var r=new Array(t.length),o=0,a=t.length;o<a;o++){var s=i[o],l=t[o],c={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:l};r[o]=c,this.items_[getUid(l)]=c}this.rbush_.load(r)},n.prototype.remove=function(i){var t=getUid(i),r=this.items_[t];return delete this.items_[t],this.rbush_.remove(r)!==null},n.prototype.update=function(i,t){var r=this.items_[getUid(t)],o=[r.minX,r.minY,r.maxX,r.maxY];equals$1(o,i)||(this.remove(t),this.insert(i,t))},n.prototype.getAll=function(){var i=this.rbush_.all();return i.map(function(t){return t.value})},n.prototype.getInExtent=function(i){var t={minX:i[0],minY:i[1],maxX:i[2],maxY:i[3]},r=this.rbush_.search(t);return r.map(function(o){return o.value})},n.prototype.forEach=function(i){return this.forEach_(this.getAll(),i)},n.prototype.forEachInExtent=function(i,t){return this.forEach_(this.getInExtent(i),t)},n.prototype.forEach_=function(i,t){for(var r,o=0,a=i.length;o<a;o++)if(r=t(i[o]),r)return r;return r},n.prototype.isEmpty=function(){return isEmpty$1(this.items_)},n.prototype.clear=function(){this.rbush_.clear(),this.items_={}},n.prototype.getExtent=function(i){var t=this.rbush_.toJSON();return createOrUpdate$2(t.minX,t.minY,t.maxX,t.maxY,i)},n.prototype.concat=function(i){this.rbush_.load(i.rbush_.all());for(var t in i.items_)this.items_[t]=i.items_[t]},n}(),__extends$m=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Source=function(n){__extends$m(i,n);function i(t){var r=n.call(this)||this;r.projection=get$2(t.projection),r.attributions_=adaptAttributions(t.attributions),r.attributionsCollapsible_=t.attributionsCollapsible!==void 0?t.attributionsCollapsible:!0,r.loading=!1,r.state_=t.state!==void 0?t.state:SourceState.READY,r.wrapX_=t.wrapX!==void 0?t.wrapX:!1,r.interpolate_=!!t.interpolate,r.viewResolver=null,r.viewRejector=null;var o=r;return r.viewPromise_=new Promise(function(a,s){o.viewResolver=a,o.viewRejector=s}),r}return i.prototype.getAttributions=function(){return this.attributions_},i.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},i.prototype.getProjection=function(){return this.projection},i.prototype.getResolutions=function(){return abstract()},i.prototype.getView=function(){return this.viewPromise_},i.prototype.getState=function(){return this.state_},i.prototype.getWrapX=function(){return this.wrapX_},i.prototype.getInterpolate=function(){return this.interpolate_},i.prototype.refresh=function(){this.changed()},i.prototype.setAttributions=function(t){this.attributions_=adaptAttributions(t),this.changed()},i.prototype.setState=function(t){this.state_=t,this.changed()},i}(BaseObject$1);function adaptAttributions(n){return n?Array.isArray(n)?function(i){return n}:typeof n=="function"?n:function(i){return[n]}:null}const Source$1=Source,VectorEventType={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function all(n,i){return[[-1/0,-1/0,1/0,1/0]]}var withCredentials=!1;function loadFeaturesXhr(n,i,t,r,o,a,s){var l=new XMLHttpRequest;l.open("GET",typeof n=="function"?n(t,r,o):n,!0),i.getType()==FormatType.ARRAY_BUFFER&&(l.responseType="arraybuffer"),l.withCredentials=withCredentials,l.onload=function(c){if(!l.status||l.status>=200&&l.status<300){var h=i.getType(),u=void 0;h==FormatType.JSON||h==FormatType.TEXT?u=l.responseText:h==FormatType.XML?(u=l.responseXML,u||(u=new DOMParser().parseFromString(l.responseText,"application/xml"))):h==FormatType.ARRAY_BUFFER&&(u=l.response),u?a(i.readFeatures(u,{extent:t,featureProjection:o}),i.readProjection(u)):s()}else s()},l.onerror=s,l.send()}function xhr(n,i){return function(t,r,o,a,s){var l=this;loadFeaturesXhr(n,i,t,r,o,function(c,h){l.addFeatures(c),a!==void 0&&a(c)},s||VOID)}}var __extends$l=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),VectorSourceEvent=function(n){__extends$l(i,n);function i(t,r,o){var a=n.call(this,t)||this;return a.feature=r,a.features=o,a}return i}(Event),VectorSource=function(n){__extends$l(i,n);function i(t){var r=this,o=t||{};r=n.call(this,{attributions:o.attributions,interpolate:!0,projection:void 0,state:SourceState.READY,wrapX:o.wrapX!==void 0?o.wrapX:!0})||this,r.on,r.once,r.un,r.loader_=VOID,r.format_=o.format,r.overlaps_=o.overlaps===void 0?!0:o.overlaps,r.url_=o.url,o.loader!==void 0?r.loader_=o.loader:r.url_!==void 0&&(assert(r.format_,7),r.loader_=xhr(r.url_,r.format_)),r.strategy_=o.strategy!==void 0?o.strategy:all;var a=o.useSpatialIndex!==void 0?o.useSpatialIndex:!0;r.featuresRtree_=a?new RBush:null,r.loadedExtentsRtree_=new RBush,r.loadingExtentsCount_=0,r.nullGeometryFeatures_={},r.idIndex_={},r.uidIndex_={},r.featureChangeKeys_={},r.featuresCollection_=null;var s,l;return Array.isArray(o.features)?l=o.features:o.features&&(s=o.features,l=s.getArray()),!a&&s===void 0&&(s=new Collection(l)),l!==void 0&&r.addFeaturesInternal(l),s!==void 0&&r.bindFeaturesCollection_(s),r}return i.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},i.prototype.addFeatureInternal=function(t){var r=getUid(t);if(!this.addToIndex_(r,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(r,t);var o=t.getGeometry();if(o){var a=o.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(a,t)}else this.nullGeometryFeatures_[r]=t;this.dispatchEvent(new VectorSourceEvent(VectorEventType.ADDFEATURE,t))},i.prototype.setupChangeEvents_=function(t,r){this.featureChangeKeys_[t]=[listen(r,EventType.CHANGE,this.handleFeatureChange_,this),listen(r,ObjectEventType.PROPERTYCHANGE,this.handleFeatureChange_,this)]},i.prototype.addToIndex_=function(t,r){var o=!0,a=r.getId();return a!==void 0&&(a.toString()in this.idIndex_?o=!1:this.idIndex_[a.toString()]=r),o&&(assert(!(t in this.uidIndex_),30),this.uidIndex_[t]=r),o},i.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},i.prototype.addFeaturesInternal=function(t){for(var r=[],o=[],a=[],s=0,l=t.length;s<l;s++){var c=t[s],h=getUid(c);this.addToIndex_(h,c)&&o.push(c)}for(var s=0,u=o.length;s<u;s++){var c=o[s],h=getUid(c);this.setupChangeEvents_(h,c);var d=c.getGeometry();if(d){var f=d.getExtent();r.push(f),a.push(c)}else this.nullGeometryFeatures_[h]=c}if(this.featuresRtree_&&this.featuresRtree_.load(r,a),this.hasListener(VectorEventType.ADDFEATURE))for(var s=0,p=o.length;s<p;s++)this.dispatchEvent(new VectorSourceEvent(VectorEventType.ADDFEATURE,o[s]))},i.prototype.bindFeaturesCollection_=function(t){var r=!1;this.addEventListener(VectorEventType.ADDFEATURE,function(o){r||(r=!0,t.push(o.feature),r=!1)}),this.addEventListener(VectorEventType.REMOVEFEATURE,function(o){r||(r=!0,t.remove(o.feature),r=!1)}),t.addEventListener(CollectionEventType.ADD,(function(o){r||(r=!0,this.addFeature(o.element),r=!1)}).bind(this)),t.addEventListener(CollectionEventType.REMOVE,(function(o){r||(r=!0,this.removeFeature(o.element),r=!1)}).bind(this)),this.featuresCollection_=t},i.prototype.clear=function(t){if(t){for(var r in this.featureChangeKeys_){var o=this.featureChangeKeys_[r];o.forEach(unlistenByKey)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var a=(function(c){this.removeFeatureInternal(c)}).bind(this);this.featuresRtree_.forEach(a);for(var s in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[s])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var l=new VectorSourceEvent(VectorEventType.CLEAR);this.dispatchEvent(l),this.changed()},i.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},i.prototype.forEachFeatureAtCoordinateDirect=function(t,r){var o=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(o,function(a){var s=a.getGeometry();if(s.intersectsCoordinate(t))return r(a)})},i.prototype.forEachFeatureInExtent=function(t,r){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,r);this.featuresCollection_&&this.featuresCollection_.forEach(r)},i.prototype.forEachFeatureIntersectingExtent=function(t,r){return this.forEachFeatureInExtent(t,function(o){var a=o.getGeometry();if(a.intersectsExtent(t)){var s=r(o);if(s)return s}})},i.prototype.getFeaturesCollection=function(){return this.featuresCollection_},i.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),isEmpty$1(this.nullGeometryFeatures_)||extend$3(t,getValues(this.nullGeometryFeatures_))),t},i.prototype.getFeaturesAtCoordinate=function(t){var r=[];return this.forEachFeatureAtCoordinateDirect(t,function(o){r.push(o)}),r},i.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},i.prototype.getClosestFeatureToCoordinate=function(t,r){var o=t[0],a=t[1],s=null,l=[NaN,NaN],c=1/0,h=[-1/0,-1/0,1/0,1/0],u=r||TRUE;return this.featuresRtree_.forEachInExtent(h,function(d){if(u(d)){var f=d.getGeometry(),p=c;if(c=f.closestPointXY(o,a,l,c),c<p){s=d;var m=Math.sqrt(c);h[0]=o-m,h[1]=a-m,h[2]=o+m,h[3]=a+m}}}),s},i.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},i.prototype.getFeatureById=function(t){var r=this.idIndex_[t.toString()];return r!==void 0?r:null},i.prototype.getFeatureByUid=function(t){var r=this.uidIndex_[t];return r!==void 0?r:null},i.prototype.getFormat=function(){return this.format_},i.prototype.getOverlaps=function(){return this.overlaps_},i.prototype.getUrl=function(){return this.url_},i.prototype.handleFeatureChange_=function(t){var r=t.target,o=getUid(r),a=r.getGeometry();if(!a)o in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(r),this.nullGeometryFeatures_[o]=r);else{var s=a.getExtent();o in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[o],this.featuresRtree_&&this.featuresRtree_.insert(s,r)):this.featuresRtree_&&this.featuresRtree_.update(s,r)}var l=r.getId();if(l!==void 0){var c=l.toString();this.idIndex_[c]!==r&&(this.removeFromIdIndex_(r),this.idIndex_[c]=r)}else this.removeFromIdIndex_(r),this.uidIndex_[o]=r;this.changed(),this.dispatchEvent(new VectorSourceEvent(VectorEventType.CHANGEFEATURE,r))},i.prototype.hasFeature=function(t){var r=t.getId();return r!==void 0?r in this.idIndex_:getUid(t)in this.uidIndex_},i.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&isEmpty$1(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0},i.prototype.loadFeatures=function(t,r,o){for(var a=this.loadedExtentsRtree_,s=this.strategy_(t,r,o),l=function(d,f){var p=s[d],m=a.forEachInExtent(p,function(g){return containsExtent(g.extent,p)});m||(++c.loadingExtentsCount_,c.dispatchEvent(new VectorSourceEvent(VectorEventType.FEATURESLOADSTART)),c.loader_.call(c,p,r,o,(function(g){--this.loadingExtentsCount_,this.dispatchEvent(new VectorSourceEvent(VectorEventType.FEATURESLOADEND,void 0,g))}).bind(c),(function(){--this.loadingExtentsCount_,this.dispatchEvent(new VectorSourceEvent(VectorEventType.FEATURESLOADERROR))}).bind(c)),a.insert(p,{extent:p.slice()}))},c=this,h=0,u=s.length;h<u;++h)l(h);this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0},i.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),n.prototype.refresh.call(this)},i.prototype.removeLoadedExtent=function(t){var r=this.loadedExtentsRtree_,o;r.forEachInExtent(t,function(a){if(equals$1(a.extent,t))return o=a,!0}),o&&r.remove(o)},i.prototype.removeFeature=function(t){if(t){var r=getUid(t);r in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[r]:this.featuresRtree_&&this.featuresRtree_.remove(t);var o=this.removeFeatureInternal(t);o&&this.changed()}},i.prototype.removeFeatureInternal=function(t){var r=getUid(t),o=this.featureChangeKeys_[r];if(o){o.forEach(unlistenByKey),delete this.featureChangeKeys_[r];var a=t.getId();return a!==void 0&&delete this.idIndex_[a.toString()],delete this.uidIndex_[r],this.dispatchEvent(new VectorSourceEvent(VectorEventType.REMOVEFEATURE,t)),t}},i.prototype.removeFromIdIndex_=function(t){var r=!1;for(var o in this.idIndex_)if(this.idIndex_[o]===t){delete this.idIndex_[o],r=!0;break}return r},i.prototype.setLoader=function(t){this.loader_=t},i.prototype.setUrl=function(t){assert(this.format_,7),this.url_=t,this.setLoader(xhr(t,this.format_))},i}(Source$1);const VectorSource$1=VectorSource;var __extends$k=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),TranslateEventType={TRANSLATESTART:"translatestart",TRANSLATING:"translating",TRANSLATEEND:"translateend"},TranslateEvent=function(n){__extends$k(i,n);function i(t,r,o,a,s){var l=n.call(this,t)||this;return l.features=r,l.coordinate=o,l.startCoordinate=a,l.mapBrowserEvent=s,l}return i}(Event),Translate=function(n){__extends$k(i,n);function i(t){var r=this,o=t||{};r=n.call(this,o)||this,r.on,r.once,r.un,r.lastCoordinate_=null,r.startCoordinate_=null,r.features_=o.features!==void 0?o.features:null;var a;if(o.layers&&!r.features_)if(typeof o.layers=="function")a=o.layers;else{var s=o.layers;a=function(l){return includes(s,l)}}else a=TRUE;return r.layerFilter_=a,r.filter_=o.filter&&!r.features_?o.filter:TRUE,r.hitTolerance_=o.hitTolerance?o.hitTolerance:0,r.condition_=o.condition?o.condition:always,r.lastFeature_=null,r.addChangeListener(InteractionProperty.ACTIVE,r.handleActiveChanged_),r}return i.prototype.handleDownEvent=function(t){if(!t.originalEvent||!this.condition_(t))return!1;if(this.lastFeature_=this.featuresAtPixel_(t.pixel,t.map),!this.lastCoordinate_&&this.lastFeature_){this.startCoordinate_=t.coordinate,this.lastCoordinate_=t.coordinate,this.handleMoveEvent(t);var r=this.features_||new Collection([this.lastFeature_]);return this.dispatchEvent(new TranslateEvent(TranslateEventType.TRANSLATESTART,r,t.coordinate,this.startCoordinate_,t)),!0}return!1},i.prototype.handleUpEvent=function(t){if(this.lastCoordinate_){this.lastCoordinate_=null,this.handleMoveEvent(t);var r=this.features_||new Collection([this.lastFeature_]);return this.dispatchEvent(new TranslateEvent(TranslateEventType.TRANSLATEEND,r,t.coordinate,this.startCoordinate_,t)),this.startCoordinate_=null,!0}return!1},i.prototype.handleDragEvent=function(t){if(this.lastCoordinate_){var r=t.coordinate,o=r[0]-this.lastCoordinate_[0],a=r[1]-this.lastCoordinate_[1],s=this.features_||new Collection([this.lastFeature_]);s.forEach(function(l){var c=l.getGeometry();c.translate(o,a),l.setGeometry(c)}),this.lastCoordinate_=r,this.dispatchEvent(new TranslateEvent(TranslateEventType.TRANSLATING,s,r,this.startCoordinate_,t))}},i.prototype.handleMoveEvent=function(t){var r=t.map.getViewport();this.featuresAtPixel_(t.pixel,t.map)?(r.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),r.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):r.classList.remove("ol-grab","ol-grabbing")},i.prototype.featuresAtPixel_=function(t,r){return r.forEachFeatureAtPixel(t,(function(o,a){if(this.filter_(o,a)&&(!this.features_||includes(this.features_.getArray(),o)))return o}).bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})},i.prototype.getHitTolerance=function(){return this.hitTolerance_},i.prototype.setHitTolerance=function(t){this.hitTolerance_=t},i.prototype.setMap=function(t){var r=this.getMap();n.prototype.setMap.call(this,t),this.updateState_(r)},i.prototype.handleActiveChanged_=function(){this.updateState_(null)},i.prototype.updateState_=function(t){var r=this.getMap(),o=this.getActive();if((!r||!o)&&(r=r||t,r)){var a=r.getViewport();a.classList.remove("ol-grab","ol-grabbing")}},i}(PointerInteraction$1);function defaults(n){var i=n||{},t=new Collection,r=new Kinetic(-.005,.05,100),o=i.altShiftDragRotate!==void 0?i.altShiftDragRotate:!0;o&&t.push(new DragRotate);var a=i.doubleClickZoom!==void 0?i.doubleClickZoom:!0;a&&t.push(new DoubleClickZoom$1({delta:i.zoomDelta,duration:i.zoomDuration}));var s=i.dragPan!==void 0?i.dragPan:!0;s&&t.push(new DragPan$1({onFocusOnly:i.onFocusOnly,kinetic:r}));var l=i.pinchRotate!==void 0?i.pinchRotate:!0;l&&t.push(new PinchRotate);var c=i.pinchZoom!==void 0?i.pinchZoom:!0;c&&t.push(new PinchZoom$1({duration:i.zoomDuration}));var h=i.keyboard!==void 0?i.keyboard:!0;h&&(t.push(new KeyboardPan),t.push(new KeyboardZoom$1({delta:i.zoomDelta,duration:i.zoomDuration})));var u=i.mouseWheelZoom!==void 0?i.mouseWheelZoom:!0;u&&t.push(new MouseWheelZoom$1({onFocusOnly:i.onFocusOnly,duration:i.zoomDuration}));var d=i.shiftDragZoom!==void 0?i.shiftDragZoom:!0;return d&&t.push(new DragZoom$1({duration:i.zoomDuration})),t}var __extends$j=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Map$2=function(n){__extends$j(i,n);function i(t){return t=assign({},t),t.controls||(t.controls=defaults$1()),t.interactions||(t.interactions=defaults({onFocusOnly:!0})),n.call(this,t)||this}return i.prototype.createRenderer=function(){return new CompositeMapRenderer$1(this)},i}(PluggableMap$1);/**
 * @license
 * Copyright (c) 2000 - 2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See https://vaadin.com/commercial-license-and-service-terms for the full
 * license.
 */let Map$1=class extends ResizeMixin(FocusMixin(ElementMixin(ThemableMixin(PolymerElement)))){static get template(){return html`
      <style>
        :host {
          display: block;
          height: 400px;
          flex: 1 1 auto;
          align-self: stretch;
          overflow: hidden;
        }

        :host([hidden]) {
          display: none !important;
        }

        #map {
          width: 100%;
          height: 100%;
          outline: none;
        }

        #map,
        .ol-viewport,
        .ol-layers {
          border-radius: inherit;
          overflow: hidden;
        }

        #map:fullscreen {
          border-radius: 0;
        }

        #map:-webkit-full-screen {
          border-radius: 0;
        }

        /* Functional styles, copied from 'ol/ol.css' */

        .ol-box {
          box-sizing: border-box;
          border-radius: 2px;
          border: 1px solid rgba(0, 0, 0, 0.5);
          background-color: rgba(255, 255, 255, 0.2);
          box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.5);
        }

        .ol-unsupported {
          display: none;
        }

        .ol-viewport,
        .ol-unselectable {
          -webkit-touch-callout: none;
          -webkit-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
          user-select: none;
          -webkit-tap-highlight-color: transparent;
        }

        .ol-viewport canvas {
          all: unset;
        }

        .ol-selectable {
          -webkit-touch-callout: default;
          -webkit-user-select: text;
          -moz-user-select: text;
          -ms-user-select: text;
          user-select: text;
        }

        .ol-grabbing {
          cursor: -webkit-grabbing;
          cursor: -moz-grabbing;
          cursor: grabbing;
        }

        .ol-grab {
          cursor: move;
          cursor: -webkit-grab;
          cursor: -moz-grab;
          cursor: grab;
        }

        /* Control positioning and styling */

        .ol-overlaycontainer-stopevent {
          display: grid;
          grid-template-columns: min-content 1fr min-content;
          grid-template-rows: min-content 1fr min-content min-content min-content min-content;
          padding: var(--vaadin-map-controls-inset, 0.25em);
          box-sizing: border-box;
          grid-template-areas:
            'scale mouse-position fullscreen'
            'overview-map . zoom-extent'
            'overview-map . compass'
            'overview-map . zoom-slider'
            'overview-map . zoom'
            'overview-map attribution attribution';
        }

        .ol-mouse-position {
          grid-area: mouse-position;
          align-self: start;
          text-align: center;
          font-size: 0.625em;
          color: #000;
          filter: drop-shadow(0 0 1px #fff) drop-shadow(0 0 1px #fff);
        }

        .ol-scale-line,
        .ol-scale-bar {
          grid-area: scale;
          position: relative;
          pointer-events: none !important;
          color: #000;
        }

        .ol-scale-line-inner {
          border: 1px solid rgba(0, 0, 0, 0.5);
          border-top: none;
          font-size: 0.625em;
          text-align: center;
          will-change: contents, width, filter;
          transition: all 0.25s;
          filter: drop-shadow(0 0 1px #fff) drop-shadow(0 0 1px #fff);
        }

        .ol-scale-bar-inner {
          border: 1px solid rgba(0, 0, 0, 0.5);
          box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.5);
          overflow: hidden;
        }

        .ol-scale-step-marker {
          display: none;
        }

        .ol-scale-step-text {
          position: absolute;
          top: 0.75em;
          font-size: 0.625em;
          color: #000;
          filter: drop-shadow(0 0 1px #fff) drop-shadow(0 0 1px #fff);
          white-space: nowrap;
          overflow: hidden;
        }

        .ol-scale-text {
          position: absolute;
          font-size: 0.625em;
          top: 2em;
          color: #000;
          white-space: nowrap;
          filter: drop-shadow(0 0 1px #fff) drop-shadow(0 0 1px #fff);
        }

        .ol-scale-singlebar {
          height: 0.25em;
          opacity: 0.5;
        }

        .ol-control {
          margin: 0.25em;
        }

        .ol-control button {
          -webkit-appearance: none;
          border: 0;
          margin: 0;
          padding: 0;
          background: #fff;
          font: inherit;
          color: inherit;
          width: 1.5em;
          height: 1.5em;
        }

        .ol-control button::-moz-focus-inner {
          border: none;
          padding: 0;
        }

        .ol-compass {
          grid-area: compass;
          display: block;
          will-change: transform;
        }

        .ol-zoom {
          grid-area: zoom;
          display: flex;
          flex-direction: column;
        }

        .ol-zoom-in:empty::before {
          content: var(--vaadin-map-icon-zoom-in, '+');
        }

        .ol-zoom-out:empty::before {
          content: var(--vaadin-map-icon-zoom-out, '\\2013');
        }

        .ol-attribution {
          grid-area: attribution;
          margin-inline-start: auto !important;
          display: flex;
          flex-flow: row-reverse;
        }

        .ol-attribution.ol-uncollapsible {
          margin-inline-end: calc(var(--vaadin-map-controls-inset, 0.25em) * -1);
          margin-block-end: calc(var(--vaadin-map-controls-inset, 0.25em) * -1);
        }

        .ol-attribution button span:empty::before {
          content: var(--vaadin-map-icon-attribution-collapse, '\\25B8');
        }

        .ol-attribution.ol-collapsed button span:empty::before {
          content: var(--vaadin-map-icon-attribution-expand, '\\2139');
        }

        .ol-attribution ul {
          display: flex;
          align-items: center;
          gap: 1em;
          list-style: none;
          margin: 0;
          padding: 0.25em 0.5em;
          font-size: 0.8em;
        }

        .ol-attribution.ol-collapsed ul {
          display: none;
        }

        .ol-attribution.ol-uncollapsible button {
          display: none;
        }

        .ol-rotate {
          grid-area: compass;
        }

        .ol-compass:empty::before {
          content: var(--vaadin-map-icon-compass, '\\2191');
        }

        .ol-full-screen {
          grid-area: fullscreen;
        }

        .ol-full-screen button:empty::before {
          content: var(--vaadin-map-icon-fullscreen, '\\2922');
        }

        .ol-full-screen .ol-full-screen-true:empty::before {
          content: var(--vaadin-map-icon-close, '\\00D7');
        }

        .ol-overviewmap {
          grid-area: overview-map;
          align-self: end;
          width: max-content;
        }

        .ol-overviewmap button span:empty::before {
          content: var(--vaadin-map-icon-overview-map-collapse, '\\25BE');
        }

        .ol-overviewmap.ol-collapsed button span:empty::before {
          content: var(--vaadin-map-icon-overview-map-expand, '\\25B4');
        }

        .ol-overviewmap-map {
          height: 10em;
          width: 10em;
          border: 1px solid rgba(0, 0, 0, 0.5);
        }

        .ol-overviewmap.ol-collapsed .ol-overviewmap-map,
        .ol-overviewmap.ol-uncollapsible button {
          display: none;
        }

        .ol-overviewmap-box {
          border: 1px dashed rgba(0, 0, 0, 0.5);
          filter: drop-shadow(0 0 1px #fff) drop-shadow(0 0 1px #fff);
          will-change: filter;
          cursor: move;
        }

        .ol-zoomslider {
          grid-area: zoom-slider;
          height: 8em;
        }

        .ol-zoomslider button {
          position: relative;
          height: 0.5em;
          display: block;
          border-radius: inherit;
        }

        .ol-zoom-extent {
          grid-area: zoom-extent;
          align-self: end;
        }
      </style>
    `}static get is(){return"vaadin-map"}static get cvdlName(){return"vaadin-map"}constructor(){super(),this._mapTarget=document.createElement("div"),this._mapTarget.id="map",this._mapTarget.setAttribute("tabindex","0");const i={controls:defaults$1({rotate:!1,zoomOptions:{zoomInLabel:"",zoomOutLabel:""}}),interactions:defaults({onFocusOnly:!1}),target:this._mapTarget};this._configuration=new Map$2(i)}get configuration(){return this._configuration}ready(){super.ready(),this.shadowRoot.appendChild(this._mapTarget),this.__addMapFocusListeners()}_onResize(i){this._configuration.updateSize()}__addMapFocusListeners(){this._mapTarget.addEventListener("focusin",i=>{i.target===this._mapTarget&&this._setFocused(!0)}),this._mapTarget.addEventListener("focusout",()=>{this._setFocused(!1)})}_shouldSetFocus(i){return!1}};defineCustomElement(Map$1);function register(n){var i=Object.keys(n.defs),t=i.length,r,o;for(r=0;r<t;++r){var a=i[r];if(!get$2(a)){var s=n.defs(a),l=s.units;!l&&s.projName==="longlat"&&(l=Units.DEGREES),addProjection(new Projection$2({code:a,axisOrientation:s.axis,metersPerUnit:s.to_meter,units:l}))}}for(r=0;r<t;++r){var c=i[r],h=get$2(c);for(o=0;o<t;++o){var u=i[o],d=get$2(u);if(!get$3(c,u))if(n.defs[c]===n.defs[u])addEquivalentProjections([h,d]);else{var f=n(c,u);addCoordinateTransforms(h,d,createSafeCoordinateTransform(h,d,f.forward),createSafeCoordinateTransform(d,h,f.inverse))}}}}function globals(n){n("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),n("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),n("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),n.WGS84=n["EPSG:4326"],n["EPSG:3785"]=n["EPSG:3857"],n.GOOGLE=n["EPSG:3857"],n["EPSG:900913"]=n["EPSG:3857"],n["EPSG:102113"]=n["EPSG:3857"]}var PJD_3PARAM=1,PJD_7PARAM=2,PJD_GRIDSHIFT=3,PJD_WGS84=4,PJD_NODATUM=5,SRS_WGS84_SEMIMAJOR=6378137,SRS_WGS84_SEMIMINOR=6356752314e-3,SRS_WGS84_ESQUARED=.0066943799901413165,SEC_TO_RAD=484813681109536e-20,HALF_PI=Math.PI/2,SIXTH=.16666666666666666,RA4=.04722222222222222,RA6=.022156084656084655,EPSLN=1e-10,D2R$1=.017453292519943295,R2D=57.29577951308232,FORTPI=Math.PI/4,TWO_PI=Math.PI*2,SPI=3.14159265359,exports$2={};exports$2.greenwich=0;exports$2.lisbon=-9.131906111111;exports$2.paris=2.337229166667;exports$2.bogota=-74.080916666667;exports$2.madrid=-3.687938888889;exports$2.rome=12.452333333333;exports$2.bern=7.439583333333;exports$2.jakarta=106.807719444444;exports$2.ferro=-17.666666666667;exports$2.brussels=4.367975;exports$2.stockholm=18.058277777778;exports$2.athens=23.7163375;exports$2.oslo=10.722916666667;const units={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var ignoredChar=/[\s_\-\/\(\)]/g;function match(n,i){if(n[i])return n[i];for(var t=Object.keys(n),r=i.toLowerCase().replace(ignoredChar,""),o=-1,a,s;++o<t.length;)if(a=t[o],s=a.toLowerCase().replace(ignoredChar,""),s===r)return n[a]}function projStr(n){var i={},t=n.split("+").map(function(l){return l.trim()}).filter(function(l){return l}).reduce(function(l,c){var h=c.split("=");return h.push(!0),l[h[0].toLowerCase()]=h[1],l},{}),r,o,a,s={proj:"projName",datum:"datumCode",rf:function(l){i.rf=parseFloat(l)},lat_0:function(l){i.lat0=l*D2R$1},lat_1:function(l){i.lat1=l*D2R$1},lat_2:function(l){i.lat2=l*D2R$1},lat_ts:function(l){i.lat_ts=l*D2R$1},lon_0:function(l){i.long0=l*D2R$1},lon_1:function(l){i.long1=l*D2R$1},lon_2:function(l){i.long2=l*D2R$1},alpha:function(l){i.alpha=parseFloat(l)*D2R$1},gamma:function(l){i.rectified_grid_angle=parseFloat(l)},lonc:function(l){i.longc=l*D2R$1},x_0:function(l){i.x0=parseFloat(l)},y_0:function(l){i.y0=parseFloat(l)},k_0:function(l){i.k0=parseFloat(l)},k:function(l){i.k0=parseFloat(l)},a:function(l){i.a=parseFloat(l)},b:function(l){i.b=parseFloat(l)},r_a:function(){i.R_A=!0},zone:function(l){i.zone=parseInt(l,10)},south:function(){i.utmSouth=!0},towgs84:function(l){i.datum_params=l.split(",").map(function(c){return parseFloat(c)})},to_meter:function(l){i.to_meter=parseFloat(l)},units:function(l){i.units=l;var c=match(units,l);c&&(i.to_meter=c.to_meter)},from_greenwich:function(l){i.from_greenwich=l*D2R$1},pm:function(l){var c=match(exports$2,l);i.from_greenwich=(c||parseFloat(l))*D2R$1},nadgrids:function(l){l==="@null"?i.datumCode="none":i.nadgrids=l},axis:function(l){var c="ewnsud";l.length===3&&c.indexOf(l.substr(0,1))!==-1&&c.indexOf(l.substr(1,1))!==-1&&c.indexOf(l.substr(2,1))!==-1&&(i.axis=l)},approx:function(){i.approx=!0}};for(r in t)o=t[r],r in s?(a=s[r],typeof a=="function"?a(o):i[a]=o):i[r]=o;return typeof i.datumCode=="string"&&i.datumCode!=="WGS84"&&(i.datumCode=i.datumCode.toLowerCase()),i}var NEUTRAL=1,KEYWORD=2,NUMBER=3,QUOTED=4,AFTERQUOTE=5,ENDED=-1,whitespace=/\s/,latin=/[A-Za-z]/,keyword=/[A-Za-z84_]/,endThings=/[,\]]/,digets=/[\d\.E\-\+]/;function Parser(n){if(typeof n!="string")throw new Error("not a string");this.text=n.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=NEUTRAL}Parser.prototype.readCharicter=function(){var n=this.text[this.place++];if(this.state!==QUOTED)for(;whitespace.test(n);){if(this.place>=this.text.length)return;n=this.text[this.place++]}switch(this.state){case NEUTRAL:return this.neutral(n);case KEYWORD:return this.keyword(n);case QUOTED:return this.quoted(n);case AFTERQUOTE:return this.afterquote(n);case NUMBER:return this.number(n);case ENDED:return}};Parser.prototype.afterquote=function(n){if(n==='"'){this.word+='"',this.state=QUOTED;return}if(endThings.test(n)){this.word=this.word.trim(),this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in afterquote yet, index '+this.place)};Parser.prototype.afterItem=function(n){if(n===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=NEUTRAL;return}if(n==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=NEUTRAL,this.currentObject=this.stack.pop(),this.currentObject||(this.state=ENDED);return}};Parser.prototype.number=function(n){if(digets.test(n)){this.word+=n;return}if(endThings.test(n)){this.word=parseFloat(this.word),this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in number yet, index '+this.place)};Parser.prototype.quoted=function(n){if(n==='"'){this.state=AFTERQUOTE;return}this.word+=n};Parser.prototype.keyword=function(n){if(keyword.test(n)){this.word+=n;return}if(n==="["){var i=[];i.push(this.word),this.level++,this.root===null?this.root=i:this.currentObject.push(i),this.stack.push(this.currentObject),this.currentObject=i,this.state=NEUTRAL;return}if(endThings.test(n)){this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in keyword yet, index '+this.place)};Parser.prototype.neutral=function(n){if(latin.test(n)){this.word=n,this.state=KEYWORD;return}if(n==='"'){this.word="",this.state=QUOTED;return}if(digets.test(n)){this.word=n,this.state=NUMBER;return}if(endThings.test(n)){this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in neutral yet, index '+this.place)};Parser.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===ENDED)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function parseString(n){var i=new Parser(n);return i.output()}function mapit(n,i,t){Array.isArray(i)&&(t.unshift(i),i=null);var r=i?{}:n,o=t.reduce(function(a,s){return sExpr(s,a),a},r);i&&(n[i]=o)}function sExpr(n,i){if(!Array.isArray(n)){i[n]=!0;return}var t=n.shift();if(t==="PARAMETER"&&(t=n.shift()),n.length===1){if(Array.isArray(n[0])){i[t]={},sExpr(n[0],i[t]);return}i[t]=n[0];return}if(!n.length){i[t]=!0;return}if(t==="TOWGS84"){i[t]=n;return}if(t==="AXIS"){t in i||(i[t]=[]),i[t].push(n);return}Array.isArray(t)||(i[t]={});var r;switch(t){case"UNIT":case"PRIMEM":case"VERT_DATUM":i[t]={name:n[0].toLowerCase(),convert:n[1]},n.length===3&&sExpr(n[2],i[t]);return;case"SPHEROID":case"ELLIPSOID":i[t]={name:n[0],a:n[1],rf:n[2]},n.length===4&&sExpr(n[3],i[t]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":n[0]=["name",n[0]],mapit(i,t,n);return;default:for(r=-1;++r<n.length;)if(!Array.isArray(n[r]))return sExpr(n,i[t]);return mapit(i,t,n)}}var D2R=.017453292519943295;function rename(n,i){var t=i[0],r=i[1];!(t in n)&&r in n&&(n[t]=n[r],i.length===3&&(n[t]=i[2](n[t])))}function d2r(n){return n*D2R}function cleanWKT(n){if(n.type==="GEOGCS"?n.projName="longlat":n.type==="LOCAL_CS"?(n.projName="identity",n.local=!0):typeof n.PROJECTION=="object"?n.projName=Object.keys(n.PROJECTION)[0]:n.projName=n.PROJECTION,n.AXIS){for(var i="",t=0,r=n.AXIS.length;t<r;++t){var o=[n.AXIS[t][0].toLowerCase(),n.AXIS[t][1].toLowerCase()];o[0].indexOf("north")!==-1||(o[0]==="y"||o[0]==="lat")&&o[1]==="north"?i+="n":o[0].indexOf("south")!==-1||(o[0]==="y"||o[0]==="lat")&&o[1]==="south"?i+="s":o[0].indexOf("east")!==-1||(o[0]==="x"||o[0]==="lon")&&o[1]==="east"?i+="e":(o[0].indexOf("west")!==-1||(o[0]==="x"||o[0]==="lon")&&o[1]==="west")&&(i+="w")}i.length===2&&(i+="u"),i.length===3&&(n.axis=i)}n.UNIT&&(n.units=n.UNIT.name.toLowerCase(),n.units==="metre"&&(n.units="meter"),n.UNIT.convert&&(n.type==="GEOGCS"?n.DATUM&&n.DATUM.SPHEROID&&(n.to_meter=n.UNIT.convert*n.DATUM.SPHEROID.a):n.to_meter=n.UNIT.convert));var a=n.GEOGCS;n.type==="GEOGCS"&&(a=n),a&&(a.DATUM?n.datumCode=a.DATUM.name.toLowerCase():n.datumCode=a.name.toLowerCase(),n.datumCode.slice(0,2)==="d_"&&(n.datumCode=n.datumCode.slice(2)),(n.datumCode==="new_zealand_geodetic_datum_1949"||n.datumCode==="new_zealand_1949")&&(n.datumCode="nzgd49"),(n.datumCode==="wgs_1984"||n.datumCode==="world_geodetic_system_1984")&&(n.PROJECTION==="Mercator_Auxiliary_Sphere"&&(n.sphere=!0),n.datumCode="wgs84"),n.datumCode.slice(-6)==="_ferro"&&(n.datumCode=n.datumCode.slice(0,-6)),n.datumCode.slice(-8)==="_jakarta"&&(n.datumCode=n.datumCode.slice(0,-8)),~n.datumCode.indexOf("belge")&&(n.datumCode="rnb72"),a.DATUM&&a.DATUM.SPHEROID&&(n.ellps=a.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),n.ellps.toLowerCase().slice(0,13)==="international"&&(n.ellps="intl"),n.a=a.DATUM.SPHEROID.a,n.rf=parseFloat(a.DATUM.SPHEROID.rf,10)),a.DATUM&&a.DATUM.TOWGS84&&(n.datum_params=a.DATUM.TOWGS84),~n.datumCode.indexOf("osgb_1936")&&(n.datumCode="osgb36"),~n.datumCode.indexOf("osni_1952")&&(n.datumCode="osni52"),(~n.datumCode.indexOf("tm65")||~n.datumCode.indexOf("geodetic_datum_of_1965"))&&(n.datumCode="ire65"),n.datumCode==="ch1903+"&&(n.datumCode="ch1903"),~n.datumCode.indexOf("israel")&&(n.datumCode="isr93")),n.b&&!isFinite(n.b)&&(n.b=n.a);function s(h){var u=n.to_meter||1;return h*u}var l=function(h){return rename(n,h)},c=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",d2r],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",d2r],["x0","false_easting",s],["y0","false_northing",s],["long0","central_meridian",d2r],["lat0","latitude_of_origin",d2r],["lat0","standard_parallel_1",d2r],["lat1","standard_parallel_1",d2r],["lat2","standard_parallel_2",d2r],["azimuth","Azimuth"],["alpha","azimuth",d2r],["srsCode","name"]];c.forEach(l),!n.long0&&n.longc&&(n.projName==="Albers_Conic_Equal_Area"||n.projName==="Lambert_Azimuthal_Equal_Area")&&(n.long0=n.longc),!n.lat_ts&&n.lat1&&(n.projName==="Stereographic_South_Pole"||n.projName==="Polar Stereographic (variant B)")?(n.lat0=d2r(n.lat1>0?90:-90),n.lat_ts=n.lat1):!n.lat_ts&&n.lat0&&n.projName==="Polar_Stereographic"&&(n.lat_ts=n.lat0,n.lat0=d2r(n.lat0>0?90:-90))}function wkt(n){var i=parseString(n),t=i.shift(),r=i.shift();i.unshift(["name",r]),i.unshift(["type",t]);var o={};return sExpr(i,o),cleanWKT(o),o}function defs(n){var i=this;if(arguments.length===2){var t=arguments[1];typeof t=="string"?t.charAt(0)==="+"?defs[n]=projStr(arguments[1]):defs[n]=wkt(arguments[1]):defs[n]=t}else if(arguments.length===1){if(Array.isArray(n))return n.map(function(r){Array.isArray(r)?defs.apply(i,r):defs(r)});if(typeof n=="string"){if(n in defs)return defs[n]}else"EPSG"in n?defs["EPSG:"+n.EPSG]=n:"ESRI"in n?defs["ESRI:"+n.ESRI]=n:"IAU2000"in n?defs["IAU2000:"+n.IAU2000]=n:console.log(n);return}}globals(defs);function testObj(n){return typeof n=="string"}function testDef(n){return n in defs}var codeWords=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function testWKT(n){return codeWords.some(function(i){return n.indexOf(i)>-1})}var codes=["3857","900913","3785","102113"];function checkMercator(n){var i=match(n,"authority");if(i){var t=match(i,"epsg");return t&&codes.indexOf(t)>-1}}function checkProjStr(n){var i=match(n,"extension");if(i)return match(i,"proj4")}function testProj(n){return n[0]==="+"}function parse(n){if(testObj(n)){if(testDef(n))return defs[n];if(testWKT(n)){var i=wkt(n);if(checkMercator(i))return defs["EPSG:3857"];var t=checkProjStr(i);return t?projStr(t):i}if(testProj(n))return projStr(n)}else return n}function extend(n,i){n=n||{};var t,r;if(!i)return n;for(r in i)t=i[r],t!==void 0&&(n[r]=t);return n}function msfnz(n,i,t){var r=n*i;return t/Math.sqrt(1-r*r)}function sign(n){return n<0?-1:1}function adjust_lon(n){return Math.abs(n)<=SPI?n:n-sign(n)*TWO_PI}function tsfnz(n,i,t){var r=n*t,o=.5*n;return r=Math.pow((1-r)/(1+r),o),Math.tan(.5*(HALF_PI-i))/r}function phi2z(n,i){for(var t=.5*n,r,o,a=HALF_PI-2*Math.atan(i),s=0;s<=15;s++)if(r=n*Math.sin(a),o=HALF_PI-2*Math.atan(i*Math.pow((1-r)/(1+r),t))-a,a+=o,Math.abs(o)<=1e-10)return a;return-9999}function init$v(){var n=this.b/this.a;this.es=1-n*n,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=msfnz(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function forward$u(n){var i=n.x,t=n.y;if(t*R2D>90&&t*R2D<-90&&i*R2D>180&&i*R2D<-180)return null;var r,o;if(Math.abs(Math.abs(t)-HALF_PI)<=EPSLN)return null;if(this.sphere)r=this.x0+this.a*this.k0*adjust_lon(i-this.long0),o=this.y0+this.a*this.k0*Math.log(Math.tan(FORTPI+.5*t));else{var a=Math.sin(t),s=tsfnz(this.e,t,a);r=this.x0+this.a*this.k0*adjust_lon(i-this.long0),o=this.y0-this.a*this.k0*Math.log(s)}return n.x=r,n.y=o,n}function inverse$u(n){var i=n.x-this.x0,t=n.y-this.y0,r,o;if(this.sphere)o=HALF_PI-2*Math.atan(Math.exp(-t/(this.a*this.k0)));else{var a=Math.exp(-t/(this.a*this.k0));if(o=phi2z(this.e,a),o===-9999)return null}return r=adjust_lon(this.long0+i/(this.a*this.k0)),n.x=r,n.y=o,n}var names$w=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const merc={init:init$v,forward:forward$u,inverse:inverse$u,names:names$w};function init$u(){}function identity(n){return n}var names$v=["longlat","identity"];const longlat={init:init$u,forward:identity,inverse:identity,names:names$v};var projs=[merc,longlat],names$u={},projStore=[];function add(n,i){var t=projStore.length;return n.names?(projStore[t]=n,n.names.forEach(function(r){names$u[r.toLowerCase()]=t}),this):(console.log(i),!0)}function get(n){if(!n)return!1;var i=n.toLowerCase();if(typeof names$u[i]<"u"&&projStore[names$u[i]])return projStore[names$u[i]]}function start(){projs.forEach(add)}const projections={start,add,get};var exports$1={};exports$1.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};exports$1.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};exports$1.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};exports$1.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};exports$1.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};exports$1.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};exports$1.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};exports$1.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};exports$1.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};exports$1.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};exports$1.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};exports$1.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};exports$1.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};exports$1.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};exports$1.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};exports$1.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"};exports$1.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};exports$1.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};exports$1.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};exports$1.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};exports$1.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};exports$1.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};exports$1.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};exports$1.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};exports$1.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};exports$1.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};exports$1.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};exports$1.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};exports$1.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};exports$1.hough={a:6378270,rf:297,ellipseName:"Hough"};exports$1.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};exports$1.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};exports$1.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};exports$1.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};exports$1.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};exports$1.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};exports$1.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};exports$1.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};exports$1.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};exports$1.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};exports$1.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};exports$1.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var WGS84=exports$1.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};exports$1.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function eccentricity(n,i,t,r){var o=n*n,a=i*i,s=(o-a)/o,l=0;r?(n*=1-s*(SIXTH+s*(RA4+s*RA6)),o=n*n,s=0):l=Math.sqrt(s);var c=(o-a)/a;return{es:s,e:l,ep2:c}}function sphere(n,i,t,r,o){if(!n){var a=match(exports$1,r);a||(a=WGS84),n=a.a,i=a.b,t=a.rf}return t&&!i&&(i=(1-1/t)*n),(t===0||Math.abs(n-i)<EPSLN)&&(o=!0,i=n),{a:n,b:i,rf:t,sphere:o}}var exports={};exports.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"};exports.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"};exports.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"};exports.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"};exports.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"};exports.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"};exports.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"};exports.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"};exports.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"};exports.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"};exports.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"};exports.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"};exports.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"};exports.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"};exports.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"};exports.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"};exports.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function datum(n,i,t,r,o,a,s){var l={};return n===void 0||n==="none"?l.datum_type=PJD_NODATUM:l.datum_type=PJD_WGS84,i&&(l.datum_params=i.map(parseFloat),(l.datum_params[0]!==0||l.datum_params[1]!==0||l.datum_params[2]!==0)&&(l.datum_type=PJD_3PARAM),l.datum_params.length>3&&(l.datum_params[3]!==0||l.datum_params[4]!==0||l.datum_params[5]!==0||l.datum_params[6]!==0)&&(l.datum_type=PJD_7PARAM,l.datum_params[3]*=SEC_TO_RAD,l.datum_params[4]*=SEC_TO_RAD,l.datum_params[5]*=SEC_TO_RAD,l.datum_params[6]=l.datum_params[6]/1e6+1)),s&&(l.datum_type=PJD_GRIDSHIFT,l.grids=s),l.a=t,l.b=r,l.es=o,l.ep2=a,l}var loadedNadgrids={};function nadgrid(n,i){var t=new DataView(i),r=detectLittleEndian(t),o=readHeader(t,r),a=readSubgrids(t,o,r),s={header:o,subgrids:a};return loadedNadgrids[n]=s,s}function getNadgrids(n){if(n===void 0)return null;var i=n.split(",");return i.map(parseNadgridString)}function parseNadgridString(n){if(n.length===0)return null;var i=n[0]==="@";return i&&(n=n.slice(1)),n==="null"?{name:"null",mandatory:!i,grid:null,isNull:!0}:{name:n,mandatory:!i,grid:loadedNadgrids[n]||null,isNull:!1}}function secondsToRadians(n){return n/3600*Math.PI/180}function detectLittleEndian(n){var i=n.getInt32(8,!1);return i===11?!1:(i=n.getInt32(8,!0),i!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function readHeader(n,i){return{nFields:n.getInt32(8,i),nSubgridFields:n.getInt32(24,i),nSubgrids:n.getInt32(40,i),shiftType:decodeString(n,56,64).trim(),fromSemiMajorAxis:n.getFloat64(120,i),fromSemiMinorAxis:n.getFloat64(136,i),toSemiMajorAxis:n.getFloat64(152,i),toSemiMinorAxis:n.getFloat64(168,i)}}function decodeString(n,i,t){return String.fromCharCode.apply(null,new Uint8Array(n.buffer.slice(i,t)))}function readSubgrids(n,i,t){for(var r=176,o=[],a=0;a<i.nSubgrids;a++){var s=readGridHeader(n,r,t),l=readGridNodes(n,r,s,t),c=Math.round(1+(s.upperLongitude-s.lowerLongitude)/s.longitudeInterval),h=Math.round(1+(s.upperLatitude-s.lowerLatitude)/s.latitudeInterval);o.push({ll:[secondsToRadians(s.lowerLongitude),secondsToRadians(s.lowerLatitude)],del:[secondsToRadians(s.longitudeInterval),secondsToRadians(s.latitudeInterval)],lim:[c,h],count:s.gridNodeCount,cvs:mapNodes(l)}),r+=176+s.gridNodeCount*16}return o}function mapNodes(n){return n.map(function(i){return[secondsToRadians(i.longitudeShift),secondsToRadians(i.latitudeShift)]})}function readGridHeader(n,i,t){return{name:decodeString(n,i+8,i+16).trim(),parent:decodeString(n,i+24,i+24+8).trim(),lowerLatitude:n.getFloat64(i+72,t),upperLatitude:n.getFloat64(i+88,t),lowerLongitude:n.getFloat64(i+104,t),upperLongitude:n.getFloat64(i+120,t),latitudeInterval:n.getFloat64(i+136,t),longitudeInterval:n.getFloat64(i+152,t),gridNodeCount:n.getInt32(i+168,t)}}function readGridNodes(n,i,t,r){for(var o=i+176,a=16,s=[],l=0;l<t.gridNodeCount;l++){var c={latitudeShift:n.getFloat32(o+l*a,r),longitudeShift:n.getFloat32(o+l*a+4,r),latitudeAccuracy:n.getFloat32(o+l*a+8,r),longitudeAccuracy:n.getFloat32(o+l*a+12,r)};s.push(c)}return s}function Projection(n,i){if(!(this instanceof Projection))return new Projection(n);i=i||function(h){if(h)throw h};var t=parse(n);if(typeof t!="object"){i(n);return}var r=Projection.projections.get(t.projName);if(!r){i(n);return}if(t.datumCode&&t.datumCode!=="none"){var o=match(exports,t.datumCode);o&&(t.datum_params=t.datum_params||(o.towgs84?o.towgs84.split(","):null),t.ellps=o.ellipse,t.datumName=o.datumName?o.datumName:t.datumCode)}t.k0=t.k0||1,t.axis=t.axis||"enu",t.ellps=t.ellps||"wgs84",t.lat1=t.lat1||t.lat0;var a=sphere(t.a,t.b,t.rf,t.ellps,t.sphere),s=eccentricity(a.a,a.b,a.rf,t.R_A),l=getNadgrids(t.nadgrids),c=t.datum||datum(t.datumCode,t.datum_params,a.a,a.b,s.es,s.ep2,l);extend(this,t),extend(this,r),this.a=a.a,this.b=a.b,this.rf=a.rf,this.sphere=a.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=c,this.init(),i(null,this)}Projection.projections=projections;Projection.projections.start();function compareDatums(n,i){return n.datum_type!==i.datum_type||n.a!==i.a||Math.abs(n.es-i.es)>5e-11?!1:n.datum_type===PJD_3PARAM?n.datum_params[0]===i.datum_params[0]&&n.datum_params[1]===i.datum_params[1]&&n.datum_params[2]===i.datum_params[2]:n.datum_type===PJD_7PARAM?n.datum_params[0]===i.datum_params[0]&&n.datum_params[1]===i.datum_params[1]&&n.datum_params[2]===i.datum_params[2]&&n.datum_params[3]===i.datum_params[3]&&n.datum_params[4]===i.datum_params[4]&&n.datum_params[5]===i.datum_params[5]&&n.datum_params[6]===i.datum_params[6]:!0}function geodeticToGeocentric(n,i,t){var r=n.x,o=n.y,a=n.z?n.z:0,s,l,c,h;if(o<-HALF_PI&&o>-1.001*HALF_PI)o=-HALF_PI;else if(o>HALF_PI&&o<1.001*HALF_PI)o=HALF_PI;else{if(o<-HALF_PI)return{x:-1/0,y:-1/0,z:n.z};if(o>HALF_PI)return{x:1/0,y:1/0,z:n.z}}return r>Math.PI&&(r-=2*Math.PI),l=Math.sin(o),h=Math.cos(o),c=l*l,s=t/Math.sqrt(1-i*c),{x:(s+a)*h*Math.cos(r),y:(s+a)*h*Math.sin(r),z:(s*(1-i)+a)*l}}function geocentricToGeodetic(n,i,t,r){var o=1e-12,a=o*o,s=30,l,c,h,u,d,f,p,m,g,v,_,y,b,x=n.x,E=n.y,C=n.z?n.z:0,$,S,P;if(l=Math.sqrt(x*x+E*E),c=Math.sqrt(x*x+E*E+C*C),l/t<o){if($=0,c/t<o)return S=HALF_PI,P=-r,{x:n.x,y:n.y,z:n.z}}else $=Math.atan2(E,x);h=C/c,u=l/c,d=1/Math.sqrt(1-i*(2-i)*u*u),m=u*(1-i)*d,g=h*d,b=0;do b++,p=t/Math.sqrt(1-i*g*g),P=l*m+C*g-p*(1-i*g*g),f=i*p/(p+P),d=1/Math.sqrt(1-f*(2-f)*u*u),v=u*(1-f)*d,_=h*d,y=_*m-v*g,m=v,g=_;while(y*y>a&&b<s);return S=Math.atan(_/Math.abs(v)),{x:$,y:S,z:P}}function geocentricToWgs84(n,i,t){if(i===PJD_3PARAM)return{x:n.x+t[0],y:n.y+t[1],z:n.z+t[2]};if(i===PJD_7PARAM){var r=t[0],o=t[1],a=t[2],s=t[3],l=t[4],c=t[5],h=t[6];return{x:h*(n.x-c*n.y+l*n.z)+r,y:h*(c*n.x+n.y-s*n.z)+o,z:h*(-l*n.x+s*n.y+n.z)+a}}}function geocentricFromWgs84(n,i,t){if(i===PJD_3PARAM)return{x:n.x-t[0],y:n.y-t[1],z:n.z-t[2]};if(i===PJD_7PARAM){var r=t[0],o=t[1],a=t[2],s=t[3],l=t[4],c=t[5],h=t[6],u=(n.x-r)/h,d=(n.y-o)/h,f=(n.z-a)/h;return{x:u+c*d-l*f,y:-c*u+d+s*f,z:l*u-s*d+f}}}function checkParams(n){return n===PJD_3PARAM||n===PJD_7PARAM}function datum_transform(n,i,t){if(compareDatums(n,i)||n.datum_type===PJD_NODATUM||i.datum_type===PJD_NODATUM)return t;var r=n.a,o=n.es;if(n.datum_type===PJD_GRIDSHIFT){var a=applyGridShift(n,!1,t);if(a!==0)return;r=SRS_WGS84_SEMIMAJOR,o=SRS_WGS84_ESQUARED}var s=i.a,l=i.b,c=i.es;if(i.datum_type===PJD_GRIDSHIFT&&(s=SRS_WGS84_SEMIMAJOR,l=SRS_WGS84_SEMIMINOR,c=SRS_WGS84_ESQUARED),o===c&&r===s&&!checkParams(n.datum_type)&&!checkParams(i.datum_type))return t;if(t=geodeticToGeocentric(t,o,r),checkParams(n.datum_type)&&(t=geocentricToWgs84(t,n.datum_type,n.datum_params)),checkParams(i.datum_type)&&(t=geocentricFromWgs84(t,i.datum_type,i.datum_params)),t=geocentricToGeodetic(t,c,s,l),i.datum_type===PJD_GRIDSHIFT){var h=applyGridShift(i,!0,t);if(h!==0)return}return t}function applyGridShift(n,i,t){if(n.grids===null||n.grids.length===0)return console.log("Grid shift grids not found"),-1;var r={x:-t.x,y:t.y},o={x:Number.NaN,y:Number.NaN},a=[];t:for(var s=0;s<n.grids.length;s++){var l=n.grids[s];if(a.push(l.name),l.isNull){o=r;break}if(l.mandatory,l.grid===null){if(l.mandatory)return console.log("Unable to find mandatory grid '"+l.name+"'"),-1;continue}for(var c=l.grid.subgrids,h=0,u=c.length;h<u;h++){var d=c[h],f=(Math.abs(d.del[1])+Math.abs(d.del[0]))/1e4,p=d.ll[0]-f,m=d.ll[1]-f,g=d.ll[0]+(d.lim[0]-1)*d.del[0]+f,v=d.ll[1]+(d.lim[1]-1)*d.del[1]+f;if(!(m>r.y||p>r.x||v<r.y||g<r.x)&&(o=applySubgridShift(r,i,d),!isNaN(o.x)))break t}}return isNaN(o.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*R2D+" "+r.y*R2D+" tried: '"+a+"'"),-1):(t.x=-o.x,t.y=o.y,0)}function applySubgridShift(n,i,t){var r={x:Number.NaN,y:Number.NaN};if(isNaN(n.x))return r;var o={x:n.x,y:n.y};o.x-=t.ll[0],o.y-=t.ll[1],o.x=adjust_lon(o.x-Math.PI)+Math.PI;var a=nadInterpolate(o,t);if(i){if(isNaN(a.x))return r;a.x=o.x-a.x,a.y=o.y-a.y;var s=9,l=1e-12,c,h;do{if(h=nadInterpolate(a,t),isNaN(h.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}c={x:o.x-(h.x+a.x),y:o.y-(h.y+a.y)},a.x+=c.x,a.y+=c.y}while(s--&&Math.abs(c.x)>l&&Math.abs(c.y)>l);if(s<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=adjust_lon(a.x+t.ll[0]),r.y=a.y+t.ll[1]}else isNaN(a.x)||(r.x=n.x+a.x,r.y=n.y+a.y);return r}function nadInterpolate(n,i){var t={x:n.x/i.del[0],y:n.y/i.del[1]},r={x:Math.floor(t.x),y:Math.floor(t.y)},o={x:t.x-1*r.x,y:t.y-1*r.y},a={x:Number.NaN,y:Number.NaN},s;if(r.x<0||r.x>=i.lim[0]||r.y<0||r.y>=i.lim[1])return a;s=r.y*i.lim[0]+r.x;var l={x:i.cvs[s][0],y:i.cvs[s][1]};s++;var c={x:i.cvs[s][0],y:i.cvs[s][1]};s+=i.lim[0];var h={x:i.cvs[s][0],y:i.cvs[s][1]};s--;var u={x:i.cvs[s][0],y:i.cvs[s][1]},d=o.x*o.y,f=o.x*(1-o.y),p=(1-o.x)*(1-o.y),m=(1-o.x)*o.y;return a.x=p*l.x+f*c.x+m*u.x+d*h.x,a.y=p*l.y+f*c.y+m*u.y+d*h.y,a}function adjust_axis(n,i,t){var r=t.x,o=t.y,a=t.z||0,s,l,c,h={};for(c=0;c<3;c++)if(!(i&&c===2&&t.z===void 0))switch(c===0?(s=r,"ew".indexOf(n.axis[c])!==-1?l="x":l="y"):c===1?(s=o,"ns".indexOf(n.axis[c])!==-1?l="y":l="x"):(s=a,l="z"),n.axis[c]){case"e":h[l]=s;break;case"w":h[l]=-s;break;case"n":h[l]=s;break;case"s":h[l]=-s;break;case"u":t[l]!==void 0&&(h.z=s);break;case"d":t[l]!==void 0&&(h.z=-s);break;default:return null}return h}function common(n){var i={x:n[0],y:n[1]};return n.length>2&&(i.z=n[2]),n.length>3&&(i.m=n[3]),i}function checkSanity(n){checkCoord(n.x),checkCoord(n.y)}function checkCoord(n){if(typeof Number.isFinite=="function"){if(Number.isFinite(n))return;throw new TypeError("coordinates must be finite numbers")}if(typeof n!="number"||n!==n||!isFinite(n))throw new TypeError("coordinates must be finite numbers")}function checkNotWGS(n,i){return(n.datum.datum_type===PJD_3PARAM||n.datum.datum_type===PJD_7PARAM||n.datum.datum_type===PJD_GRIDSHIFT)&&i.datumCode!=="WGS84"||(i.datum.datum_type===PJD_3PARAM||i.datum.datum_type===PJD_7PARAM||i.datum.datum_type===PJD_GRIDSHIFT)&&n.datumCode!=="WGS84"}function transform(n,i,t,r){var o;Array.isArray(t)?t=common(t):t={x:t.x,y:t.y,z:t.z,m:t.m};var a=t.z!==void 0;if(checkSanity(t),n.datum&&i.datum&&checkNotWGS(n,i)&&(o=new Projection("WGS84"),t=transform(n,o,t,r),n=o),r&&n.axis!=="enu"&&(t=adjust_axis(n,!1,t)),n.projName==="longlat")t={x:t.x*D2R$1,y:t.y*D2R$1,z:t.z||0};else if(n.to_meter&&(t={x:t.x*n.to_meter,y:t.y*n.to_meter,z:t.z||0}),t=n.inverse(t),!t)return;if(n.from_greenwich&&(t.x+=n.from_greenwich),t=datum_transform(n.datum,i.datum,t),!!t)return i.from_greenwich&&(t={x:t.x-i.from_greenwich,y:t.y,z:t.z||0}),i.projName==="longlat"?t={x:t.x*R2D,y:t.y*R2D,z:t.z||0}:(t=i.forward(t),i.to_meter&&(t={x:t.x/i.to_meter,y:t.y/i.to_meter,z:t.z||0})),r&&i.axis!=="enu"?adjust_axis(i,!0,t):(t&&!a&&delete t.z,t)}var wgs84=Projection("WGS84");function transformer(n,i,t,r){var o,a,s;return Array.isArray(t)?(o=transform(n,i,t,r)||{x:NaN,y:NaN},t.length>2?typeof n.name<"u"&&n.name==="geocent"||typeof i.name<"u"&&i.name==="geocent"?typeof o.z=="number"?[o.x,o.y,o.z].concat(t.splice(3)):[o.x,o.y,t[2]].concat(t.splice(3)):[o.x,o.y].concat(t.splice(2)):[o.x,o.y]):(a=transform(n,i,t,r),s=Object.keys(t),s.length===2||s.forEach(function(l){if(typeof n.name<"u"&&n.name==="geocent"||typeof i.name<"u"&&i.name==="geocent"){if(l==="x"||l==="y"||l==="z")return}else if(l==="x"||l==="y")return;a[l]=t[l]}),a)}function checkProj(n){return n instanceof Projection?n:n.oProj?n.oProj:Projection(n)}function proj4(n,i,t){n=checkProj(n);var r=!1,o;return typeof i>"u"?(i=n,n=wgs84,r=!0):(typeof i.x<"u"||Array.isArray(i))&&(t=i,i=n,n=wgs84,r=!0),i=checkProj(i),t?transformer(n,i,t):(o={forward:function(a,s){return transformer(n,i,a,s)},inverse:function(a,s){return transformer(i,n,a,s)}},r&&(o.oProj=i),o)}var NUM_100K_SETS=6,SET_ORIGIN_COLUMN_LETTERS="AJSAJS",SET_ORIGIN_ROW_LETTERS="AFAFAF",A=65,I=73,O=79,V=86,Z=90;const mgrs={forward:forward$t,inverse:inverse$t,toPoint};function forward$t(n,i){return i=i||5,encode(LLtoUTM({lat:n[1],lon:n[0]}),i)}function inverse$t(n){var i=UTMtoLL(decode(n.toUpperCase()));return i.lat&&i.lon?[i.lon,i.lat,i.lon,i.lat]:[i.left,i.bottom,i.right,i.top]}function toPoint(n){var i=UTMtoLL(decode(n.toUpperCase()));return i.lat&&i.lon?[i.lon,i.lat]:[(i.left+i.right)/2,(i.top+i.bottom)/2]}function degToRad(n){return n*(Math.PI/180)}function radToDeg(n){return 180*(n/Math.PI)}function LLtoUTM(n){var i=n.lat,t=n.lon,r=6378137,o=.00669438,a=.9996,s,l,c,h,u,d,f,p=degToRad(i),m=degToRad(t),g,v;v=Math.floor((t+180)/6)+1,t===180&&(v=60),i>=56&&i<64&&t>=3&&t<12&&(v=32),i>=72&&i<84&&(t>=0&&t<9?v=31:t>=9&&t<21?v=33:t>=21&&t<33?v=35:t>=33&&t<42&&(v=37)),s=(v-1)*6-180+3,g=degToRad(s),l=o/(1-o),c=r/Math.sqrt(1-o*Math.sin(p)*Math.sin(p)),h=Math.tan(p)*Math.tan(p),u=l*Math.cos(p)*Math.cos(p),d=Math.cos(p)*(m-g),f=r*((1-o/4-3*o*o/64-5*o*o*o/256)*p-(3*o/8+3*o*o/32+45*o*o*o/1024)*Math.sin(2*p)+(15*o*o/256+45*o*o*o/1024)*Math.sin(4*p)-35*o*o*o/3072*Math.sin(6*p));var _=a*c*(d+(1-h+u)*d*d*d/6+(5-18*h+h*h+72*u-58*l)*d*d*d*d*d/120)+5e5,y=a*(f+c*Math.tan(p)*(d*d/2+(5-h+9*u+4*u*u)*d*d*d*d/24+(61-58*h+h*h+600*u-330*l)*d*d*d*d*d*d/720));return i<0&&(y+=1e7),{northing:Math.round(y),easting:Math.round(_),zoneNumber:v,zoneLetter:getLetterDesignator(i)}}function UTMtoLL(n){var i=n.northing,t=n.easting,r=n.zoneLetter,o=n.zoneNumber;if(o<0||o>60)return null;var a=.9996,s=6378137,l=.00669438,c,h=(1-Math.sqrt(1-l))/(1+Math.sqrt(1-l)),u,d,f,p,m,g,v,_,y,b=t-5e5,x=i;r<"N"&&(x-=1e7),v=(o-1)*6-180+3,c=l/(1-l),g=x/a,_=g/(s*(1-l/4-3*l*l/64-5*l*l*l/256)),y=_+(3*h/2-27*h*h*h/32)*Math.sin(2*_)+(21*h*h/16-55*h*h*h*h/32)*Math.sin(4*_)+151*h*h*h/96*Math.sin(6*_),u=s/Math.sqrt(1-l*Math.sin(y)*Math.sin(y)),d=Math.tan(y)*Math.tan(y),f=c*Math.cos(y)*Math.cos(y),p=s*(1-l)/Math.pow(1-l*Math.sin(y)*Math.sin(y),1.5),m=b/(u*a);var E=y-u*Math.tan(y)/p*(m*m/2-(5+3*d+10*f-4*f*f-9*c)*m*m*m*m/24+(61+90*d+298*f+45*d*d-252*c-3*f*f)*m*m*m*m*m*m/720);E=radToDeg(E);var C=(m-(1+2*d+f)*m*m*m/6+(5-2*f+28*d-3*f*f+8*c+24*d*d)*m*m*m*m*m/120)/Math.cos(y);C=v+radToDeg(C);var $;if(n.accuracy){var S=UTMtoLL({northing:n.northing+n.accuracy,easting:n.easting+n.accuracy,zoneLetter:n.zoneLetter,zoneNumber:n.zoneNumber});$={top:S.lat,right:S.lon,bottom:E,left:C}}else $={lat:E,lon:C};return $}function getLetterDesignator(n){var i="Z";return 84>=n&&n>=72?i="X":72>n&&n>=64?i="W":64>n&&n>=56?i="V":56>n&&n>=48?i="U":48>n&&n>=40?i="T":40>n&&n>=32?i="S":32>n&&n>=24?i="R":24>n&&n>=16?i="Q":16>n&&n>=8?i="P":8>n&&n>=0?i="N":0>n&&n>=-8?i="M":-8>n&&n>=-16?i="L":-16>n&&n>=-24?i="K":-24>n&&n>=-32?i="J":-32>n&&n>=-40?i="H":-40>n&&n>=-48?i="G":-48>n&&n>=-56?i="F":-56>n&&n>=-64?i="E":-64>n&&n>=-72?i="D":-72>n&&n>=-80&&(i="C"),i}function encode(n,i){var t="00000"+n.easting,r="00000"+n.northing;return n.zoneNumber+n.zoneLetter+get100kID(n.easting,n.northing,n.zoneNumber)+t.substr(t.length-5,i)+r.substr(r.length-5,i)}function get100kID(n,i,t){var r=get100kSetForZone(t),o=Math.floor(n/1e5),a=Math.floor(i/1e5)%20;return getLetter100kID(o,a,r)}function get100kSetForZone(n){var i=n%NUM_100K_SETS;return i===0&&(i=NUM_100K_SETS),i}function getLetter100kID(n,i,t){var r=t-1,o=SET_ORIGIN_COLUMN_LETTERS.charCodeAt(r),a=SET_ORIGIN_ROW_LETTERS.charCodeAt(r),s=o+n-1,l=a+i,c=!1;s>Z&&(s=s-Z+A-1,c=!0),(s===I||o<I&&s>I||(s>I||o<I)&&c)&&s++,(s===O||o<O&&s>O||(s>O||o<O)&&c)&&(s++,s===I&&s++),s>Z&&(s=s-Z+A-1),l>V?(l=l-V+A-1,c=!0):c=!1,(l===I||a<I&&l>I||(l>I||a<I)&&c)&&l++,(l===O||a<O&&l>O||(l>O||a<O)&&c)&&(l++,l===I&&l++),l>V&&(l=l-V+A-1);var h=String.fromCharCode(s)+String.fromCharCode(l);return h}function decode(n){if(n&&n.length===0)throw"MGRSPoint coverting from nothing";for(var i=n.length,t=null,r="",o,a=0;!/[A-Z]/.test(o=n.charAt(a));){if(a>=2)throw"MGRSPoint bad conversion from: "+n;r+=o,a++}var s=parseInt(r,10);if(a===0||a+3>i)throw"MGRSPoint bad conversion from: "+n;var l=n.charAt(a++);if(l<="A"||l==="B"||l==="Y"||l>="Z"||l==="I"||l==="O")throw"MGRSPoint zone letter "+l+" not handled: "+n;t=n.substring(a,a+=2);for(var c=get100kSetForZone(s),h=getEastingFromChar(t.charAt(0),c),u=getNorthingFromChar(t.charAt(1),c);u<getMinNorthing(l);)u+=2e6;var d=i-a;if(d%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+n;var f=d/2,p=0,m=0,g,v,_,y,b;return f>0&&(g=1e5/Math.pow(10,f),v=n.substring(a,a+f),p=parseFloat(v)*g,_=n.substring(a+f),m=parseFloat(_)*g),y=p+h,b=m+u,{easting:y,northing:b,zoneLetter:l,zoneNumber:s,accuracy:g}}function getEastingFromChar(n,i){for(var t=SET_ORIGIN_COLUMN_LETTERS.charCodeAt(i-1),r=1e5,o=!1;t!==n.charCodeAt(0);){if(t++,t===I&&t++,t===O&&t++,t>Z){if(o)throw"Bad character: "+n;t=A,o=!0}r+=1e5}return r}function getNorthingFromChar(n,i){if(n>"V")throw"MGRSPoint given invalid Northing "+n;for(var t=SET_ORIGIN_ROW_LETTERS.charCodeAt(i-1),r=0,o=!1;t!==n.charCodeAt(0);){if(t++,t===I&&t++,t===O&&t++,t>V){if(o)throw"Bad character: "+n;t=A,o=!0}r+=1e5}return r}function getMinNorthing(n){var i;switch(n){case"C":i=11e5;break;case"D":i=2e6;break;case"E":i=28e5;break;case"F":i=37e5;break;case"G":i=46e5;break;case"H":i=55e5;break;case"J":i=64e5;break;case"K":i=73e5;break;case"L":i=82e5;break;case"M":i=91e5;break;case"N":i=0;break;case"P":i=8e5;break;case"Q":i=17e5;break;case"R":i=26e5;break;case"S":i=35e5;break;case"T":i=44e5;break;case"U":i=53e5;break;case"V":i=62e5;break;case"W":i=7e6;break;case"X":i=79e5;break;default:i=-1}if(i>=0)return i;throw"Invalid zone letter: "+n}function Point(n,i,t){if(!(this instanceof Point))return new Point(n,i,t);if(Array.isArray(n))this.x=n[0],this.y=n[1],this.z=n[2]||0;else if(typeof n=="object")this.x=n.x,this.y=n.y,this.z=n.z||0;else if(typeof n=="string"&&typeof i>"u"){var r=n.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=n,this.y=i,this.z=t||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Point.fromMGRS=function(n){return new Point(toPoint(n))};Point.prototype.toMGRS=function(n){return forward$t([this.x,this.y],n)};var C00=1,C02=.25,C04=.046875,C06=.01953125,C08=.01068115234375,C22=.75,C44=.46875,C46=.013020833333333334,C48=.007120768229166667,C66=.3645833333333333,C68=.005696614583333333,C88=.3076171875;function pj_enfn(n){var i=[];i[0]=C00-n*(C02+n*(C04+n*(C06+n*C08))),i[1]=n*(C22-n*(C04+n*(C06+n*C08)));var t=n*n;return i[2]=t*(C44-n*(C46+n*C48)),t*=n,i[3]=t*(C66-n*C68),i[4]=t*n*C88,i}function pj_mlfn(n,i,t,r){return t*=i,i*=i,r[0]*n-t*(r[1]+i*(r[2]+i*(r[3]+i*r[4])))}var MAX_ITER$3=20;function pj_inv_mlfn(n,i,t){for(var r=1/(1-i),o=n,a=MAX_ITER$3;a;--a){var s=Math.sin(o),l=1-i*s*s;if(l=(pj_mlfn(o,s,Math.cos(o),t)-n)*(l*Math.sqrt(l))*r,o-=l,Math.abs(l)<EPSLN)return o}return o}function init$t(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=pj_enfn(this.es),this.ml0=pj_mlfn(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function forward$s(n){var i=n.x,t=n.y,r=adjust_lon(i-this.long0),o,a,s,l=Math.sin(t),c=Math.cos(t);if(this.es){var u=c*r,d=Math.pow(u,2),f=this.ep2*Math.pow(c,2),p=Math.pow(f,2),m=Math.abs(c)>EPSLN?Math.tan(t):0,g=Math.pow(m,2),v=Math.pow(g,2);o=1-this.es*Math.pow(l,2),u=u/Math.sqrt(o);var _=pj_mlfn(t,l,c,this.en);a=this.a*(this.k0*u*(1+d/6*(1-g+f+d/20*(5-18*g+v+14*f-58*g*f+d/42*(61+179*v-v*g-479*g)))))+this.x0,s=this.a*(this.k0*(_-this.ml0+l*r*u/2*(1+d/12*(5-g+9*f+4*p+d/30*(61+v-58*g+270*f-330*g*f+d/56*(1385+543*v-v*g-3111*g))))))+this.y0}else{var h=c*Math.sin(r);if(Math.abs(Math.abs(h)-1)<EPSLN)return 93;if(a=.5*this.a*this.k0*Math.log((1+h)/(1-h))+this.x0,s=c*Math.cos(r)/Math.sqrt(1-Math.pow(h,2)),h=Math.abs(s),h>=1){if(h-1>EPSLN)return 93;s=0}else s=Math.acos(s);t<0&&(s=-s),s=this.a*this.k0*(s-this.lat0)+this.y0}return n.x=a,n.y=s,n}function inverse$s(n){var i,t,r,o,a=(n.x-this.x0)*(1/this.a),s=(n.y-this.y0)*(1/this.a);if(this.es)if(i=this.ml0+s/this.k0,t=pj_inv_mlfn(i,this.es,this.en),Math.abs(t)<HALF_PI){var d=Math.sin(t),f=Math.cos(t),p=Math.abs(f)>EPSLN?Math.tan(t):0,m=this.ep2*Math.pow(f,2),g=Math.pow(m,2),v=Math.pow(p,2),_=Math.pow(v,2);i=1-this.es*Math.pow(d,2);var y=a*Math.sqrt(i)/this.k0,b=Math.pow(y,2);i=i*p,r=t-i*b/(1-this.es)*.5*(1-b/12*(5+3*v-9*m*v+m-4*g-b/30*(61+90*v-252*m*v+45*_+46*m-b/56*(1385+3633*v+4095*_+1574*_*v)))),o=adjust_lon(this.long0+y*(1-b/6*(1+2*v+m-b/20*(5+28*v+24*_+8*m*v+6*m-b/42*(61+662*v+1320*_+720*_*v))))/f)}else r=HALF_PI*sign(s),o=0;else{var l=Math.exp(a/this.k0),c=.5*(l-1/l),h=this.lat0+s/this.k0,u=Math.cos(h);i=Math.sqrt((1-Math.pow(u,2))/(1+Math.pow(c,2))),r=Math.asin(i),s<0&&(r=-r),c===0&&u===0?o=0:o=adjust_lon(Math.atan2(c,u)+this.long0)}return n.x=o,n.y=r,n}var names$t=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const tmerc={init:init$t,forward:forward$s,inverse:inverse$s,names:names$t};function sinh(n){var i=Math.exp(n);return i=(i-1/i)/2,i}function hypot(n,i){n=Math.abs(n),i=Math.abs(i);var t=Math.max(n,i),r=Math.min(n,i)/(t||1);return t*Math.sqrt(1+Math.pow(r,2))}function log1py(n){var i=1+n,t=i-1;return t===0?n:n*Math.log(i)/t}function asinhy(n){var i=Math.abs(n);return i=log1py(i*(1+i/(hypot(1,i)+1))),n<0?-i:i}function gatg(n,i){for(var t=2*Math.cos(2*i),r=n.length-1,o=n[r],a=0,s;--r>=0;)s=-a+t*o+n[r],a=o,o=s;return i+s*Math.sin(2*i)}function clens(n,i){for(var t=2*Math.cos(i),r=n.length-1,o=n[r],a=0,s;--r>=0;)s=-a+t*o+n[r],a=o,o=s;return Math.sin(i)*s}function cosh(n){var i=Math.exp(n);return i=(i+1/i)/2,i}function clens_cmplx(n,i,t){for(var r=Math.sin(i),o=Math.cos(i),a=sinh(t),s=cosh(t),l=2*o*s,c=-2*r*a,h=n.length-1,u=n[h],d=0,f=0,p=0,m,g;--h>=0;)m=f,g=d,f=u,d=p,u=-m+l*f-c*d+n[h],p=-g+c*f+l*d;return l=r*s,c=o*a,[l*u-c*p,l*p+c*u]}function init$s(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(tmerc.init.apply(this),this.forward=tmerc.forward,this.inverse=tmerc.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var n=this.es/(1+Math.sqrt(1-this.es)),i=n/(2-n),t=i;this.cgb[0]=i*(2+i*(-2/3+i*(-2+i*(116/45+i*(26/45+i*(-2854/675)))))),this.cbg[0]=i*(-2+i*(2/3+i*(4/3+i*(-82/45+i*(32/45+i*(4642/4725)))))),t=t*i,this.cgb[1]=t*(7/3+i*(-8/5+i*(-227/45+i*(2704/315+i*(2323/945))))),this.cbg[1]=t*(5/3+i*(-16/15+i*(-13/9+i*(904/315+i*(-1522/945))))),t=t*i,this.cgb[2]=t*(56/15+i*(-136/35+i*(-1262/105+i*(73814/2835)))),this.cbg[2]=t*(-26/15+i*(34/21+i*(8/5+i*(-12686/2835)))),t=t*i,this.cgb[3]=t*(4279/630+i*(-332/35+i*(-399572/14175))),this.cbg[3]=t*(1237/630+i*(-12/5+i*(-24832/14175))),t=t*i,this.cgb[4]=t*(4174/315+i*(-144838/6237)),this.cbg[4]=t*(-734/315+i*(109598/31185)),t=t*i,this.cgb[5]=t*(601676/22275),this.cbg[5]=t*(444337/155925),t=Math.pow(i,2),this.Qn=this.k0/(1+i)*(1+t*(1/4+t*(1/64+t/256))),this.utg[0]=i*(-.5+i*(2/3+i*(-37/96+i*(1/360+i*(81/512+i*(-96199/604800)))))),this.gtu[0]=i*(.5+i*(-2/3+i*(5/16+i*(41/180+i*(-127/288+i*(7891/37800)))))),this.utg[1]=t*(-1/48+i*(-1/15+i*(437/1440+i*(-46/105+i*(1118711/3870720))))),this.gtu[1]=t*(13/48+i*(-3/5+i*(557/1440+i*(281/630+i*(-1983433/1935360))))),t=t*i,this.utg[2]=t*(-17/480+i*(37/840+i*(209/4480+i*(-5569/90720)))),this.gtu[2]=t*(61/240+i*(-103/140+i*(15061/26880+i*(167603/181440)))),t=t*i,this.utg[3]=t*(-4397/161280+i*(11/504+i*(830251/7257600))),this.gtu[3]=t*(49561/161280+i*(-179/168+i*(6601661/7257600))),t=t*i,this.utg[4]=t*(-4583/161280+i*(108847/3991680)),this.gtu[4]=t*(34729/80640+i*(-3418889/1995840)),t=t*i,this.utg[5]=t*(-20648693/638668800),this.gtu[5]=t*(212378941/319334400);var r=gatg(this.cbg,this.lat0);this.Zb=-this.Qn*(r+clens(this.gtu,2*r))}function forward$r(n){var i=adjust_lon(n.x-this.long0),t=n.y;t=gatg(this.cbg,t);var r=Math.sin(t),o=Math.cos(t),a=Math.sin(i),s=Math.cos(i);t=Math.atan2(r,s*o),i=Math.atan2(a*o,hypot(r,o*s)),i=asinhy(Math.tan(i));var l=clens_cmplx(this.gtu,2*t,2*i);t=t+l[0],i=i+l[1];var c,h;return Math.abs(i)<=2.623395162778?(c=this.a*(this.Qn*i)+this.x0,h=this.a*(this.Qn*t+this.Zb)+this.y0):(c=1/0,h=1/0),n.x=c,n.y=h,n}function inverse$r(n){var i=(n.x-this.x0)*(1/this.a),t=(n.y-this.y0)*(1/this.a);t=(t-this.Zb)/this.Qn,i=i/this.Qn;var r,o;if(Math.abs(i)<=2.623395162778){var a=clens_cmplx(this.utg,2*t,2*i);t=t+a[0],i=i+a[1],i=Math.atan(sinh(i));var s=Math.sin(t),l=Math.cos(t),c=Math.sin(i),h=Math.cos(i);t=Math.atan2(s*h,hypot(c,h*l)),i=Math.atan2(c,h*l),r=adjust_lon(i+this.long0),o=gatg(this.cgb,t)}else r=1/0,o=1/0;return n.x=r,n.y=o,n}var names$s=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"];const etmerc={init:init$s,forward:forward$r,inverse:inverse$r,names:names$s};function adjust_zone(n,i){if(n===void 0){if(n=Math.floor((adjust_lon(i)+Math.PI)*30/Math.PI)+1,n<0)return 0;if(n>60)return 60}return n}var dependsOn="etmerc";function init$r(){var n=adjust_zone(this.zone,this.long0);if(n===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(n)-183)*D2R$1,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,etmerc.init.apply(this),this.forward=etmerc.forward,this.inverse=etmerc.inverse}var names$r=["Universal Transverse Mercator System","utm"];const utm={init:init$r,names:names$r,dependsOn};function srat(n,i){return Math.pow((1-n)/(1+n),i)}var MAX_ITER$2=20;function init$q(){var n=Math.sin(this.lat0),i=Math.cos(this.lat0);i*=i,this.rc=Math.sqrt(1-this.es)/(1-this.es*n*n),this.C=Math.sqrt(1+this.es*i*i/(1-this.es)),this.phic0=Math.asin(n/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+FORTPI)/(Math.pow(Math.tan(.5*this.lat0+FORTPI),this.C)*srat(this.e*n,this.ratexp))}function forward$q(n){var i=n.x,t=n.y;return n.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*t+FORTPI),this.C)*srat(this.e*Math.sin(t),this.ratexp))-HALF_PI,n.x=this.C*i,n}function inverse$q(n){for(var i=1e-14,t=n.x/this.C,r=n.y,o=Math.pow(Math.tan(.5*r+FORTPI)/this.K,1/this.C),a=MAX_ITER$2;a>0&&(r=2*Math.atan(o*srat(this.e*Math.sin(n.y),-.5*this.e))-HALF_PI,!(Math.abs(r-n.y)<i));--a)n.y=r;return a?(n.x=t,n.y=r,n):null}var names$q=["gauss"];const gauss={init:init$q,forward:forward$q,inverse:inverse$q,names:names$q};function init$p(){gauss.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function forward$p(n){var i,t,r,o;return n.x=adjust_lon(n.x-this.long0),gauss.forward.apply(this,[n]),i=Math.sin(n.y),t=Math.cos(n.y),r=Math.cos(n.x),o=this.k0*this.R2/(1+this.sinc0*i+this.cosc0*t*r),n.x=o*t*Math.sin(n.x),n.y=o*(this.cosc0*i-this.sinc0*t*r),n.x=this.a*n.x+this.x0,n.y=this.a*n.y+this.y0,n}function inverse$p(n){var i,t,r,o,a;if(n.x=(n.x-this.x0)/this.a,n.y=(n.y-this.y0)/this.a,n.x/=this.k0,n.y/=this.k0,a=Math.sqrt(n.x*n.x+n.y*n.y)){var s=2*Math.atan2(a,this.R2);i=Math.sin(s),t=Math.cos(s),o=Math.asin(t*this.sinc0+n.y*i*this.cosc0/a),r=Math.atan2(n.x*i,a*this.cosc0*t-n.y*this.sinc0*i)}else o=this.phic0,r=0;return n.x=r,n.y=o,gauss.inverse.apply(this,[n]),n.x=adjust_lon(n.x+this.long0),n}var names$p=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const sterea={init:init$p,forward:forward$p,inverse:inverse$p,names:names$p};function ssfn_(n,i,t){return i*=t,Math.tan(.5*(HALF_PI+n))*Math.pow((1-i)/(1+i),.5*t)}function init$o(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=EPSLN&&(this.k0=.5*(1+sign(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=EPSLN&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=EPSLN&&Math.abs(Math.cos(this.lat_ts))>EPSLN&&(this.k0=.5*this.cons*msfnz(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/tsfnz(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=msfnz(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-HALF_PI,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function forward$o(n){var i=n.x,t=n.y,r=Math.sin(t),o=Math.cos(t),a,s,l,c,h,u,d=adjust_lon(i-this.long0);return Math.abs(Math.abs(i-this.long0)-Math.PI)<=EPSLN&&Math.abs(t+this.lat0)<=EPSLN?(n.x=NaN,n.y=NaN,n):this.sphere?(a=2*this.k0/(1+this.sinlat0*r+this.coslat0*o*Math.cos(d)),n.x=this.a*a*o*Math.sin(d)+this.x0,n.y=this.a*a*(this.coslat0*r-this.sinlat0*o*Math.cos(d))+this.y0,n):(s=2*Math.atan(this.ssfn_(t,r,this.e))-HALF_PI,c=Math.cos(s),l=Math.sin(s),Math.abs(this.coslat0)<=EPSLN?(h=tsfnz(this.e,t*this.con,this.con*r),u=2*this.a*this.k0*h/this.cons,n.x=this.x0+u*Math.sin(i-this.long0),n.y=this.y0-this.con*u*Math.cos(i-this.long0),n):(Math.abs(this.sinlat0)<EPSLN?(a=2*this.a*this.k0/(1+c*Math.cos(d)),n.y=a*l):(a=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*l+this.cosX0*c*Math.cos(d))),n.y=a*(this.cosX0*l-this.sinX0*c*Math.cos(d))+this.y0),n.x=a*c*Math.sin(d)+this.x0,n))}function inverse$o(n){n.x-=this.x0,n.y-=this.y0;var i,t,r,o,a,s=Math.sqrt(n.x*n.x+n.y*n.y);if(this.sphere){var l=2*Math.atan(s/(2*this.a*this.k0));return i=this.long0,t=this.lat0,s<=EPSLN?(n.x=i,n.y=t,n):(t=Math.asin(Math.cos(l)*this.sinlat0+n.y*Math.sin(l)*this.coslat0/s),Math.abs(this.coslat0)<EPSLN?this.lat0>0?i=adjust_lon(this.long0+Math.atan2(n.x,-1*n.y)):i=adjust_lon(this.long0+Math.atan2(n.x,n.y)):i=adjust_lon(this.long0+Math.atan2(n.x*Math.sin(l),s*this.coslat0*Math.cos(l)-n.y*this.sinlat0*Math.sin(l))),n.x=i,n.y=t,n)}else if(Math.abs(this.coslat0)<=EPSLN){if(s<=EPSLN)return t=this.lat0,i=this.long0,n.x=i,n.y=t,n;n.x*=this.con,n.y*=this.con,r=s*this.cons/(2*this.a*this.k0),t=this.con*phi2z(this.e,r),i=this.con*adjust_lon(this.con*this.long0+Math.atan2(n.x,-1*n.y))}else o=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),i=this.long0,s<=EPSLN?a=this.X0:(a=Math.asin(Math.cos(o)*this.sinX0+n.y*Math.sin(o)*this.cosX0/s),i=adjust_lon(this.long0+Math.atan2(n.x*Math.sin(o),s*this.cosX0*Math.cos(o)-n.y*this.sinX0*Math.sin(o)))),t=-1*phi2z(this.e,Math.tan(.5*(HALF_PI+a)));return n.x=i,n.y=t,n}var names$o=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const stere={init:init$o,forward:forward$o,inverse:inverse$o,names:names$o,ssfn_};function init$n(){var n=this.lat0;this.lambda0=this.long0;var i=Math.sin(n),t=this.a,r=this.rf,o=1/r,a=2*o-Math.pow(o,2),s=this.e=Math.sqrt(a);this.R=this.k0*t*Math.sqrt(1-a)/(1-a*Math.pow(i,2)),this.alpha=Math.sqrt(1+a/(1-a)*Math.pow(Math.cos(n),4)),this.b0=Math.asin(i/this.alpha);var l=Math.log(Math.tan(Math.PI/4+this.b0/2)),c=Math.log(Math.tan(Math.PI/4+n/2)),h=Math.log((1+s*i)/(1-s*i));this.K=l-this.alpha*c+this.alpha*s/2*h}function forward$n(n){var i=Math.log(Math.tan(Math.PI/4-n.y/2)),t=this.e/2*Math.log((1+this.e*Math.sin(n.y))/(1-this.e*Math.sin(n.y))),r=-this.alpha*(i+t)+this.K,o=2*(Math.atan(Math.exp(r))-Math.PI/4),a=this.alpha*(n.x-this.lambda0),s=Math.atan(Math.sin(a)/(Math.sin(this.b0)*Math.tan(o)+Math.cos(this.b0)*Math.cos(a))),l=Math.asin(Math.cos(this.b0)*Math.sin(o)-Math.sin(this.b0)*Math.cos(o)*Math.cos(a));return n.y=this.R/2*Math.log((1+Math.sin(l))/(1-Math.sin(l)))+this.y0,n.x=this.R*s+this.x0,n}function inverse$n(n){for(var i=n.x-this.x0,t=n.y-this.y0,r=i/this.R,o=2*(Math.atan(Math.exp(t/this.R))-Math.PI/4),a=Math.asin(Math.cos(this.b0)*Math.sin(o)+Math.sin(this.b0)*Math.cos(o)*Math.cos(r)),s=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(o))),l=this.lambda0+s/this.alpha,c=0,h=a,u=-1e3,d=0;Math.abs(h-u)>1e-7;){if(++d>20)return;c=1/this.alpha*(Math.log(Math.tan(Math.PI/4+a/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(h))/2)),u=h,h=2*Math.atan(Math.exp(c))-Math.PI/2}return n.x=l,n.y=h,n}var names$n=["somerc"];const somerc={init:init$n,forward:forward$n,inverse:inverse$n,names:names$n};var TOL=1e-7;function isTypeA(n){var i=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],t=typeof n.PROJECTION=="object"?Object.keys(n.PROJECTION)[0]:n.PROJECTION;return"no_uoff"in n||"no_off"in n||i.indexOf(t)!==-1}function init$m(){var n,i,t,r,o,a,s,l,c,h,u=0,d,f=0,p=0,m=0,g=0,v=0,_=0;this.no_off=isTypeA(this),this.no_rot="no_rot"in this;var y=!1;"alpha"in this&&(y=!0);var b=!1;if("rectified_grid_angle"in this&&(b=!0),y&&(_=this.alpha),b&&(u=this.rectified_grid_angle*D2R$1),y||b)f=this.longc;else if(p=this.long1,g=this.lat1,m=this.long2,v=this.lat2,Math.abs(g-v)<=TOL||(n=Math.abs(g))<=TOL||Math.abs(n-HALF_PI)<=TOL||Math.abs(Math.abs(this.lat0)-HALF_PI)<=TOL||Math.abs(Math.abs(v)-HALF_PI)<=TOL)throw new Error;var x=1-this.es;i=Math.sqrt(x),Math.abs(this.lat0)>EPSLN?(l=Math.sin(this.lat0),t=Math.cos(this.lat0),n=1-this.es*l*l,this.B=t*t,this.B=Math.sqrt(1+this.es*this.B*this.B/x),this.A=this.B*this.k0*i/n,r=this.B*i/(t*Math.sqrt(n)),o=r*r-1,o<=0?o=0:(o=Math.sqrt(o),this.lat0<0&&(o=-o)),this.E=o+=r,this.E*=Math.pow(tsfnz(this.e,this.lat0,l),this.B)):(this.B=1/i,this.A=this.k0,this.E=r=o=1),y||b?(y?(d=Math.asin(Math.sin(_)/r),b||(u=_)):(d=u,_=Math.asin(r*Math.sin(d))),this.lam0=f-Math.asin(.5*(o-1/o)*Math.tan(d))/this.B):(a=Math.pow(tsfnz(this.e,g,Math.sin(g)),this.B),s=Math.pow(tsfnz(this.e,v,Math.sin(v)),this.B),o=this.E/a,c=(s-a)/(s+a),h=this.E*this.E,h=(h-s*a)/(h+s*a),n=p-m,n<-Math.pi?m-=TWO_PI:n>Math.pi&&(m+=TWO_PI),this.lam0=adjust_lon(.5*(p+m)-Math.atan(h*Math.tan(.5*this.B*(p-m))/c)/this.B),d=Math.atan(2*Math.sin(this.B*adjust_lon(p-this.lam0))/(o-1/o)),u=_=Math.asin(r*Math.sin(d))),this.singam=Math.sin(d),this.cosgam=Math.cos(d),this.sinrot=Math.sin(u),this.cosrot=Math.cos(u),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(_))),this.lat0<0&&(this.u_0=-this.u_0)),o=.5*d,this.v_pole_n=this.ArB*Math.log(Math.tan(FORTPI-o)),this.v_pole_s=this.ArB*Math.log(Math.tan(FORTPI+o))}function forward$m(n){var i={},t,r,o,a,s,l,c,h;if(n.x=n.x-this.lam0,Math.abs(Math.abs(n.y)-HALF_PI)>EPSLN){if(s=this.E/Math.pow(tsfnz(this.e,n.y,Math.sin(n.y)),this.B),l=1/s,t=.5*(s-l),r=.5*(s+l),a=Math.sin(this.B*n.x),o=(t*this.singam-a*this.cosgam)/r,Math.abs(Math.abs(o)-1)<EPSLN)throw new Error;h=.5*this.ArB*Math.log((1-o)/(1+o)),l=Math.cos(this.B*n.x),Math.abs(l)<TOL?c=this.A*n.x:c=this.ArB*Math.atan2(t*this.cosgam+a*this.singam,l)}else h=n.y>0?this.v_pole_n:this.v_pole_s,c=this.ArB*n.y;return this.no_rot?(i.x=c,i.y=h):(c-=this.u_0,i.x=h*this.cosrot+c*this.sinrot,i.y=c*this.cosrot-h*this.sinrot),i.x=this.a*i.x+this.x0,i.y=this.a*i.y+this.y0,i}function inverse$m(n){var i,t,r,o,a,s,l,c={};if(n.x=(n.x-this.x0)*(1/this.a),n.y=(n.y-this.y0)*(1/this.a),this.no_rot?(t=n.y,i=n.x):(t=n.x*this.cosrot-n.y*this.sinrot,i=n.y*this.cosrot+n.x*this.sinrot+this.u_0),r=Math.exp(-this.BrA*t),o=.5*(r-1/r),a=.5*(r+1/r),s=Math.sin(this.BrA*i),l=(s*this.cosgam+o*this.singam)/a,Math.abs(Math.abs(l)-1)<EPSLN)c.x=0,c.y=l<0?-HALF_PI:HALF_PI;else{if(c.y=this.E/Math.sqrt((1+l)/(1-l)),c.y=phi2z(this.e,Math.pow(c.y,1/this.B)),c.y===1/0)throw new Error;c.x=-this.rB*Math.atan2(o*this.cosgam-s*this.singam,Math.cos(this.BrA*i))}return c.x+=this.lam0,c}var names$m=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const omerc={init:init$m,forward:forward$m,inverse:inverse$m,names:names$m};function init$l(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<EPSLN)){var n=this.b/this.a;this.e=Math.sqrt(1-n*n);var i=Math.sin(this.lat1),t=Math.cos(this.lat1),r=msfnz(this.e,i,t),o=tsfnz(this.e,this.lat1,i),a=Math.sin(this.lat2),s=Math.cos(this.lat2),l=msfnz(this.e,a,s),c=tsfnz(this.e,this.lat2,a),h=tsfnz(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>EPSLN?this.ns=Math.log(r/l)/Math.log(o/c):this.ns=i,isNaN(this.ns)&&(this.ns=i),this.f0=r/(this.ns*Math.pow(o,this.ns)),this.rh=this.a*this.f0*Math.pow(h,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function forward$l(n){var i=n.x,t=n.y;Math.abs(2*Math.abs(t)-Math.PI)<=EPSLN&&(t=sign(t)*(HALF_PI-2*EPSLN));var r=Math.abs(Math.abs(t)-HALF_PI),o,a;if(r>EPSLN)o=tsfnz(this.e,t,Math.sin(t)),a=this.a*this.f0*Math.pow(o,this.ns);else{if(r=t*this.ns,r<=0)return null;a=0}var s=this.ns*adjust_lon(i-this.long0);return n.x=this.k0*(a*Math.sin(s))+this.x0,n.y=this.k0*(this.rh-a*Math.cos(s))+this.y0,n}function inverse$l(n){var i,t,r,o,a,s=(n.x-this.x0)/this.k0,l=this.rh-(n.y-this.y0)/this.k0;this.ns>0?(i=Math.sqrt(s*s+l*l),t=1):(i=-Math.sqrt(s*s+l*l),t=-1);var c=0;if(i!==0&&(c=Math.atan2(t*s,t*l)),i!==0||this.ns>0){if(t=1/this.ns,r=Math.pow(i/(this.a*this.f0),t),o=phi2z(this.e,r),o===-9999)return null}else o=-HALF_PI;return a=adjust_lon(c/this.ns+this.long0),n.x=a,n.y=o,n}var names$l=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const lcc={init:init$l,forward:forward$l,inverse:inverse$l,names:names$l};function init$k(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function forward$k(n){var i,t,r,o,a,s,l,c=n.x,h=n.y,u=adjust_lon(c-this.long0);return i=Math.pow((1+this.e*Math.sin(h))/(1-this.e*Math.sin(h)),this.alfa*this.e/2),t=2*(Math.atan(this.k*Math.pow(Math.tan(h/2+this.s45),this.alfa)/i)-this.s45),r=-u*this.alfa,o=Math.asin(Math.cos(this.ad)*Math.sin(t)+Math.sin(this.ad)*Math.cos(t)*Math.cos(r)),a=Math.asin(Math.cos(t)*Math.sin(r)/Math.cos(o)),s=this.n*a,l=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(o/2+this.s45),this.n),n.y=l*Math.cos(s)/1,n.x=l*Math.sin(s)/1,this.czech||(n.y*=-1,n.x*=-1),n}function inverse$k(n){var i,t,r,o,a,s,l,c,h=n.x;n.x=n.y,n.y=h,this.czech||(n.y*=-1,n.x*=-1),s=Math.sqrt(n.x*n.x+n.y*n.y),a=Math.atan2(n.y,n.x),o=a/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/s,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),i=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(o)),t=Math.asin(Math.cos(r)*Math.sin(o)/Math.cos(i)),n.x=this.long0-t/this.alfa,l=i,c=0;var u=0;do n.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(i/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(l))/(1-this.e*Math.sin(l)),this.e/2))-this.s45),Math.abs(l-n.y)<1e-10&&(c=1),l=n.y,u+=1;while(c===0&&u<15);return u>=15?null:n}var names$k=["Krovak","krovak"];const krovak={init:init$k,forward:forward$k,inverse:inverse$k,names:names$k};function mlfn(n,i,t,r,o){return n*o-i*Math.sin(2*o)+t*Math.sin(4*o)-r*Math.sin(6*o)}function e0fn(n){return 1-.25*n*(1+n/16*(3+1.25*n))}function e1fn(n){return .375*n*(1+.25*n*(1+.46875*n))}function e2fn(n){return .05859375*n*n*(1+.75*n)}function e3fn(n){return n*n*n*(35/3072)}function gN(n,i,t){var r=i*t;return n/Math.sqrt(1-r*r)}function adjust_lat(n){return Math.abs(n)<HALF_PI?n:n-sign(n)*Math.PI}function imlfn(n,i,t,r,o){var a,s;a=n/i;for(var l=0;l<15;l++)if(s=(n-(i*a-t*Math.sin(2*a)+r*Math.sin(4*a)-o*Math.sin(6*a)))/(i-2*t*Math.cos(2*a)+4*r*Math.cos(4*a)-6*o*Math.cos(6*a)),a+=s,Math.abs(s)<=1e-10)return a;return NaN}function init$j(){this.sphere||(this.e0=e0fn(this.es),this.e1=e1fn(this.es),this.e2=e2fn(this.es),this.e3=e3fn(this.es),this.ml0=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0))}function forward$j(n){var i,t,r=n.x,o=n.y;if(r=adjust_lon(r-this.long0),this.sphere)i=this.a*Math.asin(Math.cos(o)*Math.sin(r)),t=this.a*(Math.atan2(Math.tan(o),Math.cos(r))-this.lat0);else{var a=Math.sin(o),s=Math.cos(o),l=gN(this.a,this.e,a),c=Math.tan(o)*Math.tan(o),h=r*Math.cos(o),u=h*h,d=this.es*s*s/(1-this.es),f=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,o);i=l*h*(1-u*c*(1/6-(8-c+8*d)*u/120)),t=f-this.ml0+l*a/s*u*(.5+(5-c+6*d)*u/24)}return n.x=i+this.x0,n.y=t+this.y0,n}function inverse$j(n){n.x-=this.x0,n.y-=this.y0;var i=n.x/this.a,t=n.y/this.a,r,o;if(this.sphere){var a=t+this.lat0;r=Math.asin(Math.sin(a)*Math.cos(i)),o=Math.atan2(Math.tan(i),Math.cos(a))}else{var s=this.ml0/this.a+t,l=imlfn(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(l)-HALF_PI)<=EPSLN)return n.x=this.long0,n.y=HALF_PI,t<0&&(n.y*=-1),n;var c=gN(this.a,this.e,Math.sin(l)),h=c*c*c/this.a/this.a*(1-this.es),u=Math.pow(Math.tan(l),2),d=i*this.a/c,f=d*d;r=l-c*Math.tan(l)/h*d*d*(.5-(1+3*u)*d*d/24),o=d*(1-f*(u/3+(1+3*u)*u*f/15))/Math.cos(l)}return n.x=adjust_lon(o+this.long0),n.y=adjust_lat(r),n}var names$j=["Cassini","Cassini_Soldner","cass"];const cass={init:init$j,forward:forward$j,inverse:inverse$j,names:names$j};function qsfnz(n,i){var t;return n>1e-7?(t=n*i,(1-n*n)*(i/(1-t*t)-.5/n*Math.log((1-t)/(1+t)))):2*i}var S_POLE=1,N_POLE=2,EQUIT=3,OBLIQ=4;function init$i(){var n=Math.abs(this.lat0);if(Math.abs(n-HALF_PI)<EPSLN?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(n)<EPSLN?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var i;switch(this.qp=qsfnz(this.e,1),this.mmf=.5/(1-this.es),this.apa=authset(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),i=Math.sin(this.lat0),this.sinb1=qsfnz(this.e,i)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*i*i)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function forward$i(n){var i,t,r,o,a,s,l,c,h,u,d=n.x,f=n.y;if(d=adjust_lon(d-this.long0),this.sphere){if(a=Math.sin(f),u=Math.cos(f),r=Math.cos(d),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(t=this.mode===this.EQUIT?1+u*r:1+this.sinph0*a+this.cosph0*u*r,t<=EPSLN)return null;t=Math.sqrt(2/t),i=t*u*Math.sin(d),t*=this.mode===this.EQUIT?a:this.cosph0*a-this.sinph0*u*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(f+this.lat0)<EPSLN)return null;t=FORTPI-f*.5,t=2*(this.mode===this.S_POLE?Math.cos(t):Math.sin(t)),i=t*Math.sin(d),t*=r}}else{switch(l=0,c=0,h=0,r=Math.cos(d),o=Math.sin(d),a=Math.sin(f),s=qsfnz(this.e,a),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(l=s/this.qp,c=Math.sqrt(1-l*l)),this.mode){case this.OBLIQ:h=1+this.sinb1*l+this.cosb1*c*r;break;case this.EQUIT:h=1+c*r;break;case this.N_POLE:h=HALF_PI+f,s=this.qp-s;break;case this.S_POLE:h=f-HALF_PI,s=this.qp+s;break}if(Math.abs(h)<EPSLN)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:h=Math.sqrt(2/h),this.mode===this.OBLIQ?t=this.ymf*h*(this.cosb1*l-this.sinb1*c*r):t=(h=Math.sqrt(2/(1+c*r)))*l*this.ymf,i=this.xmf*h*c*o;break;case this.N_POLE:case this.S_POLE:s>=0?(i=(h=Math.sqrt(s))*o,t=r*(this.mode===this.S_POLE?h:-h)):i=t=0;break}}return n.x=this.a*i+this.x0,n.y=this.a*t+this.y0,n}function inverse$i(n){n.x-=this.x0,n.y-=this.y0;var i=n.x/this.a,t=n.y/this.a,r,o,a,s,l,c,h;if(this.sphere){var u=0,d,f=0;if(d=Math.sqrt(i*i+t*t),o=d*.5,o>1)return null;switch(o=2*Math.asin(o),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(f=Math.sin(o),u=Math.cos(o)),this.mode){case this.EQUIT:o=Math.abs(d)<=EPSLN?0:Math.asin(t*f/d),i*=f,t=u*d;break;case this.OBLIQ:o=Math.abs(d)<=EPSLN?this.lat0:Math.asin(u*this.sinph0+t*f*this.cosph0/d),i*=f*this.cosph0,t=(u-Math.sin(o)*this.sinph0)*d;break;case this.N_POLE:t=-t,o=HALF_PI-o;break;case this.S_POLE:o-=HALF_PI;break}r=t===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(i,t)}else{if(h=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(i/=this.dd,t*=this.dd,c=Math.sqrt(i*i+t*t),c<EPSLN)return n.x=this.long0,n.y=this.lat0,n;s=2*Math.asin(.5*c/this.rq),a=Math.cos(s),i*=s=Math.sin(s),this.mode===this.OBLIQ?(h=a*this.sinb1+t*s*this.cosb1/c,l=this.qp*h,t=c*this.cosb1*a-t*this.sinb1*s):(h=t*s/c,l=this.qp*h,t=c*a)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(t=-t),l=i*i+t*t,!l)return n.x=this.long0,n.y=this.lat0,n;h=1-l/this.qp,this.mode===this.S_POLE&&(h=-h)}r=Math.atan2(i,t),o=authlat(Math.asin(h),this.apa)}return n.x=adjust_lon(this.long0+r),n.y=o,n}var P00=.3333333333333333,P01=.17222222222222222,P02=.10257936507936508,P10=.06388888888888888,P11=.0664021164021164,P20=.016415012942191543;function authset(n){var i,t=[];return t[0]=n*P00,i=n*n,t[0]+=i*P01,t[1]=i*P10,i*=n,t[0]+=i*P02,t[1]+=i*P11,t[2]=i*P20,t}function authlat(n,i){var t=n+n;return n+i[0]*Math.sin(t)+i[1]*Math.sin(t+t)+i[2]*Math.sin(t+t+t)}var names$i=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const laea={init:init$i,forward:forward$i,inverse:inverse$i,names:names$i,S_POLE,N_POLE,EQUIT,OBLIQ};function asinz(n){return Math.abs(n)>1&&(n=n>1?1:-1),Math.asin(n)}function init$h(){Math.abs(this.lat1+this.lat2)<EPSLN||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=msfnz(this.e3,this.sin_po,this.cos_po),this.qs1=qsfnz(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=msfnz(this.e3,this.sin_po,this.cos_po),this.qs2=qsfnz(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=qsfnz(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>EPSLN?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function forward$h(n){var i=n.x,t=n.y;this.sin_phi=Math.sin(t),this.cos_phi=Math.cos(t);var r=qsfnz(this.e3,this.sin_phi),o=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,a=this.ns0*adjust_lon(i-this.long0),s=o*Math.sin(a)+this.x0,l=this.rh-o*Math.cos(a)+this.y0;return n.x=s,n.y=l,n}function inverse$h(n){var i,t,r,o,a,s;return n.x-=this.x0,n.y=this.rh-n.y+this.y0,this.ns0>=0?(i=Math.sqrt(n.x*n.x+n.y*n.y),r=1):(i=-Math.sqrt(n.x*n.x+n.y*n.y),r=-1),o=0,i!==0&&(o=Math.atan2(r*n.x,r*n.y)),r=i*this.ns0/this.a,this.sphere?s=Math.asin((this.c-r*r)/(2*this.ns0)):(t=(this.c-r*r)/this.ns0,s=this.phi1z(this.e3,t)),a=adjust_lon(o/this.ns0+this.long0),n.x=a,n.y=s,n}function phi1z(n,i){var t,r,o,a,s,l=asinz(.5*i);if(n<EPSLN)return l;for(var c=n*n,h=1;h<=25;h++)if(t=Math.sin(l),r=Math.cos(l),o=n*t,a=1-o*o,s=.5*a*a/r*(i/(1-c)-t/a+.5/n*Math.log((1-o)/(1+o))),l=l+s,Math.abs(s)<=1e-7)return l;return null}var names$h=["Albers_Conic_Equal_Area","Albers","aea"];const aea={init:init$h,forward:forward$h,inverse:inverse$h,names:names$h,phi1z};function init$g(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function forward$g(n){var i,t,r,o,a,s,l,c,h=n.x,u=n.y;return r=adjust_lon(h-this.long0),i=Math.sin(u),t=Math.cos(u),o=Math.cos(r),s=this.sin_p14*i+this.cos_p14*t*o,a=1,s>0||Math.abs(s)<=EPSLN?(l=this.x0+this.a*a*t*Math.sin(r)/s,c=this.y0+this.a*a*(this.cos_p14*i-this.sin_p14*t*o)/s):(l=this.x0+this.infinity_dist*t*Math.sin(r),c=this.y0+this.infinity_dist*(this.cos_p14*i-this.sin_p14*t*o)),n.x=l,n.y=c,n}function inverse$g(n){var i,t,r,o,a,s;return n.x=(n.x-this.x0)/this.a,n.y=(n.y-this.y0)/this.a,n.x/=this.k0,n.y/=this.k0,(i=Math.sqrt(n.x*n.x+n.y*n.y))?(o=Math.atan2(i,this.rc),t=Math.sin(o),r=Math.cos(o),s=asinz(r*this.sin_p14+n.y*t*this.cos_p14/i),a=Math.atan2(n.x*t,i*this.cos_p14*r-n.y*this.sin_p14*t),a=adjust_lon(this.long0+a)):(s=this.phic0,a=0),n.x=a,n.y=s,n}var names$g=["gnom"];const gnom={init:init$g,forward:forward$g,inverse:inverse$g,names:names$g};function iqsfnz(n,i){var t=1-(1-n*n)/(2*n)*Math.log((1-n)/(1+n));if(Math.abs(Math.abs(i)-t)<1e-6)return i<0?-1*HALF_PI:HALF_PI;for(var r=Math.asin(.5*i),o,a,s,l,c=0;c<30;c++)if(a=Math.sin(r),s=Math.cos(r),l=n*a,o=Math.pow(1-l*l,2)/(2*s)*(i/(1-n*n)-a/(1-l*l)+.5/n*Math.log((1-l)/(1+l))),r+=o,Math.abs(o)<=1e-10)return r;return NaN}function init$f(){this.sphere||(this.k0=msfnz(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function forward$f(n){var i=n.x,t=n.y,r,o,a=adjust_lon(i-this.long0);if(this.sphere)r=this.x0+this.a*a*Math.cos(this.lat_ts),o=this.y0+this.a*Math.sin(t)/Math.cos(this.lat_ts);else{var s=qsfnz(this.e,Math.sin(t));r=this.x0+this.a*this.k0*a,o=this.y0+this.a*s*.5/this.k0}return n.x=r,n.y=o,n}function inverse$f(n){n.x-=this.x0,n.y-=this.y0;var i,t;return this.sphere?(i=adjust_lon(this.long0+n.x/this.a/Math.cos(this.lat_ts)),t=Math.asin(n.y/this.a*Math.cos(this.lat_ts))):(t=iqsfnz(this.e,2*n.y*this.k0/this.a),i=adjust_lon(this.long0+n.x/(this.a*this.k0))),n.x=i,n.y=t,n}var names$f=["cea"];const cea={init:init$f,forward:forward$f,inverse:inverse$f,names:names$f};function init$e(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function forward$e(n){var i=n.x,t=n.y,r=adjust_lon(i-this.long0),o=adjust_lat(t-this.lat0);return n.x=this.x0+this.a*r*this.rc,n.y=this.y0+this.a*o,n}function inverse$e(n){var i=n.x,t=n.y;return n.x=adjust_lon(this.long0+(i-this.x0)/(this.a*this.rc)),n.y=adjust_lat(this.lat0+(t-this.y0)/this.a),n}var names$e=["Equirectangular","Equidistant_Cylindrical","eqc"];const eqc={init:init$e,forward:forward$e,inverse:inverse$e,names:names$e};var MAX_ITER$1=20;function init$d(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=e0fn(this.es),this.e1=e1fn(this.es),this.e2=e2fn(this.es),this.e3=e3fn(this.es),this.ml0=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0)}function forward$d(n){var i=n.x,t=n.y,r,o,a,s=adjust_lon(i-this.long0);if(a=s*Math.sin(t),this.sphere)Math.abs(t)<=EPSLN?(r=this.a*s,o=-1*this.a*this.lat0):(r=this.a*Math.sin(a)/Math.tan(t),o=this.a*(adjust_lat(t-this.lat0)+(1-Math.cos(a))/Math.tan(t)));else if(Math.abs(t)<=EPSLN)r=this.a*s,o=-1*this.ml0;else{var l=gN(this.a,this.e,Math.sin(t))/Math.tan(t);r=l*Math.sin(a),o=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,t)-this.ml0+l*(1-Math.cos(a))}return n.x=r+this.x0,n.y=o+this.y0,n}function inverse$d(n){var i,t,r,o,a,s,l,c,h;if(r=n.x-this.x0,o=n.y-this.y0,this.sphere)if(Math.abs(o+this.a*this.lat0)<=EPSLN)i=adjust_lon(r/this.a+this.long0),t=0;else{s=this.lat0+o/this.a,l=r*r/this.a/this.a+s*s,c=s;var u;for(a=MAX_ITER$1;a;--a)if(u=Math.tan(c),h=-1*(s*(c*u+1)-c-.5*(c*c+l)*u)/((c-s)/u-1),c+=h,Math.abs(h)<=EPSLN){t=c;break}i=adjust_lon(this.long0+Math.asin(r*Math.tan(c)/this.a)/Math.sin(t))}else if(Math.abs(o+this.ml0)<=EPSLN)t=0,i=adjust_lon(this.long0+r/this.a);else{s=(this.ml0+o)/this.a,l=r*r/this.a/this.a+s*s,c=s;var d,f,p,m,g;for(a=MAX_ITER$1;a;--a)if(g=this.e*Math.sin(c),d=Math.sqrt(1-g*g)*Math.tan(c),f=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,c),p=this.e0-2*this.e1*Math.cos(2*c)+4*this.e2*Math.cos(4*c)-6*this.e3*Math.cos(6*c),m=f/this.a,h=(s*(d*m+1)-m-.5*d*(m*m+l))/(this.es*Math.sin(2*c)*(m*m+l-2*s*m)/(4*d)+(s-m)*(d*p-2/Math.sin(2*c))-p),c-=h,Math.abs(h)<=EPSLN){t=c;break}d=Math.sqrt(1-this.es*Math.pow(Math.sin(t),2))*Math.tan(t),i=adjust_lon(this.long0+Math.asin(r*d/this.a)/Math.sin(t))}return n.x=i,n.y=t,n}var names$d=["Polyconic","poly"];const poly={init:init$d,forward:forward$d,inverse:inverse$d,names:names$d};function init$c(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function forward$c(n){var i,t=n.x,r=n.y,o=r-this.lat0,a=t-this.long0,s=o/SEC_TO_RAD*1e-5,l=a,c=1,h=0;for(i=1;i<=10;i++)c=c*s,h=h+this.A[i]*c;var u=h,d=l,f=1,p=0,m,g,v=0,_=0;for(i=1;i<=6;i++)m=f*u-p*d,g=p*u+f*d,f=m,p=g,v=v+this.B_re[i]*f-this.B_im[i]*p,_=_+this.B_im[i]*f+this.B_re[i]*p;return n.x=_*this.a+this.x0,n.y=v*this.a+this.y0,n}function inverse$c(n){var i,t=n.x,r=n.y,o=t-this.x0,a=r-this.y0,s=a/this.a,l=o/this.a,c=1,h=0,u,d,f=0,p=0;for(i=1;i<=6;i++)u=c*s-h*l,d=h*s+c*l,c=u,h=d,f=f+this.C_re[i]*c-this.C_im[i]*h,p=p+this.C_im[i]*c+this.C_re[i]*h;for(var m=0;m<this.iterations;m++){var g=f,v=p,_,y,b=s,x=l;for(i=2;i<=6;i++)_=g*f-v*p,y=v*f+g*p,g=_,v=y,b=b+(i-1)*(this.B_re[i]*g-this.B_im[i]*v),x=x+(i-1)*(this.B_im[i]*g+this.B_re[i]*v);g=1,v=0;var E=this.B_re[1],C=this.B_im[1];for(i=2;i<=6;i++)_=g*f-v*p,y=v*f+g*p,g=_,v=y,E=E+i*(this.B_re[i]*g-this.B_im[i]*v),C=C+i*(this.B_im[i]*g+this.B_re[i]*v);var $=E*E+C*C;f=(b*E+x*C)/$,p=(x*E-b*C)/$}var S=f,P=p,T=1,k=0;for(i=1;i<=9;i++)T=T*S,k=k+this.D[i]*T;var L=this.lat0+k*SEC_TO_RAD*1e5,N=this.long0+P;return n.x=N,n.y=L,n}var names$c=["New_Zealand_Map_Grid","nzmg"];const nzmg={init:init$c,forward:forward$c,inverse:inverse$c,names:names$c};function init$b(){}function forward$b(n){var i=n.x,t=n.y,r=adjust_lon(i-this.long0),o=this.x0+this.a*r,a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+t/2.5))*1.25;return n.x=o,n.y=a,n}function inverse$b(n){n.x-=this.x0,n.y-=this.y0;var i=adjust_lon(this.long0+n.x/this.a),t=2.5*(Math.atan(Math.exp(.8*n.y/this.a))-Math.PI/4);return n.x=i,n.y=t,n}var names$b=["Miller_Cylindrical","mill"];const mill={init:init$b,forward:forward$b,inverse:inverse$b,names:names$b};var MAX_ITER=20;function init$a(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=pj_enfn(this.es)}function forward$a(n){var i,t,r=n.x,o=n.y;if(r=adjust_lon(r-this.long0),this.sphere){if(!this.m)o=this.n!==1?Math.asin(this.n*Math.sin(o)):o;else for(var a=this.n*Math.sin(o),s=MAX_ITER;s;--s){var l=(this.m*o+Math.sin(o)-a)/(this.m+Math.cos(o));if(o-=l,Math.abs(l)<EPSLN)break}i=this.a*this.C_x*r*(this.m+Math.cos(o)),t=this.a*this.C_y*o}else{var c=Math.sin(o),h=Math.cos(o);t=this.a*pj_mlfn(o,c,h,this.en),i=this.a*r*h/Math.sqrt(1-this.es*c*c)}return n.x=i,n.y=t,n}function inverse$a(n){var i,t,r,o;return n.x-=this.x0,r=n.x/this.a,n.y-=this.y0,i=n.y/this.a,this.sphere?(i/=this.C_y,r=r/(this.C_x*(this.m+Math.cos(i))),this.m?i=asinz((this.m*i+Math.sin(i))/this.n):this.n!==1&&(i=asinz(Math.sin(i)/this.n)),r=adjust_lon(r+this.long0),i=adjust_lat(i)):(i=pj_inv_mlfn(n.y/this.a,this.es,this.en),o=Math.abs(i),o<HALF_PI?(o=Math.sin(i),t=this.long0+n.x*Math.sqrt(1-this.es*o*o)/(this.a*Math.cos(i)),r=adjust_lon(t)):o-EPSLN<HALF_PI&&(r=this.long0)),n.x=r,n.y=i,n}var names$a=["Sinusoidal","sinu"];const sinu={init:init$a,forward:forward$a,inverse:inverse$a,names:names$a};function init$9(){}function forward$9(n){for(var i=n.x,t=n.y,r=adjust_lon(i-this.long0),o=t,a=Math.PI*Math.sin(t);;){var s=-(o+Math.sin(o)-a)/(1+Math.cos(o));if(o+=s,Math.abs(s)<EPSLN)break}o/=2,Math.PI/2-Math.abs(t)<EPSLN&&(r=0);var l=.900316316158*this.a*r*Math.cos(o)+this.x0,c=1.4142135623731*this.a*Math.sin(o)+this.y0;return n.x=l,n.y=c,n}function inverse$9(n){var i,t;n.x-=this.x0,n.y-=this.y0,t=n.y/(1.4142135623731*this.a),Math.abs(t)>.999999999999&&(t=.999999999999),i=Math.asin(t);var r=adjust_lon(this.long0+n.x/(.900316316158*this.a*Math.cos(i)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),t=(2*i+Math.sin(2*i))/Math.PI,Math.abs(t)>1&&(t=1);var o=Math.asin(t);return n.x=r,n.y=o,n}var names$9=["Mollweide","moll"];const moll={init:init$9,forward:forward$9,inverse:inverse$9,names:names$9};function init$8(){Math.abs(this.lat1+this.lat2)<EPSLN||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=e0fn(this.es),this.e1=e1fn(this.es),this.e2=e2fn(this.es),this.e3=e3fn(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=msfnz(this.e,this.sinphi,this.cosphi),this.ml1=mlfn(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<EPSLN?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=msfnz(this.e,this.sinphi,this.cosphi),this.ml2=mlfn(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function forward$8(n){var i=n.x,t=n.y,r;if(this.sphere)r=this.a*(this.g-t);else{var o=mlfn(this.e0,this.e1,this.e2,this.e3,t);r=this.a*(this.g-o)}var a=this.ns*adjust_lon(i-this.long0),s=this.x0+r*Math.sin(a),l=this.y0+this.rh-r*Math.cos(a);return n.x=s,n.y=l,n}function inverse$8(n){n.x-=this.x0,n.y=this.rh-n.y+this.y0;var i,t,r,o;this.ns>=0?(t=Math.sqrt(n.x*n.x+n.y*n.y),i=1):(t=-Math.sqrt(n.x*n.x+n.y*n.y),i=-1);var a=0;if(t!==0&&(a=Math.atan2(i*n.x,i*n.y)),this.sphere)return o=adjust_lon(this.long0+a/this.ns),r=adjust_lat(this.g-t/this.a),n.x=o,n.y=r,n;var s=this.g-t/this.a;return r=imlfn(s,this.e0,this.e1,this.e2,this.e3),o=adjust_lon(this.long0+a/this.ns),n.x=o,n.y=r,n}var names$8=["Equidistant_Conic","eqdc"];const eqdc={init:init$8,forward:forward$8,inverse:inverse$8,names:names$8};function init$7(){this.R=this.a}function forward$7(n){var i=n.x,t=n.y,r=adjust_lon(i-this.long0),o,a;Math.abs(t)<=EPSLN&&(o=this.x0+this.R*r,a=this.y0);var s=asinz(2*Math.abs(t/Math.PI));(Math.abs(r)<=EPSLN||Math.abs(Math.abs(t)-HALF_PI)<=EPSLN)&&(o=this.x0,t>=0?a=this.y0+Math.PI*this.R*Math.tan(.5*s):a=this.y0+Math.PI*this.R*-Math.tan(.5*s));var l=.5*Math.abs(Math.PI/r-r/Math.PI),c=l*l,h=Math.sin(s),u=Math.cos(s),d=u/(h+u-1),f=d*d,p=d*(2/h-1),m=p*p,g=Math.PI*this.R*(l*(d-m)+Math.sqrt(c*(d-m)*(d-m)-(m+c)*(f-m)))/(m+c);r<0&&(g=-g),o=this.x0+g;var v=c+d;return g=Math.PI*this.R*(p*v-l*Math.sqrt((m+c)*(c+1)-v*v))/(m+c),t>=0?a=this.y0+g:a=this.y0-g,n.x=o,n.y=a,n}function inverse$7(n){var i,t,r,o,a,s,l,c,h,u,d,f,p;return n.x-=this.x0,n.y-=this.y0,d=Math.PI*this.R,r=n.x/d,o=n.y/d,a=r*r+o*o,s=-Math.abs(o)*(1+a),l=s-2*o*o+r*r,c=-2*s+1+2*o*o+a*a,p=o*o/c+(2*l*l*l/c/c/c-9*s*l/c/c)/27,h=(s-l*l/3/c)/c,u=2*Math.sqrt(-h/3),d=3*p/h/u,Math.abs(d)>1&&(d>=0?d=1:d=-1),f=Math.acos(d)/3,n.y>=0?t=(-u*Math.cos(f+Math.PI/3)-l/3/c)*Math.PI:t=-(-u*Math.cos(f+Math.PI/3)-l/3/c)*Math.PI,Math.abs(r)<EPSLN?i=this.long0:i=adjust_lon(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(r*r-o*o)+a*a))/2/r),n.x=i,n.y=t,n}var names$7=["Van_der_Grinten_I","VanDerGrinten","vandg"];const vandg={init:init$7,forward:forward$7,inverse:inverse$7,names:names$7};function init$6(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function forward$6(n){var i=n.x,t=n.y,r=Math.sin(n.y),o=Math.cos(n.y),a=adjust_lon(i-this.long0),s,l,c,h,u,d,f,p,m,g,v,_,y,b,x,E,C,$,S,P,T,k,L;return this.sphere?Math.abs(this.sin_p12-1)<=EPSLN?(n.x=this.x0+this.a*(HALF_PI-t)*Math.sin(a),n.y=this.y0-this.a*(HALF_PI-t)*Math.cos(a),n):Math.abs(this.sin_p12+1)<=EPSLN?(n.x=this.x0+this.a*(HALF_PI+t)*Math.sin(a),n.y=this.y0+this.a*(HALF_PI+t)*Math.cos(a),n):($=this.sin_p12*r+this.cos_p12*o*Math.cos(a),E=Math.acos($),C=E?E/Math.sin(E):1,n.x=this.x0+this.a*C*o*Math.sin(a),n.y=this.y0+this.a*C*(this.cos_p12*r-this.sin_p12*o*Math.cos(a)),n):(s=e0fn(this.es),l=e1fn(this.es),c=e2fn(this.es),h=e3fn(this.es),Math.abs(this.sin_p12-1)<=EPSLN?(u=this.a*mlfn(s,l,c,h,HALF_PI),d=this.a*mlfn(s,l,c,h,t),n.x=this.x0+(u-d)*Math.sin(a),n.y=this.y0-(u-d)*Math.cos(a),n):Math.abs(this.sin_p12+1)<=EPSLN?(u=this.a*mlfn(s,l,c,h,HALF_PI),d=this.a*mlfn(s,l,c,h,t),n.x=this.x0+(u+d)*Math.sin(a),n.y=this.y0+(u+d)*Math.cos(a),n):(f=r/o,p=gN(this.a,this.e,this.sin_p12),m=gN(this.a,this.e,r),g=Math.atan((1-this.es)*f+this.es*p*this.sin_p12/(m*o)),v=Math.atan2(Math.sin(a),this.cos_p12*Math.tan(g)-this.sin_p12*Math.cos(a)),v===0?S=Math.asin(this.cos_p12*Math.sin(g)-this.sin_p12*Math.cos(g)):Math.abs(Math.abs(v)-Math.PI)<=EPSLN?S=-Math.asin(this.cos_p12*Math.sin(g)-this.sin_p12*Math.cos(g)):S=Math.asin(Math.sin(a)*Math.cos(g)/Math.sin(v)),_=this.e*this.sin_p12/Math.sqrt(1-this.es),y=this.e*this.cos_p12*Math.cos(v)/Math.sqrt(1-this.es),b=_*y,x=y*y,P=S*S,T=P*S,k=T*S,L=k*S,E=p*S*(1-P*x*(1-x)/6+T/8*b*(1-2*x)+k/120*(x*(4-7*x)-3*_*_*(1-7*x))-L/48*b),n.x=this.x0+E*Math.sin(v),n.y=this.y0+E*Math.cos(v),n))}function inverse$6(n){n.x-=this.x0,n.y-=this.y0;var i,t,r,o,a,s,l,c,h,u,d,f,p,m,g,v,_,y,b,x,E,C,$,S;return this.sphere?(i=Math.sqrt(n.x*n.x+n.y*n.y),i>2*HALF_PI*this.a?void 0:(t=i/this.a,r=Math.sin(t),o=Math.cos(t),a=this.long0,Math.abs(i)<=EPSLN?s=this.lat0:(s=asinz(o*this.sin_p12+n.y*r*this.cos_p12/i),l=Math.abs(this.lat0)-HALF_PI,Math.abs(l)<=EPSLN?this.lat0>=0?a=adjust_lon(this.long0+Math.atan2(n.x,-n.y)):a=adjust_lon(this.long0-Math.atan2(-n.x,n.y)):a=adjust_lon(this.long0+Math.atan2(n.x*r,i*this.cos_p12*o-n.y*this.sin_p12*r))),n.x=a,n.y=s,n)):(c=e0fn(this.es),h=e1fn(this.es),u=e2fn(this.es),d=e3fn(this.es),Math.abs(this.sin_p12-1)<=EPSLN?(f=this.a*mlfn(c,h,u,d,HALF_PI),i=Math.sqrt(n.x*n.x+n.y*n.y),p=f-i,s=imlfn(p/this.a,c,h,u,d),a=adjust_lon(this.long0+Math.atan2(n.x,-1*n.y)),n.x=a,n.y=s,n):Math.abs(this.sin_p12+1)<=EPSLN?(f=this.a*mlfn(c,h,u,d,HALF_PI),i=Math.sqrt(n.x*n.x+n.y*n.y),p=i-f,s=imlfn(p/this.a,c,h,u,d),a=adjust_lon(this.long0+Math.atan2(n.x,n.y)),n.x=a,n.y=s,n):(i=Math.sqrt(n.x*n.x+n.y*n.y),v=Math.atan2(n.x,n.y),m=gN(this.a,this.e,this.sin_p12),_=Math.cos(v),y=this.e*this.cos_p12*_,b=-y*y/(1-this.es),x=3*this.es*(1-b)*this.sin_p12*this.cos_p12*_/(1-this.es),E=i/m,C=E-b*(1+b)*Math.pow(E,3)/6-x*(1+3*b)*Math.pow(E,4)/24,$=1-b*C*C/2-E*C*C*C/6,g=Math.asin(this.sin_p12*Math.cos(C)+this.cos_p12*Math.sin(C)*_),a=adjust_lon(this.long0+Math.asin(Math.sin(v)*Math.sin(C)/Math.cos(g))),S=Math.sin(g),s=Math.atan2((S-this.es*$*this.sin_p12)*Math.tan(g),S*(1-this.es)),n.x=a,n.y=s,n))}var names$6=["Azimuthal_Equidistant","aeqd"];const aeqd={init:init$6,forward:forward$6,inverse:inverse$6,names:names$6};function init$5(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function forward$5(n){var i,t,r,o,a,s,l,c,h=n.x,u=n.y;return r=adjust_lon(h-this.long0),i=Math.sin(u),t=Math.cos(u),o=Math.cos(r),s=this.sin_p14*i+this.cos_p14*t*o,a=1,(s>0||Math.abs(s)<=EPSLN)&&(l=this.a*a*t*Math.sin(r),c=this.y0+this.a*a*(this.cos_p14*i-this.sin_p14*t*o)),n.x=l,n.y=c,n}function inverse$5(n){var i,t,r,o,a,s,l;return n.x-=this.x0,n.y-=this.y0,i=Math.sqrt(n.x*n.x+n.y*n.y),t=asinz(i/this.a),r=Math.sin(t),o=Math.cos(t),s=this.long0,Math.abs(i)<=EPSLN?(l=this.lat0,n.x=s,n.y=l,n):(l=asinz(o*this.sin_p14+n.y*r*this.cos_p14/i),a=Math.abs(this.lat0)-HALF_PI,Math.abs(a)<=EPSLN?(this.lat0>=0?s=adjust_lon(this.long0+Math.atan2(n.x,-n.y)):s=adjust_lon(this.long0-Math.atan2(-n.x,n.y)),n.x=s,n.y=l,n):(s=adjust_lon(this.long0+Math.atan2(n.x*r,i*this.cos_p14*o-n.y*this.sin_p14*r)),n.x=s,n.y=l,n))}var names$5=["ortho"];const ortho={init:init$5,forward:forward$5,inverse:inverse$5,names:names$5};var FACE_ENUM={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},AREA_ENUM={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function init$4(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=HALF_PI-FORTPI/2?this.face=FACE_ENUM.TOP:this.lat0<=-(HALF_PI-FORTPI/2)?this.face=FACE_ENUM.BOTTOM:Math.abs(this.long0)<=FORTPI?this.face=FACE_ENUM.FRONT:Math.abs(this.long0)<=HALF_PI+FORTPI?this.face=this.long0>0?FACE_ENUM.RIGHT:FACE_ENUM.LEFT:this.face=FACE_ENUM.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function forward$4(n){var i={x:0,y:0},t,r,o,a,s,l,c={value:0};if(n.x-=this.long0,this.es!==0?t=Math.atan(this.one_minus_f_squared*Math.tan(n.y)):t=n.y,r=n.x,this.face===FACE_ENUM.TOP)a=HALF_PI-t,r>=FORTPI&&r<=HALF_PI+FORTPI?(c.value=AREA_ENUM.AREA_0,o=r-HALF_PI):r>HALF_PI+FORTPI||r<=-(HALF_PI+FORTPI)?(c.value=AREA_ENUM.AREA_1,o=r>0?r-SPI:r+SPI):r>-(HALF_PI+FORTPI)&&r<=-FORTPI?(c.value=AREA_ENUM.AREA_2,o=r+HALF_PI):(c.value=AREA_ENUM.AREA_3,o=r);else if(this.face===FACE_ENUM.BOTTOM)a=HALF_PI+t,r>=FORTPI&&r<=HALF_PI+FORTPI?(c.value=AREA_ENUM.AREA_0,o=-r+HALF_PI):r<FORTPI&&r>=-FORTPI?(c.value=AREA_ENUM.AREA_1,o=-r):r<-FORTPI&&r>=-(HALF_PI+FORTPI)?(c.value=AREA_ENUM.AREA_2,o=-r-HALF_PI):(c.value=AREA_ENUM.AREA_3,o=r>0?-r+SPI:-r-SPI);else{var h,u,d,f,p,m,g;this.face===FACE_ENUM.RIGHT?r=qsc_shift_lon_origin(r,+HALF_PI):this.face===FACE_ENUM.BACK?r=qsc_shift_lon_origin(r,+SPI):this.face===FACE_ENUM.LEFT&&(r=qsc_shift_lon_origin(r,-HALF_PI)),f=Math.sin(t),p=Math.cos(t),m=Math.sin(r),g=Math.cos(r),h=p*g,u=p*m,d=f,this.face===FACE_ENUM.FRONT?(a=Math.acos(h),o=qsc_fwd_equat_face_theta(a,d,u,c)):this.face===FACE_ENUM.RIGHT?(a=Math.acos(u),o=qsc_fwd_equat_face_theta(a,d,-h,c)):this.face===FACE_ENUM.BACK?(a=Math.acos(-h),o=qsc_fwd_equat_face_theta(a,d,-u,c)):this.face===FACE_ENUM.LEFT?(a=Math.acos(-u),o=qsc_fwd_equat_face_theta(a,d,h,c)):(a=o=0,c.value=AREA_ENUM.AREA_0)}return l=Math.atan(12/SPI*(o+Math.acos(Math.sin(o)*Math.cos(FORTPI))-HALF_PI)),s=Math.sqrt((1-Math.cos(a))/(Math.cos(l)*Math.cos(l))/(1-Math.cos(Math.atan(1/Math.cos(o))))),c.value===AREA_ENUM.AREA_1?l+=HALF_PI:c.value===AREA_ENUM.AREA_2?l+=SPI:c.value===AREA_ENUM.AREA_3&&(l+=1.5*SPI),i.x=s*Math.cos(l),i.y=s*Math.sin(l),i.x=i.x*this.a+this.x0,i.y=i.y*this.a+this.y0,n.x=i.x,n.y=i.y,n}function inverse$4(n){var i={lam:0,phi:0},t,r,o,a,s,l,c,h,u,d={value:0};if(n.x=(n.x-this.x0)/this.a,n.y=(n.y-this.y0)/this.a,r=Math.atan(Math.sqrt(n.x*n.x+n.y*n.y)),t=Math.atan2(n.y,n.x),n.x>=0&&n.x>=Math.abs(n.y)?d.value=AREA_ENUM.AREA_0:n.y>=0&&n.y>=Math.abs(n.x)?(d.value=AREA_ENUM.AREA_1,t-=HALF_PI):n.x<0&&-n.x>=Math.abs(n.y)?(d.value=AREA_ENUM.AREA_2,t=t<0?t+SPI:t-SPI):(d.value=AREA_ENUM.AREA_3,t+=HALF_PI),u=SPI/12*Math.tan(t),s=Math.sin(u)/(Math.cos(u)-1/Math.sqrt(2)),l=Math.atan(s),o=Math.cos(t),a=Math.tan(r),c=1-o*o*a*a*(1-Math.cos(Math.atan(1/Math.cos(l)))),c<-1?c=-1:c>1&&(c=1),this.face===FACE_ENUM.TOP)h=Math.acos(c),i.phi=HALF_PI-h,d.value===AREA_ENUM.AREA_0?i.lam=l+HALF_PI:d.value===AREA_ENUM.AREA_1?i.lam=l<0?l+SPI:l-SPI:d.value===AREA_ENUM.AREA_2?i.lam=l-HALF_PI:i.lam=l;else if(this.face===FACE_ENUM.BOTTOM)h=Math.acos(c),i.phi=h-HALF_PI,d.value===AREA_ENUM.AREA_0?i.lam=-l+HALF_PI:d.value===AREA_ENUM.AREA_1?i.lam=-l:d.value===AREA_ENUM.AREA_2?i.lam=-l-HALF_PI:i.lam=l<0?-l-SPI:-l+SPI;else{var f,p,m;f=c,u=f*f,u>=1?m=0:m=Math.sqrt(1-u)*Math.sin(l),u+=m*m,u>=1?p=0:p=Math.sqrt(1-u),d.value===AREA_ENUM.AREA_1?(u=p,p=-m,m=u):d.value===AREA_ENUM.AREA_2?(p=-p,m=-m):d.value===AREA_ENUM.AREA_3&&(u=p,p=m,m=-u),this.face===FACE_ENUM.RIGHT?(u=f,f=-p,p=u):this.face===FACE_ENUM.BACK?(f=-f,p=-p):this.face===FACE_ENUM.LEFT&&(u=f,f=p,p=-u),i.phi=Math.acos(-m)-HALF_PI,i.lam=Math.atan2(p,f),this.face===FACE_ENUM.RIGHT?i.lam=qsc_shift_lon_origin(i.lam,-HALF_PI):this.face===FACE_ENUM.BACK?i.lam=qsc_shift_lon_origin(i.lam,-SPI):this.face===FACE_ENUM.LEFT&&(i.lam=qsc_shift_lon_origin(i.lam,+HALF_PI))}if(this.es!==0){var g,v,_;g=i.phi<0?1:0,v=Math.tan(i.phi),_=this.b/Math.sqrt(v*v+this.one_minus_f_squared),i.phi=Math.atan(Math.sqrt(this.a*this.a-_*_)/(this.one_minus_f*_)),g&&(i.phi=-i.phi)}return i.lam+=this.long0,n.x=i.lam,n.y=i.phi,n}function qsc_fwd_equat_face_theta(n,i,t,r){var o;return n<EPSLN?(r.value=AREA_ENUM.AREA_0,o=0):(o=Math.atan2(i,t),Math.abs(o)<=FORTPI?r.value=AREA_ENUM.AREA_0:o>FORTPI&&o<=HALF_PI+FORTPI?(r.value=AREA_ENUM.AREA_1,o-=HALF_PI):o>HALF_PI+FORTPI||o<=-(HALF_PI+FORTPI)?(r.value=AREA_ENUM.AREA_2,o=o>=0?o-SPI:o+SPI):(r.value=AREA_ENUM.AREA_3,o+=HALF_PI)),o}function qsc_shift_lon_origin(n,i){var t=n+i;return t<-SPI?t+=TWO_PI:t>+SPI&&(t-=TWO_PI),t}var names$4=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const qsc={init:init$4,forward:forward$4,inverse:inverse$4,names:names$4};var COEFS_X=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],COEFS_Y=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],FXC=.8487,FYC=1.3523,C1=R2D/5,RC1=1/C1,NODES=18,poly3_val=function(n,i){return n[0]+i*(n[1]+i*(n[2]+i*n[3]))},poly3_der=function(n,i){return n[1]+i*(2*n[2]+i*3*n[3])};function newton_rapshon(n,i,t,r){for(var o=i;r;--r){var a=n(o);if(o-=a,Math.abs(a)<t)break}return o}function init$3(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function forward$3(n){var i=adjust_lon(n.x-this.long0),t=Math.abs(n.y),r=Math.floor(t*C1);r<0?r=0:r>=NODES&&(r=NODES-1),t=R2D*(t-RC1*r);var o={x:poly3_val(COEFS_X[r],t)*i,y:poly3_val(COEFS_Y[r],t)};return n.y<0&&(o.y=-o.y),o.x=o.x*this.a*FXC+this.x0,o.y=o.y*this.a*FYC+this.y0,o}function inverse$3(n){var i={x:(n.x-this.x0)/(this.a*FXC),y:Math.abs(n.y-this.y0)/(this.a*FYC)};if(i.y>=1)i.x/=COEFS_X[NODES][0],i.y=n.y<0?-HALF_PI:HALF_PI;else{var t=Math.floor(i.y*NODES);for(t<0?t=0:t>=NODES&&(t=NODES-1);;)if(COEFS_Y[t][0]>i.y)--t;else if(COEFS_Y[t+1][0]<=i.y)++t;else break;var r=COEFS_Y[t],o=5*(i.y-r[0])/(COEFS_Y[t+1][0]-r[0]);o=newton_rapshon(function(a){return(poly3_val(r,a)-i.y)/poly3_der(r,a)},o,EPSLN,100),i.x/=poly3_val(COEFS_X[t],o),i.y=(5*t+o)*D2R$1,n.y<0&&(i.y=-i.y)}return i.x=adjust_lon(i.x+this.long0),i}var names$3=["Robinson","robin"];const robin={init:init$3,forward:forward$3,inverse:inverse$3,names:names$3};function init$2(){this.name="geocent"}function forward$2(n){var i=geodeticToGeocentric(n,this.es,this.a);return i}function inverse$2(n){var i=geocentricToGeodetic(n,this.es,this.a,this.b);return i}var names$2=["Geocentric","geocentric","geocent","Geocent"];const geocent={init:init$2,forward:forward$2,inverse:inverse$2,names:names$2};var mode={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},params={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function init$1(){if(Object.keys(params).forEach((function(t){if(typeof this[t]>"u")this[t]=params[t].def;else{if(params[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);params[t].num&&(this[t]=parseFloat(this[t]))}params[t].degrees&&(this[t]=this[t]*D2R$1)}).bind(this)),Math.abs(Math.abs(this.lat0)-HALF_PI)<EPSLN?this.mode=this.lat0<0?mode.S_POLE:mode.N_POLE:Math.abs(this.lat0)<EPSLN?this.mode=mode.EQUIT:(this.mode=mode.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var n=this.tilt,i=this.azi;this.cg=Math.cos(i),this.sg=Math.sin(i),this.cw=Math.cos(n),this.sw=Math.sin(n)}function forward$1(n){n.x-=this.long0;var i=Math.sin(n.y),t=Math.cos(n.y),r=Math.cos(n.x),o,a;switch(this.mode){case mode.OBLIQ:a=this.sinph0*i+this.cosph0*t*r;break;case mode.EQUIT:a=t*r;break;case mode.S_POLE:a=-i;break;case mode.N_POLE:a=i;break}switch(a=this.pn1/(this.p-a),o=a*t*Math.sin(n.x),this.mode){case mode.OBLIQ:a*=this.cosph0*i-this.sinph0*t*r;break;case mode.EQUIT:a*=i;break;case mode.N_POLE:a*=-(t*r);break;case mode.S_POLE:a*=t*r;break}var s,l;return s=a*this.cg+o*this.sg,l=1/(s*this.sw*this.h1+this.cw),o=(o*this.cg-a*this.sg)*this.cw*l,a=s*l,n.x=o*this.a,n.y=a*this.a,n}function inverse$1(n){n.x/=this.a,n.y/=this.a;var i={x:n.x,y:n.y},t,r,o;o=1/(this.pn1-n.y*this.sw),t=this.pn1*n.x*o,r=this.pn1*n.y*this.cw*o,n.x=t*this.cg+r*this.sg,n.y=r*this.cg-t*this.sg;var a=hypot(n.x,n.y);if(Math.abs(a)<EPSLN)i.x=0,i.y=n.y;else{var s,l;switch(l=1-a*a*this.pfact,l=(this.p-Math.sqrt(l))/(this.pn1/a+a/this.pn1),s=Math.sqrt(1-l*l),this.mode){case mode.OBLIQ:i.y=Math.asin(s*this.sinph0+n.y*l*this.cosph0/a),n.y=(s-this.sinph0*Math.sin(i.y))*a,n.x*=l*this.cosph0;break;case mode.EQUIT:i.y=Math.asin(n.y*l/a),n.y=s*a,n.x*=l;break;case mode.N_POLE:i.y=Math.asin(s),n.y=-n.y;break;case mode.S_POLE:i.y=-Math.asin(s);break}i.x=Math.atan2(n.x,n.y)}return n.x=i.x+this.long0,n.y=i.y,n}var names$1=["Tilted_Perspective","tpers"];const tpers={init:init$1,forward:forward$1,inverse:inverse$1,names:names$1};function init(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var n=1-this.es,i=1/n;this.radius_p=Math.sqrt(n),this.radius_p2=n,this.radius_p_inv2=i,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function forward(n){var i=n.x,t=n.y,r,o,a,s;if(i=i-this.long0,this.shape==="ellipse"){t=Math.atan(this.radius_p2*Math.tan(t));var l=this.radius_p/hypot(this.radius_p*Math.cos(t),Math.sin(t));if(o=l*Math.cos(i)*Math.cos(t),a=l*Math.sin(i)*Math.cos(t),s=l*Math.sin(t),(this.radius_g-o)*o-a*a-s*s*this.radius_p_inv2<0)return n.x=Number.NaN,n.y=Number.NaN,n;r=this.radius_g-o,this.flip_axis?(n.x=this.radius_g_1*Math.atan(a/hypot(s,r)),n.y=this.radius_g_1*Math.atan(s/r)):(n.x=this.radius_g_1*Math.atan(a/r),n.y=this.radius_g_1*Math.atan(s/hypot(a,r)))}else this.shape==="sphere"&&(r=Math.cos(t),o=Math.cos(i)*r,a=Math.sin(i)*r,s=Math.sin(t),r=this.radius_g-o,this.flip_axis?(n.x=this.radius_g_1*Math.atan(a/hypot(s,r)),n.y=this.radius_g_1*Math.atan(s/r)):(n.x=this.radius_g_1*Math.atan(a/r),n.y=this.radius_g_1*Math.atan(s/hypot(a,r))));return n.x=n.x*this.a,n.y=n.y*this.a,n}function inverse(n){var i=-1,t=0,r=0,o,a,s,l;if(n.x=n.x/this.a,n.y=n.y/this.a,this.shape==="ellipse"){this.flip_axis?(r=Math.tan(n.y/this.radius_g_1),t=Math.tan(n.x/this.radius_g_1)*hypot(1,r)):(t=Math.tan(n.x/this.radius_g_1),r=Math.tan(n.y/this.radius_g_1)*hypot(1,t));var c=r/this.radius_p;if(o=t*t+c*c+i*i,a=2*this.radius_g*i,s=a*a-4*o*this.C,s<0)return n.x=Number.NaN,n.y=Number.NaN,n;l=(-a-Math.sqrt(s))/(2*o),i=this.radius_g+l*i,t*=l,r*=l,n.x=Math.atan2(t,i),n.y=Math.atan(r*Math.cos(n.x)/i),n.y=Math.atan(this.radius_p_inv2*Math.tan(n.y))}else if(this.shape==="sphere"){if(this.flip_axis?(r=Math.tan(n.y/this.radius_g_1),t=Math.tan(n.x/this.radius_g_1)*Math.sqrt(1+r*r)):(t=Math.tan(n.x/this.radius_g_1),r=Math.tan(n.y/this.radius_g_1)*Math.sqrt(1+t*t)),o=t*t+r*r+i*i,a=2*this.radius_g*i,s=a*a-4*o*this.C,s<0)return n.x=Number.NaN,n.y=Number.NaN,n;l=(-a-Math.sqrt(s))/(2*o),i=this.radius_g+l*i,t*=l,r*=l,n.x=Math.atan2(t,i),n.y=Math.atan(r*Math.cos(n.x)/i)}return n.x=n.x+this.long0,n}var names=["Geostationary Satellite View","Geostationary_Satellite","geos"];const geos={init,forward,inverse,names};function includedProjections(n){n.Proj.projections.add(tmerc),n.Proj.projections.add(etmerc),n.Proj.projections.add(utm),n.Proj.projections.add(sterea),n.Proj.projections.add(stere),n.Proj.projections.add(somerc),n.Proj.projections.add(omerc),n.Proj.projections.add(lcc),n.Proj.projections.add(krovak),n.Proj.projections.add(cass),n.Proj.projections.add(laea),n.Proj.projections.add(aea),n.Proj.projections.add(gnom),n.Proj.projections.add(cea),n.Proj.projections.add(eqc),n.Proj.projections.add(poly),n.Proj.projections.add(nzmg),n.Proj.projections.add(mill),n.Proj.projections.add(sinu),n.Proj.projections.add(moll),n.Proj.projections.add(eqdc),n.Proj.projections.add(vandg),n.Proj.projections.add(aeqd),n.Proj.projections.add(ortho),n.Proj.projections.add(qsc),n.Proj.projections.add(robin),n.Proj.projections.add(geocent),n.Proj.projections.add(tpers),n.Proj.projections.add(geos)}proj4.defaultDatum="WGS84";proj4.Proj=Projection;proj4.WGS84=new proj4.Proj("WGS84");proj4.Point=Point;proj4.toPoint=common;proj4.defs=defs;proj4.nadgrid=nadgrid;proj4.transform=transform;proj4.mgrs=mgrs;proj4.version="__VERSION__";includedProjections(proj4);var __extends$i=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),BaseImageLayer=function(n){__extends$i(i,n);function i(t){var r=t||{};return n.call(this,r)||this}return i}(Layer);const BaseImageLayer$1=BaseImageLayer;var ERROR_THRESHOLD=.5,IMAGE_SMOOTHING_DISABLED={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},IMAGE_SMOOTHING_ENABLED={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},__extends$h=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),CanvasImageLayerRenderer=function(n){__extends$h(i,n);function i(t){var r=n.call(this,t)||this;return r.image_=null,r}return i.prototype.getImage=function(){return this.image_?this.image_.getImage():null},i.prototype.prepareFrame=function(t){var r=t.layerStatesArray[t.layerIndex],o=t.pixelRatio,a=t.viewState,s=a.resolution,l=this.getLayer().getSource(),c=t.viewHints,h=t.extent;if(r.extent!==void 0&&(h=getIntersection(h,fromUserExtent(r.extent,a.projection))),!c[ViewHint.ANIMATING]&&!c[ViewHint.INTERACTING]&&!isEmpty(h))if(l){var u=a.projection,d=l.getImage(h,s,o,u);d&&this.loadImage(d)?this.image_=d:this.image_=null}else this.image_=null;return!!this.image_},i.prototype.getData=function(t){var r=this.frameState;if(!r)return null;var o=this.getLayer(),a=apply(r.pixelToCoordinateTransform,t.slice()),s=o.getExtent();if(s&&!containsCoordinate(s,a))return null;var l=this.image_.getExtent(),c=this.image_.getImage(),h=getWidth(l),u=Math.floor(c.width*((a[0]-l[0])/h));if(u<0||u>=c.width)return null;var d=getHeight(l),f=Math.floor(c.height*((l[3]-a[1])/d));return f<0||f>=c.height?null:this.getImageData(c,u,f)},i.prototype.renderFrame=function(t,r){var o=this.image_,a=o.getExtent(),s=o.getResolution(),l=o.getPixelRatio(),c=t.layerStatesArray[t.layerIndex],h=t.pixelRatio,u=t.viewState,d=u.center,f=u.resolution,p=t.size,m=h*s/(f*l),g=Math.round(p[0]*h),v=Math.round(p[1]*h),_=u.rotation;if(_){var y=Math.round(Math.sqrt(g*g+v*v));g=y,v=y}compose(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/h,1/h,_,-g/2,-v/2),makeInverse(this.inversePixelTransform,this.pixelTransform);var b=toString$1(this.pixelTransform);this.useContainer(r,b,c.opacity,this.getBackground(t));var x=this.context,E=x.canvas;E.width!=g||E.height!=v?(E.width=g,E.height=v):this.containerReused||x.clearRect(0,0,g,v);var C=!1,$=!0;if(c.extent){var S=fromUserExtent(c.extent,u.projection);$=intersects$1(S,t.extent),C=$&&!containsExtent(S,t.extent),C&&this.clipUnrotated(x,t,S)}var P=o.getImage(),T=compose(this.tempTransform,g/2,v/2,m,m,0,l*(a[0]-d[0])/s,l*(d[1]-a[3])/s);this.renderedResolution=s*h/l;var k=P.width*T[0],L=P.height*T[3];if(this.getLayer().getSource().getInterpolate()||assign(x,IMAGE_SMOOTHING_DISABLED),this.preRender(x,t),$&&k>=.5&&L>=.5){var N=T[4],z=T[5],B=c.opacity,U=void 0;B!==1&&(U=x.globalAlpha,x.globalAlpha=B),x.drawImage(P,0,0,+P.width,+P.height,Math.round(N),Math.round(z),Math.round(k),Math.round(L)),B!==1&&(x.globalAlpha=U)}return this.postRender(x,t),C&&x.restore(),assign(x,IMAGE_SMOOTHING_ENABLED),b!==E.style.transform&&(E.style.transform=b),this.container},i}(CanvasLayerRenderer$1);const CanvasImageLayerRenderer$1=CanvasImageLayerRenderer;var __extends$g=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ImageLayer=function(n){__extends$g(i,n);function i(t){return n.call(this,t)||this}return i.prototype.createRenderer=function(){return new CanvasImageLayerRenderer$1(this)},i.prototype.getData=function(t){return n.prototype.getData.call(this,t)},i}(BaseImageLayer$1);const ImageLayer$1=ImageLayer,TileProperty={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};var __extends$f=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),BaseTileLayer=function(n){__extends$f(i,n);function i(t){var r=this,o=t||{},a=assign({},o);return delete a.preload,delete a.useInterimTilesOnError,r=n.call(this,a)||this,r.on,r.once,r.un,r.setPreload(o.preload!==void 0?o.preload:0),r.setUseInterimTilesOnError(o.useInterimTilesOnError!==void 0?o.useInterimTilesOnError:!0),r}return i.prototype.getPreload=function(){return this.get(TileProperty.PRELOAD)},i.prototype.setPreload=function(t){this.set(TileProperty.PRELOAD,t)},i.prototype.getUseInterimTilesOnError=function(){return this.get(TileProperty.USE_INTERIM_TILES_ON_ERROR)},i.prototype.setUseInterimTilesOnError=function(t){this.set(TileProperty.USE_INTERIM_TILES_ON_ERROR,t)},i.prototype.getData=function(t){return n.prototype.getData.call(this,t)},i}(Layer);const BaseTileLayer$1=BaseTileLayer;var __extends$e=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Tile=function(n){__extends$e(i,n);function i(t,r,o){var a=n.call(this)||this,s=o||{};return a.tileCoord=t,a.state=r,a.interimTile=null,a.key="",a.transition_=s.transition===void 0?250:s.transition,a.transitionStarts_={},a.interpolate=!!s.interpolate,a}return i.prototype.changed=function(){this.dispatchEvent(EventType.CHANGE)},i.prototype.release=function(){},i.prototype.getKey=function(){return this.key+"/"+this.tileCoord},i.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==TileState.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},i.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,r=this;do{if(t.getState()==TileState.LOADED){t.interimTile=null;break}else t.getState()==TileState.LOADING?r=t:t.getState()==TileState.IDLE?r.interimTile=t.interimTile:r=t;t=r.interimTile}while(t)}},i.prototype.getTileCoord=function(){return this.tileCoord},i.prototype.getState=function(){return this.state},i.prototype.setState=function(t){if(this.state!==TileState.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},i.prototype.load=function(){abstract()},i.prototype.getAlpha=function(t,r){if(!this.transition_)return 1;var o=this.transitionStarts_[t];if(!o)o=r,this.transitionStarts_[t]=o;else if(o===-1)return 1;var a=r-o+1e3/60;return a>=this.transition_?1:easeIn(a/this.transition_)},i.prototype.inTransition=function(t){return this.transition_?this.transitionStarts_[t]!==-1:!1},i.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},i}(Target);const Tile$1=Tile;var __extends$d=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ImageTile=function(n){__extends$d(i,n);function i(t,r,o,a,s,l){var c=n.call(this,t,r,l)||this;return c.crossOrigin_=a,c.src_=o,c.key=o,c.image_=new Image,a!==null&&(c.image_.crossOrigin=a),c.unlisten_=null,c.tileLoadFunction_=s,c}return i.prototype.getImage=function(){return this.image_},i.prototype.setImage=function(t){this.image_=t,this.state=TileState.LOADED,this.unlistenImage_(),this.changed()},i.prototype.handleImageError_=function(){this.state=TileState.ERROR,this.unlistenImage_(),this.image_=getBlankImage(),this.changed()},i.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=TileState.LOADED:this.state=TileState.EMPTY,this.unlistenImage_(),this.changed()},i.prototype.load=function(){this.state==TileState.ERROR&&(this.state=TileState.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==TileState.IDLE&&(this.state=TileState.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=listenImage(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},i.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},i}(Tile$1);function getBlankImage(){var n=createCanvasContext2D(1,1);return n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1),n.canvas}const ImageTile$1=ImageTile;var MAX_SUBDIVISION=10,MAX_TRIANGLE_WIDTH=.25,Triangulation=function(){function n(i,t,r,o,a,s){this.sourceProj_=i,this.targetProj_=t;var l={},c=getTransform(this.targetProj_,this.sourceProj_);this.transformInv_=function(b){var x=b[0]+"/"+b[1];return l[x]||(l[x]=c(b)),l[x]},this.maxSourceExtent_=o,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!o&&!!this.sourceProj_.getExtent()&&getWidth(o)==getWidth(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?getWidth(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?getWidth(this.targetProj_.getExtent()):null;var h=getTopLeft(r),u=getTopRight(r),d=getBottomRight(r),f=getBottomLeft(r),p=this.transformInv_(h),m=this.transformInv_(u),g=this.transformInv_(d),v=this.transformInv_(f),_=MAX_SUBDIVISION+(s?Math.max(0,Math.ceil(log2(getArea(r)/(s*s*256*256)))):0);if(this.addQuad_(h,u,d,f,p,m,g,v,_),this.wrapsXInSource_){var y=1/0;this.triangles_.forEach(function(b,x,E){y=Math.min(y,b.source[0][0],b.source[1][0],b.source[2][0])}),this.triangles_.forEach((function(b){if(Math.max(b.source[0][0],b.source[1][0],b.source[2][0])-y>this.sourceWorldWidth_/2){var x=[[b.source[0][0],b.source[0][1]],[b.source[1][0],b.source[1][1]],[b.source[2][0],b.source[2][1]]];x[0][0]-y>this.sourceWorldWidth_/2&&(x[0][0]-=this.sourceWorldWidth_),x[1][0]-y>this.sourceWorldWidth_/2&&(x[1][0]-=this.sourceWorldWidth_),x[2][0]-y>this.sourceWorldWidth_/2&&(x[2][0]-=this.sourceWorldWidth_);var E=Math.min(x[0][0],x[1][0],x[2][0]),C=Math.max(x[0][0],x[1][0],x[2][0]);C-E<this.sourceWorldWidth_/2&&(b.source=x)}}).bind(this))}l={}}return n.prototype.addTriangle_=function(i,t,r,o,a,s){this.triangles_.push({source:[o,a,s],target:[i,t,r]})},n.prototype.addQuad_=function(i,t,r,o,a,s,l,c,h){var u=boundingExtent([a,s,l,c]),d=this.sourceWorldWidth_?getWidth(u)/this.sourceWorldWidth_:null,f=this.sourceWorldWidth_,p=this.sourceProj_.canWrapX()&&d>.5&&d<1,m=!1;if(h>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var g=boundingExtent([i,t,r,o]),v=getWidth(g)/this.targetWorldWidth_;m=v>MAX_TRIANGLE_WIDTH||m}!p&&this.sourceProj_.isGlobal()&&d&&(m=d>MAX_TRIANGLE_WIDTH||m)}if(!(!m&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3])&&!intersects$1(u,this.maxSourceExtent_))){var _=0;if(!m&&(!isFinite(a[0])||!isFinite(a[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(l[0])||!isFinite(l[1])||!isFinite(c[0])||!isFinite(c[1]))){if(h>0)m=!0;else if(_=(!isFinite(a[0])||!isFinite(a[1])?8:0)+(!isFinite(s[0])||!isFinite(s[1])?4:0)+(!isFinite(l[0])||!isFinite(l[1])?2:0)+(!isFinite(c[0])||!isFinite(c[1])?1:0),_!=1&&_!=2&&_!=4&&_!=8)return}if(h>0){if(!m){var y=[(i[0]+r[0])/2,(i[1]+r[1])/2],b=this.transformInv_(y),x=void 0;if(p){var E=(modulo(a[0],f)+modulo(l[0],f))/2;x=E-modulo(b[0],f)}else x=(a[0]+l[0])/2-b[0];var C=(a[1]+l[1])/2-b[1],$=x*x+C*C;m=$>this.errorThresholdSquared_}if(m){if(Math.abs(i[0]-r[0])<=Math.abs(i[1]-r[1])){var S=[(t[0]+r[0])/2,(t[1]+r[1])/2],P=this.transformInv_(S),T=[(o[0]+i[0])/2,(o[1]+i[1])/2],k=this.transformInv_(T);this.addQuad_(i,t,S,T,a,s,P,k,h-1),this.addQuad_(T,S,r,o,k,P,l,c,h-1)}else{var L=[(i[0]+t[0])/2,(i[1]+t[1])/2],N=this.transformInv_(L),z=[(r[0]+o[0])/2,(r[1]+o[1])/2],B=this.transformInv_(z);this.addQuad_(i,L,z,o,a,N,B,c,h-1),this.addQuad_(L,t,r,z,N,s,l,B,h-1)}return}}if(p){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}_&11||this.addTriangle_(i,r,o,a,l,c),_&14||this.addTriangle_(i,r,t,a,l,s),_&&(_&13||this.addTriangle_(t,o,i,s,c,a),_&7||this.addTriangle_(t,o,r,s,c,l))}},n.prototype.calculateSourceExtent=function(){var i=createEmpty();return this.triangles_.forEach(function(t,r,o){var a=t.source;extendCoordinate(i,a[0]),extendCoordinate(i,a[1]),extendCoordinate(i,a[2])}),i},n.prototype.getTriangles=function(){return this.triangles_},n}(),brokenDiagonalRendering_;function drawTestTriangle(n,i,t,r,o){n.beginPath(),n.moveTo(0,0),n.lineTo(i,t),n.lineTo(r,o),n.closePath(),n.save(),n.clip(),n.fillRect(0,0,Math.max(i,r)+1,Math.max(t,o)),n.restore()}function verifyBrokenDiagonalRendering(n,i){return Math.abs(n[i*4]-210)>2||Math.abs(n[i*4+3]-.75*255)>2}function isBrokenDiagonalRendering(){if(brokenDiagonalRendering_===void 0){var n=document.createElement("canvas").getContext("2d");n.globalCompositeOperation="lighter",n.fillStyle="rgba(210, 0, 0, 0.75)",drawTestTriangle(n,4,5,4,0),drawTestTriangle(n,4,5,0,5);var i=n.getImageData(0,0,3,3).data;brokenDiagonalRendering_=verifyBrokenDiagonalRendering(i,0)||verifyBrokenDiagonalRendering(i,4)||verifyBrokenDiagonalRendering(i,8)}return brokenDiagonalRendering_}function calculateSourceResolution(n,i,t,r){var o=transform$1(t,i,n),a=getPointResolution(i,r,t),s=i.getMetersPerUnit();s!==void 0&&(a*=s);var l=n.getMetersPerUnit();l!==void 0&&(a/=l);var c=n.getExtent();if(!c||containsCoordinate(c,o)){var h=getPointResolution(n,a,o)/a;isFinite(h)&&h>0&&(a/=h)}return a}function calculateSourceExtentResolution(n,i,t,r){var o=getCenter(t),a=calculateSourceResolution(n,i,o,r);return(!isFinite(a)||a<=0)&&forEachCorner(t,function(s){return a=calculateSourceResolution(n,i,s,r),isFinite(a)&&a>0}),a}function render(n,i,t,r,o,a,s,l,c,h,u,d){var f=createCanvasContext2D(Math.round(t*n),Math.round(t*i));if(d||assign(f,IMAGE_SMOOTHING_DISABLED),c.length===0)return f.canvas;f.scale(t,t);function p(x){return Math.round(x*t)/t}f.globalCompositeOperation="lighter";var m=createEmpty();c.forEach(function(x,E,C){extend$2(m,x.extent)});var g=getWidth(m),v=getHeight(m),_=createCanvasContext2D(Math.round(t*g/r),Math.round(t*v/r));d||assign(_,IMAGE_SMOOTHING_DISABLED);var y=t/r;c.forEach(function(x,E,C){var $=x.extent[0]-m[0],S=-(x.extent[3]-m[3]),P=getWidth(x.extent),T=getHeight(x.extent);x.image.width>0&&x.image.height>0&&_.drawImage(x.image,h,h,x.image.width-2*h,x.image.height-2*h,$*y,S*y,P*y,T*y)});var b=getTopLeft(s);return l.getTriangles().forEach(function(x,E,C){var $=x.source,S=x.target,P=$[0][0],T=$[0][1],k=$[1][0],L=$[1][1],N=$[2][0],z=$[2][1],B=p((S[0][0]-b[0])/a),U=p(-(S[0][1]-b[1])/a),D=p((S[1][0]-b[0])/a),M=p(-(S[1][1]-b[1])/a),F=p((S[2][0]-b[0])/a),j=p(-(S[2][1]-b[1])/a),Y=P,W=T;P=0,T=0,k-=Y,L-=W,N-=Y,z-=W;var q=[[k,L,0,0,D-B],[N,z,0,0,F-B],[0,0,k,L,M-U],[0,0,N,z,j-U]],X=solveLinearSystem(q);if(X){if(f.save(),f.beginPath(),isBrokenDiagonalRendering()||!d){f.moveTo(D,M);for(var K=4,Q=B-D,rt=U-M,J=0;J<K;J++)f.lineTo(D+p((J+1)*Q/K),M+p(J*rt/(K-1))),J!=K-1&&f.lineTo(D+p((J+1)*Q/K),M+p((J+1)*rt/(K-1)));f.lineTo(F,j)}else f.moveTo(D,M),f.lineTo(B,U),f.lineTo(F,j);f.clip(),f.transform(X[0],X[2],X[1],X[3],B,U),f.translate(m[0]-Y,m[3]-W),f.scale(r/t,-r/t),f.drawImage(_.canvas,0,0),f.restore()}}),u&&(f.save(),f.globalCompositeOperation="source-over",f.strokeStyle="black",f.lineWidth=1,l.getTriangles().forEach(function(x,E,C){var $=x.target,S=($[0][0]-b[0])/a,P=-($[0][1]-b[1])/a,T=($[1][0]-b[0])/a,k=-($[1][1]-b[1])/a,L=($[2][0]-b[0])/a,N=-($[2][1]-b[1])/a;f.beginPath(),f.moveTo(T,k),f.lineTo(S,P),f.lineTo(L,N),f.closePath(),f.stroke()}),f.restore()),f.canvas}var __extends$c=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ReprojTile=function(n){__extends$c(i,n);function i(t,r,o,a,s,l,c,h,u,d,f,p){var m=n.call(this,s,TileState.IDLE,{interpolate:!!p})||this;m.renderEdges_=f!==void 0?f:!1,m.pixelRatio_=c,m.gutter_=h,m.canvas_=null,m.sourceTileGrid_=r,m.targetTileGrid_=a,m.wrappedTileCoord_=l||s,m.sourceTiles_=[],m.sourcesListenerKeys_=null,m.sourceZ_=0;var g=a.getTileCoordExtent(m.wrappedTileCoord_),v=m.targetTileGrid_.getExtent(),_=m.sourceTileGrid_.getExtent(),y=v?getIntersection(g,v):g;if(getArea(y)===0)return m.state=TileState.EMPTY,m;var b=t.getExtent();b&&(_?_=getIntersection(_,b):_=b);var x=a.getResolution(m.wrappedTileCoord_[0]),E=calculateSourceExtentResolution(t,o,y,x);if(!isFinite(E)||E<=0)return m.state=TileState.EMPTY,m;var C=d!==void 0?d:ERROR_THRESHOLD;if(m.triangulation_=new Triangulation(t,o,y,_,E*C,x),m.triangulation_.getTriangles().length===0)return m.state=TileState.EMPTY,m;m.sourceZ_=r.getZForResolution(E);var $=m.triangulation_.calculateSourceExtent();if(_&&(t.canWrapX()?($[1]=clamp($[1],_[1],_[3]),$[3]=clamp($[3],_[1],_[3])):$=getIntersection($,_)),!getArea($))m.state=TileState.EMPTY;else{for(var S=r.getTileRangeForExtentAndZ($,m.sourceZ_),P=S.minX;P<=S.maxX;P++)for(var T=S.minY;T<=S.maxY;T++){var k=u(m.sourceZ_,P,T,c);k&&m.sourceTiles_.push(k)}m.sourceTiles_.length===0&&(m.state=TileState.EMPTY)}return m}return i.prototype.getImage=function(){return this.canvas_},i.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach((function(u,d,f){u&&u.getState()==TileState.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(u.tileCoord),image:u.getImage()})}).bind(this)),this.sourceTiles_.length=0,t.length===0)this.state=TileState.ERROR;else{var r=this.wrappedTileCoord_[0],o=this.targetTileGrid_.getTileSize(r),a=typeof o=="number"?o:o[0],s=typeof o=="number"?o:o[1],l=this.targetTileGrid_.getResolution(r),c=this.sourceTileGrid_.getResolution(this.sourceZ_),h=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=render(a,s,this.pixelRatio_,c,this.sourceTileGrid_.getExtent(),l,h,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=TileState.LOADED}this.changed()},i.prototype.load=function(){if(this.state==TileState.IDLE){this.state=TileState.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((function(r,o,a){var s=r.getState();if(s==TileState.IDLE||s==TileState.LOADING){t++;var l=listen(r,EventType.CHANGE,function(c){var h=r.getState();(h==TileState.LOADED||h==TileState.ERROR||h==TileState.EMPTY)&&(unlistenByKey(l),t--,t===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(l)}}).bind(this)),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(r,o,a){var s=r.getState();s==TileState.IDLE&&r.load()})}},i.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(unlistenByKey),this.sourcesListenerKeys_=null},i}(Tile$1);const ReprojTile$1=ReprojTile;var TileRange=function(){function n(i,t,r,o){this.minX=i,this.maxX=t,this.minY=r,this.maxY=o}return n.prototype.contains=function(i){return this.containsXY(i[1],i[2])},n.prototype.containsTileRange=function(i){return this.minX<=i.minX&&i.maxX<=this.maxX&&this.minY<=i.minY&&i.maxY<=this.maxY},n.prototype.containsXY=function(i,t){return this.minX<=i&&i<=this.maxX&&this.minY<=t&&t<=this.maxY},n.prototype.equals=function(i){return this.minX==i.minX&&this.minY==i.minY&&this.maxX==i.maxX&&this.maxY==i.maxY},n.prototype.extend=function(i){i.minX<this.minX&&(this.minX=i.minX),i.maxX>this.maxX&&(this.maxX=i.maxX),i.minY<this.minY&&(this.minY=i.minY),i.maxY>this.maxY&&(this.maxY=i.maxY)},n.prototype.getHeight=function(){return this.maxY-this.minY+1},n.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},n.prototype.getWidth=function(){return this.maxX-this.minX+1},n.prototype.intersects=function(i){return this.minX<=i.maxX&&this.maxX>=i.minX&&this.minY<=i.maxY&&this.maxY>=i.minY},n}();function createOrUpdate$1(n,i,t,r,o){return o!==void 0?(o.minX=n,o.maxX=i,o.minY=t,o.maxY=r,o):new TileRange(n,i,t,r)}var __extends$b=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),CanvasTileLayerRenderer=function(n){__extends$b(i,n);function i(t){var r=n.call(this,t)||this;return r.extentChanged=!0,r.renderedExtent_=null,r.renderedPixelRatio,r.renderedProjection=null,r.renderedRevision,r.renderedTiles=[],r.newTiles_=!1,r.tmpExtent=createEmpty(),r.tmpTileRange_=new TileRange(0,0,0,0),r}return i.prototype.isDrawableTile=function(t){var r=this.getLayer(),o=t.getState(),a=r.getUseInterimTilesOnError();return o==TileState.LOADED||o==TileState.EMPTY||o==TileState.ERROR&&!a},i.prototype.getTile=function(t,r,o,a){var s=a.pixelRatio,l=a.viewState.projection,c=this.getLayer(),h=c.getSource(),u=h.getTile(t,r,o,s,l);return u.getState()==TileState.ERROR&&(c.getUseInterimTilesOnError()?c.getPreload()>0&&(this.newTiles_=!0):u.setState(TileState.LOADED)),this.isDrawableTile(u)||(u=u.getInterimTile()),u},i.prototype.getData=function(t){var r=this.frameState;if(!r)return null;var o=this.getLayer(),a=apply(r.pixelToCoordinateTransform,t.slice()),s=o.getExtent();if(s&&!containsCoordinate(s,a))return null;for(var l=r.pixelRatio,c=r.viewState.projection,h=r.viewState,u=o.getRenderSource(),d=u.getTileGridForProjection(h.projection),f=u.getTilePixelRatio(r.pixelRatio),p=d.getZForResolution(h.resolution);p>=d.getMinZoom();--p){var m=d.getTileCoordForCoordAndZ(a,p),g=u.getTile(p,m[1],m[2],l,c);if(!(g instanceof ImageTile$1||g instanceof ReprojTile$1))return null;if(g.getState()===TileState.LOADED){var v=d.getOrigin(p),_=toSize(d.getTileSize(p)),y=d.getResolution(p),b=Math.floor(f*((a[0]-v[0])/y-m[1]*_[0])),x=Math.floor(f*((v[1]-a[1])/y-m[2]*_[1]));return this.getImageData(g.getImage(),b,x)}}return null},i.prototype.loadedTileCallback=function(t,r,o){return this.isDrawableTile(o)?n.prototype.loadedTileCallback.call(this,t,r,o):!1},i.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},i.prototype.renderFrame=function(t,r){var o=t.layerStatesArray[t.layerIndex],a=t.viewState,s=a.projection,l=a.resolution,c=a.center,h=a.rotation,u=t.pixelRatio,d=this.getLayer(),f=d.getSource(),p=f.getRevision(),m=f.getTileGridForProjection(s),g=m.getZForResolution(l,f.zDirection),v=m.getResolution(g),_=t.extent,y=o.extent&&fromUserExtent(o.extent,s);y&&(_=getIntersection(_,fromUserExtent(o.extent,s)));var b=f.getTilePixelRatio(u),x=Math.round(t.size[0]*b),E=Math.round(t.size[1]*b);if(h){var C=Math.round(Math.sqrt(x*x+E*E));x=C,E=C}var $=v*x/2/b,S=v*E/2/b,P=[c[0]-$,c[1]-S,c[0]+$,c[1]+S],T=m.getTileRangeForExtentAndZ(_,g),k={};k[g]={};var L=this.createLoadedTileFinder(f,s,k),N=this.tmpExtent,z=this.tmpTileRange_;this.newTiles_=!1;for(var B=T.minX;B<=T.maxX;++B)for(var U=T.minY;U<=T.maxY;++U){var D=this.getTile(g,B,U,t);if(this.isDrawableTile(D)){var M=getUid(this);if(D.getState()==TileState.LOADED){k[g][D.tileCoord.toString()]=D;var F=D.inTransition(M);!this.newTiles_&&(F||this.renderedTiles.indexOf(D)===-1)&&(this.newTiles_=!0)}if(D.getAlpha(M,t.time)===1)continue}var j=m.getTileCoordChildTileRange(D.tileCoord,z,N),Y=!1;j&&(Y=L(g+1,j)),Y||m.forEachTileCoordParentTileRange(D.tileCoord,L,z,N)}var W=v/l;compose(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/b,1/b,h,-x/2,-E/2);var q=toString$1(this.pixelTransform);this.useContainer(r,q,o.opacity,this.getBackground(t));var X=this.context,K=X.canvas;makeInverse(this.inversePixelTransform,this.pixelTransform),compose(this.tempTransform,x/2,E/2,W,W,0,-x/2,-E/2),K.width!=x||K.height!=E?(K.width=x,K.height=E):this.containerReused||X.clearRect(0,0,x,E),y&&this.clipUnrotated(X,t,y),f.getInterpolate()||assign(X,IMAGE_SMOOTHING_DISABLED),this.preRender(X,t),this.renderedTiles.length=0;var Q=Object.keys(k).map(Number);Q.sort(numberSafeCompareFunction);var rt,J,et;o.opacity===1&&(!this.containerReused||f.getOpaque(t.viewState.projection))?Q=Q.reverse():(rt=[],J=[]);for(var nt=Q.length-1;nt>=0;--nt){var at=Q[nt],ct=f.getTilePixelSize(at,u,s),ht=m.getResolution(at),ut=ht/v,tt=ct[0]*ut*W,it=ct[1]*ut*W,ot=m.getTileCoordForCoordAndZ(getTopLeft(P),at),st=m.getTileCoordExtent(ot),lt=apply(this.tempTransform,[b*(st[0]-P[0])/v,b*(P[3]-st[3])/v]),dt=b*f.getGutterForProjection(s),pt=k[at];for(var ft in pt){var D=pt[ft],mt=D.tileCoord,vt=ot[1]-mt[1],_t=Math.round(lt[0]-(vt-1)*tt),gt=ot[2]-mt[2],bt=Math.round(lt[1]-(gt-1)*it),B=Math.round(lt[0]-vt*tt),U=Math.round(lt[1]-gt*it),$t=_t-B,Ct=bt-U,St=g===at,F=St&&D.getAlpha(getUid(this),t.time)!==1,Ot=!1;if(!F)if(rt){et=[B,U,B+$t,U,B+$t,U+Ct,B,U+Ct];for(var xt=0,Rt=rt.length;xt<Rt;++xt)if(g!==at&&at<J[xt]){var yt=rt[xt];intersects$1([B,U,B+$t,U+Ct],[yt[0],yt[3],yt[4],yt[7]])&&(Ot||(X.save(),Ot=!0),X.beginPath(),X.moveTo(et[0],et[1]),X.lineTo(et[2],et[3]),X.lineTo(et[4],et[5]),X.lineTo(et[6],et[7]),X.moveTo(yt[6],yt[7]),X.lineTo(yt[4],yt[5]),X.lineTo(yt[2],yt[3]),X.lineTo(yt[0],yt[1]),X.clip())}rt.push(et),J.push(at)}else X.clearRect(B,U,$t,Ct);this.drawTileImage(D,t,B,U,$t,Ct,dt,St),rt&&!F?(Ot&&X.restore(),this.renderedTiles.unshift(D)):this.renderedTiles.push(D),this.updateUsedTiles(t.usedTiles,f,D)}}this.renderedRevision=p,this.renderedResolution=v,this.extentChanged=!this.renderedExtent_||!equals$1(this.renderedExtent_,P),this.renderedExtent_=P,this.renderedPixelRatio=u,this.renderedProjection=s,this.manageTilePyramid(t,f,m,u,s,_,g,d.getPreload()),this.scheduleExpireCache(t,f),this.postRender(X,t),o.extent&&X.restore(),assign(X,IMAGE_SMOOTHING_ENABLED),q!==K.style.transform&&(K.style.transform=q);var Tt=cssOpacity(o.opacity),Pt=this.container;return Tt!==Pt.style.opacity&&(Pt.style.opacity=Tt),this.container},i.prototype.drawTileImage=function(t,r,o,a,s,l,c,h){var u=this.getTileImage(t);if(u){var d=getUid(this),f=h?t.getAlpha(d,r.time):1,p=f!==this.context.globalAlpha;p&&(this.context.save(),this.context.globalAlpha=f),this.context.drawImage(u,c,c,u.width-2*c,u.height-2*c,o,a,s,l),p&&this.context.restore(),f!==1?r.animate=!0:h&&t.endTransition(d)}},i.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},i.prototype.getTileImage=function(t){return t.getImage()},i.prototype.scheduleExpireCache=function(t,r){if(r.canExpireCache()){var o=(function(a,s,l){var c=getUid(a);c in l.usedTiles&&a.expireCache(l.viewState.projection,l.usedTiles[c])}).bind(null,r);t.postRenderFunctions.push(o)}},i.prototype.updateUsedTiles=function(t,r,o){var a=getUid(r);a in t||(t[a]={}),t[a][o.getKey()]=!0},i.prototype.manageTilePyramid=function(t,r,o,a,s,l,c,h,u){var d=getUid(r);d in t.wantedTiles||(t.wantedTiles[d]={});var f=t.wantedTiles[d],p=t.tileQueue,m=o.getMinZoom(),g=0,v,_,y,b,x,E;for(E=m;E<=c;++E)for(_=o.getTileRangeForExtentAndZ(l,E,_),y=o.getResolution(E),b=_.minX;b<=_.maxX;++b)for(x=_.minY;x<=_.maxY;++x)c-E<=h?(++g,v=r.getTile(E,b,x,a,s),v.getState()==TileState.IDLE&&(f[v.getKey()]=!0,p.isKeyQueued(v.getKey())||p.enqueue([v,d,o.getTileCoordCenter(v.tileCoord),y])),u!==void 0&&u(v)):r.useTile(E,b,x,s);r.updateCacheSize(g,s)},i}(CanvasLayerRenderer$1);const CanvasTileLayerRenderer$1=CanvasTileLayerRenderer;var __extends$a=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),TileLayer=function(n){__extends$a(i,n);function i(t){return n.call(this,t)||this}return i.prototype.createRenderer=function(){return new CanvasTileLayerRenderer$1(this)},i}(BaseTileLayer$1);const TileLayer$1=TileLayer;/**
 * @license
 * Copyright 2000-2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 * See <https://vaadin.com/commercial-license-and-service-terms> for the full
 * license.
 */function convertToCoordinateArray(n){return[n.x,n.y]}function convertToSizeArray(n){return[n.width,n.height]}function convertEnumValue(n){return n.toLowerCase().replace(/_/,"-")}function synchronizeCollection(n,i,t){if(!(i.length!==n.getLength()||n.getArray().some((a,s)=>a.id!==i[s])))return;const o=i.map(a=>t.lookup.get(a)).filter(a=>!!a);n.clear(),o.forEach(a=>n.push(a))}function createOptions(n){const i={...n};return Object.keys(n).forEach(t=>{n[t]===null&&delete i[t]}),i}/**
 * @license
 * Copyright 2000-2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 * See <https://vaadin.com/commercial-license-and-service-terms> for the full
 * license.
 */function synchronizeLayer(n,i,t){if(!n)throw new Error("Can not instantiate base class: ol/layer/Layer");return n.setOpacity(i.opacity),n.setVisible(i.visible),n.setZIndex(i.zIndex||void 0),n.setMinZoom(i.minZoom||-1/0),n.setMaxZoom(i.maxZoom||1/0),n.setBackground(i.background||void 0),n}function synchronizeTileLayer(n,i,t){return n||(n=new TileLayer$1(createOptions({...i,source:t.lookup.get(i.source)}))),synchronizeLayer(n,i),n.setSource(t.lookup.get(i.source)),n}function synchronizeVectorLayer(n,i,t){return n||(n=new VectorLayer$1(createOptions({...i,source:t.lookup.get(i.source)}))),synchronizeLayer(n,i),n.setSource(t.lookup.get(i.source)),n}function synchronizeImageLayer(n,i,t){return n||(n=new ImageLayer$1(createOptions({...i,source:t.lookup.get(i.source)}))),synchronizeLayer(n,i),n.setSource(t.lookup.get(i.source)),n}var DEFAULT_WMS_VERSION="1.3.0",__extends$9=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ReprojImage=function(n){__extends$9(i,n);function i(t,r,o,a,s,l,c){var h=this,u=t.getExtent(),d=r.getExtent(),f=d?getIntersection(o,d):o,p=getCenter(f),m=calculateSourceResolution(t,r,p,a),g=ERROR_THRESHOLD,v=new Triangulation(t,r,f,u,m*g,a),_=v.calculateSourceExtent(),y=l(_,m,s),b=y?ImageState.IDLE:ImageState.EMPTY,x=y?y.getPixelRatio():1;return h=n.call(this,o,a,x,b)||this,h.targetProj_=r,h.maxSourceExtent_=u,h.triangulation_=v,h.targetResolution_=a,h.targetExtent_=o,h.sourceImage_=y,h.sourcePixelRatio_=x,h.interpolate_=c,h.canvas_=null,h.sourceListenerKey_=null,h}return i.prototype.disposeInternal=function(){this.state==ImageState.LOADING&&this.unlistenSource_(),n.prototype.disposeInternal.call(this)},i.prototype.getImage=function(){return this.canvas_},i.prototype.getProjection=function(){return this.targetProj_},i.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==ImageState.LOADED){var r=getWidth(this.targetExtent_)/this.targetResolution_,o=getHeight(this.targetExtent_)/this.targetResolution_;this.canvas_=render(r,o,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_)}this.state=t,this.changed()},i.prototype.load=function(){if(this.state==ImageState.IDLE){this.state=ImageState.LOADING,this.changed();var t=this.sourceImage_.getState();t==ImageState.LOADED||t==ImageState.ERROR?this.reproject_():(this.sourceListenerKey_=listen(this.sourceImage_,EventType.CHANGE,function(r){var o=this.sourceImage_.getState();(o==ImageState.LOADED||o==ImageState.ERROR)&&(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}},i.prototype.unlistenSource_=function(){unlistenByKey(this.sourceListenerKey_),this.sourceListenerKey_=null},i}(ImageBase$1);const ReprojImage$1=ReprojImage;var __extends$8=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ImageSourceEventType={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"},ImageSourceEvent=function(n){__extends$8(i,n);function i(t,r){var o=n.call(this,t)||this;return o.image=r,o}return i}(Event),ImageSource=function(n){__extends$8(i,n);function i(t){var r=this,o=t.imageSmoothing!==void 0?t.imageSmoothing:!0;return t.interpolate!==void 0&&(o=t.interpolate),r=n.call(this,{attributions:t.attributions,projection:t.projection,state:t.state,interpolate:o})||this,r.on,r.once,r.un,r.resolutions_=t.resolutions!==void 0?t.resolutions:null,r.reprojectedImage_=null,r.reprojectedRevision_=0,r}return i.prototype.getResolutions=function(){return this.resolutions_},i.prototype.findNearestResolution=function(t){if(this.resolutions_){var r=linearFindNearest(this.resolutions_,t,0);t=this.resolutions_[r]}return t},i.prototype.getImage=function(t,r,o,a){var s=this.getProjection();if(!s||!a||equivalent(s,a))return s&&(a=s),this.getImageInternal(t,r,o,a);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&equivalent(this.reprojectedImage_.getProjection(),a)&&this.reprojectedImage_.getResolution()==r&&equals$1(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new ReprojImage$1(s,a,t,r,o,(function(l,c,h){return this.getImageInternal(l,c,h,s)}).bind(this),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_},i.prototype.getImageInternal=function(t,r,o,a){return abstract()},i.prototype.handleImageChange=function(t){var r=t.target,o;switch(r.getState()){case ImageState.LOADING:this.loading=!0,o=ImageSourceEventType.IMAGELOADSTART;break;case ImageState.LOADED:this.loading=!1,o=ImageSourceEventType.IMAGELOADEND;break;case ImageState.ERROR:this.loading=!1,o=ImageSourceEventType.IMAGELOADERROR;break;default:return}this.hasListener(o)&&this.dispatchEvent(new ImageSourceEvent(o,r))},i}(Source$1);function defaultImageLoadFunction(n,i){n.getImage().src=i}const ImageSource$1=ImageSource,WMSServerType={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"};function appendParams(n,i){var t=[];Object.keys(i).forEach(function(o){i[o]!==null&&i[o]!==void 0&&t.push(o+"="+encodeURIComponent(i[o]))});var r=t.join("&");return n=n.replace(/[?&]$/,""),n=n.indexOf("?")===-1?n+"?":n+"&",n+r}var __extends$7=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),DECIMALS$1=4,GETFEATUREINFO_IMAGE_SIZE=[101,101],ImageWMS=function(n){__extends$7(i,n);function i(t){var r=this,o=t||{},a=o.imageSmoothing!==void 0?o.imageSmoothing:!0;return o.interpolate!==void 0&&(a=o.interpolate),r=n.call(this,{attributions:o.attributions,interpolate:a,projection:o.projection,resolutions:o.resolutions})||this,r.crossOrigin_=o.crossOrigin!==void 0?o.crossOrigin:null,r.url_=o.url,r.imageLoadFunction_=o.imageLoadFunction!==void 0?o.imageLoadFunction:defaultImageLoadFunction,r.params_=o.params||{},r.v13_=!0,r.updateV13_(),r.serverType_=o.serverType,r.hidpi_=o.hidpi!==void 0?o.hidpi:!0,r.image_=null,r.imageSize_=[0,0],r.renderedRevision_=0,r.ratio_=o.ratio!==void 0?o.ratio:1.5,r}return i.prototype.getFeatureInfoUrl=function(t,r,o,a){if(this.url_!==void 0){var s=get$2(o),l=this.getProjection();l&&l!==s&&(r=calculateSourceResolution(l,s,t,r),t=transform$1(t,s,l));var c=getForViewAndSize(t,r,0,GETFEATUREINFO_IMAGE_SIZE),h={SERVICE:"WMS",VERSION:DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};assign(h,this.params_,a);var u=floor((t[0]-c[0])/r,DECIMALS$1),d=floor((c[3]-t[1])/r,DECIMALS$1);return h[this.v13_?"I":"X"]=u,h[this.v13_?"J":"Y"]=d,this.getRequestUrl_(c,GETFEATUREINFO_IMAGE_SIZE,1,l||s,h)}},i.prototype.getLegendUrl=function(t,r){if(this.url_!==void 0){var o={SERVICE:"WMS",VERSION:DEFAULT_WMS_VERSION,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(r===void 0||r.LAYER===void 0){var a=this.params_.LAYERS,s=!Array.isArray(a)||a.length===1;if(!s)return;o.LAYER=a}if(t!==void 0){var l=this.getProjection()?this.getProjection().getMetersPerUnit():1,c=28e-5;o.SCALE=t*l/c}return assign(o,r),appendParams(this.url_,o)}},i.prototype.getParams=function(){return this.params_},i.prototype.getImageInternal=function(t,r,o,a){if(this.url_===void 0)return null;r=this.findNearestResolution(r),o!=1&&(!this.hidpi_||this.serverType_===void 0)&&(o=1);var s=r/o,l=getCenter(t),c=ceil(getWidth(t)/s,DECIMALS$1),h=ceil(getHeight(t)/s,DECIMALS$1),u=getForViewAndSize(l,s,0,[c,h]),d=ceil(this.ratio_*getWidth(t)/s,DECIMALS$1),f=ceil(this.ratio_*getHeight(t)/s,DECIMALS$1),p=getForViewAndSize(l,s,0,[d,f]),m=this.image_;if(m&&this.renderedRevision_==this.getRevision()&&m.getResolution()==r&&m.getPixelRatio()==o&&containsExtent(m.getExtent(),u))return m;var g={SERVICE:"WMS",VERSION:DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};assign(g,this.params_),this.imageSize_[0]=round(getWidth(p)/s,DECIMALS$1),this.imageSize_[1]=round(getHeight(p)/s,DECIMALS$1);var v=this.getRequestUrl_(p,this.imageSize_,o,a,g);return this.image_=new ImageWrapper$1(p,r,o,v,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(EventType.CHANGE,this.handleImageChange.bind(this)),this.image_},i.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},i.prototype.getRequestUrl_=function(t,r,o,a,s){if(assert(this.url_!==void 0,9),s[this.v13_?"CRS":"SRS"]=a.getCode(),"STYLES"in this.params_||(s.STYLES=""),o!=1)switch(this.serverType_){case WMSServerType.GEOSERVER:var l=90*o+.5|0;"FORMAT_OPTIONS"in s?s.FORMAT_OPTIONS+=";dpi:"+l:s.FORMAT_OPTIONS="dpi:"+l;break;case WMSServerType.MAPSERVER:s.MAP_RESOLUTION=90*o;break;case WMSServerType.CARMENTA_SERVER:case WMSServerType.QGIS:s.DPI=90*o;break;default:assert(!1,8);break}s.WIDTH=r[0],s.HEIGHT=r[1];var c=a.getAxisOrientation(),h;return this.v13_&&c.substr(0,2)=="ne"?h=[t[1],t[0],t[3],t[2]]:h=t,s.BBOX=h.join(","),appendParams(this.url_,s)},i.prototype.getUrl=function(){return this.url_},i.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},i.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},i.prototype.updateParams=function(t){assign(this.params_,t),this.updateV13_(),this.image_=null,this.changed()},i.prototype.updateV13_=function(){var t=this.params_.VERSION||DEFAULT_WMS_VERSION;this.v13_=compareVersions(t,"1.3")>=0},i}(ImageSource$1);const ImageWMS$1=ImageWMS;var LRUCache=function(){function n(i){this.highWaterMark=i!==void 0?i:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return n.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},n.prototype.expireCache=function(i){for(;this.canExpireCache();)this.pop()},n.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},n.prototype.containsKey=function(i){return this.entries_.hasOwnProperty(i)},n.prototype.forEach=function(i){for(var t=this.oldest_;t;)i(t.value_,t.key_,this),t=t.newer},n.prototype.get=function(i,t){var r=this.entries_[i];return assert(r!==void 0,15),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_},n.prototype.remove=function(i){var t=this.entries_[i];return assert(t!==void 0,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[i],--this.count_,t.value_},n.prototype.getCount=function(){return this.count_},n.prototype.getKeys=function(){var i=new Array(this.count_),t=0,r;for(r=this.newest_;r;r=r.older)i[t++]=r.key_;return i},n.prototype.getValues=function(){var i=new Array(this.count_),t=0,r;for(r=this.newest_;r;r=r.older)i[t++]=r.value_;return i},n.prototype.peekLast=function(){return this.oldest_.value_},n.prototype.peekLastKey=function(){return this.oldest_.key_},n.prototype.peekFirstKey=function(){return this.newest_.key_},n.prototype.pop=function(){var i=this.oldest_;return delete this.entries_[i.key_],i.newer&&(i.newer.older=null),this.oldest_=i.newer,this.oldest_||(this.newest_=null),--this.count_,i.value_},n.prototype.replace=function(i,t){this.get(i),this.entries_[i].value_=t},n.prototype.set=function(i,t){assert(!(i in this.entries_),16);var r={key_:i,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[i]=r,++this.count_},n.prototype.setSize=function(i){this.highWaterMark=i},n}();const LRUCache$1=LRUCache;function createOrUpdate(n,i,t,r){return r!==void 0?(r[0]=n,r[1]=i,r[2]=t,r):[n,i,t]}function getKeyZXY(n,i,t){return n+"/"+i+"/"+t}function getKey(n){return getKeyZXY(n[0],n[1],n[2])}function fromKey(n){return n.split("/").map(Number)}function hash(n){return(n[1]<<n[0])+n[2]}function withinExtentAndZ(n,i){var t=n[0],r=n[1],o=n[2];if(i.getMinZoom()>t||t>i.getMaxZoom())return!1;var a=i.getFullTileRange(t);return a?a.containsXY(r,o):!0}var __extends$6=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),TileCache=function(n){__extends$6(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i.prototype.expireCache=function(t){for(;this.canExpireCache();){var r=this.peekLast();if(r.getKey()in t)break;this.pop().release()}},i.prototype.pruneExceptNewestZ=function(){if(this.getCount()!==0){var t=this.peekFirstKey(),r=fromKey(t),o=r[0];this.forEach((function(a){a.tileCoord[0]!==o&&(this.remove(getKey(a.tileCoord)),a.release())}).bind(this))}},i}(LRUCache$1);const TileCache$1=TileCache,TileEventType={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};var tmpTileCoord=[0,0,0],DECIMALS=5,TileGrid=function(){function n(i){this.minZoom=i.minZoom!==void 0?i.minZoom:0,this.resolutions_=i.resolutions,assert(isSorted(this.resolutions_,function(s,l){return l-s},!0),17);var t;if(!i.origins){for(var r=0,o=this.resolutions_.length-1;r<o;++r)if(!t)t=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=i.origin!==void 0?i.origin:null,this.origins_=null,i.origins!==void 0&&(this.origins_=i.origins,assert(this.origins_.length==this.resolutions_.length,20));var a=i.extent;a!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=getTopLeft(a)),assert(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,i.tileSizes!==void 0&&(this.tileSizes_=i.tileSizes,assert(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=i.tileSize!==void 0?i.tileSize:this.tileSizes_?null:DEFAULT_TILE_SIZE,assert(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=a!==void 0?a:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],i.sizes!==void 0?this.fullTileRanges_=i.sizes.map(function(s,l){var c=new TileRange(Math.min(0,s[0]),Math.max(s[0]-1,-1),Math.min(0,s[1]),Math.max(s[1]-1,-1));if(a){var h=this.getTileRangeForExtentAndZ(a,l);c.minX=Math.max(h.minX,c.minX),c.maxX=Math.min(h.maxX,c.maxX),c.minY=Math.max(h.minY,c.minY),c.maxY=Math.min(h.maxY,c.maxY)}return c},this):a&&this.calculateTileRanges_(a)}return n.prototype.forEachTileCoord=function(i,t,r){for(var o=this.getTileRangeForExtentAndZ(i,t),a=o.minX,s=o.maxX;a<=s;++a)for(var l=o.minY,c=o.maxY;l<=c;++l)r([t,a,l])},n.prototype.forEachTileCoordParentTileRange=function(i,t,r,o){var a,s,l,c=null,h=i[0]-1;for(this.zoomFactor_===2?(s=i[1],l=i[2]):c=this.getTileCoordExtent(i,o);h>=this.minZoom;){if(this.zoomFactor_===2?(s=Math.floor(s/2),l=Math.floor(l/2),a=createOrUpdate$1(s,s,l,l,r)):a=this.getTileRangeForExtentAndZ(c,h,r),t(h,a))return!0;--h}return!1},n.prototype.getExtent=function(){return this.extent_},n.prototype.getMaxZoom=function(){return this.maxZoom},n.prototype.getMinZoom=function(){return this.minZoom},n.prototype.getOrigin=function(i){return this.origin_?this.origin_:this.origins_[i]},n.prototype.getResolution=function(i){return this.resolutions_[i]},n.prototype.getResolutions=function(){return this.resolutions_},n.prototype.getTileCoordChildTileRange=function(i,t,r){if(i[0]<this.maxZoom){if(this.zoomFactor_===2){var o=i[1]*2,a=i[2]*2;return createOrUpdate$1(o,o+1,a,a+1,t)}var s=this.getTileCoordExtent(i,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,i[0]+1,t)}return null},n.prototype.getTileRangeForTileCoordAndZ=function(i,t,r){if(t>this.maxZoom||t<this.minZoom)return null;var o=i[0],a=i[1],s=i[2];if(t===o)return createOrUpdate$1(a,s,a,s,r);if(this.zoomFactor_){var l=Math.pow(this.zoomFactor_,t-o),c=Math.floor(a*l),h=Math.floor(s*l);if(t<o)return createOrUpdate$1(c,c,h,h,r);var u=Math.floor(l*(a+1))-1,d=Math.floor(l*(s+1))-1;return createOrUpdate$1(c,u,h,d,r)}var f=this.getTileCoordExtent(i,this.tmpExtent_);return this.getTileRangeForExtentAndZ(f,t,r)},n.prototype.getTileRangeExtent=function(i,t,r){var o=this.getOrigin(i),a=this.getResolution(i),s=toSize(this.getTileSize(i),this.tmpSize_),l=o[0]+t.minX*s[0]*a,c=o[0]+(t.maxX+1)*s[0]*a,h=o[1]+t.minY*s[1]*a,u=o[1]+(t.maxY+1)*s[1]*a;return createOrUpdate$2(l,h,c,u,r)},n.prototype.getTileRangeForExtentAndZ=function(i,t,r){var o=tmpTileCoord;this.getTileCoordForXYAndZ_(i[0],i[3],t,!1,o);var a=o[1],s=o[2];return this.getTileCoordForXYAndZ_(i[2],i[1],t,!0,o),createOrUpdate$1(a,o[1],s,o[2],r)},n.prototype.getTileCoordCenter=function(i){var t=this.getOrigin(i[0]),r=this.getResolution(i[0]),o=toSize(this.getTileSize(i[0]),this.tmpSize_);return[t[0]+(i[1]+.5)*o[0]*r,t[1]-(i[2]+.5)*o[1]*r]},n.prototype.getTileCoordExtent=function(i,t){var r=this.getOrigin(i[0]),o=this.getResolution(i[0]),a=toSize(this.getTileSize(i[0]),this.tmpSize_),s=r[0]+i[1]*a[0]*o,l=r[1]-(i[2]+1)*a[1]*o,c=s+a[0]*o,h=l+a[1]*o;return createOrUpdate$2(s,l,c,h,t)},n.prototype.getTileCoordForCoordAndResolution=function(i,t,r){return this.getTileCoordForXYAndResolution_(i[0],i[1],t,!1,r)},n.prototype.getTileCoordForXYAndResolution_=function(i,t,r,o,a){var s=this.getZForResolution(r),l=r/this.getResolution(s),c=this.getOrigin(s),h=toSize(this.getTileSize(s),this.tmpSize_),u=l*(i-c[0])/r/h[0],d=l*(c[1]-t)/r/h[1];return o?(u=ceil(u,DECIMALS)-1,d=ceil(d,DECIMALS)-1):(u=floor(u,DECIMALS),d=floor(d,DECIMALS)),createOrUpdate(s,u,d,a)},n.prototype.getTileCoordForXYAndZ_=function(i,t,r,o,a){var s=this.getOrigin(r),l=this.getResolution(r),c=toSize(this.getTileSize(r),this.tmpSize_),h=(i-s[0])/l/c[0],u=(s[1]-t)/l/c[1];return o?(h=ceil(h,DECIMALS)-1,u=ceil(u,DECIMALS)-1):(h=floor(h,DECIMALS),u=floor(u,DECIMALS)),createOrUpdate(r,h,u,a)},n.prototype.getTileCoordForCoordAndZ=function(i,t,r){return this.getTileCoordForXYAndZ_(i[0],i[1],t,!1,r)},n.prototype.getTileCoordResolution=function(i){return this.resolutions_[i[0]]},n.prototype.getTileSize=function(i){return this.tileSize_?this.tileSize_:this.tileSizes_[i]},n.prototype.getFullTileRange=function(i){return this.fullTileRanges_?this.fullTileRanges_[i]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,i):null},n.prototype.getZForResolution=function(i,t){var r=linearFindNearest(this.resolutions_,i,t||0);return clamp(r,this.minZoom,this.maxZoom)},n.prototype.calculateTileRanges_=function(i){for(var t=this.resolutions_.length,r=new Array(t),o=this.minZoom;o<t;++o)r[o]=this.getTileRangeForExtentAndZ(i,o);this.fullTileRanges_=r},n}();const TileGrid$1=TileGrid;function getForProjection(n){var i=n.getDefaultTileGrid();return i||(i=createForProjection(n),n.setDefaultTileGrid(i)),i}function wrapX(n,i,t){var r=i[0],o=n.getTileCoordCenter(i),a=extentFromProjection(t);if(containsCoordinate(a,o))return i;var s=getWidth(a),l=Math.ceil((a[0]-o[0])/s);return o[0]+=s*l,n.getTileCoordForCoordAndZ(o,r)}function createForExtent(n,i,t,r){var o=r!==void 0?r:Corner.TOP_LEFT,a=resolutionsFromExtent(n,i,t);return new TileGrid$1({extent:n,origin:getCorner(n,o),resolutions:a,tileSize:t})}function createXYZ(n){var i=n||{},t=i.extent||get$2("EPSG:3857").getExtent(),r={extent:t,minZoom:i.minZoom,tileSize:i.tileSize,resolutions:resolutionsFromExtent(t,i.maxZoom,i.tileSize,i.maxResolution)};return new TileGrid$1(r)}function resolutionsFromExtent(n,i,t,r){for(var o=i!==void 0?i:DEFAULT_MAX_ZOOM,a=getHeight(n),s=getWidth(n),l=toSize(t!==void 0?t:DEFAULT_TILE_SIZE),c=r>0?r:Math.max(s/l[0],a/l[1]),h=o+1,u=new Array(h),d=0;d<h;++d)u[d]=c/Math.pow(2,d);return u}function createForProjection(n,i,t,r){var o=extentFromProjection(n);return createForExtent(o,i,t,r)}function extentFromProjection(n){n=get$2(n);var i=n.getExtent();if(!i){var t=180*METERS_PER_UNIT$1[Units.DEGREES]/n.getMetersPerUnit();i=createOrUpdate$2(-t,-t,t,t)}return i}var __extends$5=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),TileSource=function(n){__extends$5(i,n);function i(t){var r=n.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate})||this;r.on,r.once,r.un,r.opaque_=t.opaque!==void 0?t.opaque:!1,r.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,r.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;var o=[256,256];return r.tileGrid&&toSize(r.tileGrid.getTileSize(r.tileGrid.getMinZoom()),o),r.tileCache=new TileCache$1(t.cacheSize||0),r.tmpSize=[0,0],r.key_=t.key||"",r.tileOptions={transition:t.transition,interpolate:t.interpolate},r.zDirection=t.zDirection?t.zDirection:0,r}return i.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},i.prototype.expireCache=function(t,r){var o=this.getTileCacheForProjection(t);o&&o.expireCache(r)},i.prototype.forEachLoadedTile=function(t,r,o,a){var s=this.getTileCacheForProjection(t);if(!s)return!1;for(var l=!0,c,h,u,d=o.minX;d<=o.maxX;++d)for(var f=o.minY;f<=o.maxY;++f)h=getKeyZXY(r,d,f),u=!1,s.containsKey(h)&&(c=s.get(h),u=c.getState()===TileState.LOADED,u&&(u=a(c)!==!1)),u||(l=!1);return l},i.prototype.getGutterForProjection=function(t){return 0},i.prototype.getKey=function(){return this.key_},i.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},i.prototype.getOpaque=function(t){return this.opaque_},i.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},i.prototype.getTile=function(t,r,o,a,s){return abstract()},i.prototype.getTileGrid=function(){return this.tileGrid},i.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:getForProjection(t)},i.prototype.getTileCacheForProjection=function(t){return assert(equivalent(this.getProjection(),t),68),this.tileCache},i.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},i.prototype.getTilePixelSize=function(t,r,o){var a=this.getTileGridForProjection(o),s=this.getTilePixelRatio(r),l=toSize(a.getTileSize(t),this.tmpSize);return s==1?l:scale(l,s,this.tmpSize)},i.prototype.getTileCoordForTileUrlFunction=function(t,r){var o=r!==void 0?r:this.getProjection(),a=this.getTileGridForProjection(o);return this.getWrapX()&&o.isGlobal()&&(t=wrapX(a,t,o)),withinExtentAndZ(t,a)?t:null},i.prototype.clear=function(){this.tileCache.clear()},i.prototype.refresh=function(){this.clear(),n.prototype.refresh.call(this)},i.prototype.updateCacheSize=function(t,r){var o=this.getTileCacheForProjection(r);t>o.highWaterMark&&(o.highWaterMark=t)},i.prototype.useTile=function(t,r,o,a){},i}(Source$1),TileSourceEvent=function(n){__extends$5(i,n);function i(t,r){var o=n.call(this,t)||this;return o.tile=r,o}return i}(Event);const TileSource$1=TileSource;function createFromTemplate(n,i){var t=/\{z\}/g,r=/\{x\}/g,o=/\{y\}/g,a=/\{-y\}/g;return function(s,l,c){if(s)return n.replace(t,s[0].toString()).replace(r,s[1].toString()).replace(o,s[2].toString()).replace(a,function(){var h=s[0],u=i.getFullTileRange(h);assert(u,55);var d=u.getHeight()-s[2]-1;return d.toString()})}}function createFromTemplates(n,i){for(var t=n.length,r=new Array(t),o=0;o<t;++o)r[o]=createFromTemplate(n[o],i);return createFromTileUrlFunctions(r)}function createFromTileUrlFunctions(n){return n.length===1?n[0]:function(i,t,r){if(i){var o=hash(i),a=modulo(o,n.length);return n[a](i,t,r)}else return}}function expandUrl(n){var i=[],t=/\{([a-z])-([a-z])\}/.exec(n);if(t){var r=t[1].charCodeAt(0),o=t[2].charCodeAt(0),a=void 0;for(a=r;a<=o;++a)i.push(n.replace(t[0],String.fromCharCode(a)));return i}if(t=/\{(\d+)-(\d+)\}/.exec(n),t){for(var s=parseInt(t[2],10),l=parseInt(t[1],10);l<=s;l++)i.push(n.replace(t[0],l.toString()));return i}return i.push(n),i}var __extends$4=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),UrlTile=function(n){__extends$4(i,n);function i(t){var r=n.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this;return r.generateTileUrlFunction_=r.tileUrlFunction===i.prototype.tileUrlFunction,r.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(r.tileUrlFunction=t.tileUrlFunction),r.urls=null,t.urls?r.setUrls(t.urls):t.url&&r.setUrl(t.url),r.tileLoadingKeys_={},r}return i.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},i.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},i.prototype.getUrls=function(){return this.urls},i.prototype.handleTileChange=function(t){var r=t.target,o=getUid(r),a=r.getState(),s;a==TileState.LOADING?(this.tileLoadingKeys_[o]=!0,s=TileEventType.TILELOADSTART):o in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[o],s=a==TileState.ERROR?TileEventType.TILELOADERROR:a==TileState.LOADED?TileEventType.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new TileSourceEvent(s,r))},i.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},i.prototype.setTileUrlFunction=function(t,r){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),typeof r<"u"?this.setKey(r):this.changed()},i.prototype.setUrl=function(t){var r=expandUrl(t);this.urls=r,this.setUrls(r)},i.prototype.setUrls=function(t){this.urls=t;var r=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(createFromTemplates(t,this.tileGrid),r):this.setKey(r)},i.prototype.tileUrlFunction=function(t,r,o){},i.prototype.useTile=function(t,r,o){var a=getKeyZXY(t,r,o);this.tileCache.containsKey(a)&&this.tileCache.get(a)},i}(TileSource$1);const UrlTile$1=UrlTile;var __extends$3=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),TileImage=function(n){__extends$3(i,n);function i(t){var r=this,o=t.imageSmoothing!==void 0?t.imageSmoothing:!0;return t.interpolate!==void 0&&(o=t.interpolate),r=n.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:defaultTileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:o,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this,r.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,r.tileClass=t.tileClass!==void 0?t.tileClass:ImageTile$1,r.tileCacheForProjection={},r.tileGridForProjection={},r.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,r.renderReprojectionEdges_=!1,r}return i.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},i.prototype.expireCache=function(t,r){var o=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==o?r:{});for(var a in this.tileCacheForProjection){var s=this.tileCacheForProjection[a];s.expireCache(s==o?r:{})}},i.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!equivalent(this.getProjection(),t)?0:this.getGutter()},i.prototype.getGutter=function(){return 0},i.prototype.getKey=function(){var t=n.prototype.getKey.call(this);return this.getInterpolate()||(t+=":disable-interpolation"),t},i.prototype.getOpaque=function(t){return this.getProjection()&&t&&!equivalent(this.getProjection(),t)?!1:n.prototype.getOpaque.call(this,t)},i.prototype.getTileGridForProjection=function(t){var r=this.getProjection();if(this.tileGrid&&(!r||equivalent(r,t)))return this.tileGrid;var o=getUid(t);return o in this.tileGridForProjection||(this.tileGridForProjection[o]=getForProjection(t)),this.tileGridForProjection[o]},i.prototype.getTileCacheForProjection=function(t){var r=this.getProjection();if(!r||equivalent(r,t))return this.tileCache;var o=getUid(t);return o in this.tileCacheForProjection||(this.tileCacheForProjection[o]=new TileCache$1(this.tileCache.highWaterMark)),this.tileCacheForProjection[o]},i.prototype.createTile_=function(t,r,o,a,s,l){var c=[t,r,o],h=this.getTileCoordForTileUrlFunction(c,s),u=h?this.tileUrlFunction(h,a,s):void 0,d=new this.tileClass(c,u!==void 0?TileState.IDLE:TileState.EMPTY,u!==void 0?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return d.key=l,d.addEventListener(EventType.CHANGE,this.handleTileChange.bind(this)),d},i.prototype.getTile=function(t,r,o,a,s){var l=this.getProjection();if(!l||!s||equivalent(l,s))return this.getTileInternal(t,r,o,a,l||s);var c=this.getTileCacheForProjection(s),h=[t,r,o],u=void 0,d=getKey(h);c.containsKey(d)&&(u=c.get(d));var f=this.getKey();if(u&&u.key==f)return u;var p=this.getTileGridForProjection(l),m=this.getTileGridForProjection(s),g=this.getTileCoordForTileUrlFunction(h,s),v=new ReprojTile$1(l,p,s,m,h,g,this.getTilePixelRatio(a),this.getGutter(),(function(_,y,b,x){return this.getTileInternal(_,y,b,x,l)}).bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return v.key=f,u?(v.interimTile=u,v.refreshInterimChain(),c.replace(d,v)):c.set(d,v),v},i.prototype.getTileInternal=function(t,r,o,a,s){var l=null,c=getKeyZXY(t,r,o),h=this.getKey();if(!this.tileCache.containsKey(c))l=this.createTile_(t,r,o,a,s,h),this.tileCache.set(c,l);else if(l=this.tileCache.get(c),l.key!=h){var u=l;l=this.createTile_(t,r,o,a,s,h),u.getState()==TileState.IDLE?l.interimTile=u.interimTile:l.interimTile=u,l.refreshInterimChain(),this.tileCache.replace(c,l)}return l},i.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){this.renderReprojectionEdges_=t;for(var r in this.tileCacheForProjection)this.tileCacheForProjection[r].clear();this.changed()}},i.prototype.setTileGridForProjection=function(t,r){{var o=get$2(t);if(o){var a=getUid(o);a in this.tileGridForProjection||(this.tileGridForProjection[a]=r)}}},i}(UrlTile$1);function defaultTileLoadFunction(n,i){n.getImage().src=i}const TileImage$1=TileImage;var __extends$2=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),XYZ=function(n){__extends$2(i,n);function i(t){var r=t||{},o=r.imageSmoothing!==void 0?r.imageSmoothing:!0;r.interpolate!==void 0&&(o=r.interpolate);var a=r.projection!==void 0?r.projection:"EPSG:3857",s=r.tileGrid!==void 0?r.tileGrid:createXYZ({extent:extentFromProjection(a),maxResolution:r.maxResolution,maxZoom:r.maxZoom,minZoom:r.minZoom,tileSize:r.tileSize});return n.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,crossOrigin:r.crossOrigin,interpolate:o,opaque:r.opaque,projection:a,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileGrid:s,tileLoadFunction:r.tileLoadFunction,tilePixelRatio:r.tilePixelRatio,tileUrlFunction:r.tileUrlFunction,url:r.url,urls:r.urls,wrapX:r.wrapX!==void 0?r.wrapX:!0,transition:r.transition,attributionsCollapsible:r.attributionsCollapsible,zDirection:r.zDirection})||this}return i}(TileImage$1);const XYZ$1=XYZ;var __extends$1=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ATTRIBUTION='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',OSM=function(n){__extends$1(i,n);function i(t){var r=t||{},o=r.imageSmoothing!==void 0?r.imageSmoothing:!0;r.interpolate!==void 0&&(o=r.interpolate);var a;r.attributions!==void 0?a=r.attributions:a=[ATTRIBUTION];var s=r.crossOrigin!==void 0?r.crossOrigin:"anonymous",l=r.url!==void 0?r.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return n.call(this,{attributions:a,attributionsCollapsible:!1,cacheSize:r.cacheSize,crossOrigin:s,interpolate:o,maxZoom:r.maxZoom!==void 0?r.maxZoom:19,opaque:r.opaque!==void 0?r.opaque:!0,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileLoadFunction:r.tileLoadFunction,transition:r.transition,url:l,wrapX:r.wrapX,zDirection:r.zDirection})||this}return i}(XYZ$1);const OSM$1=OSM;var __extends=function(){var n=function(i,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(i,t)};return function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),TileWMS=function(n){__extends(i,n);function i(t){var r=this,o=t||{},a=o.imageSmoothing!==void 0?o.imageSmoothing:!0;o.interpolate!==void 0&&(a=o.interpolate);var s=o.params||{},l="TRANSPARENT"in s?s.TRANSPARENT:!0;return r=n.call(this,{attributions:o.attributions,attributionsCollapsible:o.attributionsCollapsible,cacheSize:o.cacheSize,crossOrigin:o.crossOrigin,interpolate:a,opaque:!l,projection:o.projection,reprojectionErrorThreshold:o.reprojectionErrorThreshold,tileClass:o.tileClass,tileGrid:o.tileGrid,tileLoadFunction:o.tileLoadFunction,url:o.url,urls:o.urls,wrapX:o.wrapX!==void 0?o.wrapX:!0,transition:o.transition,zDirection:o.zDirection})||this,r.gutter_=o.gutter!==void 0?o.gutter:0,r.params_=s,r.v13_=!0,r.serverType_=o.serverType,r.hidpi_=o.hidpi!==void 0?o.hidpi:!0,r.tmpExtent_=createEmpty(),r.updateV13_(),r.setKey(r.getKeyForParams_()),r}return i.prototype.getFeatureInfoUrl=function(t,r,o,a){var s=get$2(o),l=this.getProjection(),c=this.getTileGrid();c||(c=this.getTileGridForProjection(s));var h=c.getZForResolution(r,this.zDirection),u=c.getTileCoordForCoordAndZ(t,h);if(!(c.getResolutions().length<=u[0])){var d=c.getResolution(u[0]),f=c.getTileCoordExtent(u,this.tmpExtent_),p=toSize(c.getTileSize(u[0]),this.tmpSize),m=this.gutter_;m!==0&&(p=buffer(p,m,this.tmpSize),f=buffer$1(f,d*m,f)),l&&l!==s&&(d=calculateSourceResolution(l,s,t,d),f=transformExtent(f,s,l),t=transform$1(t,s,l));var g={SERVICE:"WMS",VERSION:DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};assign(g,this.params_,a);var v=Math.floor((t[0]-f[0])/d),_=Math.floor((f[3]-t[1])/d);return g[this.v13_?"I":"X"]=v,g[this.v13_?"J":"Y"]=_,this.getRequestUrl_(u,p,f,1,l||s,g)}},i.prototype.getLegendUrl=function(t,r){if(this.urls[0]!==void 0){var o={SERVICE:"WMS",VERSION:DEFAULT_WMS_VERSION,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(r===void 0||r.LAYER===void 0){var a=this.params_.LAYERS,s=!Array.isArray(a)||a.length===1;if(!s)return;o.LAYER=a}if(t!==void 0){var l=this.getProjection()?this.getProjection().getMetersPerUnit():1,c=28e-5;o.SCALE=t*l/c}return assign(o,r),appendParams(this.urls[0],o)}},i.prototype.getGutter=function(){return this.gutter_},i.prototype.getParams=function(){return this.params_},i.prototype.getRequestUrl_=function(t,r,o,a,s,l){var c=this.urls;if(c){if(l.WIDTH=r[0],l.HEIGHT=r[1],l[this.v13_?"CRS":"SRS"]=s.getCode(),"STYLES"in this.params_||(l.STYLES=""),a!=1)switch(this.serverType_){case WMSServerType.GEOSERVER:var h=90*a+.5|0;"FORMAT_OPTIONS"in l?l.FORMAT_OPTIONS+=";dpi:"+h:l.FORMAT_OPTIONS="dpi:"+h;break;case WMSServerType.MAPSERVER:l.MAP_RESOLUTION=90*a;break;case WMSServerType.CARMENTA_SERVER:case WMSServerType.QGIS:l.DPI=90*a;break;default:assert(!1,52);break}var u=s.getAxisOrientation(),d=o;if(this.v13_&&u.substr(0,2)=="ne"){var f=void 0;f=o[0],d[0]=o[1],d[1]=f,f=o[2],d[2]=o[3],d[3]=f}l.BBOX=d.join(",");var p;if(c.length==1)p=c[0];else{var m=modulo(hash(t),c.length);p=c[m]}return appendParams(p,l)}},i.prototype.getTilePixelRatio=function(t){return!this.hidpi_||this.serverType_===void 0?1:t},i.prototype.getKeyForParams_=function(){var t=0,r=[];for(var o in this.params_)r[t++]=o+"-"+this.params_[o];return r.join("/")},i.prototype.updateParams=function(t){assign(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())},i.prototype.updateV13_=function(){var t=this.params_.VERSION||DEFAULT_WMS_VERSION;this.v13_=compareVersions(t,"1.3")>=0},i.prototype.tileUrlFunction=function(t,r,o){var a=this.getTileGrid();if(a||(a=this.getTileGridForProjection(o)),!(a.getResolutions().length<=t[0])){r!=1&&(!this.hidpi_||this.serverType_===void 0)&&(r=1);var s=a.getResolution(t[0]),l=a.getTileCoordExtent(t,this.tmpExtent_),c=toSize(a.getTileSize(t[0]),this.tmpSize),h=this.gutter_;h!==0&&(c=buffer(c,h,this.tmpSize),l=buffer$1(l,s*h,l)),r!=1&&(c=scale(c,r,this.tmpSize));var u={SERVICE:"WMS",VERSION:DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return assign(u,this.params_),this.getRequestUrl_(t,c,l,r,o,u)}},i}(TileImage$1);const TileWMS$1=TileWMS;/**
 * @license
 * Copyright 2000-2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 * See <https://vaadin.com/commercial-license-and-service-terms> for the full
 * license.
 */function synchronizeSource(n,i,t){if(!n)throw new Error("Can not instantiate base class: ol/source/Source");return n.setAttributions(i.attributions),n}function synchronizeTileSource(n,i,t){if(!n)throw new Error("Can not instantiate base class: ol/source/Tile");return synchronizeSource(n,i),n}function synchronizeUrlTileSource(n,i,t){if(!n)throw new Error("Can not instantiate base class: ol/source/UrlTile");return synchronizeTileSource(n,i),i.url&&n.setUrl(i.url),n}function synchronizeTileImageSource(n,i,t){if(!n)throw new Error("Can not instantiate base class: ol/source/TileImage");return synchronizeUrlTileSource(n,i),n}function synchronizeTileWMSSource(n,i,t){return n||(n=new TileWMS$1(createOptions(i))),synchronizeTileImageSource(n,i),n}function synchronizeXYZSource(n,i,t){return n||(n=new XYZ$1(createOptions(i))),synchronizeTileImageSource(n,i),n}function synchronizeOSMSource(n,i,t){return n||(n=new OSM$1(createOptions(i))),i.attributions||(i.attributions=ATTRIBUTION),synchronizeXYZSource(n,i),n}function synchronizeImageSource(n,i,t){if(!n)throw new Error("Can not instantiate base class: ol/source/Image");return synchronizeSource(n,i),n}function synchronizeImageWMSSource(n,i,t){return n||(n=new ImageWMS$1(createOptions(i))),synchronizeImageSource(n,i),i.url&&n.setUrl(i.url),n}function synchronizeVectorSource(n,i,t){return n||(n=new VectorSource$1(createOptions({...i,features:new Collection}))),synchronizeSource(n,i),synchronizeCollection(n.getFeaturesCollection(),i.features,t),n}/**
 * @license
 * Copyright 2000-2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 * See <https://vaadin.com/commercial-license-and-service-terms> for the full
 * license.
 */function synchronizeFill(n,i,t){return n||(n=new Fill),n.setColor(i.color),t.connector.forceRender(),n}function synchronizeStroke(n,i,t){return n||(n=new Stroke$1),n.setColor(i.color),n.setWidth(i.width),t.connector.forceRender(),n}function synchronizeImageStyle(n,i,t){if(!n)throw new Error("Can not instantiate base class: ol/style/Image");return n.setOpacity(i.opacity),n.setRotateWithView(i.rotateWithView),n.setRotation(i.rotation),n.setScale(i.scale),n}function synchronizeIcon(n,i,t){if(!n){const r=i.img||i.src;n=new Icon$1(createOptions({...i,img:void 0,src:r,imgSize:i.imgSize?convertToSizeArray(i.imgSize):void 0,anchor:i.anchor?convertToCoordinateArray(i.anchor):void 0,anchorOrigin:i.anchorOrigin?convertEnumValue(i.anchorOrigin):void 0}))}return synchronizeImageStyle(n,i),t.connector.forceRender(),n}function synchronizeText(n,i,t){return n||(n=new Text$2),n.setFont(i.font),n.setOffsetX(i.offset&&i.offset.x||0),n.setOffsetY(i.offset&&i.offset.y||0),n.setScale(i.scale),n.setRotation(i.rotation),n.setRotateWithView(i.rotateWithView),n.setTextAlign(i.textAlign?convertEnumValue(i.textAlign):void 0),n.setTextBaseline(i.textBaseline?convertEnumValue(i.textBaseline):void 0),n.setFill(i.fill?t.lookup.get(i.fill):void 0),n.setStroke(i.stroke?t.lookup.get(i.stroke):void 0),n.setBackgroundFill(i.backgroundFill?t.lookup.get(i.backgroundFill):void 0),n.setBackgroundStroke(i.backgroundStroke?t.lookup.get(i.backgroundStroke):void 0),n.setPadding([i.padding,i.padding,i.padding,i.padding]),t.connector.forceRender(),n}function synchronizeStyle(n,i,t){return n||(n=new Style),n.setImage(i.image?t.lookup.get(i.image):void 0),n.setFill(i.fill?t.lookup.get(i.fill):void 0),n.setStroke(i.stroke?t.lookup.get(i.stroke):void 0),n.setText(i.text?t.lookup.get(i.text):void 0),t.connector.forceRender(),n}/**
 * @license
 * Copyright 2000-2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 * See <https://vaadin.com/commercial-license-and-service-terms> for the full
 * license.
 */const fallbackTextStyle=new Text$2({font:"13px sans-serif",offsetY:10,fill:new Fill({color:"#333"}),stroke:new Stroke$1({color:"#fff",width:3})});function synchronizeMap(n,i,t){if(!n)throw new Error("Existing map instance must be provided");return synchronizeCollection(n.getLayers(),i.layers,t),n.setView(t.lookup.get(i.view)),n}function synchronizeView(n,i,t){return n||(n=new View$1({projection:i.projection})),n.setCenter(i.center?convertToCoordinateArray(i.center):[0,0]),n.setRotation(i.rotation||0),n.setZoom(i.zoom||0),n}function synchronizePoint(n,i,t){return n||(n=new Point$2(convertToCoordinateArray(i.coordinates))),n.setCoordinates(convertToCoordinateArray(i.coordinates)),n}function synchronizeFeature(n,i,t){n||(n=new Feature),n.setGeometry(t.lookup.get(i.geometry));const r=t.lookup.get(i.style);return n.setStyle(()=>{if(r)return i.text&&!r.getText()&&r.setText(fallbackTextStyle),r.getText()&&r.getText().setText(i.text),r}),n.draggable=i.draggable,n}const synchronizerLookup={"ol/Feature":synchronizeFeature,"ol/Map":synchronizeMap,"ol/View":synchronizeView,"ol/layer/Image":synchronizeImageLayer,"ol/layer/Tile":synchronizeTileLayer,"ol/layer/Vector":synchronizeVectorLayer,"ol/source/ImageWMS":synchronizeImageWMSSource,"ol/source/OSM":synchronizeOSMSource,"ol/source/TileWMS":synchronizeTileWMSSource,"ol/source/Vector":synchronizeVectorSource,"ol/source/XYZ":synchronizeXYZSource,"ol/geom/Point":synchronizePoint,"ol/style/Icon":synchronizeIcon,"ol/style/Fill":synchronizeFill,"ol/style/Stroke":synchronizeStroke,"ol/style/Style":synchronizeStyle,"ol/style/Text":synchronizeText};function synchronize(n,i){const t=n.type;if(!t)throw new Error("Configuration object must have a type");if(!n.id)throw new Error("Configuration object must have an ID");let r=i.lookup.get(n.id);const o=synchronizerLookup[t];if(!o)throw new Error(`Unsupported configuration object type: ${t}`);return r=o(r,n,i),i.lookup.put(n.id,r),r.id=n.id,r.typeName=t,r}/**
 * @license
 * Copyright 2000-2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 * See <https://vaadin.com/commercial-license-and-service-terms> for the full
 * license.
 */class SimpleLookup{constructor(){this.map=new Map}get(i){return this.map.get(i)}put(i,t){this.map.set(i,t)}}class WeakReferenceLookup{constructor(){this.map=new Map,this.registry=new FinalizationRegistry(i=>{this.map.delete(i)})}get(i){const t=this.map.get(i);return t?t.deref():void 0}put(i,t){if(this.map.has(i))return;const r=new WeakRef(t);this.map.set(i,r),this.registry.register(t,i)}}const supportsWeakReferenceLookup=window.WeakRef&&window.FinalizationRegistry;function createLookup(){return supportsWeakReferenceLookup?new WeakReferenceLookup:new SimpleLookup}function getLayerForFeature(n,i){return n.find(t=>{const r=t.getSource&&t.getSource();return r&&r instanceof VectorSource$1&&r.getFeatures().includes(i)})}/**
 * @license
 * Copyright 2000-2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 * See <https://vaadin.com/commercial-license-and-service-terms> for the full
 * license.
 */setUserProjection("EPSG:4326");(function(){function n(r){r.$connector={lookup:createLookup(),synchronize(a){const s={synchronize,lookup:this.lookup,mapElement:r,connector:r.$connector};a.forEach(l=>{l.type==="ol/Map"&&this.lookup.put(l.id,r.configuration),synchronize(l,s)})},forceRender(){this._forceRenderTimeout||(this._forceRenderTimeout=setTimeout(()=>{this._forceRenderTimeout=null,r.configuration.getLayers().getArray().forEach(a=>a.changed())}))}},r.configuration.on("moveend",a=>{const s=r.configuration.getView(),l=s.getCenter(),c=s.getRotation(),h=s.getZoom(),u=s.calculateExtent(),d=new CustomEvent("map-view-moveend",{detail:{center:l,rotation:c,zoom:h,extent:u}});r.dispatchEvent(d)}),r.configuration.on("singleclick",a=>{const s=a.coordinate,l=a.pixel,h=r.configuration.getFeaturesAtPixel(l).map(d=>{const f=getLayerForFeature(r.configuration.getLayers().getArray(),d);return{feature:d,layer:f}}),u=new CustomEvent("map-click",{detail:{coordinate:s,features:h,originalEvent:a.originalEvent}});if(r.dispatchEvent(u),h.length>0){const d=h[0],f=new CustomEvent("map-feature-click",{detail:{feature:d.feature,layer:d.layer,originalEvent:a.originalEvent}});r.dispatchEvent(f)}});const o=new Translate({filter(a){return!!a.draggable}});o.on("translateend",a=>{const s=a.features.item(0);if(!s)return;const l=getLayerForFeature(r.configuration.getLayers().getArray(),s),c=new CustomEvent("map-feature-drop",{detail:{feature:s,layer:l,coordinate:a.coordinate,startCoordinate:a.startCoordinate}});r.dispatchEvent(c)}),r.configuration.addInteraction(o)}function i(r){setUserProjection(r)}function t(r,o){proj4.defs(r,o),register(proj4)}window.Vaadin.Flow.mapConnector={init:n,setUserProjection:i,defineProjection:t}})();(function(){const n=function(r){return window.Vaadin.Flow.tryCatchWrapper(r,"Vaadin Menu Bar")};function i(r,o){if(r.$connector)return;const a=new MutationObserver(s=>{s.some(c=>{const h=c.oldValue,u=c.target.getAttribute(c.attributeName);return h!==u})&&r.$connector.generateItems()});r.$connector={generateItems:n(s=>{if(!r.shadowRoot){setTimeout(()=>r.$connector.generateItems(s));return}s&&(r.__generatedItems=window.Vaadin.Flow.contextMenuConnector.generateItemsTree(o,s));let l=r.__generatedItems||[];l.forEach(c=>c.disabled=c.component.disabled),l.forEach(c=>{a.observe(c.component,{attributeFilter:["hidden","disabled"],attributeOldValue:!0})}),l=l.filter(c=>!c.component.hidden),r.items=l,r._buttons.forEach(c=>{c.item&&c.item.component&&c.addEventListener("click",h=>{h.composedPath().indexOf(c.item.component)===-1&&(c.item.component.click(),h.stopPropagation())})})})}}function t(r){r._item&&(r._item.className=r.className)}window.Vaadin.Flow.menubarConnector={initLazy(...r){return n(i)(...r)},setClassName(...r){return n(t)(...r)}}})();/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const textArea=css$e`
  [part='input-field'],
  [part='input-field'] ::slotted(textarea) {
    height: auto;
    box-sizing: border-box;
  }

  [part='input-field'] {
    /* Equal to the implicit padding in vaadin-text-field */
    padding-top: calc((var(--lumo-text-field-size) - 1em * var(--lumo-line-height-s)) / 2);
    padding-bottom: calc((var(--lumo-text-field-size) - 1em * var(--lumo-line-height-s)) / 2);
    transition: background-color 0.1s;
    line-height: var(--lumo-line-height-s);
  }

  :host(:not([readonly])) [part='input-field']::after {
    display: none;
  }

  :host([readonly]) [part='input-field'] {
    border: 1px dashed var(--lumo-contrast-30pct);
  }

  :host([readonly]) [part='input-field']::after {
    border: none;
  }

  :host(:hover:not([readonly]):not([focused]):not([invalid])) [part='input-field'] {
    background-color: var(--lumo-contrast-20pct);
  }

  @media (pointer: coarse) {
    :host(:hover:not([readonly]):not([focused]):not([invalid])) [part='input-field'] {
      background-color: var(--lumo-contrast-10pct);
    }

    :host(:active:not([readonly]):not([focused])) [part='input-field'] {
      background-color: var(--lumo-contrast-20pct);
    }
  }

  [part='input-field'] ::slotted(textarea) {
    line-height: inherit;
    --_lumo-text-field-overflow-mask-image: none;
  }

  /* Vertically align icon prefix/suffix with the first line of text */
  [part='input-field'] ::slotted(vaadin-icon) {
    margin-top: calc((var(--lumo-icon-size-m) - 1em * var(--lumo-line-height-s)) / -2);
  }
`;registerStyles$1("vaadin-text-area",[inputFieldShared,textArea],{moduleId:"lumo-text-area"});/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class TextAreaController extends SlotController{constructor(i,t){super(i,"textarea","textarea",{initializer:(r,o)=>{const a=o.getAttribute("value");a&&(r.value=a);const s=o.getAttribute("name");s&&r.setAttribute("name",s),r.id=this.defaultId,typeof t=="function"&&t(r)},useUniqueId:!0})}}/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const TextAreaMixin=n=>class extends ResizeMixin(InputFieldMixin(n)){static get properties(){return{maxlength:{type:Number},minlength:{type:Number},pattern:{type:String}}}static get delegateAttrs(){return[...super.delegateAttrs,"maxlength","minlength","pattern"]}static get constraints(){return[...super.constraints,"maxlength","minlength","pattern"]}get clearElement(){return this.$.clearButton}_onResize(){this._updateHeight(),this.__scrollPositionUpdated()}_onScroll(){this.__scrollPositionUpdated()}ready(){super.ready(),this.addController(new TextAreaController(this,t=>{this._setInputElement(t),this._setFocusElement(t),this.stateTarget=t,this.ariaTarget=t})),this.addController(new LabelledInputController(this.inputElement,this._labelController)),this.addEventListener("animationend",this._onAnimationEnd),this._inputField=this.shadowRoot.querySelector("[part=input-field]"),this._inputField.addEventListener("wheel",t=>{const r=this._inputField.scrollTop;this._inputField.scrollTop+=t.deltaY,r!==this._inputField.scrollTop&&(t.preventDefault(),this.__scrollPositionUpdated())}),this._updateHeight(),this.__scrollPositionUpdated()}__scrollPositionUpdated(){this._inputField.style.setProperty("--_text-area-vertical-scroll-position","0px"),this._inputField.style.setProperty("--_text-area-vertical-scroll-position",`${this._inputField.scrollTop}px`)}_onAnimationEnd(t){t.animationName.indexOf("vaadin-text-area-appear")===0&&this._updateHeight()}_valueChanged(t,r){super._valueChanged(t,r),this._updateHeight()}_updateHeight(){const t=this.inputElement,r=this._inputField;if(!t||!r)return;const o=r.scrollTop,a=this.value?this.value.length:0;if(this._oldValueLength>=a){const l=getComputedStyle(r).height,c=getComputedStyle(t).width;r.style.display="block",r.style.height=l,t.style.maxWidth=c,t.style.height="auto"}this._oldValueLength=a;const s=t.scrollHeight;s>t.clientHeight&&(t.style.height=`${s}px`),t.style.removeProperty("max-width"),r.style.removeProperty("display"),r.style.removeProperty("height"),r.scrollTop=o}checkValidity(){if(!super.checkValidity())return!1;if(!this.pattern||!this.inputElement.value)return!0;try{const t=this.inputElement.value.match(this.pattern);return t?t[0]===t.input:!1}catch{return!0}}};/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const textAreaStyles=css$e`
  :host {
    animation: 1ms vaadin-text-area-appear;
  }

  .vaadin-text-area-container {
    flex: auto;
  }

  /* The label, helper text and the error message should neither grow nor shrink. */
  [part='label'],
  [part='helper-text'],
  [part='error-message'] {
    flex: none;
  }

  [part='input-field'] {
    flex: auto;
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  ::slotted(textarea) {
    -webkit-appearance: none;
    -moz-appearance: none;
    flex: auto;
    overflow: hidden;
    width: 100%;
    height: 100%;
    outline: none;
    resize: none;
    margin: 0;
    padding: 0 0.25em;
    border: 0;
    border-radius: 0;
    min-width: 0;
    font: inherit;
    font-size: 1em;
    line-height: normal;
    color: inherit;
    background-color: transparent;
    /* Disable default invalid style in Firefox */
    box-shadow: none;
  }

  /* Override styles from <vaadin-input-container> */
  [part='input-field'] ::slotted(textarea) {
    align-self: stretch;
    white-space: pre-wrap;
  }

  [part='input-field'] ::slotted(:not(textarea)) {
    align-self: flex-start;
  }

  /* Workaround https://bugzilla.mozilla.org/show_bug.cgi?id=1739079 */
  :host([disabled]) ::slotted(textarea) {
    user-select: none;
  }

  @keyframes vaadin-text-area-appear {
    to {
      opacity: 1;
    }
  }
`;/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-text-area",[inputFieldShared$1,textAreaStyles],{moduleId:"vaadin-text-area-styles"});class TextArea extends TextAreaMixin(ThemableMixin(ElementMixin(PolymerElement))){static get is(){return"vaadin-text-area"}static get template(){return html`
      <div class="vaadin-text-area-container">
        <div part="label">
          <slot name="label"></slot>
          <span part="required-indicator" aria-hidden="true"></span>
        </div>

        <vaadin-input-container
          part="input-field"
          readonly="[[readonly]]"
          disabled="[[disabled]]"
          invalid="[[invalid]]"
          theme$="[[_theme]]"
          on-scroll="_onScroll"
        >
          <slot name="prefix" slot="prefix"></slot>
          <slot name="textarea"></slot>
          <slot name="suffix" slot="suffix"></slot>
          <div id="clearButton" part="clear-button" slot="suffix" aria-hidden="true"></div>
        </vaadin-input-container>

        <div part="helper-text">
          <slot name="helper"></slot>
        </div>

        <div part="error-message">
          <slot name="error-message"></slot>
        </div>
      </div>

      <slot name="tooltip"></slot>
    `}ready(){super.ready(),this._tooltipController=new TooltipController(this),this._tooltipController.setPosition("top"),this._tooltipController.setAriaTarget(this.inputElement),this.addController(this._tooltipController)}}defineCustomElement(TextArea);registerStyles$1("vaadin-message-input",css$e`
    :host {
      padding: var(--lumo-space-s) var(--lumo-space-m);
    }

    ::slotted([slot='textarea']) {
      margin-inline-end: var(--lumo-space-s);
    }
  `,{moduleId:"lumo-message-input"});/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class MessageInput extends ElementMixin(ThemableMixin(ControllerMixin(PolymerElement))){static get properties(){return{value:{type:String,value:""},i18n:{type:Object,value:()=>({send:"Send",message:"Message"})},disabled:{type:Boolean,value:!1,reflectToAttribute:!0},_button:{type:Object},_textArea:{type:Object}}}static get template(){return html`
      <style>
        :host {
          align-items: flex-start;
          box-sizing: border-box;
          display: flex;
          max-height: 50vh;
          overflow: hidden;
          flex-shrink: 0;
        }

        :host([hidden]) {
          display: none !important;
        }

        ::slotted([slot='button']) {
          flex-shrink: 0;
        }

        ::slotted([slot='textarea']) {
          align-self: stretch;
          flex-grow: 1;
        }
      </style>
      <slot name="textarea"></slot>

      <slot name="button"></slot>

      <slot name="tooltip"></slot>
    `}static get is(){return"vaadin-message-input"}static get observers(){return["__buttonPropsChanged(_button, disabled, i18n)","__textAreaPropsChanged(_textArea, disabled, i18n, value)"]}ready(){super.ready(),this._buttonController=new SlotController(this,"button","vaadin-button",{initializer:i=>{i.setAttribute("theme","primary contained"),i.addEventListener("click",()=>{this.__submit()}),this._button=i}}),this.addController(this._buttonController),this._textAreaController=new SlotController(this,"textarea","vaadin-text-area",{initializer:i=>{i.addEventListener("value-changed",r=>{this.value=r.detail.value}),i.addEventListener("keydown",r=>{r.key==="Enter"&&!r.shiftKey&&(r.preventDefault(),r.stopImmediatePropagation(),this.__submit())});const t=i.inputElement;t.removeAttribute("aria-labelledby"),t.setAttribute("rows",1),t.style.minHeight="0",this._textArea=i}}),this.addController(this._textAreaController),this._tooltipController=new TooltipController(this),this.addController(this._tooltipController)}__buttonPropsChanged(i,t,r){i&&(i.disabled=t,i.textContent=r.send)}__textAreaPropsChanged(i,t,r,o){if(i){i.disabled=t,i.value=o;const a=r.message;i.placeholder=a,a?i.inputElement.setAttribute("aria-label",a):i.inputElement.removeAttribute("aria-label")}}__submit(){this.value!==""&&(this.dispatchEvent(new CustomEvent("submit",{detail:{value:this.value}})),this.value=""),this._textArea.focus()}}defineCustomElement(MessageInput);(function(){const n=function(i){return window.Vaadin.Flow.tryCatchWrapper(i,"Vaadin Message List")};window.Vaadin.Flow.messageListConnector={setItems:(i,t,r)=>n(function(o,a,s){const l=new Intl.DateTimeFormat(s,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"});o.items=a.map(c=>c.time?Object.assign(c,{time:l.format(new Date(c.time))}):c)})(i,t,r)}})();registerStyles$1("vaadin-message",css$e`
    :host {
      color: var(--lumo-body-text-color);
      font-family: var(--lumo-font-family);
      font-size: var(--lumo-font-size-m);
      line-height: var(--lumo-line-height-m);
      padding: var(--lumo-space-s) var(--lumo-space-m);
      -moz-osx-font-smoothing: grayscale;
      -webkit-font-smoothing: antialiased;
      -webkit-text-size-adjust: 100%;
      --_focus-ring-color: var(--vaadin-focus-ring-color, var(--lumo-primary-color-50pct));
      --_focus-ring-width: var(--vaadin-focus-ring-width, 2px);
    }

    :host([focus-ring]) {
      box-shadow: inset 0 0 0 var(--_focus-ring-width) var(--_focus-ring-color);
    }

    [part='header'] {
      min-height: calc(var(--lumo-font-size-m) * var(--lumo-line-height-m));
    }

    [part='name'] {
      margin-right: var(--lumo-space-s);
    }

    [part='name']:empty {
      margin-right: 0;
    }

    :host([dir='rtl']) [part='name'] {
      margin-left: var(--lumo-space-s);
      margin-right: 0;
    }

    :host([dir='rtl']) [part='name']:empty {
      margin-left: 0;
    }

    [part='time'] {
      color: var(--lumo-secondary-text-color);
      font-size: var(--lumo-font-size-s);
    }

    ::slotted([slot='avatar']) {
      --vaadin-avatar-size: var(--lumo-size-m);
      margin-top: calc(var(--lumo-space-s));
      margin-inline-end: calc(var(--lumo-space-m));
    }
  `,{moduleId:"lumo-message"});registerStyles$1("vaadin-message-list",css$e``,{moduleId:"lumo-message-list"});/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Message extends FocusMixin(ElementMixin(ThemableMixin(ControllerMixin(PolymerElement)))){static get properties(){return{time:{type:String},userName:{type:String},userAbbr:{type:String},userImg:{type:String},userColorIndex:{type:Number},_avatar:{ttype:Object}}}static get template(){return html`
      <style>
        :host {
          display: flex;
          flex-direction: row;
          outline: none;
        }

        :host([hidden]) {
          display: none !important;
        }

        [part='content'] {
          display: flex;
          flex-direction: column;
          flex-grow: 1;
        }

        [part='header'] {
          align-items: baseline;
          display: flex;
          flex-direction: row;
          flex-wrap: wrap;
        }

        [part='name'] {
          font-weight: 500;
        }

        [part='message'] {
          white-space: pre-wrap;
        }

        ::slotted([slot='avatar']) {
          --vaadin-avatar-outline-width: 0px;
          flex-shrink: 0;
        }
      </style>
      <slot name="avatar"></slot>
      <div part="content">
        <div part="header">
          <span part="name">[[userName]]</span>
          <span part="time">[[time]]</span>
        </div>
        <div part="message"><slot></slot></div>
      </div>
    `}static get is(){return"vaadin-message"}static get observers(){return["__avatarChanged(_avatar, userName, userAbbr, userImg, userColorIndex)"]}ready(){super.ready(),this._avatarController=new SlotController(this,"avatar","vaadin-avatar",{initializer:i=>{i.setAttribute("tabindex","-1"),i.setAttribute("aria-hidden","true"),this._avatar=i}}),this.addController(this._avatarController)}__avatarChanged(i,t,r,o,a){i&&i.setProperties({name:t,abbr:r,img:o,colorIndex:a})}}defineCustomElement(Message);/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class MessageList extends KeyboardDirectionMixin(ElementMixin(ThemableMixin(PolymerElement))){static get is(){return"vaadin-message-list"}static get properties(){return{items:{type:Array,value:()=>[],observer:"_itemsChanged"}}}static get template(){return html`
      <style>
        :host {
          display: block;
          overflow: auto;
        }

        :host([hidden]) {
          display: none !important;
        }
      </style>
      <div part="list" role="list">
        <slot></slot>
      </div>
    `}get _messages(){return[...this.querySelectorAll("vaadin-message")]}ready(){super.ready(),this.setAttribute("aria-relevant","additions"),this.setAttribute("role","log")}_getItems(){return this._messages}_itemsChanged(i,t){const r=i||[],o=t||[];if(r.length||o.length){const a=this._getIndexOfFocusableElement(),s=this.scrollHeight<this.clientHeight+this.scrollTop+50;this._renderMessages(r),this._setTabIndexesByIndex(a),requestAnimationFrame(()=>{r.length>o.length&&s&&this._scrollToLastMessage()})}}_renderMessages(i){render$1(html$1`
        ${i.map(t=>html$1`
              <vaadin-message
                role="listitem"
                .time="${t.time}"
                .userAbbr="${t.userAbbr}"
                .userName="${t.userName}"
                .userImg="${t.userImg}"
                .userColorIndex="${t.userColorIndex}"
                theme="${ifDefined(t.theme)}"
                class="${ifDefined(t.className)}"
                @focusin="${this._onMessageFocusIn}"
                >${t.text}</vaadin-message
              >
            `)}
      `,this,{host:this})}_scrollToLastMessage(){this.items.length>0&&(this.scrollTop=this.scrollHeight-this.clientHeight)}_onMessageFocusIn(i){const t=i.composedPath().find(r=>r instanceof Message);this._setTabIndexesByMessage(t)}_setTabIndexesByIndex(i){const t=this._messages[i]||this._messages[0];this._setTabIndexesByMessage(t)}_setTabIndexesByMessage(i){this._messages.forEach(t=>{t.tabIndex=t===i?0:-1})}_getIndexOfFocusableElement(){const i=this._messages.findIndex(t=>t.tabIndex===0);return i!==-1?i:0}}defineCustomElement(MessageList);registerStyles$1("vaadin-notification-card",css$e`
    :host {
      position: relative;
      margin: var(--lumo-space-s);
    }

    [part='overlay'] {
      background: var(--lumo-base-color) linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct));
      border-radius: var(--lumo-border-radius-l);
      box-shadow: 0 0 0 1px var(--lumo-contrast-10pct), var(--lumo-box-shadow-l);
      font-family: var(--lumo-font-family);
      font-size: var(--lumo-font-size-m);
      font-weight: 400;
      line-height: var(--lumo-line-height-s);
      letter-spacing: 0;
      text-transform: none;
      -webkit-text-size-adjust: 100%;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    [part='content'] {
      padding: var(--lumo-space-wide-l);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    [part='content'] ::slotted(vaadin-button) {
      flex: none;
      margin: 0 calc(var(--lumo-space-s) * -1) 0 var(--lumo-space-m);
    }

    :host([slot^='middle']) {
      max-width: 80vw;
      margin: var(--lumo-space-s) auto;
    }

    :host([slot\$='stretch']) {
      margin: 0;
    }

    :host([slot\$='stretch']) [part='overlay'] {
      border-radius: 0;
    }

    @media (min-width: 421px) {
      :host(:not([slot\$='stretch'])) {
        display: flex;
      }

      :host([slot\$='end']) {
        justify-content: flex-end;
      }

      :host([slot^='middle']),
      :host([slot\$='center']) {
        display: flex;
        justify-content: center;
      }
    }

    @keyframes lumo-notification-exit-fade-out {
      100% {
        opacity: 0;
      }
    }

    @keyframes lumo-notification-enter-fade-in {
      0% {
        opacity: 0;
      }
    }

    @keyframes lumo-notification-enter-slide-down {
      0% {
        transform: translateY(-200%);
        opacity: 0;
      }
    }

    @keyframes lumo-notification-exit-slide-up {
      100% {
        transform: translateY(-200%);
        opacity: 0;
      }
    }

    @keyframes lumo-notification-enter-slide-up {
      0% {
        transform: translateY(200%);
        opacity: 0;
      }
    }

    @keyframes lumo-notification-exit-slide-down {
      100% {
        transform: translateY(200%);
        opacity: 0;
      }
    }

    :host([slot='middle'][opening]) {
      animation: lumo-notification-enter-fade-in 300ms;
    }

    :host([slot='middle'][closing]) {
      animation: lumo-notification-exit-fade-out 300ms;
    }

    :host([slot^='top'][opening]) {
      animation: lumo-notification-enter-slide-down 300ms;
    }

    :host([slot^='top'][closing]) {
      animation: lumo-notification-exit-slide-up 300ms;
    }

    :host([slot^='bottom'][opening]) {
      animation: lumo-notification-enter-slide-up 300ms;
    }

    :host([slot^='bottom'][closing]) {
      animation: lumo-notification-exit-slide-down 300ms;
    }

    :host([theme~='primary']) [part='overlay'] {
      background: var(--lumo-primary-color);
      color: var(--lumo-primary-contrast-color);
      box-shadow: var(--lumo-box-shadow-l);
    }

    :host([theme~='primary']) {
      --vaadin-button-background: var(--lumo-shade-20pct);
      --vaadin-button-text-color: var(--lumo-primary-contrast-color);
      --vaadin-button-primary-background: var(--lumo-primary-contrast-color);
      --vaadin-button-primary-text-color: var(--lumo-primary-text-color);
    }

    :host([theme~='contrast']) [part='overlay'] {
      background: var(--lumo-contrast);
      color: var(--lumo-base-color);
      box-shadow: var(--lumo-box-shadow-l);
    }

    :host([theme~='contrast']) {
      --vaadin-button-background: var(--lumo-contrast-20pct);
      --vaadin-button-text-color: var(--lumo-base-color);
      --vaadin-button-primary-background: var(--lumo-base-color);
      --vaadin-button-primary-text-color: var(--lumo-contrast);
    }

    :host([theme~='success']) [part='overlay'] {
      background: var(--lumo-success-color);
      color: var(--lumo-success-contrast-color);
      box-shadow: var(--lumo-box-shadow-l);
    }

    :host([theme~='success']) {
      --vaadin-button-background: var(--lumo-shade-20pct);
      --vaadin-button-text-color: var(--lumo-success-contrast-color);
      --vaadin-button-primary-background: var(--lumo-success-contrast-color);
      --vaadin-button-primary-text-color: var(--lumo-success-text-color);
    }

    :host([theme~='error']) [part='overlay'] {
      background: var(--lumo-error-color);
      color: var(--lumo-error-contrast-color);
      box-shadow: var(--lumo-box-shadow-l);
    }

    :host([theme~='error']) {
      --vaadin-button-background: var(--lumo-shade-20pct);
      --vaadin-button-text-color: var(--lumo-error-contrast-color);
      --vaadin-button-primary-background: var(--lumo-error-contrast-color);
      --vaadin-button-primary-text-color: var(--lumo-error-text-color);
    }

    :host([theme~='warning']) [part='overlay'] {
      background: var(--lumo-warning-color);
      color: var(--lumo-warning-contrast-color);
      box-shadow: inset 0 0 0 1px var(--lumo-contrast-20pct), var(--lumo-box-shadow-l);
    }

    :host([theme~='warning']) {
      --vaadin-button-background: var(--lumo-shade-20pct);
      --vaadin-button-text-color: var(--lumo-warning-contrast-color);
      --vaadin-button-primary-background: var(--lumo-shade-50pct);
      --vaadin-button-primary-text-color: var(--lumo-primary-contrast-color);
    }
  `,{moduleId:"lumo-notification-card"});/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class NotificationContainer extends ThemableMixin(ElementMixin(PolymerElement)){static get template(){return html`
      <style>
        :host {
          position: fixed;
          z-index: 1000;
          top: 0;
          left: 0;
          bottom: 0;
          right: 0;
          box-sizing: border-box;

          display: flex;
          flex-direction: column;
          align-items: stretch;
          pointer-events: none;
        }

        [region-group] {
          flex: 1 1 0%;
          display: flex;
        }

        [region-group='top'] {
          align-items: flex-start;
        }

        [region-group='bottom'] {
          align-items: flex-end;
        }

        [region-group] > [region] {
          flex: 1 1 0%;
        }

        @media (max-width: 420px) {
          [region-group] {
            flex-direction: column;
            align-items: stretch;
          }

          [region-group='top'] {
            justify-content: flex-start;
          }

          [region-group='bottom'] {
            justify-content: flex-end;
          }

          [region-group] > [region] {
            flex: initial;
          }
        }
      </style>

      <div region="top-stretch"><slot name="top-stretch"></slot></div>
      <div region-group="top">
        <div region="top-start"><slot name="top-start"></slot></div>
        <div region="top-center"><slot name="top-center"></slot></div>
        <div region="top-end"><slot name="top-end"></slot></div>
      </div>
      <div region="middle"><slot name="middle"></slot></div>
      <div region-group="bottom">
        <div region="bottom-start"><slot name="bottom-start"></slot></div>
        <div region="bottom-center"><slot name="bottom-center"></slot></div>
        <div region="bottom-end"><slot name="bottom-end"></slot></div>
      </div>
      <div region="bottom-stretch"><slot name="bottom-stretch"></slot></div>
    `}static get is(){return"vaadin-notification-container"}static get properties(){return{opened:{type:Boolean,value:!1,observer:"_openedChanged"}}}constructor(){super(),this._boundVaadinOverlayClose=this._onVaadinOverlayClose.bind(this),isIOS&&(this._boundIosResizeListener=()=>this._detectIosNavbar())}_openedChanged(i){i?(document.body.appendChild(this),document.addEventListener("vaadin-overlay-close",this._boundVaadinOverlayClose),this._boundIosResizeListener&&(this._detectIosNavbar(),window.addEventListener("resize",this._boundIosResizeListener))):(document.body.removeChild(this),document.removeEventListener("vaadin-overlay-close",this._boundVaadinOverlayClose),this._boundIosResizeListener&&window.removeEventListener("resize",this._boundIosResizeListener))}_detectIosNavbar(){const i=window.innerHeight,r=window.innerWidth>i,o=document.documentElement.clientHeight;r&&o>i?this.style.bottom=`${o-i}px`:this.style.bottom="0"}_onVaadinOverlayClose(i){const t=i.detail.sourceEvent;t&&t.composedPath().indexOf(this)>=0&&i.preventDefault()}}class NotificationCard extends ThemableMixin(PolymerElement){static get template(){return html`
      <style>
        :host {
          display: block;
        }

        [part='overlay'] {
          pointer-events: auto;
        }

        @media (forced-colors: active) {
          [part='overlay'] {
            outline: 3px solid;
          }
        }
      </style>

      <div part="overlay">
        <div part="content">
          <slot></slot>
        </div>
      </div>
    `}static get is(){return"vaadin-notification-card"}ready(){super.ready(),this.setAttribute("role","alert"),this.setAttribute("aria-live","polite")}}class Notification extends OverlayClassMixin(ThemePropertyMixin(ElementMixin(PolymerElement))){static get template(){return html`
      <style>
        :host {
          display: none !important;
        }
      </style>
      <vaadin-notification-card theme$="[[_theme]]"> </vaadin-notification-card>
    `}static get is(){return"vaadin-notification"}static get properties(){return{duration:{type:Number,value:5e3},opened:{type:Boolean,value:!1,notify:!0,observer:"_openedChanged"},position:{type:String,value:"bottom-start",observer:"_positionChanged"},renderer:Function}}static get observers(){return["_durationChanged(duration, opened)","_rendererChanged(renderer, opened, _overlayElement)"]}static show(i,t){return isTemplateResult(i)?Notification._createAndShowNotification(r=>{render$1(i,r)},t):Notification._createAndShowNotification(r=>{r.innerText=i},t)}static _createAndShowNotification(i,t){const r=document.createElement(Notification.is);return t&&Number.isFinite(t.duration)&&(r.duration=t.duration),t&&t.position&&(r.position=t.position),t&&t.theme&&r.setAttribute("theme",t.theme),r.renderer=i,document.body.appendChild(r),r.opened=!0,r.addEventListener("opened-changed",o=>{o.detail.value||r.remove()}),r}get _container(){return Notification._container||(Notification._container=document.createElement("vaadin-notification-container"),document.body.appendChild(Notification._container)),Notification._container}get _card(){return this._overlayElement}ready(){super.ready(),this._overlayElement=this.shadowRoot.querySelector("vaadin-notification-card"),processTemplates(this)}disconnectedCallback(){super.disconnectedCallback(),queueMicrotask(()=>{this.isConnected||(this.opened=!1)})}requestContentUpdate(){this.renderer&&this.renderer(this._card,this)}_rendererChanged(i,t,r){if(!r)return;const o=this._oldRenderer!==i;this._oldRenderer=i,o&&(r.innerHTML="",delete r._$litPart$),t&&(this._didAnimateNotificationAppend||this._animatedAppendNotificationCard(),this.requestContentUpdate())}open(){this.opened=!0}close(){this.opened=!1}_openedChanged(i){i?(this._container.opened=!0,this._animatedAppendNotificationCard()):this._card&&this._closeNotificationCard()}_animatedAppendNotificationCard(){if(this._card){this._card.setAttribute("opening",""),this._appendNotificationCard();const i=()=>{this._card.removeEventListener("animationend",i),this._card.removeAttribute("opening")};this._card.addEventListener("animationend",i),this._didAnimateNotificationAppend=!0}else this._didAnimateNotificationAppend=!1}_appendNotificationCard(){if(this._card){if(!this._container.shadowRoot.querySelector(`slot[name="${this.position}"]`)){console.warn(`Invalid alignment parameter provided: position=${this.position}`);return}this._card.slot=this.position,this._container.firstElementChild&&/top/u.test(this.position)?this._container.insertBefore(this._card,this._container.firstElementChild):this._container.appendChild(this._card)}}_removeNotificationCard(){this._card.parentNode&&this._card.parentNode.removeChild(this._card),this._card.removeAttribute("closing"),this._container.opened=!!this._container.firstElementChild}_closeNotificationCard(){this._durationTimeoutId&&clearTimeout(this._durationTimeoutId),this._animatedRemoveNotificationCard()}_animatedRemoveNotificationCard(){this._card.setAttribute("closing","");const i=getComputedStyle(this._card).getPropertyValue("animation-name");if(i&&i!=="none"){const t=()=>{this._removeNotificationCard(),this._card.removeEventListener("animationend",t)};this._card.addEventListener("animationend",t)}else this._removeNotificationCard()}_positionChanged(){this.opened&&this._animatedAppendNotificationCard()}_durationChanged(i,t){t&&(clearTimeout(this._durationTimeoutId),i>0&&(this._durationTimeoutId=setTimeout(()=>this.close(),i)))}}defineCustomElement(NotificationContainer);defineCustomElement(NotificationCard);defineCustomElement(Notification);const scroller=css$e`
  :host {
    outline: none;
    --_focus-ring-color: var(--vaadin-focus-ring-color, var(--lumo-primary-color-50pct));
    --_focus-ring-width: var(--vaadin-focus-ring-width, 2px);
  }

  :host([focus-ring]) {
    box-shadow: 0 0 0 var(--_focus-ring-width) var(--_focus-ring-color);
  }

  /* Show dividers when content overflows */

  :host([theme~='overflow-indicators'])::before,
  :host([theme~='overflow-indicators'])::after {
    content: '';
    display: none;
    position: sticky;
    inset: 0;
    z-index: 9999;
    height: 1px;
    margin-bottom: -1px;
    background: var(--lumo-contrast-10pct);
  }

  :host([theme~='overflow-indicators'])::after {
    margin-bottom: 0;
    margin-top: -1px;
  }

  :host([theme~='overflow-indicators'][overflow~='top'])::before,
  :host([theme~='overflow-indicators'][overflow~='bottom'])::after {
    display: block;
  }
`;registerStyles$1("vaadin-scroller",scroller,{moduleId:"lumo-scroller"});/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class OverflowController{constructor(i,t){this.host=i,this.scrollTarget=t||i,this.__boundOnScroll=this.__onScroll.bind(this)}hostConnected(){this.initialized||(this.initialized=!0,this.observe())}observe(){const{host:i}=this;this.__resizeObserver=new ResizeObserver(t=>{this.__debounceOverflow=Debouncer$1.debounce(this.__debounceOverflow,animationFrame,()=>{this.__updateOverflow()})}),this.__resizeObserver.observe(i),[...i.children].forEach(t=>{this.__resizeObserver.observe(t)}),this.__childObserver=new MutationObserver(t=>{t.forEach(({addedNodes:r,removedNodes:o})=>{r.forEach(a=>{a.nodeType===Node.ELEMENT_NODE&&this.__resizeObserver.observe(a)}),o.forEach(a=>{a.nodeType===Node.ELEMENT_NODE&&this.__resizeObserver.unobserve(a)})}),this.__updateOverflow()}),this.__childObserver.observe(i,{childList:!0}),this.scrollTarget.addEventListener("scroll",this.__boundOnScroll),this.__updateOverflow()}__onScroll(){this.__updateOverflow()}__updateOverflow(){const i=this.scrollTarget;let t="";i.scrollTop>0&&(t+=" top"),Math.ceil(i.scrollTop)<Math.ceil(i.scrollHeight-i.clientHeight)&&(t+=" bottom");const r=Math.abs(i.scrollLeft);r>0&&(t+=" start"),Math.ceil(r)<Math.ceil(i.scrollWidth-i.clientWidth)&&(t+=" end"),t=t.trim(),t.length>0&&this.host.getAttribute("overflow")!==t?this.host.setAttribute("overflow",t):t.length===0&&this.host.hasAttribute("overflow")&&this.host.removeAttribute("overflow")}}/**
 * @license
 * Copyright (c) 2020 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Scroller extends FocusMixin(ElementMixin(ControllerMixin(ThemableMixin(PolymerElement)))){static get template(){return html`
      <style>
        :host([hidden]) {
          display: none !important;
        }

        :host {
          display: block;
          overflow: auto;
        }

        :host([scroll-direction='vertical']) {
          overflow-x: hidden;
        }

        :host([scroll-direction='horizontal']) {
          overflow-y: hidden;
        }

        :host([scroll-direction='none']) {
          overflow: hidden;
        }
      </style>

      <slot></slot>
    `}static get is(){return"vaadin-scroller"}static get properties(){return{scrollDirection:{type:String,reflectToAttribute:!0},tabindex:{type:Number,value:0,reflectToAttribute:!0}}}ready(){super.ready(),this.__overflowController=new OverflowController(this),this.addController(this.__overflowController)}_shouldSetFocus(i){return i.target===this}}defineCustomElement(Scroller);registerStyles$1("vaadin-progress-bar",css$e`
    :host {
      height: calc(var(--lumo-size-l) / 10);
      margin: var(--lumo-space-s) 0;
    }

    [part='bar'] {
      border-radius: var(--lumo-border-radius-m);
      background-color: var(--lumo-contrast-10pct);
    }

    [part='value'] {
      border-radius: var(--lumo-border-radius-m);
      background-color: var(--lumo-primary-color);
      /* Use width instead of transform to preserve border radius */
      transform: none;
      width: calc(var(--vaadin-progress-value) * 100%);
      will-change: width;
      transition: 0.1s width linear;
    }

    /* Indeterminate mode */
    :host([indeterminate]) [part='value'] {
      --lumo-progress-indeterminate-progress-bar-background: linear-gradient(
        to right,
        var(--lumo-primary-color-10pct) 10%,
        var(--lumo-primary-color)
      );
      --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(
        to left,
        var(--lumo-primary-color-10pct) 10%,
        var(--lumo-primary-color)
      );
      width: 100%;
      background-color: transparent !important;
      background-image: var(--lumo-progress-indeterminate-progress-bar-background);
      opacity: 0.75;
      will-change: transform;
      animation: vaadin-progress-indeterminate 1.6s infinite cubic-bezier(0.645, 0.045, 0.355, 1);
    }

    @keyframes vaadin-progress-indeterminate {
      0% {
        transform: scaleX(0.015);
        transform-origin: 0% 0%;
      }

      25% {
        transform: scaleX(0.4);
      }

      50% {
        transform: scaleX(0.015);
        transform-origin: 100% 0%;
        background-image: var(--lumo-progress-indeterminate-progress-bar-background);
      }

      50.1% {
        transform: scaleX(0.015);
        transform-origin: 100% 0%;
        background-image: var(--lumo-progress-indeterminate-progress-bar-background-reverse);
      }

      75% {
        transform: scaleX(0.4);
      }

      100% {
        transform: scaleX(0.015);
        transform-origin: 0% 0%;
        background-image: var(--lumo-progress-indeterminate-progress-bar-background-reverse);
      }
    }

    :host(:not([aria-valuenow])) [part='value']::before,
    :host([indeterminate]) [part='value']::before {
      content: '';
      display: block;
      width: 100%;
      height: 100%;
      border-radius: inherit;
      background-color: var(--lumo-primary-color);
      will-change: opacity;
      animation: vaadin-progress-pulse3 1.6s infinite cubic-bezier(0.645, 0.045, 0.355, 1);
    }

    @keyframes vaadin-progress-pulse3 {
      0% {
        opacity: 1;
      }

      10% {
        opacity: 0;
      }

      40% {
        opacity: 0;
      }

      50% {
        opacity: 1;
      }

      50.1% {
        opacity: 1;
      }

      60% {
        opacity: 0;
      }

      90% {
        opacity: 0;
      }

      100% {
        opacity: 1;
      }
    }

    /* Contrast color */
    :host([theme~='contrast']) [part='value'],
    :host([theme~='contrast']) [part='value']::before {
      background-color: var(--lumo-contrast-80pct);
      --lumo-progress-indeterminate-progress-bar-background: linear-gradient(
        to right,
        var(--lumo-contrast-5pct) 10%,
        var(--lumo-contrast-80pct)
      );
      --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(
        to left,
        var(--lumo-contrast-5pct) 10%,
        var(--lumo-contrast-60pct)
      );
    }

    /* Error color */
    :host([theme~='error']) [part='value'],
    :host([theme~='error']) [part='value']::before {
      background-color: var(--lumo-error-color);
      --lumo-progress-indeterminate-progress-bar-background: linear-gradient(
        to right,
        var(--lumo-error-color-10pct) 10%,
        var(--lumo-error-color)
      );
      --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(
        to left,
        var(--lumo-error-color-10pct) 10%,
        var(--lumo-error-color)
      );
    }

    /* Primary color */
    :host([theme~='success']) [part='value'],
    :host([theme~='success']) [part='value']::before {
      background-color: var(--lumo-success-color);
      --lumo-progress-indeterminate-progress-bar-background: linear-gradient(
        to right,
        var(--lumo-success-color-10pct) 10%,
        var(--lumo-success-color)
      );
      --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(
        to left,
        var(--lumo-success-color-10pct) 10%,
        var(--lumo-success-color)
      );
    }

    /* RTL specific styles */
    :host([indeterminate][dir='rtl']) [part='value'] {
      --lumo-progress-indeterminate-progress-bar-background: linear-gradient(
        to left,
        var(--lumo-primary-color-10pct) 10%,
        var(--lumo-primary-color)
      );
      --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(
        to right,
        var(--lumo-primary-color-10pct) 10%,
        var(--lumo-primary-color)
      );
      animation: vaadin-progress-indeterminate-rtl 1.6s infinite cubic-bezier(0.355, 0.045, 0.645, 1);
    }

    :host(:not([aria-valuenow])[dir='rtl']) [part='value']::before,
    :host([indeterminate][dir='rtl']) [part='value']::before {
      animation: vaadin-progress-pulse3 1.6s infinite cubic-bezier(0.355, 0.045, 0.645, 1);
    }

    @keyframes vaadin-progress-indeterminate-rtl {
      0% {
        transform: scaleX(0.015);
        transform-origin: 100% 0%;
      }

      25% {
        transform: scaleX(0.4);
      }

      50% {
        transform: scaleX(0.015);
        transform-origin: 0% 0%;
        background-image: var(--lumo-progress-indeterminate-progress-bar-background);
      }

      50.1% {
        transform: scaleX(0.015);
        transform-origin: 0% 0%;
        background-image: var(--lumo-progress-indeterminate-progress-bar-background-reverse);
      }

      75% {
        transform: scaleX(0.4);
      }

      100% {
        transform: scaleX(0.015);
        transform-origin: 100% 0%;
        background-image: var(--lumo-progress-indeterminate-progress-bar-background-reverse);
      }
    }

    /* Contrast color */
    :host([theme~='contrast'][dir='rtl']) [part='value'],
    :host([theme~='contrast'][dir='rtl']) [part='value']::before {
      --lumo-progress-indeterminate-progress-bar-background: linear-gradient(
        to left,
        var(--lumo-contrast-5pct) 10%,
        var(--lumo-contrast-80pct)
      );
      --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(
        to right,
        var(--lumo-contrast-5pct) 10%,
        var(--lumo-contrast-60pct)
      );
    }

    /* Error color */
    :host([theme~='error'][dir='rtl']) [part='value'],
    :host([theme~='error'][dir='rtl']) [part='value']::before {
      --lumo-progress-indeterminate-progress-bar-background: linear-gradient(
        to left,
        var(--lumo-error-color-10pct) 10%,
        var(--lumo-error-color)
      );
      --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(
        to right,
        var(--lumo-error-color-10pct) 10%,
        var(--lumo-error-color)
      );
    }

    /* Primary color */
    :host([theme~='success'][dir='rtl']) [part='value'],
    :host([theme~='success'][dir='rtl']) [part='value']::before {
      --lumo-progress-indeterminate-progress-bar-background: linear-gradient(
        to left,
        var(--lumo-success-color-10pct) 10%,
        var(--lumo-success-color)
      );
      --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(
        to right,
        var(--lumo-success-color-10pct) 10%,
        var(--lumo-success-color)
      );
    }
  `,{moduleId:"lumo-progress-bar"});const template$3=document.createElement("template");template$3.innerHTML=`
  <style>
    @keyframes vaadin-progress-pulse3 {
      0% { opacity: 1; }
      10% { opacity: 0; }
      40% { opacity: 0; }
      50% { opacity: 1; }
      50.1% { opacity: 1; }
      60% { opacity: 0; }
      90% { opacity: 0; }
      100% { opacity: 1; }
    }
  </style>
`;document.head.appendChild(template$3.content);/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const progressBarStyles=css$e`
  :host {
    display: block;
    width: 100%; /* prevent collapsing inside non-stretching column flex */
    height: 8px;
  }

  :host([hidden]) {
    display: none !important;
  }

  [part='bar'] {
    height: 100%;
  }

  [part='value'] {
    height: 100%;
    transform-origin: 0 50%;
    transform: scaleX(var(--vaadin-progress-value));
  }

  :host([dir='rtl']) [part='value'] {
    transform-origin: 100% 50%;
  }

  @media (forced-colors: active) {
    [part='bar'] {
      outline: 1px solid;
    }

    [part='value'] {
      background-color: AccentColor !important;
      forced-color-adjust: none;
    }
  }
`;/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const ProgressMixin=n=>class extends n{static get properties(){return{value:{type:Number,observer:"_valueChanged"},min:{type:Number,value:0,observer:"_minChanged"},max:{type:Number,value:1,observer:"_maxChanged"},indeterminate:{type:Boolean,value:!1,reflectToAttribute:!0}}}static get observers(){return["_normalizedValueChanged(value, min, max)"]}ready(){super.ready(),this.setAttribute("role","progressbar")}_normalizedValueChanged(t,r,o){const a=this._normalizeValue(t,r,o);this.style.setProperty("--vaadin-progress-value",a)}_valueChanged(t){this.setAttribute("aria-valuenow",t)}_minChanged(t){this.setAttribute("aria-valuemin",t)}_maxChanged(t){this.setAttribute("aria-valuemax",t)}_normalizeValue(t,r,o){let a;return!t&&t!==0?a=0:r>=o?a=1:(a=(t-r)/(o-r),a=Math.min(Math.max(a,0),1)),a}};/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-progress-bar",progressBarStyles,{moduleId:"vaadin-progress-bar-styles"});class ProgressBar extends ElementMixin(ThemableMixin(ProgressMixin(PolymerElement))){static get is(){return"vaadin-progress-bar"}static get template(){return html`
      <div part="bar">
        <div part="value"></div>
      </div>
    `}}defineCustomElement(ProgressBar);registerStyles$1("vaadin-radio-button",css$e`
    :host {
      color: var(--vaadin-radio-button-label-color, var(--lumo-body-text-color));
      font-size: var(--vaadin-radio-button-label-font-size, var(--lumo-font-size-m));
      font-family: var(--lumo-font-family);
      line-height: var(--lumo-line-height-s);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      -webkit-tap-highlight-color: transparent;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
      cursor: default;
      outline: none;
      --_radio-button-size: var(--vaadin-radio-button-size, calc(var(--lumo-size-m) / 2));
      --_focus-ring-color: var(--vaadin-focus-ring-color, var(--lumo-primary-color-50pct));
      --_focus-ring-width: var(--vaadin-focus-ring-width, 2px);
      --_selection-color: var(--vaadin-selection-color, var(--lumo-primary-color));
    }

    :host([has-label]) ::slotted(label) {
      padding: var(
        --vaadin-radio-button-label-padding,
        var(--lumo-space-xs) var(--lumo-space-s) var(--lumo-space-xs) var(--lumo-space-xs)
      );
    }

    [part='radio'] {
      width: var(--_radio-button-size);
      height: var(--_radio-button-size);
      margin: var(--lumo-space-xs);
      position: relative;
      border-radius: 50%;
      background: var(--vaadin-radio-button-background, var(--lumo-contrast-20pct));
      transition: transform 0.2s cubic-bezier(0.12, 0.32, 0.54, 2), background-color 0.15s;
      will-change: transform;
      cursor: var(--lumo-clickable-cursor);
      /* Default field border color */
      --_input-border-color: var(--vaadin-input-field-border-color, var(--lumo-contrast-50pct));
    }

    /* Used for activation "halo" */
    [part='radio']::before {
      pointer-events: none;
      color: transparent;
      width: 100%;
      height: 100%;
      line-height: var(--_radio-button-size);
      border-radius: inherit;
      background-color: inherit;
      transform: scale(1.4);
      opacity: 0;
      transition: transform 0.1s, opacity 0.8s;
      will-change: transform, opacity;
    }

    /* Used for the dot */
    [part='radio']::after {
      content: '';
      pointer-events: none;
      width: 0;
      height: 0;
      border: var(--vaadin-radio-button-dot-size, 3px) solid
        var(--vaadin-radio-button-dot-color, var(--lumo-primary-contrast-color));
      border-radius: 50%;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0);
      transition: 0.25s transform;
      will-change: transform;
      background-clip: content-box;
    }

    :host([checked]) {
      --vaadin-input-field-border-color: transparent;
    }

    :host([checked]) [part='radio'] {
      background-color: var(--_selection-color);
    }

    :host([checked]) [part='radio']::after {
      transform: translate(-50%, -50%) scale(1);
    }

    :host(:not([checked]):not([disabled]):hover) [part='radio'] {
      background: var(--vaadin-radio-button-background-hover, var(--lumo-contrast-30pct));
    }

    :host([active]) [part='radio'] {
      transform: scale(0.9);
      transition-duration: 0.05s;
    }

    :host([active][checked]) [part='radio'] {
      transform: scale(1.1);
    }

    :host([active]:not([checked])) [part='radio']::before {
      transition-duration: 0.01s, 0.01s;
      transform: scale(0);
      opacity: 0.4;
    }

    :host([focus-ring]) [part='radio'] {
      box-shadow: 0 0 0 1px var(--lumo-base-color), 0 0 0 calc(var(--_focus-ring-width) + 1px) var(--_focus-ring-color),
        inset 0 0 0 var(--_input-border-width, 0) var(--_input-border-color);
    }

    :host([disabled]) {
      pointer-events: none;
      color: var(--lumo-disabled-text-color);
      --vaadin-input-field-border-color: var(--lumo-contrast-20pct);
    }

    :host([disabled]) ::slotted(label) {
      color: inherit;
    }

    :host([disabled]) [part='radio'] {
      background-color: var(--lumo-contrast-10pct);
    }

    :host([disabled]) [part='radio']::after {
      border-color: var(--lumo-contrast-30pct);
    }

    /* RTL specific styles */
    :host([dir='rtl'][has-label]) ::slotted(label) {
      padding: var(--lumo-space-xs) var(--lumo-space-xs) var(--lumo-space-xs) var(--lumo-space-s);
    }
  `,{moduleId:"lumo-radio-button"});/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const RadioButtonMixin=n=>class extends LabelMixin(CheckedMixin(DelegateFocusMixin(ActiveMixin(n)))){static get properties(){return{name:{type:String,value:""},tabindex:{type:Number,value:0,reflectToAttribute:!0}}}static get delegateAttrs(){return[...super.delegateAttrs,"name"]}constructor(){super(),this._setType("radio"),this.value="on"}ready(){super.ready(),this.addController(new InputController(this,t=>{this._setInputElement(t),this._setFocusElement(t),this.stateTarget=t,this.ariaTarget=t})),this.addController(new LabelledInputController(this.inputElement,this._labelController))}};/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const radioButtonStyles=css$e`
  :host {
    display: inline-block;
  }

  :host([hidden]) {
    display: none !important;
  }

  :host([disabled]) {
    -webkit-tap-highlight-color: transparent;
  }

  .vaadin-radio-button-container {
    display: grid;
    grid-template-columns: auto 1fr;
    align-items: baseline;
  }

  [part='radio'],
  ::slotted(input),
  ::slotted(label) {
    grid-row: 1;
  }

  [part='radio'],
  ::slotted(input) {
    grid-column: 1;
  }

  [part='radio'] {
    width: var(--vaadin-radio-button-size, 1em);
    height: var(--vaadin-radio-button-size, 1em);
    --_input-border-width: var(--vaadin-input-field-border-width, 0);
    --_input-border-color: var(--vaadin-input-field-border-color, transparent);
    box-shadow: inset 0 0 0 var(--_input-border-width, 0) var(--_input-border-color);
  }

  [part='radio']::before {
    display: block;
    content: '\\202F';
    line-height: var(--vaadin-radio-button-size, 1em);
    contain: paint;
  }

  /* visually hidden */
  ::slotted(input) {
    opacity: 0;
    cursor: inherit;
    margin: 0;
    align-self: stretch;
    -webkit-appearance: none;
    width: initial;
    height: initial;
  }

  @media (forced-colors: active) {
    [part='radio'] {
      outline: 1px solid;
      outline-offset: -1px;
    }

    :host([focused]) [part='radio'] {
      outline-width: 2px;
    }

    :host([disabled]) [part='radio'] {
      outline-color: GrayText;
    }
  }
`;/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-radio-button",radioButtonStyles,{moduleId:"vaadin-radio-button-styles"});class RadioButton extends RadioButtonMixin(ElementMixin(ThemableMixin(ControllerMixin(PolymerElement)))){static get is(){return"vaadin-radio-button"}static get template(){return html`
      <div class="vaadin-radio-button-container">
        <div part="radio" aria-hidden="true"></div>
        <slot name="input"></slot>
        <slot name="label"></slot>
      </div>
    `}}defineCustomElement(RadioButton);const radioGroup=css$e`
  :host {
    color: var(--lumo-body-text-color);
    font-size: var(--lumo-font-size-m);
    font-family: var(--lumo-font-family);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    padding: var(--lumo-space-xs) 0;
  }

  :host::before {
    /* Effective height of vaadin-radio-button */
    height: var(--lumo-size-s);
    box-sizing: border-box;
    display: inline-flex;
    align-items: center;
  }

  :host([theme~='vertical']) [part='group-field'] {
    flex-direction: column;
  }

  :host([disabled]) [part='label'] {
    color: var(--lumo-disabled-text-color);
    -webkit-text-fill-color: var(--lumo-disabled-text-color);
  }

  :host([focused]:not([readonly])) [part='label'] {
    color: var(--lumo-primary-text-color);
  }

  :host(:hover:not([readonly]):not([focused])) [part='label'],
  :host(:hover:not([readonly])) [part='helper-text'] {
    color: var(--lumo-body-text-color);
  }

  /* Touch device adjustment */
  @media (pointer: coarse) {
    :host(:hover:not([readonly]):not([focused])) [part='label'] {
      color: var(--lumo-secondary-text-color);
    }
  }
`;registerStyles$1("vaadin-radio-group",[requiredField,helper,radioGroup],{moduleId:"lumo-radio-group"});/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const RadioGroupMixin=n=>class extends FieldMixin(FocusMixin(DisabledMixin(KeyboardMixin(n)))){static get properties(){return{value:{type:String,notify:!0,value:"",observer:"__valueChanged"},readonly:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"__readonlyChanged"},_fieldName:{type:String}}}constructor(){super(),this.__registerRadioButton=this.__registerRadioButton.bind(this),this.__unregisterRadioButton=this.__unregisterRadioButton.bind(this),this.__onRadioButtonCheckedChange=this.__onRadioButtonCheckedChange.bind(this),this._tooltipController=new TooltipController(this),this._tooltipController.addEventListener("tooltip-changed",t=>{const r=t.detail.node;if(r&&r.isConnected){const o=this.__radioButtons.map(a=>a.inputElement);this._tooltipController.setAriaTarget(o)}else this._tooltipController.setAriaTarget([])})}get __radioButtons(){return this.__filterRadioButtons([...this.children])}get __selectedRadioButton(){return this.__radioButtons.find(t=>t.checked)}get isHorizontalRTL(){return this.__isRTL&&this._theme!=="vertical"}ready(){super.ready(),this.ariaTarget=this,this.setAttribute("role","radiogroup"),this._fieldName=`${this.localName}-${generateUniqueId()}`;const t=this.shadowRoot.querySelector("slot:not([name])");this._observer=new SlotObserver(t,({addedNodes:r,removedNodes:o})=>{this.__filterRadioButtons(r).reverse().forEach(this.__registerRadioButton),this.__filterRadioButtons(o).forEach(this.__unregisterRadioButton);const a=this.__radioButtons.map(s=>s.inputElement);this._tooltipController.setAriaTarget(a)}),this.addController(this._tooltipController)}__filterRadioButtons(t){return t.filter(r=>r.nodeType===Node.ELEMENT_NODE&&r.localName==="vaadin-radio-button")}_onKeyDown(t){super._onKeyDown(t);const r=t.composedPath().find(o=>o.nodeType===Node.ELEMENT_NODE&&o.localName==="vaadin-radio-button");["ArrowLeft","ArrowUp"].includes(t.key)&&(t.preventDefault(),this.__selectNextRadioButton(r)),["ArrowRight","ArrowDown"].includes(t.key)&&(t.preventDefault(),this.__selectPrevRadioButton(r))}_invalidChanged(t){super._invalidChanged(t),t?this.setAttribute("aria-invalid","true"):this.removeAttribute("aria-invalid")}__selectNextRadioButton(t){const r=this.__radioButtons.indexOf(t);this.__selectIncRadioButton(r,this.isHorizontalRTL?1:-1)}__selectPrevRadioButton(t){const r=this.__radioButtons.indexOf(t);this.__selectIncRadioButton(r,this.isHorizontalRTL?-1:1)}__selectIncRadioButton(t,r){const o=(this.__radioButtons.length+t+r)%this.__radioButtons.length,a=this.__radioButtons[o];a.disabled?this.__selectIncRadioButton(o,r):(a.focusElement.focus(),a.focusElement.click())}__registerRadioButton(t){t.name=this._fieldName,t.addEventListener("checked-changed",this.__onRadioButtonCheckedChange),(this.disabled||this.readonly)&&(t.disabled=!0),t.checked&&this.__selectRadioButton(t)}__unregisterRadioButton(t){t.removeEventListener("checked-changed",this.__onRadioButtonCheckedChange),t.value===this.value&&this.__selectRadioButton(null)}__onRadioButtonCheckedChange(t){t.target.checked&&this.__selectRadioButton(t.target)}__valueChanged(t,r){if(!(r===void 0&&t==="")){if(t){const o=this.__radioButtons.find(a=>a.value===t);o?(this.__selectRadioButton(o),this.toggleAttribute("has-value",!0)):console.warn(`The radio button with the value "${t}" was not found.`)}else this.__selectRadioButton(null),this.removeAttribute("has-value");r!==void 0&&this.validate()}}__readonlyChanged(t,r){!t&&r===void 0||r!==t&&this.__updateRadioButtonsDisabledProperty()}_disabledChanged(t,r){super._disabledChanged(t,r),!(!t&&r===void 0)&&r!==t&&this.__updateRadioButtonsDisabledProperty()}_shouldRemoveFocus(t){return!this.contains(t.relatedTarget)}_setFocused(t){super._setFocused(t),!t&&document.hasFocus()&&this.validate()}__selectRadioButton(t){t?this.value=t.value:this.value="",this.__radioButtons.forEach(r=>{r.checked=r===t}),this.readonly&&this.__updateRadioButtonsDisabledProperty()}__updateRadioButtonsDisabledProperty(){this.__radioButtons.forEach(t=>{this.readonly?t.disabled=t!==this.__selectedRadioButton:t.disabled=this.disabled})}};/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const radioGroupStyles=css$e`
  :host {
    display: inline-flex;
  }

  :host::before {
    content: '\\2003';
    width: 0;
    display: inline-block;
  }

  :host([hidden]) {
    display: none !important;
  }

  .vaadin-group-field-container {
    display: flex;
    flex-direction: column;
    width: 100%;
  }

  [part='group-field'] {
    display: flex;
    flex-wrap: wrap;
  }

  :host(:not([has-label])) [part='label'] {
    display: none;
  }
`;/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-radio-group",radioGroupStyles,{moduleId:"vaadin-radio-group-styles"});class RadioGroup extends RadioGroupMixin(ElementMixin(ThemableMixin(PolymerElement))){static get is(){return"vaadin-radio-group"}static get template(){return html`
      <div class="vaadin-group-field-container">
        <div part="label">
          <slot name="label"></slot>
          <span part="required-indicator" aria-hidden="true"></span>
        </div>

        <div part="group-field">
          <slot></slot>
        </div>

        <div part="helper-text">
          <slot name="helper"></slot>
        </div>

        <div part="error-message">
          <slot name="error-message"></slot>
        </div>
      </div>

      <slot name="tooltip"></slot>
    `}}defineCustomElement(RadioGroup);const richTextEditor=css$e`
  :host {
    min-height: calc(var(--lumo-size-m) * 8);
    --_focus-ring-color: var(--vaadin-focus-ring-color, var(--lumo-primary-color-50pct));
    --_focus-ring-width: var(--vaadin-focus-ring-width, 2px);
  }

  [part='toolbar'] {
    background-color: var(--lumo-contrast-5pct);
    padding: calc(var(--lumo-space-s) - 1px) var(--lumo-space-xs);
  }

  [part~='toolbar-group'] {
    margin: 0 calc(var(--lumo-space-l) / 2 - 1px);
  }

  [part~='toolbar-button'] {
    width: var(--lumo-size-m);
    height: var(--lumo-size-m);
    border-radius: var(--lumo-border-radius-m);
    color: var(--lumo-contrast-60pct);
    margin: 2px 1px;
    cursor: var(--lumo-clickable-cursor);
    transition: background-color 100ms, color 100ms;
  }

  [part~='toolbar-button']:focus {
    outline: none;
    box-shadow: 0 0 0 var(--_focus-ring-width) var(--_focus-ring-color);
  }

  [part~='toolbar-button']:hover {
    background-color: var(--lumo-contrast-5pct);
    color: var(--lumo-contrast-80pct);
    box-shadow: none;
  }

  @media (hover: none) {
    [part~='toolbar-button']:hover {
      background-color: transparent;
    }
  }

  [part~='toolbar-button'][on] {
    background-color: var(--vaadin-selection-color, var(--lumo-primary-color));
    color: var(--lumo-primary-contrast-color);
  }

  [part~='toolbar-button']:active {
    background-color: var(--lumo-contrast-10pct);
    color: var(--lumo-contrast-90pct);
  }

  [part~='toolbar-button']::before {
    font-family: 'lumo-icons', var(--lumo-font-family);
    font-size: var(--lumo-icon-size-m);
  }

  [part~='toolbar-button-undo']::before {
    content: var(--lumo-icons-undo);
  }

  [part~='toolbar-button-redo']::before {
    content: var(--lumo-icons-redo);
  }

  [part~='toolbar-button-bold']::before,
  [part~='toolbar-button-italic']::before,
  [part~='toolbar-button-underline']::before,
  [part~='toolbar-button-strike']::before {
    font-size: var(--lumo-font-size-m);
    font-weight: 600;
  }

  [part~='toolbar-button-bold']::before {
    font-weight: 700;
  }

  [part~='toolbar-button-h1']::before,
  [part~='toolbar-button-h2']::before,
  [part~='toolbar-button-h3']::before {
    font-weight: 600;
  }

  [part~='toolbar-button-h1']::before {
    font-size: var(--lumo-font-size-m);
  }

  [part~='toolbar-button-h2']::before {
    font-size: var(--lumo-font-size-s);
  }

  [part~='toolbar-button-h3']::before {
    font-size: var(--lumo-font-size-xs);
  }

  [part~='toolbar-button-subscript']::before,
  [part~='toolbar-button-superscript']::before {
    font-weight: 600;
    font-size: var(--lumo-font-size-s);
  }

  [part~='toolbar-button-subscript']::after,
  [part~='toolbar-button-superscript']::after {
    font-size: 0.625em;
    font-weight: 700;
  }

  [part~='toolbar-button-list-ordered']::before {
    content: var(--lumo-icons-ordered-list);
  }

  [part~='toolbar-button-list-bullet']::before {
    content: var(--lumo-icons-unordered-list);
  }

  [part~='toolbar-button-align-left']::before {
    content: var(--lumo-icons-align-left);
  }

  [part~='toolbar-button-align-center']::before {
    content: var(--lumo-icons-align-center);
  }

  [part~='toolbar-button-align-right']::before {
    content: var(--lumo-icons-align-right);
  }

  [part~='toolbar-button-blockquote']::before {
    font-size: var(--lumo-font-size-xxl);
  }

  [part~='toolbar-button-code-block']::before {
    content: var(--lumo-icons-angle-left) var(--lumo-icons-angle-right);
    font-size: var(--lumo-font-size-l);
    letter-spacing: -0.5em;
    margin-left: -0.25em;
    font-weight: 600;
  }

  [part~='toolbar-button-image']::before {
    content: var(--lumo-icons-photo);
  }

  [part~='toolbar-button-link']::before {
    font-family: 'vaadin-rte-icons';
    font-size: var(--lumo-icon-size-m);
  }

  [part~='toolbar-button-clean']::before {
    font-family: 'vaadin-rte-icons';
    font-size: var(--lumo-font-size-l);
  }

  [part='content'] {
    background-color: var(--lumo-base-color);
  }

  /* TODO unsupported selector */
  [part='content'] > .ql-editor {
    padding: 0 var(--lumo-space-m);
    line-height: inherit;
  }

  /* Theme variants */

  /* No border */
  :host(:not([theme~='no-border'])) {
    border: 1px solid var(--lumo-contrast-20pct);
  }

  :host(:not([theme~='no-border']):not([readonly])) [part='content'] {
    border-top: 1px solid var(--lumo-contrast-20pct);
  }

  :host([theme~='no-border']) [part='toolbar'] {
    padding-top: var(--lumo-space-s);
    padding-bottom: var(--lumo-space-s);
  }

  /* Compact */
  :host([theme~='compact']) {
    min-height: calc(var(--lumo-size-m) * 6);
  }

  :host([theme~='compact']) [part='toolbar'] {
    padding: var(--lumo-space-xs) 0;
  }

  :host([theme~='compact'][theme~='no-border']) [part='toolbar'] {
    padding: calc(var(--lumo-space-xs) + 1px) 0;
  }

  :host([theme~='compact']) [part~='toolbar-button'] {
    width: var(--lumo-size-s);
    height: var(--lumo-size-s);
  }

  :host([theme~='compact']) [part~='toolbar-group'] {
    margin: 0 calc(var(--lumo-space-m) / 2 - 1px);
  }

  /* RTL specific styles */
  :host([dir='rtl']) [part~='toolbar-button-redo']::before {
    content: var(--lumo-icons-undo);
  }

  :host([dir='rtl']) [part~='toolbar-button-undo']::before {
    content: var(--lumo-icons-redo);
  }
`,contentStyles$1=css$e`
  :where(h1, h2, h3, h4, h5, h6) {
    margin-top: 1.25em;
  }

  :where(h1) {
    margin-bottom: 0.75em;
  }

  :where(h2) {
    margin-bottom: 0.5em;
  }

  :where(h3) {
    margin-bottom: 0.5em;
  }

  :where(h4) {
    margin-bottom: 0.5em;
  }

  :where(h5) {
    margin-bottom: 0.25em;
  }
`;registerStyles$1("vaadin-rich-text-editor",[color$h,typography,richTextEditor,contentStyles$1],{moduleId:"lumo-rich-text-editor"});/**
 * @license
 * Copyright (c) 2000 - 2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See https://vaadin.com/commercial-license-and-service-terms for the full
 * license.
 */const template$2=document.createElement("template");template$2.innerHTML=`
  <style>
    @font-face {
      font-family: 'vaadin-rte-icons';
      src: url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAbIAAsAAAAAC3AAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAQwAAAFZAIUsmY21hcAAAAYgAAAB2AAAB7jNk7w5nbHlmAAACAAAAAm8AAAOwZpaNL2hlYWQAAARwAAAAMAAAADZbE6SjaGhlYQAABKAAAAAdAAAAJAb9A15obXR4AAAEwAAAABAAAAAsJxAAAGxvY2EAAATQAAAAGAAAABgEUAVEbWF4cAAABOgAAAAfAAAAIAEbADtuYW1lAAAFCAAAAVYAAAMSlciz2nBvc3QAAAZgAAAAZwAAAJOZ/fmIeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGTuZZzAwMrAwFTFtIeBgaEHQjM+YDBkZAKKMrAyM2AFAWmuKQwOrxhfcTEH/c9iiGIOYpgGFGYEyQEA7gQLyQB4nO2RwRHDMAgEVxaWbcal5JmC8nItqVVNOBy4jDCzd8MN0gOAFejBKzBoFw3VJ9KWecczN945Y8qn33dok0ZvqUvMWvw42Ng58t3gX2fq9+lceytyk0uBvBe6yLRCu51roWvNUSDfCuR7gfwokHuB/wCP9xuPAAB4nI2SwU/TcBTH3/uNrRgJOtlvTSad/lq6wdTCaLuSuIzIFlmyBELWwLygARNn8ARREpJedpKriaAhIZwgGk+cMHr0H/CAN696IUYTLzZZ4detIBhNbN/r+77X5NNv+wphgMOvoQWyDyEQ4DxcgB6AHkaZyFM4VR3yrXlpB7e8eztnFdmv2tV2AMA/eX+eLR7+9LpO1/9k/dWb60Pcs+osj7R4Y6QBnXCRk6ioC6Klm0xAQbdEy31yPzlT/NEcN1F54Nw6MEmj8/Ht2qZjep+/vzwwIWB8CT0in6ADYgAoWiILR42UwuQIjcbiOhvO4Vz92fvmHtnIys09OZuVSVnO4lXnnZvxVTAF/lb8CD0nd4BCBjROU6g+nETaHbqGXBXQ0DBsFPAmmorcjbFkW2loMZORDcfRJgYxMVSQHae0WCotNj9oE1qgS/5d7TVOeLukNqlNavLoUGKyuPR0qejyrq147bAh0vKxQNZb3zkKl+EK9HM3/p5MRnE4HovIKSMn0hPVw+fqcYd9ZLz5lmc+0ddnqGoiKM7vEWnYrm3jvGr4Lf4Kqrdp2w/bmls49vEm2DflTtK+D5NFgxR0geqmYvHgheohnfKrn6ZyYqOVHysVh0cmY7fDcdCwvV0bt2y3pg7UVHt7wOuiGTqw7T8Wg10MQpw3qXRKkYVuFMQCWjk9J8ZFgUXJYb5cmbo7XV2R5uns6Fg5P2LeWMdlfGH0Sv3q6gwr1iUJ4zGVD0+YrwKmLESEdJSlcy1gkv85GqZT5NxUpZxfw+W16+ZIvjw2Ohufk1aq0yQs9Rpr3uq6GqOYlOpFNrOq9sMRAzTbGgB4nGNgZGBgAOI3/vVz4vltvjJwM78AijDUqG5oRND/nzGvZLoG5HIwMIFEAVO2DAV4nGNgZGBgDvqfBSRfMAAB80oGRgZUwA0AWFIDYwAAAHicY2BgYGB+QRwGAMEQCS8AAAAAACgATgB2AJgAvgECAUYBhAGuAdh4nGNgZGBg4GbQZ2BjAAEmIOYCQgaG/2A+AwAOlAFXAHicpZK7TsMwGIVPekO0CCEhsSFlQF2Q08vYjaXdO3REShMnTZXEkeNW7cbEI/AevANi5okQJ8YTQwdqS/bnc87/24oC4Aaf8NAMD/d2bUYLFzz9cpv04LhDfnLcxQDPjnvUM8d9POLV8QC3eGcHr3NJZYYPxy1c49txGzPvynGHPHfcxZ334rhH/c1xHyvvy/EAw9ZwH4ZxVgqdRRth5MEIGWdGaZFFqqyXMt3loT6ZOWmupK4zVfqTYHwyt5Cl1KGRsb8++vU+nRqT+IlWhT9XpZF5rvxKq62MTLAxppqNRonTg0gV2CPkjPkVSwho7hE2JAOJA1fBvXENFF1hfcVsjSWdFDvkrNdn9Pl/5YqO5p7Zs48JAozP6LegU9qeoU3H7LnGkWvzyhRTqgYJzwkzCgVpbmubdM6pqFTW21KJqAe8u6mq+BeOOJM/+cDeXvwAG1qfYAAAeJxth2sOAiEMBvut4AO4yh6KXSoSa0mwe3+N/HWSSWZooUmg/0QsOMHB44wLrrghICJRytKqrjur8QhzhO8WZ45WH+Z34ay+vXJlJ02fUdrb1u0QYUu/7qPw4OK+dndo6UQf3z4gAwA=) format('woff');
      font-weight: normal;
      font-style: normal;
    }

    html {
      --vaadin-rte-icons-align-center: "\\ea01";
      --vaadin-rte-icons-align-left: "\\ea02";
      --vaadin-rte-icons-align-right: "\\ea03";
      --vaadin-rte-icons-clean: "\\ea04";
      --vaadin-rte-icons-image: "\\ea05";
      --vaadin-rte-icons-link: "\\ea06";
      --vaadin-rte-icons-list-bullet: "\\ea07";
      --vaadin-rte-icons-list-ordered: "\\ea08";
      --vaadin-rte-icons-redo: "\\ea09";
      --vaadin-rte-icons-undo: "\\ea0a";
    }
  </style>
`;document.head.appendChild(template$2.content);const iconsStyles=css$e`
  [part~='toolbar-button-align-center']::before {
    content: var(--vaadin-rte-icons-align-center);
  }

  [part~='toolbar-button-align-left']::before {
    content: var(--vaadin-rte-icons-align-left);
  }

  [part~='toolbar-button-align-right']::before {
    content: var(--vaadin-rte-icons-align-right);
  }

  [part~='toolbar-button-clean']::before {
    content: var(--vaadin-rte-icons-clean);
  }

  [part~='toolbar-button-image']::before {
    content: var(--vaadin-rte-icons-image);
  }

  [part~='toolbar-button-link']::before {
    content: var(--vaadin-rte-icons-link);
  }

  [part~='toolbar-button-list-bullet']::before {
    content: var(--vaadin-rte-icons-list-bullet);
  }

  [part~='toolbar-button-list-ordered']::before {
    content: var(--vaadin-rte-icons-list-ordered);
  }

  [part~='toolbar-button-redo']::before {
    content: var(--vaadin-rte-icons-redo);
  }

  [part~='toolbar-button-undo']::before {
    content: var(--vaadin-rte-icons-undo);
  }

  /* RTL specific styles */
  :host([dir='rtl']) [part~='toolbar-button-redo']::before {
    content: var(--vaadin-rte-icons-undo);
  }

  :host([dir='rtl']) [part~='toolbar-button-undo']::before {
    content: var(--vaadin-rte-icons-redo);
  }
`;registerStyles$1("",iconsStyles,{moduleId:"vaadin-rich-text-editor-icons"});/**
 * @license
 * Copyright (c) 2000 - 2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See https://vaadin.com/commercial-license-and-service-terms for the full
 * license.
 */const buttonsStyles=css$e`
  [part='toolbar'] {
    display: flex;
    flex-wrap: wrap;
    flex-shrink: 0;
  }

  [part~='toolbar-button'] {
    width: 2em;
    height: 2em;
    margin: 0;
    padding: 0;
    font: inherit;
    line-height: 1;
    text-transform: none;
    background: transparent;
    border: none;
    position: relative;
  }

  [part~='toolbar-button']:hover {
    outline: none;
  }

  @media (forced-colors: active) {
    [part~='toolbar-button']:focus,
    [part~='toolbar-button']:hover {
      outline: 1px solid !important;
    }

    [part~='toolbar-button'][on] {
      outline: 2px solid;
      outline-offset: -1px;
    }
  }

  [part~='toolbar-button']::before {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }

  [part~='toolbar-button-undo']::before,
  [part~='toolbar-button-redo']::before,
  [part~='toolbar-button-list-ordered']::before,
  [part~='toolbar-button-list-bullet']::before,
  [part~='toolbar-button-align-left']::before,
  [part~='toolbar-button-align-center']::before,
  [part~='toolbar-button-align-right']::before,
  [part~='toolbar-button-image']::before,
  [part~='toolbar-button-link']::before,
  [part~='toolbar-button-clean']::before {
    font-family: 'vaadin-rte-icons', sans-serif;
  }

  [part~='toolbar-group'] {
    display: flex;
    margin: 0 0.5em;
  }

  [part~='toolbar-button-bold']::before {
    content: 'B';
    font-weight: 700;
  }

  [part~='toolbar-button-italic']::before {
    content: 'I';
    font-style: italic;
  }

  [part~='toolbar-button-underline']::before {
    content: 'U';
    text-decoration: underline;
  }

  [part~='toolbar-button-strike']::before {
    content: 'T';
    text-decoration: line-through;
  }

  [part~='toolbar-button-h1']::before {
    content: 'H1';
    font-size: 1.25em;
  }

  [part~='toolbar-button-h2']::before {
    content: 'H2';
    font-size: 1em;
  }

  [part~='toolbar-button-h3']::before {
    content: 'H3';
    font-size: 0.875em;
  }

  [part~='toolbar-button-h1']::before,
  [part~='toolbar-button-h2']::before,
  [part~='toolbar-button-h3']::before {
    letter-spacing: -0.05em;
  }

  [part~='toolbar-button-subscript']::before,
  [part~='toolbar-button-superscript']::before {
    content: 'X';
  }

  [part~='toolbar-button-subscript']::after,
  [part~='toolbar-button-superscript']::after {
    content: '2';
    position: absolute;
    top: 50%;
    left: 70%;
    font-size: 0.625em;
  }

  [part~='toolbar-button-superscript']::after {
    top: 20%;
  }

  [part~='toolbar-button-blockquote']::before {
    content: '\\201D';
    font-size: 2em;
    height: 0.6em;
  }

  [part~='toolbar-button-code-block']::before {
    content: '</>';
    font-size: 0.875em;
  }
`,toolbarStyles=[iconsStyles,buttonsStyles];registerStyles$1("",toolbarStyles,{moduleId:"vaadin-rich-text-editor-toolbar-styles"});/*!
 * Quill Editor v1.3.6
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(n,i){n.Quill=i()})(window,function(){return function(n){function i(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,i),o.l=!0,o.exports}var t={};return i.m=n,i.c=t,i.d=function(r,o,a){i.o(r,o)||Object.defineProperty(r,o,{configurable:!1,enumerable:!0,get:a})},i.n=function(r){var o=r&&r.__esModule?function(){return r.default}:function(){return r};return i.d(o,"a",o),o},i.o=function(r,o){return Object.prototype.hasOwnProperty.call(r,o)},i.p="",i(i.s=131)}([function(n,i,t){Object.defineProperty(i,"__esModule",{value:!0});var r=t(17),o=t(18),a=t(19),s=t(53),l=t(54),c=t(55),h=t(56),u=t(57),d=t(10),f=t(28),p=t(29),m=t(27),g=t(1),v={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:r.default,Format:o.default,Leaf:a.default,Embed:h.default,Scroll:s.default,Block:c.default,Inline:l.default,Text:u.default,Attributor:{Attribute:d.default,Class:f.default,Style:p.default,Store:m.default}};i.default=v},function(n,i,t){function r(m,g){var v=a(m);if(v==null)throw new c("Unable to create "+m+" blot");var _=v;return new _(m instanceof Node||m.nodeType===Node.TEXT_NODE?m:_.create(g),g)}function o(m,g){return g===void 0&&(g=!1),m==null?null:m[i.DATA_KEY]!=null?m[i.DATA_KEY].blot:g?o(m.parentNode,g):null}function a(m,g){g===void 0&&(g=p.ANY);var v;if(typeof m=="string")v=f[m]||h[m];else if(m instanceof Text||m.nodeType===Node.TEXT_NODE)v=f.text;else if(typeof m=="number")m&p.LEVEL&p.BLOCK?v=f.block:m&p.LEVEL&p.INLINE&&(v=f.inline);else if(m instanceof HTMLElement){var _=(m.getAttribute("class")||"").split(/\s+/);for(var y in _)if(v=u[_[y]])break;v=v||d[m.tagName]}return v==null?null:g&p.LEVEL&v.scope&&g&p.TYPE&v.scope?v:null}function s(){for(var m=[],g=0;g<arguments.length;g++)m[g]=arguments[g];if(m.length>1)return m.map(function(y){return s(y)});var v=m[0];if(typeof v.blotName!="string"&&typeof v.attrName!="string")throw new c("Invalid definition");if(v.blotName==="abstract")throw new c("Cannot register abstract class");if(f[v.blotName||v.attrName]=v,typeof v.keyName=="string")h[v.keyName]=v;else if(v.className!=null&&(u[v.className]=v),v.tagName!=null){Array.isArray(v.tagName)?v.tagName=v.tagName.map(function(y){return y.toUpperCase()}):v.tagName=v.tagName.toUpperCase();var _=Array.isArray(v.tagName)?v.tagName:[v.tagName];_.forEach(function(y){d[y]!=null&&v.className!=null||(d[y]=v)})}return v}var l=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var _ in v)v.hasOwnProperty(_)&&(g[_]=v[_])};return function(g,v){function _(){this.constructor=g}m(g,v),g.prototype=v===null?Object.create(v):(_.prototype=v.prototype,new _)}}();Object.defineProperty(i,"__esModule",{value:!0});var c=function(m){function g(v){var _=this;return v="[Parchment] "+v,_=m.call(this,v)||this,_.message=v,_.name=_.constructor.name,_}return l(g,m),g}(Error);i.ParchmentError=c;var h={},u={},d={},f={};i.DATA_KEY="__blot";var p;(function(m){m[m.TYPE=3]="TYPE",m[m.LEVEL=12]="LEVEL",m[m.ATTRIBUTE=13]="ATTRIBUTE",m[m.BLOT=14]="BLOT",m[m.INLINE=7]="INLINE",m[m.BLOCK=11]="BLOCK",m[m.BLOCK_BLOT=10]="BLOCK_BLOT",m[m.INLINE_BLOT=6]="INLINE_BLOT",m[m.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",m[m.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",m[m.ANY=15]="ANY"})(p=i.Scope||(i.Scope={})),i.create=r,i.find=o,i.query=a,i.register=s},function(n,i,t){function r(S){return S&&S.__esModule?S:{default:S}}function o(S,P){if(!(S instanceof P))throw new TypeError("Cannot call a class as a function")}function a(S,P){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||typeof P!="object"&&typeof P!="function"?S:P}function s(S,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);S.prototype=Object.create(P&&P.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(S,P):S.__proto__=P)}function l(S){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return S==null?P:(typeof S.formats=="function"&&(P=(0,d.default)(P,S.formats())),S.parent==null||S.parent.blotName=="scroll"||S.parent.statics.scope!==S.statics.scope?P:l(S.parent,P))}Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BlockEmbed=i.bubbleFormats=void 0;var c=function(){function S(P,T){for(var k=0;k<T.length;k++){var L=T[k];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(P,L.key,L)}}return function(P,T,k){return T&&S(P.prototype,T),k&&S(P,k),P}}(),h=function S(P,T,k){P===null&&(P=Function.prototype);var L=Object.getOwnPropertyDescriptor(P,T);if(L===void 0){var N=Object.getPrototypeOf(P);return N===null?void 0:S(N,T,k)}if("value"in L)return L.value;var z=L.get;if(z!==void 0)return z.call(k)},u=t(3),d=r(u),f=t(5),p=r(f),m=t(0),g=r(m),v=t(15),_=r(v),y=t(4),b=r(y),x=t(7),E=r(x),C=function(S){function P(){return o(this,P),a(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return s(P,S),c(P,[{key:"attach",value:function(){h(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"attach",this).call(this),this.attributes=new g.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new p.default().insert(this.value(),(0,d.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(T,k){var L=g.default.query(T,g.default.Scope.BLOCK_ATTRIBUTE);L!=null&&this.attributes.attribute(L,k)}},{key:"formatAt",value:function(T,k,L,N){this.format(L,N)}},{key:"insertAt",value:function(T,k,L){if(typeof k=="string"&&k.endsWith(`
`)){var N=g.default.create($.blotName);this.parent.insertBefore(N,T===0?this:this.next),N.insertAt(0,k.slice(0,-1))}else h(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,T,k,L)}}]),P}(g.default.Embed);C.scope=g.default.Scope.BLOCK_BLOT;var $=function(S){function P(T){o(this,P);var k=a(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,T));return k.cache={},k}return s(P,S),c(P,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(g.default.Leaf).reduce(function(T,k){return k.length()===0?T:T.insert(k.value(),l(k))},new p.default).insert(`
`,l(this))),this.cache.delta}},{key:"deleteAt",value:function(T,k){h(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,T,k),this.cache={}}},{key:"formatAt",value:function(T,k,L,N){k<=0||(g.default.query(L,g.default.Scope.BLOCK)?T+k===this.length()&&this.format(L,N):h(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,T,Math.min(k,this.length()-T-1),L,N),this.cache={})}},{key:"insertAt",value:function(T,k,L){if(L!=null)return h(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,T,k,L);if(k.length!==0){var N=k.split(`
`),z=N.shift();z.length>0&&(T<this.length()-1||this.children.tail==null?h(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,Math.min(T,this.length()-1),z):this.children.tail.insertAt(this.children.tail.length(),z),this.cache={});var B=this;N.reduce(function(U,D){return B=B.split(U,!0),B.insertAt(0,D),D.length},T+z.length)}}},{key:"insertBefore",value:function(T,k){var L=this.children.head;h(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,T,k),L instanceof _.default&&L.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=h(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(T,k){h(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"moveChildren",this).call(this,T,k),this.cache={}}},{key:"optimize",value:function(T){h(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,T),this.cache={}}},{key:"path",value:function(T){return h(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,T,!0)}},{key:"removeChild",value:function(T){h(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"removeChild",this).call(this,T),this.cache={}}},{key:"split",value:function(T){var k=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(k&&(T===0||T>=this.length()-1)){var L=this.clone();return T===0?(this.parent.insertBefore(L,this),this):(this.parent.insertBefore(L,this.next),L)}var N=h(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"split",this).call(this,T,k);return this.cache={},N}}]),P}(g.default.Block);$.blotName="block",$.tagName="P",$.defaultChild="break",$.allowedChildren=[b.default,g.default.Embed,E.default],i.bubbleFormats=l,i.BlockEmbed=C,i.default=$},function(n,i){var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=function(u){return typeof Array.isArray=="function"?Array.isArray(u):r.call(u)==="[object Array]"},l=function(u){if(!u||r.call(u)!=="[object Object]")return!1;var d=t.call(u,"constructor"),f=u.constructor&&u.constructor.prototype&&t.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!d&&!f)return!1;var p;for(p in u);return p===void 0||t.call(u,p)},c=function(u,d){o&&d.name==="__proto__"?o(u,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):u[d.name]=d.newValue},h=function(u,d){if(d==="__proto__"){if(!t.call(u,d))return;if(a)return a(u,d).value}return u[d]};n.exports=function u(){var d,f,p,m,g,v,_=arguments[0],y=1,b=arguments.length,x=!1;for(typeof _=="boolean"&&(x=_,_=arguments[1]||{},y=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});y<b;++y)if((d=arguments[y])!=null)for(f in d)p=h(_,f),m=h(d,f),_!==m&&(x&&m&&(l(m)||(g=s(m)))?(g?(g=!1,v=p&&s(p)?p:[]):v=p&&l(p)?p:{},c(_,{name:f,newValue:u(x,v,m)})):m!==void 0&&c(_,{name:f,newValue:m}));return _}},function(n,i,t){function r(m){return m&&m.__esModule?m:{default:m}}function o(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function a(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||typeof g!="object"&&typeof g!="function"?m:g}function s(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function m(g,v){for(var _=0;_<v.length;_++){var y=v[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,v,_){return v&&m(g.prototype,v),_&&m(g,_),g}}(),c=function m(g,v,_){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,v);if(y===void 0){var b=Object.getPrototypeOf(g);return b===null?void 0:m(b,v,_)}if("value"in y)return y.value;var x=y.get;if(x!==void 0)return x.call(_)},h=t(7),u=r(h),d=t(0),f=r(d),p=function(m){function g(){return o(this,g),a(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,m),l(g,[{key:"formatAt",value:function(v,_,y,b){if(g.compare(this.statics.blotName,y)<0&&f.default.query(y,f.default.Scope.BLOT)){var x=this.isolate(v,_);b&&x.wrap(y,b)}else c(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"formatAt",this).call(this,v,_,y,b)}},{key:"optimize",value:function(v){if(c(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,v),this.parent instanceof g&&g.compare(this.statics.blotName,this.parent.statics.blotName)>0){var _=this.parent.isolate(this.offset(),this.length());this.moveChildren(_),_.wrap(this)}}}],[{key:"compare",value:function(v,_){var y=g.order.indexOf(v),b=g.order.indexOf(_);return y>=0||b>=0?y-b:v===_?0:v<_?-1:1}}]),g}(f.default.Inline);p.allowedChildren=[p,f.default.Embed,u.default],p.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],i.default=p},function(n,i,t){var r=t(59),o=t(11),a=t(3),s=t(22),l="\0",c=function(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]};c.prototype.insert=function(h,u){var d={};return h.length===0?this:(d.insert=h,u!=null&&typeof u=="object"&&Object.keys(u).length>0&&(d.attributes=u),this.push(d))},c.prototype.delete=function(h){return h<=0?this:this.push({delete:h})},c.prototype.retain=function(h,u){if(h<=0)return this;var d={retain:h};return u!=null&&typeof u=="object"&&Object.keys(u).length>0&&(d.attributes=u),this.push(d)},c.prototype.push=function(h){var u=this.ops.length,d=this.ops[u-1];if(h=a(!0,{},h),typeof d=="object"){if(typeof h.delete=="number"&&typeof d.delete=="number")return this.ops[u-1]={delete:d.delete+h.delete},this;if(typeof d.delete=="number"&&h.insert!=null&&(u-=1,typeof(d=this.ops[u-1])!="object"))return this.ops.unshift(h),this;if(o(h.attributes,d.attributes)){if(typeof h.insert=="string"&&typeof d.insert=="string")return this.ops[u-1]={insert:d.insert+h.insert},typeof h.attributes=="object"&&(this.ops[u-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof d.retain=="number")return this.ops[u-1]={retain:d.retain+h.retain},typeof h.attributes=="object"&&(this.ops[u-1].attributes=h.attributes),this}}return u===this.ops.length?this.ops.push(h):this.ops.splice(u,0,h),this},c.prototype.chop=function(){var h=this.ops[this.ops.length-1];return h&&h.retain&&!h.attributes&&this.ops.pop(),this},c.prototype.filter=function(h){return this.ops.filter(h)},c.prototype.forEach=function(h){this.ops.forEach(h)},c.prototype.map=function(h){return this.ops.map(h)},c.prototype.partition=function(h){var u=[],d=[];return this.forEach(function(f){(h(f)?u:d).push(f)}),[u,d]},c.prototype.reduce=function(h,u){return this.ops.reduce(h,u)},c.prototype.changeLength=function(){return this.reduce(function(h,u){return u.insert?h+s.length(u):u.delete?h-u.delete:h},0)},c.prototype.length=function(){return this.reduce(function(h,u){return h+s.length(u)},0)},c.prototype.slice=function(h,u){h=h||0,typeof u!="number"&&(u=1/0);for(var d=[],f=s.iterator(this.ops),p=0;p<u&&f.hasNext();){var m;p<h?m=f.next(h-p):(m=f.next(u-p),d.push(m)),p+=s.length(m)}return new c(d)},c.prototype.compose=function(h){var u=s.iterator(this.ops),d=s.iterator(h.ops),f=[],p=d.peek();if(p!=null&&typeof p.retain=="number"&&p.attributes==null){for(var m=p.retain;u.peekType()==="insert"&&u.peekLength()<=m;)m-=u.peekLength(),f.push(u.next());p.retain-m>0&&d.next(p.retain-m)}for(var g=new c(f);u.hasNext()||d.hasNext();)if(d.peekType()==="insert")g.push(d.next());else if(u.peekType()==="delete")g.push(u.next());else{var v=Math.min(u.peekLength(),d.peekLength()),_=u.next(v),y=d.next(v);if(typeof y.retain=="number"){var b={};typeof _.retain=="number"?b.retain=v:b.insert=_.insert;var x=s.attributes.compose(_.attributes,y.attributes,typeof _.retain=="number");if(x&&(b.attributes=x),g.push(b),!d.hasNext()&&o(g.ops[g.ops.length-1],b)){var E=new c(u.rest());return g.concat(E).chop()}}else typeof y.delete=="number"&&typeof _.retain=="number"&&g.push(y)}return g.chop()},c.prototype.concat=function(h){var u=new c(this.ops.slice());return h.ops.length>0&&(u.push(h.ops[0]),u.ops=u.ops.concat(h.ops.slice(1))),u},c.prototype.diff=function(h,u){if(this.ops===h.ops)return new c;var d=[this,h].map(function(v){return v.map(function(_){if(_.insert!=null)return typeof _.insert=="string"?_.insert:l;var y=v===h?"on":"with";throw new Error("diff() called "+y+" non-document")}).join("")}),f=new c,p=r(d[0],d[1],u),m=s.iterator(this.ops),g=s.iterator(h.ops);return p.forEach(function(v){for(var _=v[1].length;_>0;){var y=0;switch(v[0]){case r.INSERT:y=Math.min(g.peekLength(),_),f.push(g.next(y));break;case r.DELETE:y=Math.min(_,m.peekLength()),m.next(y),f.delete(y);break;case r.EQUAL:y=Math.min(m.peekLength(),g.peekLength(),_);var b=m.next(y),x=g.next(y);o(b.insert,x.insert)?f.retain(y,s.attributes.diff(b.attributes,x.attributes)):f.push(x).delete(y)}_-=y}}),f.chop()},c.prototype.eachLine=function(h,u){u=u||`
`;for(var d=s.iterator(this.ops),f=new c,p=0;d.hasNext();){if(d.peekType()!=="insert")return;var m=d.peek(),g=s.length(m)-d.peekLength(),v=typeof m.insert=="string"?m.insert.indexOf(u,g)-g:-1;if(v<0)f.push(d.next());else if(v>0)f.push(d.next(v));else{if(h(f,d.next(1).attributes||{},p)===!1)return;p+=1,f=new c}}f.length()>0&&h(f,{},p)},c.prototype.transform=function(h,u){if(u=!!u,typeof h=="number")return this.transformPosition(h,u);for(var d=s.iterator(this.ops),f=s.iterator(h.ops),p=new c;d.hasNext()||f.hasNext();)if(d.peekType()!=="insert"||!u&&f.peekType()==="insert")if(f.peekType()==="insert")p.push(f.next());else{var m=Math.min(d.peekLength(),f.peekLength()),g=d.next(m),v=f.next(m);if(g.delete)continue;v.delete?p.push(v):p.retain(m,s.attributes.transform(g.attributes,v.attributes,u))}else p.retain(s.length(d.next()));return p.chop()},c.prototype.transformPosition=function(h,u){u=!!u;for(var d=s.iterator(this.ops),f=0;d.hasNext()&&f<=h;){var p=d.peekLength(),m=d.peekType();d.next(),m!=="delete"?(m==="insert"&&(f<h||!u)&&(h+=p),f+=p):h-=Math.min(p,h-f)}return h},n.exports=c},function(n,i,t){function r(D){return D&&D.__esModule?D:{default:D}}function o(D,M,F){return M in D?Object.defineProperty(D,M,{value:F,enumerable:!0,configurable:!0,writable:!0}):D[M]=F,D}function a(D,M){if(!(D instanceof M))throw new TypeError("Cannot call a class as a function")}function s(D,M){if(M=(0,T.default)(!0,{container:D,modules:{clipboard:!0,keyboard:!0,history:!0}},M),M.theme&&M.theme!==U.DEFAULTS.theme){if(M.theme=U.import("themes/"+M.theme),M.theme==null)throw new Error("Invalid theme "+M.theme+". Did you register it?")}else M.theme=z.default;var F=(0,T.default)(!0,{},M.theme.DEFAULTS);[F,M].forEach(function(W){W.modules=W.modules||{},Object.keys(W.modules).forEach(function(q){W.modules[q]===!0&&(W.modules[q]={})})});var j=Object.keys(F.modules).concat(Object.keys(M.modules)),Y=j.reduce(function(W,q){var X=U.import("modules/"+q);return X==null?B.error("Cannot load "+q+" module. Are you sure you registered it?"):W[q]=X.DEFAULTS||{},W},{});return M.modules!=null&&M.modules.toolbar&&M.modules.toolbar.constructor!==Object&&(M.modules.toolbar={container:M.modules.toolbar}),M=(0,T.default)(!0,{},U.DEFAULTS,{modules:Y},F,M),["bounds","container","scrollingContainer"].forEach(function(W){typeof M[W]=="string"&&(M[W]=document.querySelector(M[W]))}),M.modules=Object.keys(M.modules).reduce(function(W,q){return M.modules[q]&&(W[q]=M.modules[q]),W},{}),M}function l(D,M,F,j){if(this.options.strict&&!this.isEnabled()&&M===y.default.sources.USER)return new m.default;var Y=F==null?null:this.getSelection(),W=this.editor.delta,q=D();if(Y!=null&&(F===!0&&(F=Y.index),j==null?Y=h(Y,q,M):j!==0&&(Y=h(Y,F,j,M)),this.setSelection(Y,y.default.sources.SILENT)),q.length()>0){var X,K=[y.default.events.TEXT_CHANGE,q,W,M];if((X=this.emitter).emit.apply(X,[y.default.events.EDITOR_CHANGE].concat(K)),M!==y.default.sources.SILENT){var Q;(Q=this.emitter).emit.apply(Q,K)}}return q}function c(D,M,F,j,Y){var W={};return typeof D.index=="number"&&typeof D.length=="number"?typeof M!="number"?(Y=j,j=F,F=M,M=D.length,D=D.index):(M=D.length,D=D.index):typeof M!="number"&&(Y=j,j=F,F=M,M=0),(F===void 0?"undefined":u(F))==="object"?(W=F,Y=j):typeof F=="string"&&(j!=null?W[F]=j:Y=F),Y=Y||y.default.sources.API,[D,M,W,Y]}function h(D,M,F,j){if(D==null)return null;var Y=void 0,W=void 0;if(M instanceof m.default){var q=[D.index,D.index+D.length].map(function(rt){return M.transformPosition(rt,j!==y.default.sources.USER)}),X=d(q,2);Y=X[0],W=X[1]}else{var K=[D.index,D.index+D.length].map(function(rt){return rt<M||rt===M&&j===y.default.sources.USER?rt:F>=0?rt+F:Math.max(M,rt+F)}),Q=d(K,2);Y=Q[0],W=Q[1]}return new $.Range(Y,W-Y)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.overload=i.expandConfig=void 0;var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},d=function(){function D(M,F){var j=[],Y=!0,W=!1,q=void 0;try{for(var X,K=M[Symbol.iterator]();!(Y=(X=K.next()).done)&&(j.push(X.value),!F||j.length!==F);Y=!0);}catch(Q){W=!0,q=Q}finally{try{!Y&&K.return&&K.return()}finally{if(W)throw q}}return j}return function(M,F){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return D(M,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function D(M,F){for(var j=0;j<F.length;j++){var Y=F[j];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(M,Y.key,Y)}}return function(M,F,j){return F&&D(M.prototype,F),j&&D(M,j),M}}();t(58);var p=t(5),m=r(p),g=t(71),v=r(g),_=t(14),y=r(_),b=t(9),x=r(b),E=t(0),C=r(E),$=t(40),S=r($),P=t(3),T=r(P),k=t(8),L=r(k),N=t(48),z=r(N),B=(0,L.default)("quill"),U=function(){function D(M){var F=this,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a(this,D),this.options=s(M,j),this.container=this.options.container,this.container==null)return B.error("Invalid Quill container",M);this.options.debug&&D.debug(this.options.debug);var Y=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new y.default,this.scroll=C.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new v.default(this.scroll),this.selection=new S.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(y.default.events.EDITOR_CHANGE,function(q){q===y.default.events.TEXT_CHANGE&&F.root.classList.toggle("ql-blank",F.editor.isBlank())}),this.emitter.on(y.default.events.SCROLL_UPDATE,function(q,X){var K=F.selection.lastRange,Q=K&&K.length===0?K.index:void 0;l.call(F,function(){return F.editor.update(null,X,Q)},q)});var W=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+Y+"<p><br></p></div>");this.setContents(W),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return f(D,null,[{key:"debug",value:function(M){M===!0&&(M="log"),L.default.level(M)}},{key:"find",value:function(M){return M.__quill||C.default.find(M)}},{key:"import",value:function(M){return this.imports[M]==null&&B.error("Cannot import "+M+". Are you sure it was registered?"),this.imports[M]}},{key:"register",value:function(M,F){var j=this,Y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(typeof M!="string"){var W=M.attrName||M.blotName;typeof W=="string"?this.register("formats/"+W,M,F):Object.keys(M).forEach(function(q){j.register(q,M[q],F)})}else this.imports[M]==null||Y||B.warn("Overwriting "+M+" with",F),this.imports[M]=F,(M.startsWith("blots/")||M.startsWith("formats/"))&&F.blotName!=="abstract"?C.default.register(F):M.startsWith("modules")&&typeof F.register=="function"&&F.register()}}]),f(D,[{key:"addContainer",value:function(M){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof M=="string"){var j=M;M=document.createElement("div"),M.classList.add(j)}return this.container.insertBefore(M,F),M}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(M,F,j){var Y=this,W=c(M,F,j),q=d(W,4);return M=q[0],F=q[1],j=q[3],l.call(this,function(){return Y.editor.deleteText(M,F)},j,M,-1*F)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var M=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.scroll.enable(M),this.container.classList.toggle("ql-disabled",!M)}},{key:"focus",value:function(){var M=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=M,this.scrollIntoView()}},{key:"format",value:function(M,F){var j=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;return l.call(this,function(){var W=j.getSelection(!0),q=new m.default;if(W==null)return q;if(C.default.query(M,C.default.Scope.BLOCK))q=j.editor.formatLine(W.index,W.length,o({},M,F));else{if(W.length===0)return j.selection.format(M,F),q;q=j.editor.formatText(W.index,W.length,o({},M,F))}return j.setSelection(W,y.default.sources.SILENT),q},Y)}},{key:"formatLine",value:function(M,F,j,Y,W){var q=this,X=void 0,K=c(M,F,j,Y,W),Q=d(K,4);return M=Q[0],F=Q[1],X=Q[2],W=Q[3],l.call(this,function(){return q.editor.formatLine(M,F,X)},W,M,0)}},{key:"formatText",value:function(M,F,j,Y,W){var q=this,X=void 0,K=c(M,F,j,Y,W),Q=d(K,4);return M=Q[0],F=Q[1],X=Q[2],W=Q[3],l.call(this,function(){return q.editor.formatText(M,F,X)},W,M,0)}},{key:"getBounds",value:function(M){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,j=void 0;j=typeof M=="number"?this.selection.getBounds(M,F):this.selection.getBounds(M.index,M.length);var Y=this.container.getBoundingClientRect();return{bottom:j.bottom-Y.top,height:j.height,left:j.left-Y.left,right:j.right-Y.left,top:j.top-Y.top,width:j.width}}},{key:"getContents",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-M,j=c(M,F),Y=d(j,2);return M=Y[0],F=Y[1],this.editor.getContents(M,F)}},{key:"getFormat",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof M=="number"?this.editor.getFormat(M,F):this.editor.getFormat(M.index,M.length)}},{key:"getIndex",value:function(M){return M.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(M){return this.scroll.leaf(M)}},{key:"getLine",value:function(M){return this.scroll.line(M)}},{key:"getLines",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof M!="number"?this.scroll.lines(M.index,M.length):this.scroll.lines(M,F)}},{key:"getModule",value:function(M){return this.theme.modules[M]}},{key:"getSelection",value:function(){return arguments.length>0&&arguments[0]!==void 0&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-M,j=c(M,F),Y=d(j,2);return M=Y[0],F=Y[1],this.editor.getText(M,F)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(M,F,j){var Y=this,W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:D.sources.API;return l.call(this,function(){return Y.editor.insertEmbed(M,F,j)},W,M)}},{key:"insertText",value:function(M,F,j,Y,W){var q=this,X=void 0,K=c(M,0,j,Y,W),Q=d(K,4);return M=Q[0],X=Q[2],W=Q[3],l.call(this,function(){return q.editor.insertText(M,F,X)},W,M,F.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(M,F,j){this.clipboard.dangerouslyPasteHTML(M,F,j)}},{key:"removeFormat",value:function(M,F,j){var Y=this,W=c(M,F,j),q=d(W,4);return M=q[0],F=q[1],j=q[3],l.call(this,function(){return Y.editor.removeFormat(M,F)},j,M)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(M){var F=this,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.default.sources.API;return l.call(this,function(){M=new m.default(M);var Y=F.getLength(),W=F.editor.deleteText(0,Y),q=F.editor.applyDelta(M),X=q.ops[q.ops.length-1];return X!=null&&typeof X.insert=="string"&&X.insert[X.insert.length-1]===`
`&&(F.editor.deleteText(F.getLength()-1,1),q.delete(1)),W.compose(q)},j)}},{key:"setSelection",value:function(M,F,j){if(M==null)this.selection.setRange(null,F||D.sources.API);else{var Y=c(M,F,j),W=d(Y,4);M=W[0],F=W[1],j=W[3],this.selection.setRange(new $.Range(M,F),j),j!==y.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(M){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.default.sources.API,j=new m.default().insert(M);return this.setContents(j,F)}},{key:"update",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y.default.sources.USER,F=this.scroll.update(M);return this.selection.update(M),F}},{key:"updateContents",value:function(M){var F=this,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.default.sources.API;return l.call(this,function(){return M=new m.default(M),F.editor.applyDelta(M,j)},j,!0)}}]),D}();U.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},U.events=y.default.events,U.sources=y.default.sources,U.version="1.3.6",U.imports={delta:m.default,parchment:C.default,"core/module":x.default,"core/theme":z.default},i.expandConfig=s,i.overload=c,i.default=U},function(n,i,t){function r(h,u){if(!(h instanceof u))throw new TypeError("Cannot call a class as a function")}function o(h,u){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?h:u}function a(h,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);h.prototype=Object.create(u&&u.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(h,u):h.__proto__=u)}Object.defineProperty(i,"__esModule",{value:!0});var s=t(0),l=function(h){return h&&h.__esModule?h:{default:h}}(s),c=function(h){function u(){return r(this,u),o(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return a(u,h),u}(l.default.Text);i.default=c},function(n,i,t){function r(l){if(a.indexOf(l)<=a.indexOf(s)){for(var c,h=arguments.length,u=Array(h>1?h-1:0),d=1;d<h;d++)u[d-1]=arguments[d];(c=console)[l].apply(c,u)}}function o(l){return a.reduce(function(c,h){return c[h]=r.bind(console,h,l),c},{})}Object.defineProperty(i,"__esModule",{value:!0});var a=["error","warn","log","info"],s="warn";r.level=o.level=function(l){s=l},i.default=o},function(n,i,t){function r(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function a(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};r(this,a),this.quill=s,this.options=l};o.DEFAULTS={},i.default=o},function(n,i,t){Object.defineProperty(i,"__esModule",{value:!0});var r=t(1),o=function(){function a(s,l,c){c===void 0&&(c={}),this.attrName=s,this.keyName=l;var h=r.Scope.TYPE&r.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&r.Scope.LEVEL|h:this.scope=r.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return a.keys=function(s){return[].map.call(s.attributes,function(l){return l.name})},a.prototype.add=function(s,l){return!!this.canAdd(s,l)&&(s.setAttribute(this.keyName,l),!0)},a.prototype.canAdd=function(s,l){return r.query(s,r.Scope.BLOT&(this.scope|r.Scope.TYPE))!=null&&(this.whitelist==null||(typeof l=="string"?this.whitelist.indexOf(l.replace(/["']/g,""))>-1:this.whitelist.indexOf(l)>-1))},a.prototype.remove=function(s){s.removeAttribute(this.keyName)},a.prototype.value=function(s){var l=s.getAttribute(this.keyName);return this.canAdd(s,l)&&l?l:""},a}();i.default=o},function(n,i,t){function r(m,g,v){var _=v||{};return!(_.strict?!h(m,g):m!==g)||(!m||!g||typeof m!="object"&&typeof g!="object"?_.strict?h(m,g):m==g:s(m,g,_))}function o(m){return m==null}function a(m){return!(!m||typeof m!="object"||typeof m.length!="number")&&typeof m.copy=="function"&&typeof m.slice=="function"&&!(m.length>0&&typeof m[0]!="number")}function s(m,g,v){var _,y;if(typeof m!=typeof g||o(m)||o(g)||m.prototype!==g.prototype||c(m)!==c(g))return!1;var b=u(m),x=u(g);if(b!==x)return!1;if(b||x)return m.source===g.source&&d(m)===d(g);if(f(m)&&f(g))return p.call(m)===p.call(g);var E=a(m),C=a(g);if(E!==C)return!1;if(E||C){if(m.length!==g.length)return!1;for(_=0;_<m.length;_++)if(m[_]!==g[_])return!1;return!0}if(typeof m!=typeof g)return!1;try{var $=l(m),S=l(g)}catch{return!1}if($.length!==S.length)return!1;for($.sort(),S.sort(),_=$.length-1;_>=0;_--)if($[_]!=S[_])return!1;for(_=$.length-1;_>=0;_--)if(y=$[_],!r(m[y],g[y],v))return!1;return!0}var l=t(30),c=t(61),h=t(65),u=t(67),d=t(68),f=t(70),p=Date.prototype.getTime;n.exports=r},function(n,i,t){var r=t(30),o=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",a=Object.prototype.toString,s=Array.prototype.concat,l=Object.defineProperty,c=function(f){return typeof f=="function"&&a.call(f)==="[object Function]"},h=l&&function(){var f={};try{l(f,"x",{enumerable:!1,value:f});for(var p in f)return!1;return f.x===f}catch{return!1}}(),u=function(f,p,m,g){(!(p in f)||c(g)&&g())&&(h?l(f,p,{configurable:!0,enumerable:!1,value:m,writable:!0}):f[p]=m)},d=function(f,p){var m=arguments.length>2?arguments[2]:{},g=r(p);o&&(g=s.call(g,Object.getOwnPropertySymbols(p)));for(var v=0;v<g.length;v+=1)u(f,g[v],p[g[v]],m[g[v]])};d.supportsDescriptors=!!h,n.exports=d},function(n,i,t){function r(C){return C&&C.__esModule?C:{default:C}}function o(C,$){if(!(C instanceof $))throw new TypeError("Cannot call a class as a function")}function a(C,$){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!$||typeof $!="object"&&typeof $!="function"?C:$}function s(C,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $);C.prototype=Object.create($&&$.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(C,$):C.__proto__=$)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.Code=void 0;var l=function(){function C($,S){var P=[],T=!0,k=!1,L=void 0;try{for(var N,z=$[Symbol.iterator]();!(T=(N=z.next()).done)&&(P.push(N.value),!S||P.length!==S);T=!0);}catch(B){k=!0,L=B}finally{try{!T&&z.return&&z.return()}finally{if(k)throw L}}return P}return function($,S){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return C($,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function C($,S){for(var P=0;P<S.length;P++){var T=S[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty($,T.key,T)}}return function($,S,P){return S&&C($.prototype,S),P&&C($,P),$}}(),h=function C($,S,P){$===null&&($=Function.prototype);var T=Object.getOwnPropertyDescriptor($,S);if(T===void 0){var k=Object.getPrototypeOf($);return k===null?void 0:C(k,S,P)}if("value"in T)return T.value;var L=T.get;if(L!==void 0)return L.call(P)},u=t(5),d=r(u),f=t(0),p=r(f),m=t(2),g=r(m),v=t(4),_=r(v),y=t(7),b=r(y),x=function(C){function $(){return o(this,$),a(this,($.__proto__||Object.getPrototypeOf($)).apply(this,arguments))}return s($,C),$}(_.default);x.blotName="code",x.tagName="CODE";var E=function(C){function $(){return o(this,$),a(this,($.__proto__||Object.getPrototypeOf($)).apply(this,arguments))}return s($,C),c($,[{key:"delta",value:function(){var S=this,P=this.domNode.textContent;return P.endsWith(`
`)&&(P=P.slice(0,-1)),P.split(`
`).reduce(function(T,k){return T.insert(k).insert(`
`,S.formats())},new d.default)}},{key:"format",value:function(S,P){if(S!==this.statics.blotName||!P){var T=this.descendant(b.default,this.length()-1),k=l(T,1),L=k[0];L!=null&&L.deleteAt(L.length()-1,1),h($.prototype.__proto__||Object.getPrototypeOf($.prototype),"format",this).call(this,S,P)}}},{key:"formatAt",value:function(S,P,T,k){if(P!==0&&p.default.query(T,p.default.Scope.BLOCK)!=null&&(T!==this.statics.blotName||k!==this.statics.formats(this.domNode))){var L=this.newlineIndex(S);if(!(L<0||L>=S+P)){var N=this.newlineIndex(S,!0)+1,z=L-N+1,B=this.isolate(N,z),U=B.next;B.format(T,k),U instanceof $&&U.formatAt(0,S-N+P-z,T,k)}}}},{key:"insertAt",value:function(S,P,T){if(T==null){var k=this.descendant(b.default,S),L=l(k,2),N=L[0],z=L[1];N.insertAt(z,P)}}},{key:"length",value:function(){var S=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?S:S+1}},{key:"newlineIndex",value:function(S){if(arguments.length>1&&arguments[1]!==void 0&&arguments[1])return this.domNode.textContent.slice(0,S).lastIndexOf(`
`);var P=this.domNode.textContent.slice(S).indexOf(`
`);return P>-1?S+P:-1}},{key:"optimize",value:function(S){this.domNode.textContent.endsWith(`
`)||this.appendChild(p.default.create("text",`
`)),h($.prototype.__proto__||Object.getPrototypeOf($.prototype),"optimize",this).call(this,S);var P=this.next;P!=null&&P.prev===this&&P.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===P.statics.formats(P.domNode)&&(P.optimize(S),P.moveChildren(this),P.remove())}},{key:"replace",value:function(S){h($.prototype.__proto__||Object.getPrototypeOf($.prototype),"replace",this).call(this,S),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(P){var T=p.default.find(P);T==null?P.parentNode.removeChild(P):T instanceof p.default.Embed?T.remove():T.unwrap()})}}],[{key:"create",value:function(S){var P=h($.__proto__||Object.getPrototypeOf($),"create",this).call(this,S);return P.setAttribute("spellcheck",!1),P}},{key:"formats",value:function(){return!0}}]),$}(g.default);E.blotName="code-block",E.tagName="PRE",E.TAB="  ",i.Code=x,i.default=E},function(n,i,t){function r(y){return y&&y.__esModule?y:{default:y}}function o(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function a(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||typeof b!="object"&&typeof b!="function"?y:b}function s(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function y(b,x){for(var E=0;E<x.length;E++){var C=x[E];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,x,E){return x&&y(b.prototype,x),E&&y(b,E),b}}(),c=function y(b,x,E){b===null&&(b=Function.prototype);var C=Object.getOwnPropertyDescriptor(b,x);if(C===void 0){var $=Object.getPrototypeOf(b);return $===null?void 0:y($,x,E)}if("value"in C)return C.value;var S=C.get;if(S!==void 0)return S.call(E)},h=t(72),u=r(h),d=t(8),f=r(d),p=(0,f.default)("quill:events"),m=["selectionchange","mousedown","mouseup","click"],g=[],v="getRootNode"in document;m.forEach(function(y){document.addEventListener(y,function(){for(var b=arguments.length,x=Array(b),E=0;E<b;E++)x[E]=arguments[E];g.forEach(function(C){C.handleDOM.apply(C,x)})})});var _=function(y){function b(){o(this,b);var x=a(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return x.listeners={},g.push(x),x.on("error",p.error),x}return s(b,y),l(b,[{key:"emit",value:function(){p.log.apply(p,arguments),c(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(x){for(var E=arguments.length,C=Array(E>1?E-1:0),$=1;$<E;$++)C[$-1]=arguments[$];var S=x.composedPath?x.composedPath()[0]:x.target,P=function(T,k){if(!v||k.getRootNode()===document)return T.contains(k);for(;!T.contains(k);){var L=k.getRootNode();if(!L||!L.host)return!1;k=L.host}return!0};(this.listeners[x.type]||[]).forEach(function(T){var k=T.node,L=T.handler;(S===k||P(k,S))&&L.apply(void 0,[x].concat(C))})}},{key:"listenDOM",value:function(x,E,C){this.listeners[x]||(this.listeners[x]=[]),this.listeners[x].push({node:E,handler:C})}}]),b}(u.default);_.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},_.sources={API:"api",SILENT:"silent",USER:"user"},i.default=_},function(n,i,t){function r(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function o(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?d:f}function a(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function d(f,p){for(var m=0;m<p.length;m++){var g=p[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(f,p,m){return p&&d(f.prototype,p),m&&d(f,m),f}}(),l=function d(f,p,m){f===null&&(f=Function.prototype);var g=Object.getOwnPropertyDescriptor(f,p);if(g===void 0){var v=Object.getPrototypeOf(f);return v===null?void 0:d(v,p,m)}if("value"in g)return g.value;var _=g.get;if(_!==void 0)return _.call(m)},c=t(0),h=function(d){return d&&d.__esModule?d:{default:d}}(c),u=function(d){function f(){return r(this,f),o(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return a(f,d),s(f,[{key:"insertInto",value:function(p,m){p.children.length===0?l(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"insertInto",this).call(this,p,m):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),f}(h.default.Embed);u.blotName="break",u.tagName="BR",i.default=u},function(n,i,t){function r(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function o(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||typeof p!="object"&&typeof p!="function"?f:p}function a(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}function s(f,p){var m=document.createElement("a");m.href=f;var g=m.href.slice(0,m.href.indexOf(":"));return p.indexOf(g)>-1}Object.defineProperty(i,"__esModule",{value:!0}),i.sanitize=i.default=void 0;var l=function(){function f(p,m){for(var g=0;g<m.length;g++){var v=m[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,m,g){return m&&f(p.prototype,m),g&&f(p,g),p}}(),c=function f(p,m,g){p===null&&(p=Function.prototype);var v=Object.getOwnPropertyDescriptor(p,m);if(v===void 0){var _=Object.getPrototypeOf(p);return _===null?void 0:f(_,m,g)}if("value"in v)return v.value;var y=v.get;if(y!==void 0)return y.call(g)},h=t(4),u=function(f){return f&&f.__esModule?f:{default:f}}(h),d=function(f){function p(){return r(this,p),o(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return a(p,f),l(p,[{key:"format",value:function(m,g){if(m!==this.statics.blotName||!g)return c(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,m,g);g=this.constructor.sanitize(g),this.domNode.setAttribute("href",g)}}],[{key:"create",value:function(m){var g=c(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,m);return m=this.sanitize(m),g.setAttribute("href",m),g.setAttribute("target","_blank"),g}},{key:"formats",value:function(m){return m.getAttribute("href")}},{key:"sanitize",value:function(m){return s(m,this.PROTOCOL_WHITELIST)?m:this.SANITIZED_URL}}]),p}(u.default);d.blotName="link",d.tagName="A",d.SANITIZED_URL="about:blank",d.PROTOCOL_WHITELIST=["http","https","mailto","tel"],i.default=d,i.sanitize=s},function(n,i,t){function r(h){var u=l.find(h);if(u==null)try{u=l.create(h)}catch{u=l.create(l.Scope.INLINE),[].slice.call(h.childNodes).forEach(function(f){u.domNode.appendChild(f)}),h.parentNode&&h.parentNode.replaceChild(u.domNode,h),u.attach()}return u}var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var f in d)d.hasOwnProperty(f)&&(u[f]=d[f])};return function(u,d){function f(){this.constructor=u}h(u,d),u.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(i,"__esModule",{value:!0});var a=t(52),s=t(26),l=t(1),c=function(h){function u(d){var f=h.call(this,d)||this;return f.build(),f}return o(u,h),u.prototype.appendChild=function(d){this.insertBefore(d)},u.prototype.attach=function(){h.prototype.attach.call(this),this.children.forEach(function(d){d.attach()})},u.prototype.build=function(){var d=this;this.children=new a.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(f){try{var p=r(f);d.insertBefore(p,d.children.head||void 0)}catch(m){if(m instanceof l.ParchmentError)return;throw m}})},u.prototype.deleteAt=function(d,f){if(d===0&&f===this.length())return this.remove();this.children.forEachAt(d,f,function(p,m,g){p.deleteAt(m,g)})},u.prototype.descendant=function(d,f){var p=this.children.find(f),m=p[0],g=p[1];return d.blotName==null&&d(m)||d.blotName!=null&&m instanceof d?[m,g]:m instanceof u?m.descendant(d,g):[null,-1]},u.prototype.descendants=function(d,f,p){f===void 0&&(f=0),p===void 0&&(p=Number.MAX_VALUE);var m=[],g=p;return this.children.forEachAt(f,p,function(v,_,y){(d.blotName==null&&d(v)||d.blotName!=null&&v instanceof d)&&m.push(v),v instanceof u&&(m=m.concat(v.descendants(d,_,g))),g-=y}),m},u.prototype.detach=function(){this.children.forEach(function(d){d.detach()}),h.prototype.detach.call(this)},u.prototype.formatAt=function(d,f,p,m){this.children.forEachAt(d,f,function(g,v,_){g.formatAt(v,_,p,m)})},u.prototype.insertAt=function(d,f,p){var m=this.children.find(d),g=m[0],v=m[1];if(g)g.insertAt(v,f,p);else{var _=p==null?l.create("text",f):l.create(f,p);this.appendChild(_)}},u.prototype.insertBefore=function(d,f){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(p){return d instanceof p}))throw new l.ParchmentError("Cannot insert "+d.statics.blotName+" into "+this.statics.blotName);d.insertInto(this,f)},u.prototype.length=function(){return this.children.reduce(function(d,f){return d+f.length()},0)},u.prototype.moveChildren=function(d,f){this.children.forEach(function(p){d.insertBefore(p,f)})},u.prototype.optimize=function(d){if(h.prototype.optimize.call(this,d),this.children.length===0)if(this.statics.defaultChild!=null){var f=l.create(this.statics.defaultChild);this.appendChild(f),f.optimize(d)}else this.remove()},u.prototype.path=function(d,f){f===void 0&&(f=!1);var p=this.children.find(d,f),m=p[0],g=p[1],v=[[this,d]];return m instanceof u?v.concat(m.path(g,f)):(m!=null&&v.push([m,g]),v)},u.prototype.removeChild=function(d){this.children.remove(d)},u.prototype.replace=function(d){d instanceof u&&d.moveChildren(this),h.prototype.replace.call(this,d)},u.prototype.split=function(d,f){if(f===void 0&&(f=!1),!f){if(d===0)return this;if(d===this.length())return this.next}var p=this.clone();return this.parent.insertBefore(p,this.next),this.children.forEachAt(d,this.length(),function(m,g,v){m=m.split(g,f),p.appendChild(m)}),p},u.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},u.prototype.update=function(d,f){var p=this,m=[],g=[];d.forEach(function(v){v.target===p.domNode&&v.type==="childList"&&(m.push.apply(m,v.addedNodes),g.push.apply(g,v.removedNodes))}),g.forEach(function(v){if(!(v.parentNode!=null&&v.tagName!=="IFRAME"&&document.body.compareDocumentPosition(v)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var _=l.find(v);_!=null&&(_.domNode.parentNode!=null&&_.domNode.parentNode!==p.domNode||_.detach())}}),m.filter(function(v){return v.parentNode==p.domNode}).sort(function(v,_){return v===_?0:v.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(v){var _=null;v.nextSibling!=null&&(_=l.find(v.nextSibling));var y=r(v);y.next==_&&y.next!=null||(y.parent!=null&&y.parent.removeChild(p),p.insertBefore(y,_||void 0))})},u}(s.default);i.default=c},function(n,i,t){var r=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var f in d)d.hasOwnProperty(f)&&(u[f]=d[f])};return function(u,d){function f(){this.constructor=u}h(u,d),u.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=t(10),a=t(27),s=t(17),l=t(1),c=function(h){function u(d){var f=h.call(this,d)||this;return f.attributes=new a.default(f.domNode),f}return r(u,h),u.formats=function(d){return typeof this.tagName=="string"||(Array.isArray(this.tagName)?d.tagName.toLowerCase():void 0)},u.prototype.format=function(d,f){var p=l.query(d);p instanceof o.default?this.attributes.attribute(p,f):f&&(p==null||d===this.statics.blotName&&this.formats()[d]===f||this.replaceWith(d,f))},u.prototype.formats=function(){var d=this.attributes.values(),f=this.statics.formats(this.domNode);return f!=null&&(d[this.statics.blotName]=f),d},u.prototype.replaceWith=function(d,f){var p=h.prototype.replaceWith.call(this,d,f);return this.attributes.copy(p),p},u.prototype.update=function(d,f){var p=this;h.prototype.update.call(this,d,f),d.some(function(m){return m.target===p.domNode&&m.type==="attributes"})&&this.attributes.build()},u.prototype.wrap=function(d,f){var p=h.prototype.wrap.call(this,d,f);return p instanceof u&&p.statics.scope===this.statics.scope&&this.attributes.move(p),p},u}(s.default);i.default=c},function(n,i,t){var r=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var u in h)h.hasOwnProperty(u)&&(c[u]=h[u])};return function(c,h){function u(){this.constructor=c}l(c,h),c.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=t(26),a=t(1),s=function(l){function c(){return l!==null&&l.apply(this,arguments)||this}return r(c,l),c.value=function(h){return!0},c.prototype.index=function(h,u){return this.domNode===h||this.domNode.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(u,1):-1},c.prototype.position=function(h,u){var d=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return h>0&&(d+=1),[this.parent.domNode,d]},c.prototype.value=function(){var h;return h={},h[this.statics.blotName]=this.statics.value(this.domNode)||!0,h},c.scope=a.Scope.INLINE_BLOT,c}(o.default);i.default=s},function(n,i,t){var r=t(63);n.exports=Function.prototype.bind||r},function(n,i,t){var r=t(20),o=t(33),a=o("%Function.prototype.apply%"),s=o("%Function.prototype.call%"),l=o("%Reflect.apply%",!0)||r.call(s,a),c=o("%Object.getOwnPropertyDescriptor%",!0),h=o("%Object.defineProperty%",!0),u=o("%Math.max%");if(h)try{h({},"a",{value:1})}catch{h=null}n.exports=function(f){var p=l(r,s,arguments);return c&&h&&c(p,"length").configurable&&h(p,"length",{value:1+u(0,f.length-(arguments.length-1))}),p};var d=function(){return l(r,a,arguments)};h?h(n.exports,"apply",{value:d}):n.exports.apply=d},function(n,i,t){function r(l){this.ops=l,this.index=0,this.offset=0}var o=t(11),a=t(3),s={attributes:{compose:function(l,c,h){typeof l!="object"&&(l={}),typeof c!="object"&&(c={});var u=a(!0,{},c);h||(u=Object.keys(u).reduce(function(f,p){return u[p]!=null&&(f[p]=u[p]),f},{}));for(var d in l)l[d]!==void 0&&c[d]===void 0&&(u[d]=l[d]);return Object.keys(u).length>0?u:void 0},diff:function(l,c){typeof l!="object"&&(l={}),typeof c!="object"&&(c={});var h=Object.keys(l).concat(Object.keys(c)).reduce(function(u,d){return o(l[d],c[d])||(u[d]=c[d]===void 0?null:c[d]),u},{});return Object.keys(h).length>0?h:void 0},transform:function(l,c,h){if(typeof l!="object")return c;if(typeof c=="object"){if(!h)return c;var u=Object.keys(c).reduce(function(d,f){return l[f]===void 0&&(d[f]=c[f]),d},{});return Object.keys(u).length>0?u:void 0}}},iterator:function(l){return new r(l)},length:function(l){return typeof l.delete=="number"?l.delete:typeof l.retain=="number"?l.retain:typeof l.insert=="string"?l.insert.length:1}};r.prototype.hasNext=function(){return this.peekLength()<1/0},r.prototype.next=function(l){l||(l=1/0);var c=this.ops[this.index];if(c){var h=this.offset,u=s.length(c);if(l>=u-h?(l=u-h,this.index+=1,this.offset=0):this.offset+=l,typeof c.delete=="number")return{delete:l};var d={};return c.attributes&&(d.attributes=c.attributes),typeof c.retain=="number"?d.retain=l:typeof c.insert=="string"?d.insert=c.insert.substr(h,l):d.insert=c.insert,d}return{retain:1/0}},r.prototype.peek=function(){return this.ops[this.index]},r.prototype.peekLength=function(){return this.ops[this.index]?s.length(this.ops[this.index])-this.offset:1/0},r.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},r.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var l=this.offset,c=this.index,h=this.next(),u=this.ops.slice(this.index);return this.offset=l,this.index=c,[h].concat(u)}return[]},n.exports=s},function(n,i){var t=function(){function r(p,m){return m!=null&&p instanceof m}function o(p,m,g,v,_){function y(C,$){if(C===null)return null;if($===0)return C;var S,P;if(typeof C!="object")return C;if(r(C,u))S=new u;else if(r(C,d))S=new d;else if(r(C,f))S=new f(function(M,F){C.then(function(j){M(y(j,$-1))},function(j){F(y(j,$-1))})});else if(o.__isArray(C))S=[];else if(o.__isRegExp(C))S=new RegExp(C.source,h(C)),C.lastIndex&&(S.lastIndex=C.lastIndex);else if(o.__isDate(C))S=new Date(C.getTime());else{if(E&&Buffer.isBuffer(C))return S=Buffer.allocUnsafe?Buffer.allocUnsafe(C.length):new Buffer(C.length),C.copy(S),S;r(C,Error)?S=Object.create(C):v===void 0?(P=Object.getPrototypeOf(C),S=Object.create(P)):(S=Object.create(v),P=v)}if(m){var T=b.indexOf(C);if(T!=-1)return x[T];b.push(C),x.push(S)}r(C,u)&&C.forEach(function(M,F){var j=y(F,$-1),Y=y(M,$-1);S.set(j,Y)}),r(C,d)&&C.forEach(function(M){var F=y(M,$-1);S.add(F)});for(var k in C){var L;P&&(L=Object.getOwnPropertyDescriptor(P,k)),L&&L.set==null||(S[k]=y(C[k],$-1))}if(Object.getOwnPropertySymbols)for(var N=Object.getOwnPropertySymbols(C),k=0;k<N.length;k++){var z=N[k],B=Object.getOwnPropertyDescriptor(C,z);(!B||B.enumerable||_)&&(S[z]=y(C[z],$-1),B.enumerable||Object.defineProperty(S,z,{enumerable:!1}))}if(_)for(var U=Object.getOwnPropertyNames(C),k=0;k<U.length;k++){var D=U[k],B=Object.getOwnPropertyDescriptor(C,D);B&&B.enumerable||(S[D]=y(C[D],$-1),Object.defineProperty(S,D,{enumerable:!1}))}return S}typeof m=="object"&&(g=m.depth,v=m.prototype,_=m.includeNonEnumerable,m=m.circular);var b=[],x=[],E=typeof Buffer<"u";return m===void 0&&(m=!0),g===void 0&&(g=1/0),y(p,g)}function a(p){return Object.prototype.toString.call(p)}function s(p){return typeof p=="object"&&a(p)==="[object Date]"}function l(p){return typeof p=="object"&&a(p)==="[object Array]"}function c(p){return typeof p=="object"&&a(p)==="[object RegExp]"}function h(p){var m="";return p.global&&(m+="g"),p.ignoreCase&&(m+="i"),p.multiline&&(m+="m"),m}var u;try{u=Map}catch{u=function(){}}var d;try{d=Set}catch{d=function(){}}var f;try{f=Promise}catch{f=function(){}}return o.clonePrototype=function(p){if(p===null)return null;var m=function(){};return m.prototype=p,new m},o.__objToStr=a,o.__isDate=s,o.__isArray=l,o.__isRegExp=c,o.__getRegExpFlags=h,o}();typeof n=="object"&&n.exports&&(n.exports=t)},function(n,i,t){function r(f){return f&&f.__esModule?f:{default:f}}function o(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function a(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||typeof p!="object"&&typeof p!="function"?f:p}function s(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}Object.defineProperty(i,"__esModule",{value:!0});var l=t(0),c=r(l),h=t(2),u=r(h),d=function(f){function p(){return o(this,p),a(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return s(p,f),p}(c.default.Container);d.allowedChildren=[u.default,h.BlockEmbed,d],i.default=d},function(n,i,t){function r(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function o(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||typeof m!="object"&&typeof m!="function"?p:m}function a(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}Object.defineProperty(i,"__esModule",{value:!0}),i.ColorStyle=i.ColorClass=i.ColorAttributor=void 0;var s=function(){function p(m,g){for(var v=0;v<g.length;v++){var _=g[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,g,v){return g&&p(m.prototype,g),v&&p(m,v),m}}(),l=function p(m,g,v){m===null&&(m=Function.prototype);var _=Object.getOwnPropertyDescriptor(m,g);if(_===void 0){var y=Object.getPrototypeOf(m);return y===null?void 0:p(y,g,v)}if("value"in _)return _.value;var b=_.get;if(b!==void 0)return b.call(v)},c=t(0),h=function(p){return p&&p.__esModule?p:{default:p}}(c),u=function(p){function m(){return r(this,m),o(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,p),s(m,[{key:"value",value:function(g){var v=l(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,g);return v.startsWith("rgb(")?(v=v.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+v.split(",").map(function(_){return("00"+parseInt(_).toString(16)).slice(-2)}).join("")):v}}]),m}(h.default.Attributor.Style),d=new h.default.Attributor.Class("color","ql-color",{scope:h.default.Scope.INLINE}),f=new u("color","color",{scope:h.default.Scope.INLINE});i.ColorAttributor=u,i.ColorClass=d,i.ColorStyle=f},function(n,i,t){Object.defineProperty(i,"__esModule",{value:!0});var r=t(1),o=function(){function a(s){this.domNode=s,this.domNode[r.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(s){if(this.tagName==null)throw new r.ParchmentError("Blot definition missing tagName");var l;return Array.isArray(this.tagName)?(typeof s=="string"&&(s=s.toUpperCase(),parseInt(s).toString()===s&&(s=parseInt(s))),l=typeof s=="number"?document.createElement(this.tagName[s-1]):this.tagName.indexOf(s)>-1?document.createElement(s):document.createElement(this.tagName[0])):l=document.createElement(this.tagName),this.className&&l.classList.add(this.className),l},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var s=this.domNode.cloneNode(!1);return r.create(s)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[r.DATA_KEY]},a.prototype.deleteAt=function(s,l){this.isolate(s,l).remove()},a.prototype.formatAt=function(s,l,c,h){var u=this.isolate(s,l);if(r.query(c,r.Scope.BLOT)!=null&&h)u.wrap(c,h);else if(r.query(c,r.Scope.ATTRIBUTE)!=null){var d=r.create(this.statics.scope);u.wrap(d),d.format(c,h)}},a.prototype.insertAt=function(s,l,c){var h=c==null?r.create("text",l):r.create(l,c),u=this.split(s);this.parent.insertBefore(h,u)},a.prototype.insertInto=function(s,l){l===void 0&&(l=null),this.parent!=null&&this.parent.children.remove(this);var c=null;s.children.insertBefore(this,l),l!=null&&(c=l.domNode),this.domNode.parentNode==s.domNode&&this.domNode.nextSibling==c||s.domNode.insertBefore(this.domNode,c),this.parent=s,this.attach()},a.prototype.isolate=function(s,l){var c=this.split(s);return c.split(l),c},a.prototype.length=function(){return 1},a.prototype.offset=function(s){return s===void 0&&(s=this.parent),this.parent==null||this==s?0:this.parent.children.offset(this)+this.parent.offset(s)},a.prototype.optimize=function(s){this.domNode[r.DATA_KEY]!=null&&delete this.domNode[r.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(s){s.parent!=null&&(s.parent.insertBefore(this,s.next),s.remove())},a.prototype.replaceWith=function(s,l){var c=typeof s=="string"?r.create(s,l):s;return c.replace(this),c},a.prototype.split=function(s,l){return s===0?this:this.next},a.prototype.update=function(s,l){},a.prototype.wrap=function(s,l){var c=typeof s=="string"?r.create(s,l):s;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},a.blotName="abstract",a}();i.default=o},function(n,i,t){Object.defineProperty(i,"__esModule",{value:!0});var r=t(10),o=t(28),a=t(29),s=t(1),l=function(){function c(h){this.attributes={},this.domNode=h,this.build()}return c.prototype.attribute=function(h,u){u?h.add(this.domNode,u)&&(h.value(this.domNode)!=null?this.attributes[h.attrName]=h:delete this.attributes[h.attrName]):(h.remove(this.domNode),delete this.attributes[h.attrName])},c.prototype.build=function(){var h=this;this.attributes={};var u=r.default.keys(this.domNode),d=o.default.keys(this.domNode),f=a.default.keys(this.domNode);u.concat(d).concat(f).forEach(function(p){var m=s.query(p,s.Scope.ATTRIBUTE);m instanceof r.default&&(h.attributes[m.attrName]=m)})},c.prototype.copy=function(h){var u=this;Object.keys(this.attributes).forEach(function(d){var f=u.attributes[d].value(u.domNode);h.format(d,f)})},c.prototype.move=function(h){var u=this;this.copy(h),Object.keys(this.attributes).forEach(function(d){u.attributes[d].remove(u.domNode)}),this.attributes={}},c.prototype.values=function(){var h=this;return Object.keys(this.attributes).reduce(function(u,d){return u[d]=h.attributes[d].value(h.domNode),u},{})},c}();i.default=l},function(n,i,t){function r(l,c){return(l.getAttribute("class")||"").split(/\s+/).filter(function(h){return h.indexOf(c+"-")===0})}var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var u in h)h.hasOwnProperty(u)&&(c[u]=h[u])};return function(c,h){function u(){this.constructor=c}l(c,h),c.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}();Object.defineProperty(i,"__esModule",{value:!0});var a=t(10),s=function(l){function c(){return l!==null&&l.apply(this,arguments)||this}return o(c,l),c.keys=function(h){return(h.getAttribute("class")||"").split(/\s+/).map(function(u){return u.split("-").slice(0,-1).join("-")})},c.prototype.add=function(h,u){return!!this.canAdd(h,u)&&(this.remove(h),h.classList.add(this.keyName+"-"+u),!0)},c.prototype.remove=function(h){r(h,this.keyName).forEach(function(u){h.classList.remove(u)}),h.classList.length===0&&h.removeAttribute("class")},c.prototype.value=function(h){var u=r(h,this.keyName)[0]||"",d=u.slice(this.keyName.length+1);return this.canAdd(h,d)?d:""},c}(a.default);i.default=s},function(n,i,t){function r(l){var c=l.split("-"),h=c.slice(1).map(function(u){return u[0].toUpperCase()+u.slice(1)}).join("");return c[0]+h}var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var u in h)h.hasOwnProperty(u)&&(c[u]=h[u])};return function(c,h){function u(){this.constructor=c}l(c,h),c.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}();Object.defineProperty(i,"__esModule",{value:!0});var a=t(10),s=function(l){function c(){return l!==null&&l.apply(this,arguments)||this}return o(c,l),c.keys=function(h){return(h.getAttribute("style")||"").split(";").map(function(u){return u.split(":")[0].trim()})},c.prototype.add=function(h,u){return!!this.canAdd(h,u)&&(h.style[r(this.keyName)]=u,!0)},c.prototype.remove=function(h){h.style[r(this.keyName)]="",h.getAttribute("style")||h.removeAttribute("style")},c.prototype.value=function(h){var u=h.style[r(this.keyName)];return this.canAdd(h,u)?u:""},c}(a.default);i.default=s},function(n,i,t){var r=Array.prototype.slice,o=t(31),a=Object.keys,s=a?function(c){return a(c)}:t(60),l=Object.keys;s.shim=function(){return Object.keys?function(){var c=Object.keys(arguments);return c&&c.length===arguments.length}(1,2)||(Object.keys=function(c){return l(o(c)?r.call(c):c)}):Object.keys=s,Object.keys||s},n.exports=s},function(n,i,t){var r=Object.prototype.toString;n.exports=function(o){var a=r.call(o),s=a==="[object Arguments]";return s||(s=a!=="[object Array]"&&o!==null&&typeof o=="object"&&typeof o.length=="number"&&o.length>=0&&r.call(o.callee)==="[object Function]"),s}},function(n,i,t){var r=t(33),o=t(21),a=o(r("String.prototype.indexOf"));n.exports=function(s,l){var c=r(s,!!l);return typeof c=="function"&&a(s,".prototype.")>-1?o(c):c}},function(n,i,t){var r=SyntaxError,o=Function,a=TypeError,s=function(k){try{return o('"use strict"; return ('+k+").constructor;")()}catch{}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch{l=null}var c=function(){throw new a},h=l?function(){try{return arguments.callee,c}catch{try{return l(arguments,"callee").get}catch{return c}}}():c,u=t(62)(),d=Object.getPrototypeOf||function(k){return k.__proto__},f={},p=typeof Uint8Array>"u"?void 0:d(Uint8Array),m={"%AggregateError%":typeof AggregateError>"u"?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":u?d([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":typeof Atomics>"u"?void 0:Atomics,"%BigInt%":typeof BigInt>"u"?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?void 0:Float32Array,"%Float64Array%":typeof Float64Array>"u"?void 0:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?void 0:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":f,"%Int8Array%":typeof Int8Array>"u"?void 0:Int8Array,"%Int16Array%":typeof Int16Array>"u"?void 0:Int16Array,"%Int32Array%":typeof Int32Array>"u"?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u?d(d([][Symbol.iterator]())):void 0,"%JSON%":typeof JSON=="object"?JSON:void 0,"%Map%":typeof Map>"u"?void 0:Map,"%MapIteratorPrototype%":typeof Map<"u"&&u?d(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?void 0:Promise,"%Proxy%":typeof Proxy>"u"?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?void 0:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?void 0:Set,"%SetIteratorPrototype%":typeof Set<"u"&&u?d(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u?d(""[Symbol.iterator]()):void 0,"%Symbol%":u?Symbol:void 0,"%SyntaxError%":r,"%ThrowTypeError%":h,"%TypedArray%":p,"%TypeError%":a,"%Uint8Array%":typeof Uint8Array>"u"?void 0:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?void 0:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?void 0:WeakMap,"%WeakRef%":typeof WeakRef>"u"?void 0:WeakRef,"%WeakSet%":typeof WeakSet>"u"?void 0:WeakSet},g=function k(L){var N;if(L==="%AsyncFunction%")N=s("async function () {}");else if(L==="%GeneratorFunction%")N=s("function* () {}");else if(L==="%AsyncGeneratorFunction%")N=s("async function* () {}");else if(L==="%AsyncGenerator%"){var z=k("%AsyncGeneratorFunction%");z&&(N=z.prototype)}else if(L==="%AsyncIteratorPrototype%"){var B=k("%AsyncGenerator%");B&&(N=d(B.prototype))}return m[L]=N,N},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},_=t(20),y=t(64),b=_.call(Function.call,Array.prototype.concat),x=_.call(Function.apply,Array.prototype.splice),E=_.call(Function.call,String.prototype.replace),C=_.call(Function.call,String.prototype.slice),$=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g,P=function(k){var L=C(k,0,1),N=C(k,-1);if(L==="%"&&N!=="%")throw new r("invalid intrinsic syntax, expected closing `%`");if(N==="%"&&L!=="%")throw new r("invalid intrinsic syntax, expected opening `%`");var z=[];return E(k,$,function(B,U,D,M){z[z.length]=D?E(M,S,"$1"):U||B}),z},T=function(k,L){var N,z=k;if(y(v,z)&&(N=v[z],z="%"+N[0]+"%"),y(m,z)){var B=m[z];if(B===f&&(B=g(z)),B===void 0&&!L)throw new a("intrinsic "+k+" exists, but is not available. Please file an issue!");return{alias:N,name:z,value:B}}throw new r("intrinsic "+k+" does not exist!")};n.exports=function(k,L){if(typeof k!="string"||k.length===0)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof L!="boolean")throw new a('"allowMissing" argument must be a boolean');var N=P(k),z=N.length>0?N[0]:"",B=T("%"+z+"%",L),U=B.name,D=B.value,M=!1,F=B.alias;F&&(z=F[0],x(N,b([0,1],F)));for(var j=1,Y=!0;j<N.length;j+=1){var W=N[j],q=C(W,0,1),X=C(W,-1);if((q==='"'||q==="'"||q==="`"||X==='"'||X==="'"||X==="`")&&q!==X)throw new r("property names with quotes must have matching quotes");if(W!=="constructor"&&Y||(M=!0),z+="."+W,U="%"+z+"%",y(m,U))D=m[U];else if(D!=null){if(!(W in D)){if(!L)throw new a("base intrinsic for "+k+" exists, but the property is not available.");return}if(l&&j+1>=N.length){var K=l(D,W);Y=!!K,D=Y&&"get"in K&&!("originalValue"in K.get)?K.get:D[W]}else Y=y(D,W),D=D[W];Y&&!M&&(m[U]=D)}}return D}},function(n,i,t){n.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var r={},o=Symbol("test"),a=Object(o);if(typeof o=="string"||Object.prototype.toString.call(o)!=="[object Symbol]"||Object.prototype.toString.call(a)!=="[object Symbol]")return!1;r[o]=42;for(o in r)return!1;if(typeof Object.keys=="function"&&Object.keys(r).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(r).length!==0)return!1;var s=Object.getOwnPropertySymbols(r);if(s.length!==1||s[0]!==o||!Object.prototype.propertyIsEnumerable.call(r,o))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(r,o);if(l.value!==42||l.enumerable!==!0)return!1}return!0}},function(n,i,t){var r=function(o){return o!==o};n.exports=function(o,a){return o===0&&a===0?1/o==1/a:o===a||!(!r(o)||!r(a))}},function(n,i,t){var r=t(35);n.exports=function(){return typeof Object.is=="function"?Object.is:r}},function(n,i,t){var r=Object,o=TypeError;n.exports=function(){if(this!=null&&this!==r(this))throw new o("RegExp.prototype.flags getter called on non-object");var a="";return this.global&&(a+="g"),this.ignoreCase&&(a+="i"),this.multiline&&(a+="m"),this.dotAll&&(a+="s"),this.unicode&&(a+="u"),this.sticky&&(a+="y"),a}},function(n,i,t){var r=t(37),o=t(12).supportsDescriptors,a=Object.getOwnPropertyDescriptor,s=TypeError;n.exports=function(){if(!o)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if(/a/gim.flags==="gim"){var l=a(RegExp.prototype,"flags");if(l&&typeof l.get=="function"&&typeof/a/.dotAll=="boolean")return l.get}return r}},function(n,i,t){function r(g){return g&&g.__esModule?g:{default:g}}function o(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function a(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||typeof v!="object"&&typeof v!="function"?g:v}function s(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function g(v,_){var y=[],b=!0,x=!1,E=void 0;try{for(var C,$=v[Symbol.iterator]();!(b=(C=$.next()).done)&&(y.push(C.value),!_||y.length!==_);b=!0);}catch(S){x=!0,E=S}finally{try{!b&&$.return&&$.return()}finally{if(x)throw E}}return y}return function(v,_){if(Array.isArray(v))return v;if(Symbol.iterator in Object(v))return g(v,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function g(v,_,y){v===null&&(v=Function.prototype);var b=Object.getOwnPropertyDescriptor(v,_);if(b===void 0){var x=Object.getPrototypeOf(v);return x===null?void 0:g(x,_,y)}if("value"in b)return b.value;var E=b.get;if(E!==void 0)return E.call(y)},h=function(){function g(v,_){for(var y=0;y<_.length;y++){var b=_[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,_,y){return _&&g(v.prototype,_),y&&g(v,y),v}}(),u=t(0),d=r(u),f=t(7),p=r(f),m=function(g){function v(_,y){o(this,v);var b=a(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,_));return b.selection=y,b.textNode=document.createTextNode(v.CONTENTS),b.domNode.appendChild(b.textNode),b._length=0,b}return s(v,g),h(v,null,[{key:"value",value:function(){}}]),h(v,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(_,y){if(this._length!==0)return c(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,_,y);for(var b=this,x=0;b!=null&&b.statics.scope!==d.default.Scope.BLOCK_BLOT;)x+=b.offset(b.parent),b=b.parent;b!=null&&(this._length=v.CONTENTS.length,b.optimize(),b.formatAt(x,v.CONTENTS.length,_,y),this._length=0)}},{key:"index",value:function(_,y){return _===this.textNode?0:c(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"index",this).call(this,_,y)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){c(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&this.parent!=null){var _=this.textNode,y=this.selection.getNativeRange(),b=void 0,x=void 0,E=void 0;if(y!=null&&y.start.node===_&&y.end.node===_){var C=[_,y.start.offset,y.end.offset];b=C[0],x=C[1],E=C[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==v.CONTENTS){var $=this.textNode.data.split(v.CONTENTS).join("");this.next instanceof p.default?(b=this.next.domNode,this.next.insertAt(0,$),this.textNode.data=v.CONTENTS):(this.textNode.data=$,this.parent.insertBefore(d.default.create(this.textNode),this),this.textNode=document.createTextNode(v.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),x!=null){var S=[x,E].map(function(T){return Math.max(0,Math.min(b.data.length,T-1))}),P=l(S,2);return x=P[0],E=P[1],{startNode:b,startOffset:x,endNode:b,endOffset:E}}}}},{key:"update",value:function(_,y){var b=this;if(_.some(function(E){return E.type==="characterData"&&E.target===b.textNode})){var x=this.restore();x&&(y.range=x)}}},{key:"value",value:function(){return""}}]),v}(d.default.Embed);m.blotName="cursor",m.className="ql-cursor",m.tagName="span",m.CONTENTS="\uFEFF",i.default=m},function(n,i,t){function r($){return $&&$.__esModule?$:{default:$}}function o($){if(Array.isArray($)){for(var S=0,P=Array($.length);S<$.length;S++)P[S]=$[S];return P}return Array.from($)}function a($,S){if(!($ instanceof S))throw new TypeError("Cannot call a class as a function")}function s($,S){try{S.parentNode}catch{return!1}return S instanceof Text&&(S=S.parentNode),$.contains(S)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.Range=void 0;var l=function(){function $(S,P){var T=[],k=!0,L=!1,N=void 0;try{for(var z,B=S[Symbol.iterator]();!(k=(z=B.next()).done)&&(T.push(z.value),!P||T.length!==P);k=!0);}catch(U){L=!0,N=U}finally{try{!k&&B.return&&B.return()}finally{if(L)throw N}}return T}return function(S,P){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return $(S,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function $(S,P){for(var T=0;T<P.length;T++){var k=P[T];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(S,k.key,k)}}return function(S,P,T){return P&&$(S.prototype,P),T&&$(S,T),S}}(),h=t(0),u=r(h),d=t(23),f=r(d),p=t(11),m=r(p),g=t(14),v=r(g),_=t(8),y=r(_),b=t(73),x=(0,y.default)("quill:selection"),E=function $(S){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;a(this,$),this.index=S,this.length=P},C=function(){function $(S,P){var T=this;a(this,$),this.emitter=P,this.scroll=S,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.rootDocument=this.root.getRootNode?this.root.getRootNode():document,this.cursor=u.default.create("cursor",this),this.lastRange=this.savedRange=new E(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){T.mouseDown||T.composing||setTimeout(T.update.bind(T,v.default.sources.USER),1)}),this.emitter.on(v.default.events.SCROLL_BEFORE_UPDATE,function(k,L){if(T.hasFocus()){var N=T.getNativeRange();if(N!=null){var z=N.start.offset===0&&N.start.offset===N.end.offset&&T.rootDocument.getSelection()instanceof b.ShadowSelection&&L.some(function(B){return B.type==="characterData"&&B.oldValue===""})?1:0;N.start.node!==T.cursor.textNode&&T.emitter.once(v.default.events.SCROLL_UPDATE,function(){try{T.root.contains(N.start.node)&&T.root.contains(N.end.node)&&T.setNativeRange(N.start.node,N.start.offset+z,N.end.node,N.end.offset+z),T.update(v.default.sources.SILENT)}catch{}})}}}),this.emitter.on(v.default.events.SCROLL_OPTIMIZE,function(k,L){if(L.range){var N=L.range,z=N.startNode,B=N.startOffset,U=N.endNode,D=N.endOffset;T.setNativeRange(z,B,U,D)}}),this.update(v.default.sources.SILENT)}return c($,[{key:"handleComposition",value:function(){var S=this;this.root.addEventListener("compositionstart",function(){S.composing=!0}),this.root.addEventListener("compositionend",function(){if(S.composing=!1,S.cursor.parent){var P=S.cursor.restore();if(!P)return;setTimeout(function(){S.setNativeRange(P.startNode,P.startOffset,P.endNode,P.endOffset)},1)}})}},{key:"handleDragging",value:function(){var S=this;this.emitter.listenDOM("mousedown",document.body,function(){S.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){S.mouseDown=!1,S.update(v.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(S,P){if(this.scroll.whitelist==null||this.scroll.whitelist[S]){this.scroll.update();var T=this.getNativeRange();if(T!=null&&T.native.collapsed&&!u.default.query(S,u.default.Scope.BLOCK)){if(T.start.node!==this.cursor.textNode){var k=u.default.find(T.start.node,!1);if(k==null)return;if(k instanceof u.default.Leaf){var L=k.split(T.start.offset);k.parent.insertBefore(this.cursor,L)}else k.insertBefore(this.cursor,T.start.node);this.cursor.attach()}this.cursor.format(S,P),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(S){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,T=this.scroll.length();S=Math.min(S,T-1),P=Math.min(S+P,T-1)-S;var k=void 0,L=this.scroll.leaf(S),N=l(L,2),z=N[0],B=N[1];if(z==null)return null;var U=z.position(B,!0),D=l(U,2);k=D[0],B=D[1];var M=document.createRange();if(P>0){M.setStart(k,B);var F=this.scroll.leaf(S+P),j=l(F,2);if(z=j[0],B=j[1],z==null)return null;var Y=z.position(B,!0),W=l(Y,2);return k=W[0],B=W[1],M.setEnd(k,B),M.getBoundingClientRect()}var q="left",X=void 0;return k instanceof Text?(B<k.data.length?(M.setStart(k,B),M.setEnd(k,B+1)):(M.setStart(k,B-1),M.setEnd(k,B),q="right"),X=M.getBoundingClientRect()):(X=z.domNode.getBoundingClientRect(),B>0&&(q="right")),{bottom:X.top+X.height,height:X.height,left:X[q],right:X[q],top:X.top,width:0}}},{key:"getNativeRange",value:function(){var S=this.rootDocument.getSelection();if(S==null||S.rangeCount<=0)return null;var P=S.getRangeAt(0);if(P==null)return null;var T=this.normalizeNative(P);return x.info("getNativeRange",T),T}},{key:"getRange",value:function(){var S=this.getNativeRange();return S==null?[null,null]:[this.normalizedToRange(S),S]}},{key:"hasFocus",value:function(){return this.rootDocument.activeElement===this.root}},{key:"normalizedToRange",value:function(S){var P=this,T=[[S.start.node,S.start.offset]];S.native.collapsed||T.push([S.end.node,S.end.offset]);var k=T.map(function(z){var B=l(z,2),U=B[0],D=B[1],M=u.default.find(U,!0),F=M.offset(P.scroll);return D===0?F:M instanceof u.default.Container?F+M.length():F+M.index(U,D)}),L=Math.min(Math.max.apply(Math,o(k)),this.scroll.length()-1),N=Math.min.apply(Math,[L].concat(o(k)));return new E(N,L-N)}},{key:"normalizeNative",value:function(S){if(!s(this.root,S.startContainer)||!S.collapsed&&!s(this.root,S.endContainer))return null;var P={start:{node:S.startContainer,offset:S.startOffset},end:{node:S.endContainer,offset:S.endOffset},native:S};return[P.start,P.end].forEach(function(T){for(var k=T.node,L=T.offset;!(k instanceof Text)&&k.childNodes.length>0;)if(k.childNodes.length>L)k=k.childNodes[L],L=0;else{if(k.childNodes.length!==L)break;k=k.lastChild,L=k instanceof Text?k.data.length:k.childNodes.length+1}T.node=k,T.offset=L}),P}},{key:"rangeToNative",value:function(S){var P=this,T=S.collapsed?[S.index]:[S.index,S.index+S.length],k=[],L=this.scroll.length();return T.forEach(function(N,z){N=Math.min(L-1,N);var B=void 0,U=P.scroll.leaf(N),D=l(U,2),M=D[0],F=D[1],j=M.position(F,z!==0),Y=l(j,2);B=Y[0],F=Y[1],k.push(B,F)}),k.length<2&&(k=k.concat(k)),k}},{key:"scrollIntoView",value:function(S){var P=this.lastRange;if(P!=null){var T=this.getBounds(P.index,P.length);if(T!=null){var k=this.scroll.length()-1,L=this.scroll.line(Math.min(P.index,k)),N=l(L,1),z=N[0],B=z;if(P.length>0){var U=this.scroll.line(Math.min(P.index+P.length,k));B=l(U,1)[0]}if(z!=null&&B!=null){var D=S.getBoundingClientRect();T.top<D.top?S.scrollTop-=D.top-T.top:T.bottom>D.bottom&&(S.scrollTop+=T.bottom-D.bottom)}}}}},{key:"setNativeRange",value:function(S,P){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S,k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:P,L=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(x.info("setNativeRange",S,P,T,k),S==null||this.root.parentNode!=null&&S.parentNode!=null&&T.parentNode!=null){var N=this.rootDocument.getSelection();if(N!=null)if(S!=null){this.hasFocus()||this.root.focus();var z=(this.getNativeRange()||{}).native;if(z==null||L||S!==z.startContainer||P!==z.startOffset||T!==z.endContainer||k!==z.endOffset){S.tagName=="BR"&&(P=[].indexOf.call(S.parentNode.childNodes,S),S=S.parentNode),T.tagName=="BR"&&(k=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode);var B=document.createRange();B.setStart(S,P),B.setEnd(T,k),N.removeAllRanges(),N.addRange(B)}}else N.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(S){var P=arguments.length>1&&arguments[1]!==void 0&&arguments[1],T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof P=="string"&&(T=P,P=!1),x.info("setRange",S),S!=null){var k=this.rangeToNative(S);this.setNativeRange.apply(this,o(k).concat([P]))}else this.setNativeRange(null);this.update(T)}},{key:"update",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.default.sources.USER,P=this.lastRange,T=this.getRange(),k=l(T,2),L=k[0],N=k[1];if(this.lastRange=L,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,m.default)(P,this.lastRange)){var z;!this.composing&&N!=null&&N.native.collapsed&&N.start.node!==this.cursor.textNode&&this.cursor.restore();var B=[v.default.events.SELECTION_CHANGE,(0,f.default)(this.lastRange),(0,f.default)(P),S];if((z=this.emitter).emit.apply(z,[v.default.events.EDITOR_CHANGE].concat(B)),S!==v.default.sources.SILENT){var U;(U=this.emitter).emit.apply(U,B)}}}}]),$}();i.Range=E,i.default=C},function(n,i,t){Object.defineProperty(i,"__esModule",{value:!0}),i.AlignStyle=i.AlignClass=i.AlignAttribute=void 0;var r=t(0),o=function(h){return h&&h.__esModule?h:{default:h}}(r),a={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},s=new o.default.Attributor.Attribute("align","align",a),l=new o.default.Attributor.Class("align","ql-align",a),c=new o.default.Attributor.Style("align","text-align",a);i.AlignAttribute=s,i.AlignClass=l,i.AlignStyle=c},function(n,i,t){Object.defineProperty(i,"__esModule",{value:!0}),i.BackgroundStyle=i.BackgroundClass=void 0;var r=t(0),o=function(c){return c&&c.__esModule?c:{default:c}}(r),a=t(25),s=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),l=new a.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});i.BackgroundClass=s,i.BackgroundStyle=l},function(n,i,t){Object.defineProperty(i,"__esModule",{value:!0}),i.DirectionStyle=i.DirectionClass=i.DirectionAttribute=void 0;var r=t(0),o=function(h){return h&&h.__esModule?h:{default:h}}(r),a={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},s=new o.default.Attributor.Attribute("direction","dir",a),l=new o.default.Attributor.Class("direction","ql-direction",a),c=new o.default.Attributor.Style("direction","direction",a);i.DirectionAttribute=s,i.DirectionClass=l,i.DirectionStyle=c},function(n,i,t){function r(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function o(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||typeof g!="object"&&typeof g!="function"?m:g}function a(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}Object.defineProperty(i,"__esModule",{value:!0}),i.FontClass=i.FontStyle=void 0;var s=function(){function m(g,v){for(var _=0;_<v.length;_++){var y=v[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,v,_){return v&&m(g.prototype,v),_&&m(g,_),g}}(),l=function m(g,v,_){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,v);if(y===void 0){var b=Object.getPrototypeOf(g);return b===null?void 0:m(b,v,_)}if("value"in y)return y.value;var x=y.get;if(x!==void 0)return x.call(_)},c=t(0),h=function(m){return m&&m.__esModule?m:{default:m}}(c),u={scope:h.default.Scope.INLINE,whitelist:["serif","monospace"]},d=new h.default.Attributor.Class("font","ql-font",u),f=function(m){function g(){return r(this,g),o(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,m),s(g,[{key:"value",value:function(v){return l(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,v).replace(/["']/g,"")}}]),g}(h.default.Attributor.Style),p=new f("font","font-family",u);i.FontStyle=p,i.FontClass=d},function(n,i,t){Object.defineProperty(i,"__esModule",{value:!0}),i.SizeStyle=i.SizeClass=void 0;var r=t(0),o=function(l){return l&&l.__esModule?l:{default:l}}(r),a=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),s=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});i.SizeClass=a,i.SizeStyle=s},function(n,i,t){function r(X){return X&&X.__esModule?X:{default:X}}function o(X,K,Q){return K in X?Object.defineProperty(X,K,{value:Q,enumerable:!0,configurable:!0,writable:!0}):X[K]=Q,X}function a(X,K){if(!(X instanceof K))throw new TypeError("Cannot call a class as a function")}function s(X,K){if(!X)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!K||typeof K!="object"&&typeof K!="function"?X:K}function l(X,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof K);X.prototype=Object.create(K&&K.prototype,{constructor:{value:X,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(X,K):X.__proto__=K)}function c(X,K){var Q,rt=X===q.keys.LEFT?"prefix":"suffix";return Q={key:X,shiftKey:K,altKey:null},o(Q,rt,/^$/),o(Q,"handler",function(J){var et=J.index;X===q.keys.RIGHT&&(et+=J.length+1);var nt=this.quill.getLeaf(et);return!(_(nt,1)[0]instanceof z.default.Embed)||(X===q.keys.LEFT?K?this.quill.setSelection(J.index-1,J.length+1,U.default.sources.USER):this.quill.setSelection(J.index-1,U.default.sources.USER):K?this.quill.setSelection(J.index,J.length+1,U.default.sources.USER):this.quill.setSelection(J.index+J.length+1,U.default.sources.USER),!1)}),Q}function h(X,K){if(!(X.index===0||this.quill.getLength()<=1)){var Q=this.quill.getLine(X.index),rt=_(Q,1),J=rt[0],et={};if(K.offset===0){var nt=this.quill.getLine(X.index-1),at=_(nt,1),ct=at[0];if(ct!=null&&ct.length()>1){var ht=J.formats(),ut=this.quill.getFormat(X.index-1,1);et=L.default.attributes.diff(ht,ut)||{}}}var tt=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(K.prefix)?2:1;this.quill.deleteText(X.index-tt,tt,U.default.sources.USER),Object.keys(et).length>0&&this.quill.formatLine(X.index-tt,tt,et,U.default.sources.USER),this.quill.focus()}}function u(X,K){var Q=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(K.suffix)?2:1;if(!(X.index>=this.quill.getLength()-Q)){var rt={},J=0,et=this.quill.getLine(X.index),nt=_(et,1),at=nt[0];if(K.offset>=at.length()-1){var ct=this.quill.getLine(X.index+1),ht=_(ct,1),ut=ht[0];if(ut){var tt=at.formats(),it=this.quill.getFormat(X.index,1);rt=L.default.attributes.diff(tt,it)||{},J=ut.length()}}this.quill.deleteText(X.index,Q,U.default.sources.USER),Object.keys(rt).length>0&&this.quill.formatLine(X.index+J-1,Q,rt,U.default.sources.USER)}}function d(X){var K=this.quill.getLines(X),Q={};if(K.length>1){var rt=K[0].formats(),J=K[K.length-1].formats();Q=L.default.attributes.diff(J,rt)||{}}this.quill.deleteText(X,U.default.sources.USER),Object.keys(Q).length>0&&this.quill.formatLine(X.index,1,Q,U.default.sources.USER),this.quill.setSelection(X.index,U.default.sources.SILENT),this.quill.focus()}function f(X,K){var Q=this;X.length>0&&this.quill.scroll.deleteAt(X.index,X.length);var rt=Object.keys(K.format).reduce(function(J,et){return z.default.query(et,z.default.Scope.BLOCK)&&!Array.isArray(K.format[et])&&(J[et]=K.format[et]),J},{});this.quill.insertText(X.index,`
`,rt,U.default.sources.USER),this.quill.setSelection(X.index+1,U.default.sources.SILENT),this.quill.focus(),Object.keys(K.format).forEach(function(J){rt[J]==null&&(Array.isArray(K.format[J])||J!=="link"&&Q.quill.format(J,K.format[J],U.default.sources.USER))})}function p(X){return{key:q.keys.TAB,shiftKey:!X,format:{"code-block":!0},handler:function(K){var Q=z.default.query("code-block"),rt=K.index,J=K.length,et=this.quill.scroll.descendant(Q,rt),nt=_(et,2),at=nt[0],ct=nt[1];if(at!=null){var ht=this.quill.getIndex(at),ut=at.newlineIndex(ct,!0)+1,tt=at.newlineIndex(ht+ct+J),it=at.domNode.textContent.slice(ut,tt).split(`
`);ct=0,it.forEach(function(ot,st){X?(at.insertAt(ut+ct,Q.TAB),ct+=Q.TAB.length,st===0?rt+=Q.TAB.length:J+=Q.TAB.length):ot.startsWith(Q.TAB)&&(at.deleteAt(ut+ct,Q.TAB.length),ct-=Q.TAB.length,st===0?rt-=Q.TAB.length:J-=Q.TAB.length),ct+=ot.length+1}),this.quill.update(U.default.sources.USER),this.quill.setSelection(rt,J,U.default.sources.SILENT)}}}}function m(X){return{key:X[0].toUpperCase(),shortKey:!0,handler:function(K,Q){this.quill.format(X,!Q.format[X],U.default.sources.USER)}}}function g(X){if(typeof X=="string"||typeof X=="number")return g({key:X});if((X===void 0?"undefined":v(X))==="object"&&(X=(0,x.default)(X,!1)),typeof X.key=="string")if(q.keys[X.key.toUpperCase()]!=null)X.key=q.keys[X.key.toUpperCase()];else{if(X.key.length!==1)return null;X.key=X.key.toUpperCase().charCodeAt(0)}return X.shortKey&&(X[W]=X.shortKey,delete X.shortKey),X}Object.defineProperty(i,"__esModule",{value:!0}),i.SHORTKEY=i.default=void 0;var v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},_=function(){function X(K,Q){var rt=[],J=!0,et=!1,nt=void 0;try{for(var at,ct=K[Symbol.iterator]();!(J=(at=ct.next()).done)&&(rt.push(at.value),!Q||rt.length!==Q);J=!0);}catch(ht){et=!0,nt=ht}finally{try{!J&&ct.return&&ct.return()}finally{if(et)throw nt}}return rt}return function(K,Q){if(Array.isArray(K))return K;if(Symbol.iterator in Object(K))return X(K,Q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(){function X(K,Q){for(var rt=0;rt<Q.length;rt++){var J=Q[rt];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(K,J.key,J)}}return function(K,Q,rt){return Q&&X(K.prototype,Q),rt&&X(K,rt),K}}(),b=t(23),x=r(b),E=t(11),C=r(E),$=t(3),S=r($),P=t(5),T=r(P),k=t(22),L=r(k),N=t(0),z=r(N),B=t(6),U=r(B),D=t(8),M=r(D),F=t(9),j=r(F),Y=(0,M.default)("quill:keyboard"),W=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",q=function(X){function K(Q,rt){a(this,K);var J=s(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,Q,rt));return J.bindings={},Object.keys(J.options.bindings).forEach(function(et){(et!=="list autofill"||Q.scroll.whitelist==null||Q.scroll.whitelist.list)&&J.options.bindings[et]&&J.addBinding(J.options.bindings[et])}),J.addBinding({key:K.keys.ENTER,shiftKey:null},f),J.addBinding({key:K.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(J.addBinding({key:K.keys.BACKSPACE},{collapsed:!0},h),J.addBinding({key:K.keys.DELETE},{collapsed:!0},u)):(J.addBinding({key:K.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},h),J.addBinding({key:K.keys.DELETE},{collapsed:!0,suffix:/^.?$/},u)),J.addBinding({key:K.keys.BACKSPACE},{collapsed:!1},d),J.addBinding({key:K.keys.DELETE},{collapsed:!1},d),J.addBinding({key:K.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},h),J.listen(),J}return l(K,X),y(K,null,[{key:"match",value:function(Q,rt){return rt=g(rt),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(J){return!!rt[J]!==Q[J]&&rt[J]!==null})&&rt.key===(Q.which||Q.keyCode)}}]),y(K,[{key:"addBinding",value:function(Q){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},et=g(Q);if(et==null||et.key==null)return Y.warn("Attempted to add invalid keyboard binding",et);typeof rt=="function"&&(rt={handler:rt}),typeof J=="function"&&(J={handler:J}),et=(0,S.default)(et,rt,J),this.bindings[et.key]=this.bindings[et.key]||[],this.bindings[et.key].push(et)}},{key:"listen",value:function(){var Q=this;this.quill.root.addEventListener("keydown",function(rt){if(!rt.defaultPrevented){var J=rt.which||rt.keyCode,et=(Q.bindings[J]||[]).filter(function(gt){return K.match(rt,gt)});if(et.length!==0){var nt=Q.quill.getSelection();if(nt!=null&&Q.quill.hasFocus()){var at=Q.quill.getLine(nt.index),ct=_(at,2),ht=ct[0],ut=ct[1],tt=Q.quill.getLeaf(nt.index),it=_(tt,2),ot=it[0],st=it[1],lt=nt.length===0?[ot,st]:Q.quill.getLeaf(nt.index+nt.length),dt=_(lt,2),pt=dt[0],ft=dt[1],mt=ot instanceof z.default.Text?ot.value().slice(0,st):"",vt=pt instanceof z.default.Text?pt.value().slice(ft):"",_t={collapsed:nt.length===0,empty:nt.length===0&&ht.length()<=1,format:Q.quill.getFormat(nt),offset:ut,prefix:mt,suffix:vt};et.some(function(gt){if(gt.collapsed!=null&&gt.collapsed!==_t.collapsed||gt.empty!=null&&gt.empty!==_t.empty||gt.offset!=null&&gt.offset!==_t.offset)return!1;if(Array.isArray(gt.format)){if(gt.format.every(function(bt){return _t.format[bt]==null}))return!1}else if(v(gt.format)==="object"&&!Object.keys(gt.format).every(function(bt){return gt.format[bt]===!0?_t.format[bt]!=null:gt.format[bt]===!1?_t.format[bt]==null:(0,C.default)(gt.format[bt],_t.format[bt])}))return!1;return!(gt.prefix!=null&&!gt.prefix.test(_t.prefix))&&!(gt.suffix!=null&&!gt.suffix.test(_t.suffix))&&gt.handler.call(Q,nt,_t)!==!0})&&rt.preventDefault()}}}})}}]),K}(j.default);q.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},q.DEFAULTS={bindings:{bold:m("bold"),italic:m("italic"),underline:m("underline"),indent:{key:q.keys.TAB,format:["blockquote","indent","list"],handler:function(X,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","+1",U.default.sources.USER)}},outdent:{key:q.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(X,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","-1",U.default.sources.USER)}},"outdent backspace":{key:q.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(X,K){K.format.indent!=null?this.quill.format("indent","-1",U.default.sources.USER):K.format.list!=null&&this.quill.format("list",!1,U.default.sources.USER)}},"indent code-block":p(!0),"outdent code-block":p(!1),"remove tab":{key:q.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(X){this.quill.deleteText(X.index-1,1,U.default.sources.USER)}},tab:{key:q.keys.TAB,handler:function(X){this.quill.history.cutoff();var K=new T.default().retain(X.index).delete(X.length).insert("	");this.quill.updateContents(K,U.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(X.index+1,U.default.sources.SILENT)}},"list empty enter":{key:q.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(X,K){this.quill.format("list",!1,U.default.sources.USER),K.format.indent&&this.quill.format("indent",!1,U.default.sources.USER)}},"checklist enter":{key:q.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(X){var K=this.quill.getLine(X.index),Q=_(K,2),rt=Q[0],J=Q[1],et=(0,S.default)({},rt.formats(),{list:"checked"}),nt=new T.default().retain(X.index).insert(`
`,et).retain(rt.length()-J-1).retain(1,{list:"unchecked"});this.quill.updateContents(nt,U.default.sources.USER),this.quill.setSelection(X.index+1,U.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:q.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(X,K){var Q=this.quill.getLine(X.index),rt=_(Q,2),J=rt[0],et=rt[1],nt=new T.default().retain(X.index).insert(`
`,K.format).retain(J.length()-et-1).retain(1,{header:null});this.quill.updateContents(nt,U.default.sources.USER),this.quill.setSelection(X.index+1,U.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(X,K){var Q=K.prefix.length,rt=this.quill.getLine(X.index),J=_(rt,2),et=J[0],nt=J[1];if(nt>Q)return!0;var at=void 0;switch(K.prefix.trim()){case"[]":case"[ ]":at="unchecked";break;case"[x]":at="checked";break;case"-":case"*":at="bullet";break;default:at="ordered"}this.quill.insertText(X.index," ",U.default.sources.USER),this.quill.history.cutoff();var ct=new T.default().retain(X.index-nt).delete(Q+1).retain(et.length()-2-nt).retain(1,{list:at});this.quill.updateContents(ct,U.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(X.index-Q,U.default.sources.SILENT)}},"code exit":{key:q.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(X){var K=this.quill.getLine(X.index),Q=_(K,2),rt=Q[0],J=Q[1],et=new T.default().retain(X.index+rt.length()-J-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(et,U.default.sources.USER)}},"embed left":c(q.keys.LEFT,!1),"embed left shift":c(q.keys.LEFT,!0),"embed right":c(q.keys.RIGHT,!1),"embed right shift":c(q.keys.RIGHT,!0)}},i.default=q,i.SHORTKEY=W},function(n,i,t){function r(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function o(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?d:f}function a(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function d(f,p){for(var m=0;m<p.length;m++){var g=p[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(f,p,m){return p&&d(f.prototype,p),m&&d(f,m),f}}(),l=function d(f,p,m){f===null&&(f=Function.prototype);var g=Object.getOwnPropertyDescriptor(f,p);if(g===void 0){var v=Object.getPrototypeOf(f);return v===null?void 0:d(v,p,m)}if("value"in g)return g.value;var _=g.get;if(_!==void 0)return _.call(m)},c=t(4),h=function(d){return d&&d.__esModule?d:{default:d}}(c),u=function(d){function f(){return r(this,f),o(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return a(f,d),s(f,[{key:"optimize",value:function(p){l(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"optimize",this).call(this,p),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return l(f.__proto__||Object.getPrototypeOf(f),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),f}(h.default);u.blotName="bold",u.tagName=["STRONG","B"],i.default=u},function(n,i,t){function r(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function s(l,c){for(var h=0;h<c.length;h++){var u=c[h];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}return function(l,c,h){return c&&s(l.prototype,c),h&&s(l,h),l}}(),a=function(){function s(l,c){r(this,s),this.quill=l,this.options=c,this.modules={}}return o(s,[{key:"init",value:function(){var l=this;Object.keys(this.options.modules).forEach(function(c){l.modules[c]==null&&l.addModule(c)})}},{key:"addModule",value:function(l){var c=this.quill.constructor.import("modules/"+l);return this.modules[l]=new c(this.quill,this.options.modules[l]||{}),this.modules[l]}}]),s}();a.DEFAULTS={modules:{}},a.themes={default:a},i.default=a},function(n,i,t){function r(g){return g&&g.__esModule?g:{default:g}}function o(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function a(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||typeof v!="object"&&typeof v!="function"?g:v}function s(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function g(v,_){for(var y=0;y<_.length;y++){var b=_[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,_,y){return _&&g(v.prototype,_),y&&g(v,y),v}}(),c=function g(v,_,y){v===null&&(v=Function.prototype);var b=Object.getOwnPropertyDescriptor(v,_);if(b===void 0){var x=Object.getPrototypeOf(v);return x===null?void 0:g(x,_,y)}if("value"in b)return b.value;var E=b.get;if(E!==void 0)return E.call(y)},h=t(0),u=r(h),d=t(7),f=r(d),p="\uFEFF",m=function(g){function v(_){o(this,v);var y=a(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,_));return y.contentNode=document.createElement("span"),y.contentNode.setAttribute("contenteditable",!1),[].slice.call(y.domNode.childNodes).forEach(function(b){y.contentNode.appendChild(b)}),y.leftGuard=document.createTextNode(p),y.rightGuard=document.createTextNode(p),y.domNode.appendChild(y.leftGuard),y.domNode.appendChild(y.contentNode),y.domNode.appendChild(y.rightGuard),y}return s(v,g),l(v,[{key:"index",value:function(_,y){return _===this.leftGuard?0:_===this.rightGuard?1:c(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"index",this).call(this,_,y)}},{key:"restore",value:function(_){var y=void 0,b=void 0,x=_.data.split(p).join("");if(_===this.leftGuard)if(this.prev instanceof f.default){var E=this.prev.length();this.prev.insertAt(E,x),y={startNode:this.prev.domNode,startOffset:E+x.length}}else b=document.createTextNode(x),this.parent.insertBefore(u.default.create(b),this),y={startNode:b,startOffset:x.length};else _===this.rightGuard&&(this.next instanceof f.default?(this.next.insertAt(0,x),y={startNode:this.next.domNode,startOffset:x.length}):(b=document.createTextNode(x),this.parent.insertBefore(u.default.create(b),this.next),y={startNode:b,startOffset:x.length}));return _.data=p,y}},{key:"update",value:function(_,y){var b=this;_.forEach(function(x){if(x.type==="characterData"&&(x.target===b.leftGuard||x.target===b.rightGuard)){var E=b.restore(x.target);E&&(y.range=E)}})}}]),v}(u.default.Embed);i.default=m},,function(n,i,t){function r(z){return z&&z.__esModule?z:{default:z}}Object.defineProperty(i,"__esModule",{value:!0});var o=t(0),a=r(o),s=t(6),l=r(s),c=t(2),h=r(c),u=t(15),d=r(u),f=t(24),p=r(f),m=t(39),g=r(m),v=t(49),_=r(v),y=t(4),b=r(y),x=t(74),E=r(x),C=t(7),$=r(C),S=t(75),P=r(S),T=t(76),k=r(T),L=t(46),N=r(L);l.default.register({"blots/block":h.default,"blots/block/embed":c.BlockEmbed,"blots/break":d.default,"blots/container":p.default,"blots/cursor":g.default,"blots/embed":_.default,"blots/inline":b.default,"blots/scroll":E.default,"blots/text":$.default,"modules/clipboard":P.default,"modules/history":k.default,"modules/keyboard":N.default}),a.default.register(h.default,d.default,g.default,b.default,E.default,$.default),i.default=l.default},function(n,i,t){Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},o.prototype.contains=function(a){for(var s,l=this.iterator();s=l();)if(s===a)return!0;return!1},o.prototype.insertBefore=function(a,s){a&&(a.next=s,s!=null?(a.prev=s.prev,s.prev!=null&&(s.prev.next=a),s.prev=a,s===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},o.prototype.offset=function(a){for(var s=0,l=this.head;l!=null;){if(l===a)return s;s+=l.length(),l=l.next}return-1},o.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},o.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var s=a;return a!=null&&(a=a.next),s}},o.prototype.find=function(a,s){s===void 0&&(s=!1);for(var l,c=this.iterator();l=c();){var h=l.length();if(a<h||s&&a===h&&(l.next==null||l.next.length()!==0))return[l,a];a-=h}return[null,0]},o.prototype.forEach=function(a){for(var s,l=this.iterator();s=l();)a(s)},o.prototype.forEachAt=function(a,s,l){if(!(s<=0))for(var c,h=this.find(a),u=h[0],d=h[1],f=a-d,p=this.iterator(u);(c=p())&&f<a+s;){var m=c.length();a>f?l(c,a-f,Math.min(s,f+m-a)):l(c,0,Math.min(m,a+s-f)),f+=m}},o.prototype.map=function(a){return this.reduce(function(s,l){return s.push(a(l)),s},[])},o.prototype.reduce=function(a,s){for(var l,c=this.iterator();l=c();)s=a(s,l);return s},o}();i.default=r},function(n,i,t){var r=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,u){h.__proto__=u}||function(h,u){for(var d in u)u.hasOwnProperty(d)&&(h[d]=u[d])};return function(h,u){function d(){this.constructor=h}c(h,u),h.prototype=u===null?Object.create(u):(d.prototype=u.prototype,new d)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=t(17),a=t(1),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},l=function(c){function h(u){var d=c.call(this,u)||this;return d.scroll=d,d.observer=new MutationObserver(function(f){d.update(f)}),d.observer.observe(d.domNode,s),d.attach(),d}return r(h,c),h.prototype.detach=function(){c.prototype.detach.call(this),this.observer.disconnect()},h.prototype.deleteAt=function(u,d){this.update(),u===0&&d===this.length()?this.children.forEach(function(f){f.remove()}):c.prototype.deleteAt.call(this,u,d)},h.prototype.formatAt=function(u,d,f,p){this.update(),c.prototype.formatAt.call(this,u,d,f,p)},h.prototype.insertAt=function(u,d,f){this.update(),c.prototype.insertAt.call(this,u,d,f)},h.prototype.optimize=function(u,d){var f=this;u===void 0&&(u=[]),d===void 0&&(d={}),c.prototype.optimize.call(this,d);for(var p=[].slice.call(this.observer.takeRecords());p.length>0;)u.push(p.pop());for(var m=function(y,b){b===void 0&&(b=!0),y!=null&&y!==f&&y.domNode.parentNode!=null&&(y.domNode[a.DATA_KEY].mutations==null&&(y.domNode[a.DATA_KEY].mutations=[]),b&&m(y.parent))},g=function(y){y.domNode[a.DATA_KEY]!=null&&y.domNode[a.DATA_KEY].mutations!=null&&(y instanceof o.default&&y.children.forEach(g),y.optimize(d))},v=u,_=0;v.length>0;_+=1){if(_>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(v.forEach(function(y){var b=a.find(y.target,!0);b!=null&&(b.domNode===y.target&&(y.type==="childList"?(m(a.find(y.previousSibling,!1)),[].forEach.call(y.addedNodes,function(x){var E=a.find(x,!1);m(E,!1),E instanceof o.default&&E.children.forEach(function(C){m(C,!1)})})):y.type==="attributes"&&m(b.prev)),m(b))}),this.children.forEach(g),v=[].slice.call(this.observer.takeRecords()),p=v.slice();p.length>0;)u.push(p.pop())}},h.prototype.update=function(u,d){var f=this;d===void 0&&(d={}),u=u||this.observer.takeRecords(),u.map(function(p){var m=a.find(p.target,!0);return m==null?null:m.domNode[a.DATA_KEY].mutations==null?(m.domNode[a.DATA_KEY].mutations=[p],m):(m.domNode[a.DATA_KEY].mutations.push(p),null)}).forEach(function(p){p!=null&&p!==f&&p.domNode[a.DATA_KEY]!=null&&p.update(p.domNode[a.DATA_KEY].mutations||[],d)}),this.domNode[a.DATA_KEY].mutations!=null&&c.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,d),this.optimize(u,d)},h.blotName="scroll",h.defaultChild="block",h.scope=a.Scope.BLOCK_BLOT,h.tagName="DIV",h}(o.default);i.default=l},function(n,i,t){function r(c,h){if(Object.keys(c).length!==Object.keys(h).length)return!1;for(var u in c)if(c[u]!==h[u])return!1;return!0}var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,u){h.__proto__=u}||function(h,u){for(var d in u)u.hasOwnProperty(d)&&(h[d]=u[d])};return function(h,u){function d(){this.constructor=h}c(h,u),h.prototype=u===null?Object.create(u):(d.prototype=u.prototype,new d)}}();Object.defineProperty(i,"__esModule",{value:!0});var a=t(18),s=t(1),l=function(c){function h(){return c!==null&&c.apply(this,arguments)||this}return o(h,c),h.formats=function(u){if(u.tagName!==h.tagName)return c.formats.call(this,u)},h.prototype.format=function(u,d){var f=this;u!==this.statics.blotName||d?c.prototype.format.call(this,u,d):(this.children.forEach(function(p){p instanceof a.default||(p=p.wrap(h.blotName,!0)),f.attributes.copy(p)}),this.unwrap())},h.prototype.formatAt=function(u,d,f,p){this.formats()[f]!=null||s.query(f,s.Scope.ATTRIBUTE)?this.isolate(u,d).format(f,p):c.prototype.formatAt.call(this,u,d,f,p)},h.prototype.optimize=function(u){c.prototype.optimize.call(this,u);var d=this.formats();if(Object.keys(d).length===0)return this.unwrap();var f=this.next;f instanceof h&&f.prev===this&&r(d,f.formats())&&(f.moveChildren(this),f.remove())},h.blotName="inline",h.scope=s.Scope.INLINE_BLOT,h.tagName="SPAN",h}(a.default);i.default=l},function(n,i,t){var r=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var u in h)h.hasOwnProperty(u)&&(c[u]=h[u])};return function(c,h){function u(){this.constructor=c}l(c,h),c.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=t(18),a=t(1),s=function(l){function c(){return l!==null&&l.apply(this,arguments)||this}return r(c,l),c.formats=function(h){var u=a.query(c.blotName).tagName;if(h.tagName!==u)return l.formats.call(this,h)},c.prototype.format=function(h,u){a.query(h,a.Scope.BLOCK)!=null&&(h!==this.statics.blotName||u?l.prototype.format.call(this,h,u):this.replaceWith(c.blotName))},c.prototype.formatAt=function(h,u,d,f){a.query(d,a.Scope.BLOCK)!=null?this.format(d,f):l.prototype.formatAt.call(this,h,u,d,f)},c.prototype.insertAt=function(h,u,d){if(d==null||a.query(u,a.Scope.INLINE)!=null)l.prototype.insertAt.call(this,h,u,d);else{var f=this.split(h),p=a.create(u,d);f.parent.insertBefore(p,f)}},c.prototype.update=function(h,u){navigator.userAgent.match(/Trident/)?this.build():l.prototype.update.call(this,h,u)},c.blotName="block",c.scope=a.Scope.BLOCK_BLOT,c.tagName="P",c}(o.default);i.default=s},function(n,i,t){var r=this&&this.__extends||function(){var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var h in c)c.hasOwnProperty(h)&&(l[h]=c[h])};return function(l,c){function h(){this.constructor=l}s(l,c),l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=t(19),a=function(s){function l(){return s!==null&&s.apply(this,arguments)||this}return r(l,s),l.formats=function(c){},l.prototype.format=function(c,h){s.prototype.formatAt.call(this,0,this.length(),c,h)},l.prototype.formatAt=function(c,h,u,d){c===0&&h===this.length()?this.format(u,d):s.prototype.formatAt.call(this,c,h,u,d)},l.prototype.formats=function(){return this.statics.formats(this.domNode)},l}(o.default);i.default=a},function(n,i,t){var r=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var u in h)h.hasOwnProperty(u)&&(c[u]=h[u])};return function(c,h){function u(){this.constructor=c}l(c,h),c.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=t(19),a=t(1),s=function(l){function c(h){var u=l.call(this,h)||this;return u.text=u.statics.value(u.domNode),u}return r(c,l),c.create=function(h){return document.createTextNode(h)},c.value=function(h){var u=h.data;return u.normalize&&(u=u.normalize()),u},c.prototype.deleteAt=function(h,u){this.domNode.data=this.text=this.text.slice(0,h)+this.text.slice(h+u)},c.prototype.index=function(h,u){return this.domNode===h?u:-1},c.prototype.insertAt=function(h,u,d){d==null?(this.text=this.text.slice(0,h)+u+this.text.slice(h),this.domNode.data=this.text):l.prototype.insertAt.call(this,h,u,d)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(h){l.prototype.optimize.call(this,h),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(h,u){return[this.domNode,h]},c.prototype.split=function(h,u){if(u===void 0&&(u=!1),!u){if(h===0)return this;if(h===this.length())return this.next}var d=a.create(this.domNode.splitText(h));return this.parent.insertBefore(d,this.next),this.text=this.statics.value(this.domNode),d},c.prototype.update=function(h,u){var d=this;h.some(function(f){return f.type==="characterData"&&f.target===d.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=a.Scope.INLINE_BLOT,c}(o.default);i.default=s},function(n,i,t){var r=document.createElement("div");if(r.classList.toggle("test-class",!1),r.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,s){return arguments.length>1&&!this.contains(a)==!s?s:o.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,s){return s=s||0,this.substr(s,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,s){var l=this.toString();(typeof s!="number"||!isFinite(s)||Math.floor(s)!==s||s>l.length)&&(s=l.length),s-=a.length;var c=l.indexOf(a,s);return c!==-1&&c===s}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(a){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof a!="function")throw new TypeError("predicate must be a function");for(var s,l=Object(this),c=l.length>>>0,h=arguments[1],u=0;u<c;u++)if(s=l[u],a.call(h,s,u,l))return s}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,i){function t(y,b,x){if(y==b)return y?[[v,y]]:[];(x<0||y.length<x)&&(x=null);var E=s(y,b),C=y.substring(0,E);y=y.substring(E),b=b.substring(E),E=l(y,b);var $=y.substring(y.length-E);y=y.substring(0,y.length-E),b=b.substring(0,b.length-E);var S=r(y,b);return C&&S.unshift([v,C]),$&&S.push([v,$]),h(S),x!=null&&(S=d(S,x)),S=f(S)}function r(y,b){var x;if(!y)return[[g,b]];if(!b)return[[m,y]];var E=y.length>b.length?y:b,C=y.length>b.length?b:y,$=E.indexOf(C);if($!=-1)return x=[[g,E.substring(0,$)],[v,C],[g,E.substring($+C.length)]],y.length>b.length&&(x[0][0]=x[2][0]=m),x;if(C.length==1)return[[m,y],[g,b]];var S=c(y,b);if(S){var P=S[0],T=S[1],k=S[2],L=S[3],N=S[4],z=t(P,k),B=t(T,L);return z.concat([[v,N]],B)}return o(y,b)}function o(y,b){for(var x=y.length,E=b.length,C=Math.ceil((x+E)/2),$=C,S=2*C,P=new Array(S),T=new Array(S),k=0;k<S;k++)P[k]=-1,T[k]=-1;P[$+1]=0,T[$+1]=0;for(var L=x-E,N=L%2!=0,z=0,B=0,U=0,D=0,M=0;M<C;M++){for(var F=-M+z;F<=M-B;F+=2){var j,Y=$+F;j=F==-M||F!=M&&P[Y-1]<P[Y+1]?P[Y+1]:P[Y-1]+1;for(var W=j-F;j<x&&W<E&&y.charAt(j)==b.charAt(W);)j++,W++;if(P[Y]=j,j>x)B+=2;else if(W>E)z+=2;else if(N){var q=$+L-F;if(q>=0&&q<S&&T[q]!=-1){var X=x-T[q];if(j>=X)return a(y,b,j,W)}}}for(var K=-M+U;K<=M-D;K+=2){var X,q=$+K;X=K==-M||K!=M&&T[q-1]<T[q+1]?T[q+1]:T[q-1]+1;for(var Q=X-K;X<x&&Q<E&&y.charAt(x-X-1)==b.charAt(E-Q-1);)X++,Q++;if(T[q]=X,X>x)D+=2;else if(Q>E)U+=2;else if(!N){var Y=$+L-K;if(Y>=0&&Y<S&&P[Y]!=-1){var j=P[Y],W=$+j-Y;if(X=x-X,j>=X)return a(y,b,j,W)}}}}return[[m,y],[g,b]]}function a(y,b,x,E){var C=y.substring(0,x),$=b.substring(0,E),S=y.substring(x),P=b.substring(E),T=t(C,$),k=t(S,P);return T.concat(k)}function s(y,b){if(!y||!b||y.charAt(0)!=b.charAt(0))return 0;for(var x=0,E=Math.min(y.length,b.length),C=E,$=0;x<C;)y.substring($,C)==b.substring($,C)?(x=C,$=x):E=C,C=Math.floor((E-x)/2+x);return C}function l(y,b){if(!y||!b||y.charAt(y.length-1)!=b.charAt(b.length-1))return 0;for(var x=0,E=Math.min(y.length,b.length),C=E,$=0;x<C;)y.substring(y.length-C,y.length-$)==b.substring(b.length-C,b.length-$)?(x=C,$=x):E=C,C=Math.floor((E-x)/2+x);return C}function c(y,b){function x(z,B,U){for(var D,M,F,j,Y=z.substring(U,U+Math.floor(z.length/4)),W=-1,q="";(W=B.indexOf(Y,W+1))!=-1;){var X=s(z.substring(U),B.substring(W)),K=l(z.substring(0,U),B.substring(0,W));q.length<K+X&&(q=B.substring(W-K,W)+B.substring(W,W+X),D=z.substring(0,U-K),M=z.substring(U+X),F=B.substring(0,W-K),j=B.substring(W+X))}return 2*q.length>=z.length?[D,M,F,j,q]:null}var E=y.length>b.length?y:b,C=y.length>b.length?b:y;if(E.length<4||2*C.length<E.length)return null;var $,S=x(E,C,Math.ceil(E.length/4)),P=x(E,C,Math.ceil(E.length/2));if(!S&&!P)return null;$=P?S&&S[4].length>P[4].length?S:P:S;var T,k,L,N;return y.length>b.length?(T=$[0],k=$[1],L=$[2],N=$[3]):(L=$[0],N=$[1],T=$[2],k=$[3]),[T,k,L,N,$[4]]}function h(y){y.push([v,""]);for(var b,x=0,E=0,C=0,$="",S="";x<y.length;)switch(y[x][0]){case g:C++,S+=y[x][1],x++;break;case m:E++,$+=y[x][1],x++;break;case v:E+C>1?(E!==0&&C!==0&&(b=s(S,$),b!==0&&(x-E-C>0&&y[x-E-C-1][0]==v?y[x-E-C-1][1]+=S.substring(0,b):(y.splice(0,0,[v,S.substring(0,b)]),x++),S=S.substring(b),$=$.substring(b)),(b=l(S,$))!==0&&(y[x][1]=S.substring(S.length-b)+y[x][1],S=S.substring(0,S.length-b),$=$.substring(0,$.length-b))),E===0?y.splice(x-C,E+C,[g,S]):C===0?y.splice(x-E,E+C,[m,$]):y.splice(x-E-C,E+C,[m,$],[g,S]),x=x-E-C+(E?1:0)+(C?1:0)+1):x!==0&&y[x-1][0]==v?(y[x-1][1]+=y[x][1],y.splice(x,1)):x++,C=0,E=0,$="",S=""}y[y.length-1][1]===""&&y.pop();var P=!1;for(x=1;x<y.length-1;)y[x-1][0]==v&&y[x+1][0]==v&&(y[x][1].substring(y[x][1].length-y[x-1][1].length)==y[x-1][1]?(y[x][1]=y[x-1][1]+y[x][1].substring(0,y[x][1].length-y[x-1][1].length),y[x+1][1]=y[x-1][1]+y[x+1][1],y.splice(x-1,1),P=!0):y[x][1].substring(0,y[x+1][1].length)==y[x+1][1]&&(y[x-1][1]+=y[x+1][1],y[x][1]=y[x][1].substring(y[x+1][1].length)+y[x+1][1],y.splice(x+1,1),P=!0)),x++;P&&h(y)}function u(y,b){if(b===0)return[v,y];for(var x=0,E=0;E<y.length;E++){var C=y[E];if(C[0]===m||C[0]===v){var $=x+C[1].length;if(b===$)return[E+1,y];if(b<$){y=y.slice();var S=b-x,P=[C[0],C[1].slice(0,S)],T=[C[0],C[1].slice(S)];return y.splice(E,1,P,T),[E+1,y]}x=$}}throw new Error("cursor_pos is out of bounds!")}function d(y,b){var x=u(y,b),E=x[1],C=x[0],$=E[C],S=E[C+1];if($==null||$[0]!==v)return y;if(S!=null&&$[1]+S[1]===S[1]+$[1])return E.splice(C,2,S,$),p(E,C,2);if(S!=null&&S[1].indexOf($[1])===0){E.splice(C,2,[S[0],$[1]],[0,$[1]]);var P=S[1].slice($[1].length);return P.length>0&&E.splice(C+2,0,[S[0],P]),p(E,C,3)}return y}function f(y){for(var b=!1,x=function($){return $.charCodeAt(0)>=56320&&$.charCodeAt(0)<=57343},E=2;E<y.length;E+=1)y[E-2][0]===v&&function($){return $.charCodeAt($.length-1)>=55296&&$.charCodeAt($.length-1)<=56319}(y[E-2][1])&&y[E-1][0]===m&&x(y[E-1][1])&&y[E][0]===g&&x(y[E][1])&&(b=!0,y[E-1][1]=y[E-2][1].slice(-1)+y[E-1][1],y[E][1]=y[E-2][1].slice(-1)+y[E][1],y[E-2][1]=y[E-2][1].slice(0,-1));if(!b)return y;for(var C=[],E=0;E<y.length;E+=1)y[E][1].length>0&&C.push(y[E]);return C}function p(y,b,x){for(var E=b+x-1;E>=0&&E>=b-1;E--)if(E+1<y.length){var C=y[E],$=y[E+1];C[0]===$[1]&&y.splice(E,2,[C[0],C[1]+$[1]])}return y}var m=-1,g=1,v=0,_=t;_.INSERT=g,_.DELETE=m,_.EQUAL=v,n.exports=_},function(n,i,t){var r;if(!Object.keys){var o=Object.prototype.hasOwnProperty,a=Object.prototype.toString,s=t(31),l=Object.prototype.propertyIsEnumerable,c=!l.call({toString:null},"toString"),h=l.call(function(){},"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(g){var v=g.constructor;return v&&v.prototype===g},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if(typeof window>"u")return!1;for(var g in window)try{if(!f["$"+g]&&o.call(window,g)&&window[g]!==null&&typeof window[g]=="object")try{d(window[g])}catch{return!0}}catch{return!0}return!1}(),m=function(g){if(typeof window>"u"||!p)return d(g);try{return d(g)}catch{return!1}};r=function(g){var v=g!==null&&typeof g=="object",_=a.call(g)==="[object Function]",y=s(g),b=v&&a.call(g)==="[object String]",x=[];if(!v&&!_&&!y)throw new TypeError("Object.keys called on a non-object");var E=h&&_;if(b&&g.length>0&&!o.call(g,0))for(var C=0;C<g.length;++C)x.push(String(C));if(y&&g.length>0)for(var $=0;$<g.length;++$)x.push(String($));else for(var S in g)E&&S==="prototype"||!o.call(g,S)||x.push(String(S));if(c)for(var P=m(g),T=0;T<u.length;++T)P&&u[T]==="constructor"||!o.call(g,u[T])||x.push(u[T]);return x}}n.exports=r},function(n,i,t){var r=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",o=t(32),a=o("Object.prototype.toString"),s=function(h){return!(r&&h&&typeof h=="object"&&Symbol.toStringTag in h)&&a(h)==="[object Arguments]"},l=function(h){return!!s(h)||h!==null&&typeof h=="object"&&typeof h.length=="number"&&h.length>=0&&a(h)!=="[object Array]"&&a(h.callee)==="[object Function]"},c=function(){return s(arguments)}();s.isLegacyArguments=l,n.exports=c?s:l},function(n,i,t){var r=typeof Symbol<"u"&&Symbol,o=t(34);n.exports=function(){return typeof r=="function"&&typeof Symbol=="function"&&typeof r("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&o()}},function(n,i,t){var r=Array.prototype.slice,o=Object.prototype.toString;n.exports=function(a){var s=this;if(typeof s!="function"||o.call(s)!=="[object Function]")throw new TypeError("Function.prototype.bind called on incompatible "+s);for(var l,c=r.call(arguments,1),h=function(){if(this instanceof l){var m=s.apply(this,c.concat(r.call(arguments)));return Object(m)===m?m:this}return s.apply(a,c.concat(r.call(arguments)))},u=Math.max(0,s.length-c.length),d=[],f=0;f<u;f++)d.push("$"+f);if(l=Function("binder","return function ("+d.join(",")+"){ return binder.apply(this,arguments); }")(h),s.prototype){var p=function(){};p.prototype=s.prototype,l.prototype=new p,p.prototype=null}return l}},function(n,i,t){var r=t(20);n.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(n,i,t){var r=t(12),o=t(21),a=t(35),s=t(36),l=t(66),c=o(s(),Object);r(c,{getPolyfill:s,implementation:a,shim:l}),n.exports=c},function(n,i,t){var r=t(36),o=t(12);n.exports=function(){var a=r();return o(Object,{is:a},{is:function(){return Object.is!==a}}),a}},function(n,i,t){var r,o,a,s,l=t(32),c=t(34)(),h=c&&!!Symbol.toStringTag;if(h){r=l("Object.prototype.hasOwnProperty"),o=l("RegExp.prototype.exec"),a={};var u=function(){throw a};s={toString:u,valueOf:u},typeof Symbol.toPrimitive=="symbol"&&(s[Symbol.toPrimitive]=u)}var d=l("Object.prototype.toString"),f=Object.getOwnPropertyDescriptor;n.exports=h?function(p){if(!p||typeof p!="object")return!1;var m=f(p,"lastIndex");if(!m||!r(m,"value"))return!1;try{o(p,s)}catch(g){return g===a}}:function(p){return!(!p||typeof p!="object"&&typeof p!="function")&&d(p)==="[object RegExp]"}},function(n,i,t){var r=t(12),o=t(21),a=t(37),s=t(38),l=t(69),c=o(a);r(c,{getPolyfill:s,implementation:a,shim:l}),n.exports=c},function(n,i,t){var r=t(12).supportsDescriptors,o=t(38),a=Object.getOwnPropertyDescriptor,s=Object.defineProperty,l=TypeError,c=Object.getPrototypeOf,h=/a/;n.exports=function(){if(!r||!c)throw new l("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var u=o(),d=c(h),f=a(d,"flags");return f&&f.get===u||s(d,"flags",{configurable:!0,enumerable:!1,get:u}),u}},function(n,i,t){var r=Date.prototype.getDay,o=function(l){try{return r.call(l),!0}catch{return!1}},a=Object.prototype.toString,s=typeof Symbol=="function"&&!!Symbol.toStringTag;n.exports=function(l){return typeof l=="object"&&l!==null&&(s?o(l):a.call(l)==="[object Date]")}},function(n,i,t){function r(D){return D&&D.__esModule?D:{default:D}}function o(D,M,F){return M in D?Object.defineProperty(D,M,{value:F,enumerable:!0,configurable:!0,writable:!0}):D[M]=F,D}function a(D,M){if(!(D instanceof M))throw new TypeError("Cannot call a class as a function")}function s(D,M){return Object.keys(M).reduce(function(F,j){return D[j]==null||(M[j]===D[j]?F[j]=M[j]:Array.isArray(M[j])?M[j].indexOf(D[j])<0&&(F[j]=M[j].concat([D[j]])):F[j]=[M[j],D[j]]),F},{})}function l(D){return D.reduce(function(M,F){if(F.insert===1){var j=(0,T.default)(F.attributes);return delete j.image,M.insert({image:F.attributes.image},j)}if(F.attributes==null||F.attributes.list!==!0&&F.attributes.bullet!==!0||(F=(0,T.default)(F),F.attributes.list?F.attributes.list="ordered":(F.attributes.list="bullet",delete F.attributes.bullet)),typeof F.insert=="string"){var Y=F.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return M.insert(Y,F.attributes)}return M.push(F)},new f.default)}Object.defineProperty(i,"__esModule",{value:!0});var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},h=function(){function D(M,F){var j=[],Y=!0,W=!1,q=void 0;try{for(var X,K=M[Symbol.iterator]();!(Y=(X=K.next()).done)&&(j.push(X.value),!F||j.length!==F);Y=!0);}catch(Q){W=!0,q=Q}finally{try{!Y&&K.return&&K.return()}finally{if(W)throw q}}return j}return function(M,F){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return D(M,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function D(M,F){for(var j=0;j<F.length;j++){var Y=F[j];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(M,Y.key,Y)}}return function(M,F,j){return F&&D(M.prototype,F),j&&D(M,j),M}}(),d=t(5),f=r(d),p=t(22),m=r(p),g=t(0),v=r(g),_=t(13),y=r(_),b=t(39),x=r(b),E=t(2),C=r(E),$=t(15),S=r($),P=t(23),T=r(P),k=t(11),L=r(k),N=t(3),z=r(N),B=/^[ -~]*$/,U=function(){function D(M){a(this,D),this.scroll=M,this.delta=this.getDelta()}return u(D,[{key:"applyDelta",value:function(M){var F=this,j=!1;this.scroll.update();var Y=this.scroll.length();return this.scroll.batchStart(),M=l(M),M.reduce(function(W,q){var X=q.retain||q.delete||q.insert.length||1,K=q.attributes||{};if(q.insert!=null){if(typeof q.insert=="string"){var Q=q.insert;Q.endsWith(`
`)&&j&&(j=!1,Q=Q.slice(0,-1)),W>=Y&&!Q.endsWith(`
`)&&(j=!0),F.scroll.insertAt(W,Q);var rt=F.scroll.line(W),J=h(rt,2),et=J[0],nt=J[1],at=(0,z.default)({},(0,E.bubbleFormats)(et));if(et instanceof C.default){var ct=et.descendant(v.default.Leaf,nt),ht=h(ct,1),ut=ht[0];at=(0,z.default)(at,(0,E.bubbleFormats)(ut))}K=m.default.attributes.diff(at,K)||{}}else if(c(q.insert)==="object"){var tt=Object.keys(q.insert)[0];if(tt==null)return W;F.scroll.insertAt(W,tt,q.insert[tt])}Y+=X}return Object.keys(K).forEach(function(it){F.scroll.formatAt(W,X,it,K[it])}),W+X},0),M.reduce(function(W,q){return typeof q.delete=="number"?(F.scroll.deleteAt(W,q.delete),W):W+(q.retain||q.insert.length||1)},0),this.scroll.batchEnd(),this.update(M)}},{key:"deleteText",value:function(M,F){return this.scroll.deleteAt(M,F),this.update(new f.default().retain(M).delete(F))}},{key:"formatLine",value:function(M,F){var j=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(Y).forEach(function(W){if(j.scroll.whitelist==null||j.scroll.whitelist[W]){var q=j.scroll.lines(M,Math.max(F,1)),X=F;q.forEach(function(K){var Q=K.length();if(K instanceof y.default){var rt=M-K.offset(j.scroll),J=K.newlineIndex(rt+X)-rt+1;K.formatAt(rt,J,W,Y[W])}else K.format(W,Y[W]);X-=Q})}}),this.scroll.optimize(),this.update(new f.default().retain(M).retain(F,(0,T.default)(Y)))}},{key:"formatText",value:function(M,F){var j=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(Y).forEach(function(W){j.scroll.formatAt(M,F,W,Y[W])}),this.update(new f.default().retain(M).retain(F,(0,T.default)(Y)))}},{key:"getContents",value:function(M,F){return this.delta.slice(M,M+F)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(M,F){return M.concat(F.delta())},new f.default)}},{key:"getFormat",value:function(M){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,j=[],Y=[];F===0?this.scroll.path(M).forEach(function(q){var X=h(q,1),K=X[0];K instanceof C.default?j.push(K):K instanceof v.default.Leaf&&Y.push(K)}):(j=this.scroll.lines(M,F),Y=this.scroll.descendants(v.default.Leaf,M,F));var W=[j,Y].map(function(q){if(q.length===0)return{};for(var X=(0,E.bubbleFormats)(q.shift());Object.keys(X).length>0;){var K=q.shift();if(K==null)return X;X=s((0,E.bubbleFormats)(K),X)}return X});return z.default.apply(z.default,W)}},{key:"getText",value:function(M,F){return this.getContents(M,F).filter(function(j){return typeof j.insert=="string"}).map(function(j){return j.insert}).join("")}},{key:"insertEmbed",value:function(M,F,j){return this.scroll.insertAt(M,F,j),this.update(new f.default().retain(M).insert(o({},F,j)))}},{key:"insertText",value:function(M,F){var j=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return F=F.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(M,F),Object.keys(Y).forEach(function(W){j.scroll.formatAt(M,F.length,W,Y[W])}),this.update(new f.default().retain(M).insert(F,(0,T.default)(Y)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var M=this.scroll.children.head;return M.statics.blotName===C.default.blotName&&!(M.children.length>1)&&M.children.head instanceof S.default}},{key:"removeFormat",value:function(M,F){var j=this.getText(M,F),Y=this.scroll.line(M+F),W=h(Y,2),q=W[0],X=W[1],K=0,Q=new f.default;q!=null&&(K=q instanceof y.default?q.newlineIndex(X)-X+1:q.length()-X,Q=q.delta().slice(X,X+K-1).insert(`
`));var rt=this.getContents(M,F+K),J=rt.diff(new f.default().insert(j).concat(Q)),et=new f.default().retain(M).concat(J);return this.applyDelta(et)}},{key:"update",value:function(M){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,Y=this.delta;if(F.length===1&&F[0].type==="characterData"&&F[0].target.data.match(B)&&v.default.find(F[0].target)){var W=v.default.find(F[0].target),q=(0,E.bubbleFormats)(W),X=W.offset(this.scroll),K=F[0].oldValue.replace(x.default.CONTENTS,""),Q=new f.default().insert(K),rt=new f.default().insert(W.value());M=new f.default().retain(X).concat(Q.diff(rt,j)).reduce(function(J,et){return et.insert?J.insert(et.insert,q):J.push(et)},new f.default),this.delta=Y.compose(M)}else this.delta=this.getDelta(),M&&(0,L.default)(Y.compose(M),this.delta)||(M=Y.diff(this.delta,j));return M}}]),D}();i.default=U},function(n,i){function t(){}function r(l,c,h){this.fn=l,this.context=c,this.once=h||!1}function o(){this._events=new t,this._eventsCount=0}var a=Object.prototype.hasOwnProperty,s="~";Object.create&&(t.prototype=Object.create(null),new t().__proto__||(s=!1)),o.prototype.eventNames=function(){var l,c,h=[];if(this._eventsCount===0)return h;for(c in l=this._events)a.call(l,c)&&h.push(s?c.slice(1):c);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(l)):h},o.prototype.listeners=function(l,c){var h=s?s+l:l,u=this._events[h];if(c)return!!u;if(!u)return[];if(u.fn)return[u.fn];for(var d=0,f=u.length,p=new Array(f);d<f;d++)p[d]=u[d].fn;return p},o.prototype.emit=function(l,c,h,u,d,f){var p=s?s+l:l;if(!this._events[p])return!1;var m,g,v=this._events[p],_=arguments.length;if(v.fn){switch(v.once&&this.removeListener(l,v.fn,void 0,!0),_){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,h),!0;case 4:return v.fn.call(v.context,c,h,u),!0;case 5:return v.fn.call(v.context,c,h,u,d),!0;case 6:return v.fn.call(v.context,c,h,u,d,f),!0}for(g=1,m=new Array(_-1);g<_;g++)m[g-1]=arguments[g];v.fn.apply(v.context,m)}else{var y,b=v.length;for(g=0;g<b;g++)switch(v[g].once&&this.removeListener(l,v[g].fn,void 0,!0),_){case 1:v[g].fn.call(v[g].context);break;case 2:v[g].fn.call(v[g].context,c);break;case 3:v[g].fn.call(v[g].context,c,h);break;case 4:v[g].fn.call(v[g].context,c,h,u);break;default:if(!m)for(y=1,m=new Array(_-1);y<_;y++)m[y-1]=arguments[y];v[g].fn.apply(v[g].context,m)}}return!0},o.prototype.on=function(l,c,h){var u=new r(c,h||this),d=s?s+l:l;return this._events[d]?this._events[d].fn?this._events[d]=[this._events[d],u]:this._events[d].push(u):(this._events[d]=u,this._eventsCount++),this},o.prototype.once=function(l,c,h){var u=new r(c,h||this,!0),d=s?s+l:l;return this._events[d]?this._events[d].fn?this._events[d]=[this._events[d],u]:this._events[d].push(u):(this._events[d]=u,this._eventsCount++),this},o.prototype.removeListener=function(l,c,h,u){var d=s?s+l:l;if(!this._events[d])return this;if(!c)return--this._eventsCount==0?this._events=new t:delete this._events[d],this;var f=this._events[d];if(f.fn)f.fn!==c||u&&!f.once||h&&f.context!==h||(--this._eventsCount==0?this._events=new t:delete this._events[d]);else{for(var p=0,m=[],g=f.length;p<g;p++)(f[p].fn!==c||u&&!f[p].once||h&&f[p].context!==h)&&m.push(f[p]);m.length?this._events[d]=m.length===1?m[0]:m:--this._eventsCount==0?this._events=new t:delete this._events[d]}return this},o.prototype.removeAllListeners=function(l){var c;return l?(c=s?s+l:l,this._events[c]&&(--this._eventsCount==0?this._events=new t:delete this._events[c])):(this._events=new t,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=s,o.EventEmitter=o,n!==void 0&&(n.exports=o)},function(n,i,t){function r(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function o(){for(var m=document.activeElement;m&&m.shadowRoot&&m.shadowRoot.activeElement;)m=m.shadowRoot.activeElement;return m}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function m(g,v){for(var _=0;_<v.length;_++){var y=v[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,v,_){return v&&m(g.prototype,v),_&&m(g,_),g}}(),s=typeof window.ShadowRoot.prototype.getSelection=="function",l=window.InputEvent&&typeof window.InputEvent.prototype.getTargetRanges=="function",c=window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1,h=!(!window.navigator.userAgent.match(/Trident/)||window.navigator.userAgent.match(/MSIE/)),u=window.navigator.userAgent.match(/Edge/),d=!1,f=i.ShadowSelection=function(){function m(){r(this,m),this._ranges=[]}return a(m,[{key:"getRangeAt",value:function(g){return this._ranges[g]}},{key:"addRange",value:function(g){if(this._ranges.push(g),!d){var v=window.getSelection();v.removeAllRanges(),v.setBaseAndExtent(g.startContainer,g.startOffset,g.endContainer,g.endOffset)}}},{key:"removeAllRanges",value:function(){this._ranges=[]}},{key:"rangeCount",get:function(){return this._ranges.length}}]),m}();if((c||h||u)&&!s&&(window.ShadowRoot.prototype.getSelection=function(){return document.getSelection()}),!c&&!s&&l){var p=new f;window.ShadowRoot.prototype.getSelection=function(){return p},window.addEventListener("selectionchange",function(){if(!d){d=!0;var m=o();m&&m.getAttribute("contenteditable")==="true"?document.execCommand("indent"):p.removeAllRanges(),d=!1}},!0),window.addEventListener("beforeinput",function(m){if(d){var g=m.getTargetRanges(),v=g[0],_=new Range;_.setStart(v.startContainer,v.startOffset),_.setEnd(v.endContainer,v.endOffset),p.removeAllRanges(),p.addRange(_),m.preventDefault(),m.stopImmediatePropagation()}},!0),window.addEventListener("selectstart",function(){p.removeAllRanges()},!0)}},function(n,i,t){function r(S){return S&&S.__esModule?S:{default:S}}function o(S,P){if(!(S instanceof P))throw new TypeError("Cannot call a class as a function")}function a(S,P){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||typeof P!="object"&&typeof P!="function"?S:P}function s(S,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);S.prototype=Object.create(P&&P.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(S,P):S.__proto__=P)}function l(S){return S instanceof v.default||S instanceof g.BlockEmbed}Object.defineProperty(i,"__esModule",{value:!0});var c=function(){function S(P,T){var k=[],L=!0,N=!1,z=void 0;try{for(var B,U=P[Symbol.iterator]();!(L=(B=U.next()).done)&&(k.push(B.value),!T||k.length!==T);L=!0);}catch(D){N=!0,z=D}finally{try{!L&&U.return&&U.return()}finally{if(N)throw z}}return k}return function(P,T){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return S(P,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(){function S(P,T){for(var k=0;k<T.length;k++){var L=T[k];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(P,L.key,L)}}return function(P,T,k){return T&&S(P.prototype,T),k&&S(P,k),P}}(),u=function S(P,T,k){P===null&&(P=Function.prototype);var L=Object.getOwnPropertyDescriptor(P,T);if(L===void 0){var N=Object.getPrototypeOf(P);return N===null?void 0:S(N,T,k)}if("value"in L)return L.value;var z=L.get;if(z!==void 0)return z.call(k)},d=t(0),f=r(d),p=t(14),m=r(p),g=t(2),v=r(g),_=t(15),y=r(_),b=t(13),x=r(b),E=t(24),C=r(E),$=function(S){function P(T,k){o(this,P);var L=a(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,T));return L.emitter=k.emitter,Array.isArray(k.whitelist)&&(L.whitelist=k.whitelist.reduce(function(N,z){return N[z]=!0,N},{})),L.optimize(),L.enable(),L}return s(P,S),h(P,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(T,k){var L=this.line(T),N=c(L,2),z=N[0],B=N[1],U=this.line(T+k),D=c(U,1),M=D[0];if(u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,T,k),M!=null&&z!==M&&B>0){if(z instanceof g.BlockEmbed||M instanceof g.BlockEmbed)return void this.optimize();if(z instanceof x.default){var F=z.newlineIndex(z.length(),!0);if(F>-1&&(z=z.split(F+1))===M)return void this.optimize()}else if(M instanceof x.default){var j=M.newlineIndex(0);j>-1&&M.split(j+1)}var Y=M.children.head instanceof y.default?null:M.children.head;z.moveChildren(M,Y),z.remove()}this.optimize()}},{key:"enable",value:function(){var T=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.domNode.setAttribute("contenteditable",T)}},{key:"formatAt",value:function(T,k,L,N){(this.whitelist==null||this.whitelist[L])&&(u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,T,k,L,N),this.optimize())}},{key:"insertAt",value:function(T,k,L){if(L==null||this.whitelist==null||this.whitelist[k]){if(T>=this.length())if(L==null||f.default.query(k,f.default.Scope.BLOCK)==null){var N=f.default.create(this.statics.defaultChild);this.appendChild(N),L==null&&k.endsWith(`
`)&&(k=k.slice(0,-1)),N.insertAt(0,k,L)}else{var z=f.default.create(k,L);this.appendChild(z)}else u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,T,k,L);this.optimize()}}},{key:"insertBefore",value:function(T,k){if(T.statics.scope===f.default.Scope.INLINE_BLOT){var L=f.default.create(this.statics.defaultChild);L.appendChild(T),T=L}u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,T,k)}},{key:"leaf",value:function(T){return this.path(T).pop()||[null,-1]}},{key:"line",value:function(T){return T===this.length()?this.line(T-1):this.descendant(l,T)}},{key:"lines",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return function L(N,z,B){var U=[],D=B;return N.children.forEachAt(z,B,function(M,F,j){l(M)?U.push(M):M instanceof f.default.Container&&(U=U.concat(L(M,F,D))),D-=j}),U}(this,T,k)}},{key:"optimize",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,T,k),T.length>0&&this.emitter.emit(m.default.events.SCROLL_OPTIMIZE,T,k))}},{key:"path",value:function(T){return u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,T).slice(1)}},{key:"update",value:function(T){if(this.batch!==!0){var k=m.default.sources.USER;typeof T=="string"&&(k=T),Array.isArray(T)||(T=this.observer.takeRecords()),T.length>0&&this.emitter.emit(m.default.events.SCROLL_BEFORE_UPDATE,k,T),u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"update",this).call(this,T.concat([])),T.length>0&&this.emitter.emit(m.default.events.SCROLL_UPDATE,k,T)}}}]),P}(f.default.Scroll);$.blotName="scroll",$.className="ql-editor",$.tagName="DIV",$.defaultChild="block",$.allowedChildren=[v.default,g.BlockEmbed,C.default],i.default=$},function(n,i,t){function r(tt){return tt&&tt.__esModule?tt:{default:tt}}function o(tt,it,ot){return it in tt?Object.defineProperty(tt,it,{value:ot,enumerable:!0,configurable:!0,writable:!0}):tt[it]=ot,tt}function a(tt,it){if(!(tt instanceof it))throw new TypeError("Cannot call a class as a function")}function s(tt,it){if(!tt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!it||typeof it!="object"&&typeof it!="function"?tt:it}function l(tt,it){if(typeof it!="function"&&it!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof it);tt.prototype=Object.create(it&&it.prototype,{constructor:{value:tt,enumerable:!1,writable:!0,configurable:!0}}),it&&(Object.setPrototypeOf?Object.setPrototypeOf(tt,it):tt.__proto__=it)}function c(tt,it,ot){return(it===void 0?"undefined":C(it))==="object"?Object.keys(it).reduce(function(st,lt){return c(st,lt,it[lt])},tt):tt.reduce(function(st,lt){return lt.attributes&&lt.attributes[it]?st.push(lt):st.insert(lt.insert,(0,T.default)({},o({},it,ot),lt.attributes))},new L.default)}function h(tt){return tt.nodeType!==Node.ELEMENT_NODE?{}:tt["__ql-computed-style"]||(tt["__ql-computed-style"]=window.getComputedStyle(tt))}function u(tt,it){for(var ot="",st=tt.ops.length-1;st>=0&&ot.length<it.length;--st){var lt=tt.ops[st];if(typeof lt.insert!="string")break;ot=lt.insert+ot}return ot.slice(-1*it.length)===it}function d(tt){return tt.childNodes.length!==0&&["block","list-item"].indexOf(h(tt).display)>-1}function f(tt,it,ot){return tt.nodeType===tt.TEXT_NODE?ot.reduce(function(st,lt){return lt(tt,st)},new L.default):tt.nodeType===tt.ELEMENT_NODE?[].reduce.call(tt.childNodes||[],function(st,lt){var dt=f(lt,it,ot);return lt.nodeType===tt.ELEMENT_NODE&&(dt=it.reduce(function(pt,ft){return ft(lt,pt)},dt),dt=(lt[nt]||[]).reduce(function(pt,ft){return ft(lt,pt)},dt)),st.concat(dt)},new L.default):new L.default}function p(tt,it,ot){return c(ot,tt,!0)}function m(tt,it){var ot=z.default.Attributor.Attribute.keys(tt),st=z.default.Attributor.Class.keys(tt),lt=z.default.Attributor.Style.keys(tt),dt={};return ot.concat(st).concat(lt).forEach(function(pt){var ft=z.default.query(pt,z.default.Scope.ATTRIBUTE);ft!=null&&(dt[ft.attrName]=ft.value(tt),dt[ft.attrName])||(ft=ct[pt],ft==null||ft.attrName!==pt&&ft.keyName!==pt||(dt[ft.attrName]=ft.value(tt)||void 0),(ft=ht[pt])==null||ft.attrName!==pt&&ft.keyName!==pt||(ft=ht[pt],dt[ft.attrName]=ft.value(tt)||void 0))}),Object.keys(dt).length>0&&(it=c(it,dt)),it}function g(tt,it){var ot=z.default.query(tt);if(ot==null)return it;if(ot.prototype instanceof z.default.Embed){var st={},lt=ot.value(tt);lt!=null&&(st[ot.blotName]=lt,it=new L.default().insert(st,ot.formats(tt)))}else typeof ot.formats=="function"&&(it=c(it,ot.blotName,ot.formats(tt)));return it}function v(tt,it){return u(it,`
`)||it.insert(`
`),it}function _(){return new L.default}function y(tt,it){var ot=z.default.query(tt);if(ot==null||ot.blotName!=="list-item"||!u(it,`
`))return it;for(var st=-1,lt=tt.parentNode;!lt.classList.contains("ql-clipboard");)(z.default.query(lt)||{}).blotName==="list"&&(st+=1),lt=lt.parentNode;return st<=0?it:it.compose(new L.default().retain(it.length()-1).retain(1,{indent:st}))}function b(tt,it){return u(it,`
`)||(d(tt)||it.length()>0&&tt.nextSibling&&d(tt.nextSibling))&&it.insert(`
`),it}function x(tt,it){var ot={},st=tt.style||{};return st.fontStyle&&h(tt).fontStyle==="italic"&&(ot.italic=!0),st.fontWeight&&(h(tt).fontWeight.startsWith("bold")||parseInt(h(tt).fontWeight)>=700)&&(ot.bold=!0),Object.keys(ot).length>0&&(it=c(it,ot)),parseFloat(st.textIndent||0)>0&&(it=new L.default().insert("	").concat(it)),it}function E(tt,it){var ot=tt.data;if(tt.parentNode.tagName==="O:P")return it.insert(ot.trim());if(ot.trim().length===0&&tt.parentNode.classList.contains("ql-clipboard"))return it;if(!h(tt.parentNode).whiteSpace.startsWith("pre")){var st=function(lt,dt){return dt=dt.replace(/[^\u00a0]/g,""),dt.length<1&&lt?" ":dt};ot=ot.replace(/\r\n/g," ").replace(/\n/g," "),ot=ot.replace(/\s\s+/g,st.bind(st,!0)),(tt.previousSibling==null&&d(tt.parentNode)||tt.previousSibling!=null&&d(tt.previousSibling))&&(ot=ot.replace(/^\s+/,st.bind(st,!1))),(tt.nextSibling==null&&d(tt.parentNode)||tt.nextSibling!=null&&d(tt.nextSibling))&&(ot=ot.replace(/\s+$/,st.bind(st,!1)))}return it.insert(ot)}Object.defineProperty(i,"__esModule",{value:!0}),i.matchText=i.matchNewline=i.matchBlot=i.matchAttributor=i.default=void 0;var C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},$=function(){function tt(it,ot){var st=[],lt=!0,dt=!1,pt=void 0;try{for(var ft,mt=it[Symbol.iterator]();!(lt=(ft=mt.next()).done)&&(st.push(ft.value),!ot||st.length!==ot);lt=!0);}catch(vt){dt=!0,pt=vt}finally{try{!lt&&mt.return&&mt.return()}finally{if(dt)throw pt}}return st}return function(it,ot){if(Array.isArray(it))return it;if(Symbol.iterator in Object(it))return tt(it,ot);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),S=function(){function tt(it,ot){for(var st=0;st<ot.length;st++){var lt=ot[st];lt.enumerable=lt.enumerable||!1,lt.configurable=!0,"value"in lt&&(lt.writable=!0),Object.defineProperty(it,lt.key,lt)}}return function(it,ot,st){return ot&&tt(it.prototype,ot),st&&tt(it,st),it}}(),P=t(3),T=r(P),k=t(5),L=r(k),N=t(0),z=r(N),B=t(6),U=r(B),D=t(8),M=r(D),F=t(9),j=r(F),Y=t(41),W=t(42),q=t(13),X=r(q),K=t(25),Q=t(43),rt=t(44),J=t(45),et=(0,M.default)("quill:clipboard"),nt="__ql-matcher",at=[[Node.TEXT_NODE,E],[Node.TEXT_NODE,b],["br",v],[Node.ELEMENT_NODE,b],[Node.ELEMENT_NODE,g],[Node.ELEMENT_NODE,m],[Node.ELEMENT_NODE,x],["li",y],["b",p.bind(p,"bold")],["i",p.bind(p,"italic")],["style",_]],ct=[Y.AlignAttribute,Q.DirectionAttribute].reduce(function(tt,it){return tt[it.keyName]=it,tt},{}),ht=[Y.AlignStyle,W.BackgroundStyle,K.ColorStyle,Q.DirectionStyle,rt.FontStyle,J.SizeStyle].reduce(function(tt,it){return tt[it.keyName]=it,tt},{}),ut=function(tt){function it(ot,st){a(this,it);var lt=s(this,(it.__proto__||Object.getPrototypeOf(it)).call(this,ot,st));return lt.quill.root.addEventListener("paste",lt.onPaste.bind(lt)),lt.container=lt.quill.addContainer("ql-clipboard"),lt.container.setAttribute("contenteditable",!0),lt.container.setAttribute("tabindex",-1),lt.matchers=[],at.concat(lt.options.matchers).forEach(function(dt){var pt=$(dt,2),ft=pt[0],mt=pt[1];lt.addMatcher(ft,mt)}),lt}return l(it,tt),S(it,[{key:"addMatcher",value:function(ot,st){this.matchers.push([ot,st])}},{key:"convert",value:function(ot){if(typeof ot=="string")return this.container.innerHTML=ot.replace(/\>\r?\n +\</g,"><"),this.convert();var st=this.quill.getFormat(this.quill.selection.savedRange.index);if(st[X.default.blotName]){var lt=this.container.innerText;return this.container.innerHTML="",new L.default().insert(lt,o({},X.default.blotName,st[X.default.blotName]))}var dt=this.prepareMatching(),pt=$(dt,2),ft=pt[0],mt=pt[1],vt=f(this.container,ft,mt);return u(vt,`
`)&&vt.ops[vt.ops.length-1].attributes==null&&(vt=vt.compose(new L.default().retain(vt.length()-1).delete(1))),et.log("convert",this.container.innerHTML,vt),this.container.innerHTML="",vt}},{key:"dangerouslyPasteHTML",value:function(ot,st){var lt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:U.default.sources.API;if(typeof ot=="string")this.quill.setContents(this.convert(ot),st),this.quill.setSelection(0,U.default.sources.SILENT);else{var dt=this.convert(st);this.quill.updateContents(new L.default().retain(ot).concat(dt),lt),this.quill.setSelection(ot+dt.length(),U.default.sources.SILENT)}}},{key:"onPaste",value:function(ot){var st=this;if(!ot.defaultPrevented&&this.quill.isEnabled()){var lt=this.quill.getSelection(),dt=new L.default().retain(lt.index),pt=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(U.default.sources.SILENT),setTimeout(function(){dt=dt.concat(st.convert()).delete(lt.length),st.quill.updateContents(dt,U.default.sources.USER),st.quill.setSelection(dt.length()-lt.length,U.default.sources.SILENT),st.quill.scrollingContainer.scrollTop=pt,st.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ot=this,st=[],lt=[];return this.matchers.forEach(function(dt){var pt=$(dt,2),ft=pt[0],mt=pt[1];switch(ft){case Node.TEXT_NODE:lt.push(mt);break;case Node.ELEMENT_NODE:st.push(mt);break;default:[].forEach.call(ot.container.querySelectorAll(ft),function(vt){vt[nt]=vt[nt]||[],vt[nt].push(mt)})}}),[st,lt]}}]),it}(j.default);ut.DEFAULTS={matchers:[],matchVisual:!1},i.default=ut,i.matchAttributor=m,i.matchBlot=g,i.matchNewline=b,i.matchText=E},function(n,i,t){function r(_){return _&&_.__esModule?_:{default:_}}function o(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function a(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||typeof y!="object"&&typeof y!="function"?_:y}function s(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}function l(_){var y=_.ops[_.ops.length-1];return y!=null&&(y.insert!=null?typeof y.insert=="string"&&y.insert.endsWith(`
`):y.attributes!=null&&Object.keys(y.attributes).some(function(b){return d.default.query(b,d.default.Scope.BLOCK)!=null}))}function c(_){var y=_.reduce(function(x,E){return x+=E.delete||0},0),b=_.length()-y;return l(_)&&(b-=1),b}Object.defineProperty(i,"__esModule",{value:!0}),i.getLastChangeIndex=i.default=void 0;var h=function(){function _(y,b){for(var x=0;x<b.length;x++){var E=b[x];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(y,E.key,E)}}return function(y,b,x){return b&&_(y.prototype,b),x&&_(y,x),y}}(),u=t(0),d=r(u),f=t(6),p=r(f),m=t(9),g=r(m),v=function(_){function y(b,x){o(this,y);var E=a(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,b,x));return E.lastRecorded=0,E.ignoreChange=!1,E.clear(),E.quill.on(p.default.events.EDITOR_CHANGE,function(C,$,S,P){C!==p.default.events.TEXT_CHANGE||E.ignoreChange||(E.options.userOnly&&P!==p.default.sources.USER?E.transform($):E.record($,S))}),E.quill.keyboard.addBinding({key:"Z",shortKey:!0},E.undo.bind(E)),E.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},E.redo.bind(E)),/Win/i.test(navigator.platform)&&E.quill.keyboard.addBinding({key:"Y",shortKey:!0},E.redo.bind(E)),E}return s(y,_),h(y,[{key:"change",value:function(b,x){if(this.stack[b].length!==0){var E=this.stack[b].pop();this.stack[x].push(E),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(E[b],p.default.sources.USER),this.ignoreChange=!1;var C=c(E[b]);this.quill.setSelection(C)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(b,x){if(b.ops.length!==0){this.stack.redo=[];var E=this.quill.getContents().diff(x),C=Date.now();if(this.lastRecorded+this.options.delay>C&&this.stack.undo.length>0){var $=this.stack.undo.pop();E=E.compose($.undo),b=$.redo.compose(b)}else this.lastRecorded=C;this.stack.undo.push({redo:b,undo:E}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(b){this.stack.undo.forEach(function(x){x.undo=b.transform(x.undo,!0),x.redo=b.transform(x.redo,!0)}),this.stack.redo.forEach(function(x){x.undo=b.transform(x.undo,!0),x.redo=b.transform(x.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),y}(g.default);v.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},i.default=v,i.getLastChangeIndex=c},function(n,i,t){function r(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function o(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||typeof p!="object"&&typeof p!="function"?f:p}function a(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}Object.defineProperty(i,"__esModule",{value:!0}),i.IndentClass=void 0;var s=function(){function f(p,m){for(var g=0;g<m.length;g++){var v=m[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,m,g){return m&&f(p.prototype,m),g&&f(p,g),p}}(),l=function f(p,m,g){p===null&&(p=Function.prototype);var v=Object.getOwnPropertyDescriptor(p,m);if(v===void 0){var _=Object.getPrototypeOf(p);return _===null?void 0:f(_,m,g)}if("value"in v)return v.value;var y=v.get;if(y!==void 0)return y.call(g)},c=t(0),h=function(f){return f&&f.__esModule?f:{default:f}}(c),u=function(f){function p(){return r(this,p),o(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return a(p,f),s(p,[{key:"add",value:function(m,g){if(g==="+1"||g==="-1"){var v=this.value(m)||0;g=g==="+1"?v+1:v-1}return g===0?(this.remove(m),!0):l(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"add",this).call(this,m,g)}},{key:"canAdd",value:function(m,g){return l(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"canAdd",this).call(this,m,g)||l(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"canAdd",this).call(this,m,parseInt(g))}},{key:"value",value:function(m){return parseInt(l(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,m))||void 0}}]),p}(h.default.Attributor.Class),d=new u("indent","ql-indent",{scope:h.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});i.IndentClass=d},function(n,i,t){function r(h,u){if(!(h instanceof u))throw new TypeError("Cannot call a class as a function")}function o(h,u){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?h:u}function a(h,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);h.prototype=Object.create(u&&u.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(h,u):h.__proto__=u)}Object.defineProperty(i,"__esModule",{value:!0});var s=t(2),l=function(h){return h&&h.__esModule?h:{default:h}}(s),c=function(h){function u(){return r(this,u),o(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return a(u,h),u}(l.default);c.blotName="blockquote",c.tagName="blockquote",i.default=c},function(n,i,t){function r(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}function o(u,d){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?u:d}function a(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(u,d):u.__proto__=d)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function u(d,f){for(var p=0;p<f.length;p++){var m=f[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,f,p){return f&&u(d.prototype,f),p&&u(d,p),d}}(),l=t(2),c=function(u){return u&&u.__esModule?u:{default:u}}(l),h=function(u){function d(){return r(this,d),o(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return a(d,u),s(d,null,[{key:"formats",value:function(f){return this.tagName.indexOf(f.tagName)+1}}]),d}(c.default);h.blotName="header",h.tagName=["H1","H2","H3","H4","H5","H6"],i.default=h},function(n,i,t){function r(y){return y&&y.__esModule?y:{default:y}}function o(y,b,x){return b in y?Object.defineProperty(y,b,{value:x,enumerable:!0,configurable:!0,writable:!0}):y[b]=x,y}function a(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function s(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||typeof b!="object"&&typeof b!="function"?y:b}function l(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.ListItem=void 0;var c=function(){function y(b,x){for(var E=0;E<x.length;E++){var C=x[E];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,x,E){return x&&y(b.prototype,x),E&&y(b,E),b}}(),h=function y(b,x,E){b===null&&(b=Function.prototype);var C=Object.getOwnPropertyDescriptor(b,x);if(C===void 0){var $=Object.getPrototypeOf(b);return $===null?void 0:y($,x,E)}if("value"in C)return C.value;var S=C.get;if(S!==void 0)return S.call(E)},u=t(0),d=r(u),f=t(2),p=r(f),m=t(24),g=r(m),v=function(y){function b(){return a(this,b),s(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return l(b,y),c(b,[{key:"format",value:function(x,E){x!==_.blotName||E?h(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,x,E):this.replaceWith(d.default.create(this.statics.scope))}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():h(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(x,E){return this.parent.isolate(this.offset(this.parent),this.length()),x===this.parent.statics.blotName?(this.parent.replaceWith(x,E),this):(this.parent.unwrap(),h(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"replaceWith",this).call(this,x,E))}}],[{key:"formats",value:function(x){return x.tagName===this.tagName?void 0:h(b.__proto__||Object.getPrototypeOf(b),"formats",this).call(this,x)}}]),b}(p.default);v.blotName="list-item",v.tagName="LI";var _=function(y){function b(x){a(this,b);var E=s(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,x)),C=function($){if($.target.parentNode===x){var S=E.statics.formats(x),P=d.default.find($.target);S==="checked"?P.format("list","unchecked"):S==="unchecked"&&P.format("list","checked")}};return x.addEventListener("touchstart",C),x.addEventListener("mousedown",C),E}return l(b,y),c(b,null,[{key:"create",value:function(x){var E=x==="ordered"?"OL":"UL",C=h(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,E);return x!=="checked"&&x!=="unchecked"||C.setAttribute("data-checked",x==="checked"),C}},{key:"formats",value:function(x){return x.tagName==="OL"?"ordered":x.tagName==="UL"?x.hasAttribute("data-checked")?x.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet":void 0}}]),c(b,[{key:"format",value:function(x,E){this.children.length>0&&this.children.tail.format(x,E)}},{key:"formats",value:function(){return o({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(x,E){if(x instanceof v)h(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertBefore",this).call(this,x,E);else{var C=E==null?this.length():E.offset(this),$=this.split(C);$.parent.insertBefore(x,$)}}},{key:"optimize",value:function(x){h(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,x);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&E.domNode.tagName===this.domNode.tagName&&E.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(E.moveChildren(this),E.remove())}},{key:"replace",value:function(x){if(x.statics.blotName!==this.statics.blotName){var E=d.default.create(this.statics.defaultChild);x.moveChildren(E),this.appendChild(E)}h(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"replace",this).call(this,x)}}]),b}(g.default);_.blotName="list",_.scope=d.default.Scope.BLOCK_BLOT,_.tagName=["OL","UL"],_.defaultChild="list-item",_.allowedChildren=[v],i.ListItem=v,i.default=_},function(n,i,t){function r(h,u){if(!(h instanceof u))throw new TypeError("Cannot call a class as a function")}function o(h,u){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?h:u}function a(h,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);h.prototype=Object.create(u&&u.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(h,u):h.__proto__=u)}Object.defineProperty(i,"__esModule",{value:!0});var s=t(47),l=function(h){return h&&h.__esModule?h:{default:h}}(s),c=function(h){function u(){return r(this,u),o(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return a(u,h),u}(l.default);c.blotName="italic",c.tagName=["EM","I"],i.default=c},function(n,i,t){function r(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function o(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?d:f}function a(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function d(f,p){for(var m=0;m<p.length;m++){var g=p[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(f,p,m){return p&&d(f.prototype,p),m&&d(f,m),f}}(),l=function d(f,p,m){f===null&&(f=Function.prototype);var g=Object.getOwnPropertyDescriptor(f,p);if(g===void 0){var v=Object.getPrototypeOf(f);return v===null?void 0:d(v,p,m)}if("value"in g)return g.value;var _=g.get;if(_!==void 0)return _.call(m)},c=t(4),h=function(d){return d&&d.__esModule?d:{default:d}}(c),u=function(d){function f(){return r(this,f),o(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return a(f,d),s(f,null,[{key:"create",value:function(p){return p==="super"?document.createElement("sup"):p==="sub"?document.createElement("sub"):l(f.__proto__||Object.getPrototypeOf(f),"create",this).call(this,p)}},{key:"formats",value:function(p){return p.tagName==="SUB"?"sub":p.tagName==="SUP"?"super":void 0}}]),f}(h.default);u.blotName="script",u.tagName=["SUB","SUP"],i.default=u},function(n,i,t){function r(h,u){if(!(h instanceof u))throw new TypeError("Cannot call a class as a function")}function o(h,u){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?h:u}function a(h,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);h.prototype=Object.create(u&&u.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(h,u):h.__proto__=u)}Object.defineProperty(i,"__esModule",{value:!0});var s=t(4),l=function(h){return h&&h.__esModule?h:{default:h}}(s),c=function(h){function u(){return r(this,u),o(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return a(u,h),u}(l.default);c.blotName="strike",c.tagName="S",i.default=c},function(n,i,t){function r(h,u){if(!(h instanceof u))throw new TypeError("Cannot call a class as a function")}function o(h,u){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?h:u}function a(h,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);h.prototype=Object.create(u&&u.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(h,u):h.__proto__=u)}Object.defineProperty(i,"__esModule",{value:!0});var s=t(4),l=function(h){return h&&h.__esModule?h:{default:h}}(s),c=function(h){function u(){return r(this,u),o(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return a(u,h),u}(l.default);c.blotName="underline",c.tagName="U",i.default=c},function(n,i,t){function r(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function o(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||typeof m!="object"&&typeof m!="function"?p:m}function a(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function p(m,g){for(var v=0;v<g.length;v++){var _=g[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,g,v){return g&&p(m.prototype,g),v&&p(m,v),m}}(),l=function p(m,g,v){m===null&&(m=Function.prototype);var _=Object.getOwnPropertyDescriptor(m,g);if(_===void 0){var y=Object.getPrototypeOf(m);return y===null?void 0:p(y,g,v)}if("value"in _)return _.value;var b=_.get;if(b!==void 0)return b.call(v)},c=t(0),h=function(p){return p&&p.__esModule?p:{default:p}}(c),u=t(16),d=["alt","height","width"],f=function(p){function m(){return r(this,m),o(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,p),s(m,[{key:"format",value:function(g,v){d.indexOf(g)>-1?v?this.domNode.setAttribute(g,v):this.domNode.removeAttribute(g):l(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,g,v)}}],[{key:"create",value:function(g){var v=l(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,g);return typeof g=="string"&&v.setAttribute("src",this.sanitize(g)),v}},{key:"formats",value:function(g){return d.reduce(function(v,_){return g.hasAttribute(_)&&(v[_]=g.getAttribute(_)),v},{})}},{key:"match",value:function(g){return/\.(jpe?g|gif|png)$/.test(g)||/^data:image\/.+;base64/.test(g)}},{key:"sanitize",value:function(g){return(0,u.sanitize)(g,["http","https","data"])?g:"//:0"}},{key:"value",value:function(g){return g.getAttribute("src")}}]),m}(h.default.Embed);f.blotName="image",f.tagName="IMG",i.default=f},function(n,i,t){function r(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function o(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||typeof m!="object"&&typeof m!="function"?p:m}function a(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function p(m,g){for(var v=0;v<g.length;v++){var _=g[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,g,v){return g&&p(m.prototype,g),v&&p(m,v),m}}(),l=function p(m,g,v){m===null&&(m=Function.prototype);var _=Object.getOwnPropertyDescriptor(m,g);if(_===void 0){var y=Object.getPrototypeOf(m);return y===null?void 0:p(y,g,v)}if("value"in _)return _.value;var b=_.get;if(b!==void 0)return b.call(v)},c=t(2),h=t(16),u=function(p){return p&&p.__esModule?p:{default:p}}(h),d=["height","width"],f=function(p){function m(){return r(this,m),o(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,p),s(m,[{key:"format",value:function(g,v){d.indexOf(g)>-1?v?this.domNode.setAttribute(g,v):this.domNode.removeAttribute(g):l(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,g,v)}}],[{key:"create",value:function(g){var v=l(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,g);return v.setAttribute("frameborder","0"),v.setAttribute("allowfullscreen",!0),v.setAttribute("src",this.sanitize(g)),v}},{key:"formats",value:function(g){return d.reduce(function(v,_){return g.hasAttribute(_)&&(v[_]=g.getAttribute(_)),v},{})}},{key:"sanitize",value:function(g){return u.default.sanitize(g)}},{key:"value",value:function(g){return g.getAttribute("src")}}]),m}(c.BlockEmbed);f.blotName="video",f.className="ql-video",f.tagName="IFRAME",i.default=f},function(n,i,t){function r(T){return T&&T.__esModule?T:{default:T}}function o(T,k,L){return k in T?Object.defineProperty(T,k,{value:L,enumerable:!0,configurable:!0,writable:!0}):T[k]=L,T}function a(T,k){if(!(T instanceof k))throw new TypeError("Cannot call a class as a function")}function s(T,k){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!k||typeof k!="object"&&typeof k!="function"?T:k}function l(T,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);T.prototype=Object.create(k&&k.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(T,k):T.__proto__=k)}function c(T,k,L){var N=document.createElement("button");N.setAttribute("type","button"),N.classList.add("ql-"+k),L!=null&&(N.value=L),T.appendChild(N)}function h(T,k){Array.isArray(k[0])||(k=[k]),k.forEach(function(L){var N=document.createElement("span");N.classList.add("ql-formats"),L.forEach(function(z){if(typeof z=="string")c(N,z);else{var B=Object.keys(z)[0],U=z[B];Array.isArray(U)?u(N,B,U):c(N,B,U)}}),T.appendChild(N)})}function u(T,k,L){var N=document.createElement("select");N.classList.add("ql-"+k),L.forEach(function(z){var B=document.createElement("option");z!==!1?B.setAttribute("value",z):B.setAttribute("selected","selected"),N.appendChild(B)}),T.appendChild(N)}Object.defineProperty(i,"__esModule",{value:!0}),i.addControls=i.default=void 0;var d=function(){function T(k,L){var N=[],z=!0,B=!1,U=void 0;try{for(var D,M=k[Symbol.iterator]();!(z=(D=M.next()).done)&&(N.push(D.value),!L||N.length!==L);z=!0);}catch(F){B=!0,U=F}finally{try{!z&&M.return&&M.return()}finally{if(B)throw U}}return N}return function(k,L){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return T(k,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function T(k,L){for(var N=0;N<L.length;N++){var z=L[N];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(k,z.key,z)}}return function(k,L,N){return L&&T(k.prototype,L),N&&T(k,N),k}}(),p=t(5),m=r(p),g=t(0),v=r(g),_=t(6),y=r(_),b=t(8),x=r(b),E=t(9),C=r(E),$="getRootNode"in document,S=(0,x.default)("quill:toolbar"),P=function(T){function k(L,N){a(this,k);var z=s(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,L,N));if(Array.isArray(z.options.container)){var B=document.createElement("div");h(B,z.options.container),L.container.parentNode.insertBefore(B,L.container),z.container=B}else if(typeof z.options.container=="string"){var U=$?L.container.getRootNode():document;z.container=U.querySelector(z.options.container)}else z.container=z.options.container;if(!(z.container instanceof HTMLElement)){var D;return D=S.error("Container required for toolbar",z.options),s(z,D)}return z.container.classList.add("ql-toolbar"),z.controls=[],z.handlers={},Object.keys(z.options.handlers).forEach(function(M){z.addHandler(M,z.options.handlers[M])}),[].forEach.call(z.container.querySelectorAll("button, select"),function(M){z.attach(M)}),z.quill.on(y.default.events.EDITOR_CHANGE,function(M,F){M===y.default.events.SELECTION_CHANGE&&z.update(F)}),z.quill.on(y.default.events.SCROLL_OPTIMIZE,function(){var M=z.quill.selection.getRange(),F=d(M,1),j=F[0];z.update(j)}),z}return l(k,T),f(k,[{key:"addHandler",value:function(L,N){this.handlers[L]=N}},{key:"attach",value:function(L){var N=this,z=[].find.call(L.classList,function(U){return U.indexOf("ql-")===0});if(z){if(z=z.slice(3),L.tagName==="BUTTON"&&L.setAttribute("type","button"),this.handlers[z]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[z]==null)return void S.warn("ignoring attaching to disabled format",z,L);if(v.default.query(z)==null)return void S.warn("ignoring attaching to nonexistent format",z,L)}var B=L.tagName==="SELECT"?"change":"click";L.addEventListener(B,function(U){var D=void 0;if(L.tagName==="SELECT"){if(L.selectedIndex<0)return;var M=L.options[L.selectedIndex];D=!M.hasAttribute("selected")&&(M.value||!1)}else D=!L.classList.contains("ql-active")&&(L.value||!L.hasAttribute("value")),U.preventDefault();N.quill.focus();var F=N.quill.selection.getRange(),j=d(F,1),Y=j[0];if(N.handlers[z]!=null)N.handlers[z].call(N,D);else if(v.default.query(z).prototype instanceof v.default.Embed){if(!(D=prompt("Enter "+z)))return;N.quill.updateContents(new m.default().retain(Y.index).delete(Y.length).insert(o({},z,D)),y.default.sources.USER)}else N.quill.format(z,D,y.default.sources.USER);N.update(Y)}),this.controls.push([z,L])}}},{key:"update",value:function(L){var N=L==null?{}:this.quill.getFormat(L);this.controls.forEach(function(z){var B=d(z,2),U=B[0],D=B[1];if(D.tagName==="SELECT"){var M=void 0;if(L==null)M=null;else if(N[U]==null)M=D.querySelector("option[selected]");else if(!Array.isArray(N[U])){var F=N[U];typeof F=="string"&&(F=F.replace(/\"/g,'\\"')),M=D.querySelector('option[value="'+F+'"]')}M==null?(D.value="",D.selectedIndex=-1):M.selected=!0}else if(L==null)D.classList.remove("ql-active");else if(D.hasAttribute("value")){var j=N[U]===D.getAttribute("value")||N[U]!=null&&N[U].toString()===D.getAttribute("value")||N[U]==null&&!D.getAttribute("value");D.classList.toggle("ql-active",j)}else D.classList.toggle("ql-active",N[U]!=null)})}}]),k}(C.default);P.DEFAULTS={},P.DEFAULTS={container:null,handlers:{clean:function(){var T=this,k=this.quill.getSelection();if(k!=null)if(k.length==0){var L=this.quill.getFormat();Object.keys(L).forEach(function(N){v.default.query(N,v.default.Scope.INLINE)!=null&&T.quill.format(N,!1)})}else this.quill.removeFormat(k,y.default.sources.USER)},direction:function(T){var k=this.quill.getFormat().align;T==="rtl"&&k==null?this.quill.format("align","right",y.default.sources.USER):T||k!=="right"||this.quill.format("align",!1,y.default.sources.USER),this.quill.format("direction",T,y.default.sources.USER)},indent:function(T){var k=this.quill.getSelection(),L=this.quill.getFormat(k),N=parseInt(L.indent||0);if(T==="+1"||T==="-1"){var z=T==="+1"?1:-1;L.direction==="rtl"&&(z*=-1),this.quill.format("indent",N+z,y.default.sources.USER)}},link:function(T){T===!0&&(T=prompt("Enter link URL:")),this.quill.format("link",T,y.default.sources.USER)},list:function(T){var k=this.quill.getSelection(),L=this.quill.getFormat(k);T==="check"?L.list==="checked"||L.list==="unchecked"?this.quill.format("list",!1,y.default.sources.USER):this.quill.format("list","unchecked",y.default.sources.USER):this.quill.format("list",T,y.default.sources.USER)}}},i.default=P,i.addControls=h},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(n,i,t){function r(q){return q&&q.__esModule?q:{default:q}}Object.defineProperty(i,"__esModule",{value:!0});var o=t(51),a=r(o),s=t(41),l=t(43),c=t(77),h=t(78),u=r(h),d=t(79),f=r(d),p=t(80),m=r(p),g=t(42),v=t(25),_=t(44),y=t(45),b=t(47),x=r(b),E=t(81),C=r(E),$=t(16),S=r($),P=t(82),T=r(P),k=t(83),L=r(k),N=t(84),z=r(N),B=t(85),U=r(B),D=t(86),M=r(D),F=t(13),j=r(F),Y=t(87),W=r(Y);a.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":s.AlignClass,"attributors/class/background":g.BackgroundClass,"attributors/class/color":v.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":_.FontClass,"attributors/class/size":y.SizeClass,"attributors/style/align":s.AlignStyle,"attributors/style/background":g.BackgroundStyle,"attributors/style/color":v.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":_.FontStyle,"attributors/style/size":y.SizeStyle},!0),a.default.register({"formats/align":s.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":c.IndentClass,"formats/background":g.BackgroundStyle,"formats/color":v.ColorStyle,"formats/font":_.FontClass,"formats/size":y.SizeClass,"formats/blockquote":u.default,"formats/code-block":j.default,"formats/header":f.default,"formats/list":m.default,"formats/bold":x.default,"formats/code":F.Code,"formats/italic":C.default,"formats/link":S.default,"formats/script":T.default,"formats/strike":L.default,"formats/underline":z.default,"formats/image":U.default,"formats/video":M.default,"formats/list/item":p.ListItem,"modules/toolbar":W.default},!0),i.default=a.default}]).default});/**
 * @license
 * Copyright (c) 2000 - 2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See https://vaadin.com/commercial-license-and-service-terms for the full
 * license.
 */const Quill=window.Quill,Inline=Quill.import("blots/inline");class CustomColor extends Inline{constructor(i,t){super(i,t),i.style.color=i.color;const r=this.replaceWith(new Inline(Inline.create()));return r.children.forEach(o=>{o.attributes&&o.attributes.copy(r),o.unwrap&&o.unwrap()}),this.remove(),r}}CustomColor.blotName="customColor";CustomColor.tagName="FONT";Quill.register(CustomColor,!0);const HANDLERS=["bold","italic","underline","strike","header","script","list","align","blockquote","code-block"],SOURCE={API:"api",USER:"user",SILENT:"silent"},STATE={DEFAULT:0,FOCUSED:1,CLICKED:2},TAB_KEY=9,RichTextEditorMixin=n=>class extends n{static get properties(){return{value:{type:String,notify:!0,value:"",sync:!0},htmlValue:{type:String,notify:!0,readOnly:!0},disabled:{type:Boolean,value:!1,reflectToAttribute:!0},readonly:{type:Boolean,value:!1,reflectToAttribute:!0},i18n:{type:Object,value:()=>({undo:"undo",redo:"redo",bold:"bold",italic:"italic",underline:"underline",strike:"strike",h1:"h1",h2:"h2",h3:"h3",subscript:"subscript",superscript:"superscript",listOrdered:"list ordered",listBullet:"list bullet",alignLeft:"align left",alignCenter:"align center",alignRight:"align right",image:"image",link:"link",blockquote:"blockquote",codeBlock:"code block",clean:"clean",linkDialogTitle:"Link address",ok:"OK",cancel:"Cancel",remove:"Remove"})},_editor:{type:Object,sync:!0},__oldValue:String,__lastCommittedChange:{type:String,value:""},_linkEditing:{type:Boolean,value:!1},_linkRange:{type:Object,value:null},_linkIndex:{type:Number,value:null},_linkUrl:{type:String,value:""}}}static get observers(){return["_valueChanged(value, _editor)","_disabledChanged(disabled, readonly, _editor)"]}get _toolbarButtons(){return Array.from(this.shadowRoot.querySelectorAll('[part="toolbar"] button')).filter(t=>t.clientHeight>0)}attributeChangedCallback(t,r,o){super.attributeChangedCallback(t,r,o),t==="dir"&&(this.__dir=o,this.__setDirection(o))}disconnectedCallback(){super.disconnectedCallback(),this.__debounceSetValue&&this.__debounceSetValue.isActive()&&this.__debounceSetValue.flush(),this._editor.emitter.removeAllListeners(),this._editor.emitter.listeners={}}__setDirection(t){if(!this._editor)return;const r=Quill.import("attributors/class/align");r.whitelist=[t==="rtl"?"left":"right","center","justify"],Quill.register(r,!0);const o=this._toolbar.querySelector('[part~="toolbar-group-alignment"]');t==="rtl"?(o.querySelector('[part~="toolbar-button-align-left"]').value="left",o.querySelector('[part~="toolbar-button-align-right"]').value=""):(o.querySelector('[part~="toolbar-button-align-left"]').value="",o.querySelector('[part~="toolbar-button-align-right"]').value="right"),this._editor.getModule("toolbar").update(this._editor.getSelection())}async connectedCallback(){super.connectedCallback(),!this.$&&this.updateComplete&&await this.updateComplete;const t=this.shadowRoot.querySelector('[part="content"]');this._editor=new Quill(t,{modules:{toolbar:this._toolbarConfig}}),this.__patchToolbar(),this.__patchKeyboard(),isFirefox$4&&this.__patchFirefoxFocus(),this.__setDirection(this.__dir);const r=t.querySelector(".ql-editor");r.setAttribute("role","textbox"),r.setAttribute("aria-multiline","true"),this._editor.on("text-change",()=>{this.__debounceSetValue=Debouncer$1.debounce(this.__debounceSetValue,timeOut.after(200),()=>{this.value=JSON.stringify(this._editor.getContents().ops)})});const o=9;r.addEventListener("keydown",a=>{a.key==="Escape"?this.__tabBindings||(this.__tabBindings=this._editor.keyboard.bindings[o],this._editor.keyboard.bindings[o]=null):this.__tabBindings&&(this._editor.keyboard.bindings[o]=this.__tabBindings,this.__tabBindings=null)}),r.addEventListener("blur",()=>{this.__tabBindings&&(this._editor.keyboard.bindings[o]=this.__tabBindings,this.__tabBindings=null)}),r.addEventListener("focusout",()=>{this._toolbarState===STATE.FOCUSED?this._cleanToolbarState():this.__emitChangeEvent()}),r.addEventListener("focus",()=>{this._toolbarState===STATE.CLICKED&&this._cleanToolbarState()}),this._editor.on("selection-change",this.__announceFormatting.bind(this)),this.__flushPendingHtmlValue()}ready(){super.ready(),this._toolbarConfig=this._prepareToolbar(),this._toolbar=this._toolbarConfig.container,this._addToolbarListeners(),requestAnimationFrame(()=>{this.$.linkDialog.$.dialog.$.overlay.addEventListener("vaadin-overlay-open",()=>{this.$.linkUrl.focus()})})}_prepareToolbar(){const t=Quill.imports["modules/toolbar"].DEFAULTS.handlers.clean,r=this,o={container:this.shadowRoot.querySelector('[part="toolbar"]'),handlers:{clean(){r._markToolbarClicked(),t.call(this)}}};return HANDLERS.forEach(a=>{o.handlers[a]=s=>{this._markToolbarClicked(),this._editor.format(a,s,SOURCE.USER)}}),o}_addToolbarListeners(){const t=this._toolbarButtons,r=this._toolbar;t.forEach((o,a)=>a>0&&o.setAttribute("tabindex","-1")),r.addEventListener("keydown",o=>{if([37,39].indexOf(o.keyCode)>-1){o.preventDefault();let a=t.indexOf(o.target);t[a].setAttribute("tabindex","-1");let s;o.keyCode===39?s=1:o.keyCode===37&&(s=-1),a=(t.length+a+s)%t.length,t[a].removeAttribute("tabindex"),t[a].focus()}(o.keyCode===27||o.keyCode===TAB_KEY&&!o.shiftKey)&&(o.preventDefault(),this._editor.focus())}),r.addEventListener("mousedown",o=>{t.indexOf(o.composedPath()[0])>-1&&this._markToolbarFocused()})}_markToolbarClicked(){this._toolbarState=STATE.CLICKED}_markToolbarFocused(){this._toolbarState=STATE.FOCUSED}_cleanToolbarState(){this._toolbarState=STATE.DEFAULT}__createFakeFocusTarget(){const t=document.documentElement.getAttribute("dir")==="rtl",r=document.createElement("textarea");r.style.border="0",r.style.padding="0",r.style.margin="0",r.style.position="absolute",r.style[t?"right":"left"]="-9999px";const o=window.pageYOffset||document.documentElement.scrollTop;return r.style.top=`${o}px`,r}__patchFirefoxFocus(){const t=this.shadowRoot.querySelector(".ql-editor");let r=!1;const o=()=>(r=!0,this.__fakeTarget=this.__createFakeFocusTarget(),document.body.appendChild(this.__fakeTarget),this.__fakeTarget.focus(),new Promise(s=>{setTimeout(s)})),a=(s,l)=>{this._editor.focus(),s&&this._editor.selection.setNativeRange(s,l),document.body.removeChild(this.__fakeTarget),delete this.__fakeTarget,r=!1};t.addEventListener("mousedown",s=>{if(!this._editor.hasFocus()){const{x:l,y:c}=s,{offset:h,offsetNode:u}=document.caretPositionFromPoint(l,c);o().then(()=>{a(u,h)})}}),t.addEventListener("focusin",()=>{r===!1&&o().then(()=>a())})}__patchToolbar(){const t=this._editor.getModule("toolbar"),r=t.update;t.controls.push(["link",this.shadowRoot.querySelector('[part~="toolbar-button-link"]')]),t.update=function(o){r.call(t,o),t.controls.forEach(a=>{const s=a[1],l=s.classList.contains("ql-active");s.toggleAttribute("on",l),s.part.toggle("toolbar-button-pressed",l)})}}__patchKeyboard(){const t=()=>{this._markToolbarFocused(),this._toolbar.querySelector("button:not([tabindex])").focus()},r=this._editor.getModule("keyboard"),a=r.bindings[TAB_KEY].filter(l=>!l.shiftKey||l.format&&l.format["code-block"]),s={key:TAB_KEY,shiftKey:!0,handler:t};r.bindings[TAB_KEY]=[...a,s],r.addBinding({key:121,altKey:!0,handler:t})}__emitChangeEvent(){let t=this.__lastCommittedChange;this.__debounceSetValue&&this.__debounceSetValue.isActive()&&(t=this.value,this.__debounceSetValue.flush()),t!==this.value&&(this.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1})),this.__lastCommittedChange=this.value)}_onLinkClick(){const t=this._editor.getSelection();if(t){const r=Quill.imports["formats/link"],[o,a]=this._editor.scroll.descendant(r,t.index);o!=null?(this._linkRange={index:t.index-a,length:o.length()},this._linkUrl=r.formats(o.domNode)):t.length===0&&(this._linkIndex=t.index),this._linkEditing=!0}}_applyLink(t){t&&(this._markToolbarClicked(),this._editor.format("link",t,SOURCE.USER),this._editor.getModule("toolbar").update(this._editor.selection.savedRange)),this._closeLinkDialog()}_insertLink(t,r){t&&(this._markToolbarClicked(),this._editor.insertText(r,t,{link:t}),this._editor.setSelection(r,t.length)),this._closeLinkDialog()}_updateLink(t,r){this._markToolbarClicked(),this._editor.formatText(r,"link",t,SOURCE.USER),this._closeLinkDialog()}_removeLink(){this._markToolbarClicked(),this._linkRange!=null&&this._editor.formatText(this._linkRange,{link:!1,color:!1},SOURCE.USER),this._closeLinkDialog()}_closeLinkDialog(){this._linkEditing=!1,this._linkUrl="",this._linkIndex=null,this._linkRange=null}_onLinkEditConfirm(){this._linkIndex!=null?this._insertLink(this._linkUrl,this._linkIndex):this._linkRange?this._updateLink(this._linkUrl,this._linkRange):this._applyLink(this._linkUrl)}_onLinkEditCancel(){this._closeLinkDialog(),this._editor.focus()}_onLinkEditRemove(){this._removeLink(),this._closeLinkDialog()}_onLinkKeydown(t){t.keyCode===13&&(t.preventDefault(),t.stopPropagation(),this.$.confirmLink.click())}__updateHtmlValue(){let r=this.shadowRoot.querySelector(".ql-editor").innerHTML;r=r.replace(/\s*ql-(?!align)[\w-]*\s*/gu,""),r=r.replace(/<\/?span[^>]*>/gu,""),[this.__dir==="rtl"?"left":"right","center","justify"].forEach(o=>{r=r.replace(new RegExp(` class=[\\\\]?"\\s?ql-align-${o}[\\\\]?"`,"gu"),` style="text-align: ${o}"`)}),r=r.replace(/ class=""/gu,""),this._setHtmlValue(r)}dangerouslySetHtmlValue(t){if(!this._editor){this.__pendingHtmlValue=t,this.value="";return}const r={"	":"__VAADIN_RICH_TEXT_EDITOR_TAB","  ":"__VAADIN_RICH_TEXT_EDITOR_DOUBLE_SPACE"};Object.entries(r).forEach(([a,s])=>{t=t.replaceAll(/>[^<]*</gu,l=>l.replaceAll(a,s))});const o=this._editor.clipboard.convert(t);Object.entries(r).forEach(([a,s])=>{o.ops.forEach(l=>{typeof l.insert=="string"&&(l.insert=l.insert.replaceAll(s,a))})}),this._editor.setContents(o,SOURCE.API)}__flushPendingHtmlValue(){this.__pendingHtmlValue&&this.dangerouslySetHtmlValue(this.__pendingHtmlValue)}__announceFormatting(){const r=this.shadowRoot.querySelector(".announcer");r.textContent="",this.__debounceAnnounceFormatting=Debouncer$1.debounce(this.__debounceAnnounceFormatting,timeOut.after(200),()=>{const o=Array.from(this.shadowRoot.querySelectorAll('[part="toolbar"] .ql-active')).map(a=>this.shadowRoot.querySelector(`[for="${a.id}"]`).text).join(", ");r.textContent=o})}_clear(){this._editor.deleteText(0,this._editor.getLength(),SOURCE.SILENT),this.__updateHtmlValue()}_undo(t){t.preventDefault(),this._editor.history.undo(),this._editor.focus()}_redo(t){t.preventDefault(),this._editor.history.redo(),this._editor.focus()}_toggleToolbarDisabled(t){const r=this._toolbarButtons;t?r.forEach(o=>o.setAttribute("disabled","true")):r.forEach(o=>o.removeAttribute("disabled"))}_onImageTouchEnd(t){t.preventDefault(),this._onImageClick()}_onImageClick(){this.$.fileInput.value="",this.$.fileInput.click()}_uploadImage(t){const r=t.target;if(r.files!=null&&r.files[0]!=null){const o=new FileReader;o.onload=a=>{const s=a.target.result,l=this._editor.getSelection(!0);this._editor.updateContents(new Quill.imports.delta().retain(l.index).delete(l.length).insert({image:s}),SOURCE.USER),this._markToolbarClicked(),this._editor.setSelection(l.index+1,SOURCE.SILENT),r.value=""},o.readAsDataURL(r.files[0])}}_disabledChanged(t,r,o){t===void 0||r===void 0||o===void 0||(t||r?(o.enable(!1),t&&this._toggleToolbarDisabled(!0)):(o.enable(),this.__oldDisabled&&this._toggleToolbarDisabled(!1)),this.__oldDisabled=t)}_valueChanged(t,r){if(t&&this.__pendingHtmlValue&&(this.__pendingHtmlValue=void 0),r===void 0)return;if(t==null||t==='[{"insert":"\\n"}]'){this.value="";return}if(t===""){this._clear();return}let o;try{if(o=JSON.parse(t),Array.isArray(o))this.__oldValue=t;else throw new Error(`expected JSON string with array of objects, got: ${t}`)}catch(s){this.value=this.__oldValue,console.error("Invalid value set to rich-text-editor:",s);return}const a=new Quill.imports.delta(o);JSON.stringify(r.getContents())!==JSON.stringify(a)&&r.setContents(a,SOURCE.SILENT),this.__updateHtmlValue(),this._toolbarState===STATE.CLICKED?(this._cleanToolbarState(),this.__emitChangeEvent()):this._editor.hasFocus()||(this.__lastCommittedChange=this.value)}};/**
 * @license
 * Copyright (c) 2000 - 2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See https://vaadin.com/commercial-license-and-service-terms for the full
 * license.
 */const contentStyles=css$e`
  [part='content'] {
    box-sizing: border-box;
    position: relative;
    flex: auto;
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }

  /*
    Quill core styles.
    CSS selectors removed: margin & padding reset, check list, indentation, video, colors, ordered & unordered list, h1-6, anchor
  */
  .ql-clipboard {
    left: -100000px;
    height: 1px;
    overflow-y: hidden;
    position: absolute;
    top: 50%;
  }

  .ql-clipboard p {
    margin: 0;
    padding: 0;
  }

  .ql-editor {
    box-sizing: border-box;
    line-height: 1.42;
    height: 100%;
    outline: none;
    overflow-y: auto;
    padding: 0.75em 1em;
    -moz-tab-size: 4;
    tab-size: 4;
    text-align: left;
    white-space: pre-wrap;
    word-wrap: break-word;
    flex: 1;
  }

  .ql-editor > * {
    cursor: text;
  }

  .ql-align-left {
    text-align: left;
  }

  .ql-direction-rtl {
    direction: rtl;
    text-align: inherit;
  }

  .ql-align-center {
    text-align: center;
  }

  .ql-align-justify {
    text-align: justify;
  }

  .ql-align-right {
    text-align: right;
  }
  /* quill core end */

  blockquote {
    border-left: 0.25em solid #ccc;
    margin-bottom: 0.3125em;
    margin-top: 0.3125em;
    padding-left: 1em;
  }

  code,
  pre {
    background-color: #f0f0f0;
    border-radius: 0.1875em;
  }

  pre {
    white-space: pre-wrap;
    margin-bottom: 0.3125em;
    margin-top: 0.3125em;
    padding: 0.3125em 0.625em;
  }

  code {
    font-size: 85%;
    padding: 0.125em 0.25em;
  }

  img {
    max-width: 100%;
  }

  /* RTL specific styles */
  :host([dir='rtl']) .ql-editor {
    direction: rtl;
    text-align: right;
  }
`;registerStyles$1("",contentStyles,{moduleId:"vaadin-rich-text-editor-content-styles"});/**
 * @license
 * Copyright (c) 2000 - 2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See https://vaadin.com/commercial-license-and-service-terms for the full
 * license.
 */const baseStyles=css$e`
  :host {
    display: flex;
    flex-direction: column;
    box-sizing: border-box;
  }

  :host([hidden]) {
    display: none !important;
  }

  .announcer {
    position: fixed;
    clip: rect(0, 0, 0, 0);
  }

  input[type='file'] {
    display: none;
  }

  .vaadin-rich-text-editor-container {
    display: flex;
    flex-direction: column;
    min-height: inherit;
    max-height: inherit;
    flex: auto;
  }
`,statesStyles=css$e`
  :host([readonly]) [part='toolbar'] {
    display: none;
  }

  :host([disabled]) {
    pointer-events: none;
    opacity: 0.5;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }

  :host([disabled]) [part~='toolbar-button'] {
    background-color: transparent;
  }
`,richTextEditorStyles=[baseStyles,contentStyles,toolbarStyles,statesStyles];/**
 * @license
 * Copyright (c) 2000 - 2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See https://vaadin.com/commercial-license-and-service-terms for the full
 * license.
 */registerStyles$1("vaadin-rich-text-editor",richTextEditorStyles,{moduleId:"vaadin-rich-text-editor-styles"});class RichTextEditor extends RichTextEditorMixin(ElementMixin(ThemableMixin(PolymerElement))){static get template(){return html`
      <div class="vaadin-rich-text-editor-container">
        <!-- Create toolbar container -->
        <div part="toolbar" role="toolbar">
          <span part="toolbar-group toolbar-group-history">
            <!-- Undo and Redo -->
            <button id="btn-undo" type="button" part="toolbar-button toolbar-button-undo" on-click="_undo"></button>
            <vaadin-tooltip for="btn-undo" text="[[i18n.undo]]"></vaadin-tooltip>

            <button id="btn-redo" type="button" part="toolbar-button toolbar-button-redo" on-click="_redo"></button>
            <vaadin-tooltip for="btn-redo" text="[[i18n.redo]]"></vaadin-tooltip>
          </span>

          <span part="toolbar-group toolbar-group-emphasis">
            <!-- Bold -->
            <button id="btn-bold" class="ql-bold" part="toolbar-button toolbar-button-bold"></button>
            <vaadin-tooltip for="btn-bold" text="[[i18n.bold]]"></vaadin-tooltip>

            <!-- Italic -->
            <button id="btn-italic" class="ql-italic" part="toolbar-button toolbar-button-italic"></button>
            <vaadin-tooltip for="btn-italic" text="[[i18n.italic]]"></vaadin-tooltip>

            <!-- Underline -->
            <button id="btn-underline" class="ql-underline" part="toolbar-button toolbar-button-underline"></button>
            <vaadin-tooltip for="btn-underline" text="[[i18n.underline]]"></vaadin-tooltip>

            <!-- Strike -->
            <button id="btn-strike" class="ql-strike" part="toolbar-button toolbar-button-strike"></button>
            <vaadin-tooltip for="btn-strike" text="[[i18n.strike]]"></vaadin-tooltip>
          </span>

          <span part="toolbar-group toolbar-group-heading">
            <!-- Header buttons -->
            <button
              id="btn-h1"
              type="button"
              class="ql-header"
              value="1"
              part="toolbar-button toolbar-button-h1"
            ></button>
            <vaadin-tooltip for="btn-h1" text="[[i18n.h1]]"></vaadin-tooltip>
            <button
              id="btn-h2"
              type="button"
              class="ql-header"
              value="2"
              part="toolbar-button toolbar-button-h2"
            ></button>
            <vaadin-tooltip for="btn-h2" text="[[i18n.h2]]"></vaadin-tooltip>
            <button
              id="btn-h3"
              type="button"
              class="ql-header"
              value="3"
              part="toolbar-button toolbar-button-h3"
            ></button>
            <vaadin-tooltip for="btn-h3" text="[[i18n.h3]]"></vaadin-tooltip>
          </span>

          <span part="toolbar-group toolbar-group-glyph-transformation">
            <!-- Subscript and superscript -->
            <button
              id="btn-subscript"
              class="ql-script"
              value="sub"
              part="toolbar-button toolbar-button-subscript"
            ></button>
            <vaadin-tooltip for="btn-subscript" text="[[i18n.subscript]]"></vaadin-tooltip>
            <button
              id="btn-superscript"
              class="ql-script"
              value="super"
              part="toolbar-button toolbar-button-superscript"
            ></button>
            <vaadin-tooltip for="btn-superscript" text="[[i18n.superscript]]"></vaadin-tooltip>
          </span>

          <span part="toolbar-group toolbar-group-list">
            <!-- List buttons -->
            <button
              id="btn-ol"
              type="button"
              class="ql-list"
              value="ordered"
              part="toolbar-button toolbar-button-list-ordered"
            ></button>
            <vaadin-tooltip for="btn-ol" text="[[i18n.listOrdered]]"></vaadin-tooltip>
            <button
              id="btn-ul"
              type="button"
              class="ql-list"
              value="bullet"
              part="toolbar-button toolbar-button-list-bullet"
            ></button>
            <vaadin-tooltip for="btn-ul" text="[[i18n.listBullet]]"></vaadin-tooltip>
          </span>

          <span part="toolbar-group toolbar-group-alignment">
            <!-- Align buttons -->
            <button
              id="btn-left"
              type="button"
              class="ql-align"
              value=""
              part="toolbar-button toolbar-button-align-left"
            ></button>
            <vaadin-tooltip for="btn-left" text="[[i18n.alignLeft]]"></vaadin-tooltip>
            <button
              id="btn-center"
              type="button"
              class="ql-align"
              value="center"
              part="toolbar-button toolbar-button-align-center"
            ></button>
            <vaadin-tooltip for="btn-center" text="[[i18n.alignCenter]]"></vaadin-tooltip>
            <button
              id="btn-right"
              type="button"
              class="ql-align"
              value="right"
              part="toolbar-button toolbar-button-align-right"
            ></button>
            <vaadin-tooltip for="btn-right" text="[[i18n.alignRight]]"></vaadin-tooltip>
          </span>

          <span part="toolbar-group toolbar-group-rich-text">
            <!-- Image -->
            <button
              id="btn-image"
              type="button"
              part="toolbar-button toolbar-button-image"
              on-touchend="_onImageTouchEnd"
              on-click="_onImageClick"
            ></button>
            <vaadin-tooltip for="btn-image" text="[[i18n.image]]"></vaadin-tooltip>
            <!-- Link -->
            <button
              id="btn-link"
              type="button"
              part="toolbar-button toolbar-button-link"
              on-click="_onLinkClick"
            ></button>
            <vaadin-tooltip for="btn-link" text="[[i18n.link]]"></vaadin-tooltip>
          </span>

          <span part="toolbar-group toolbar-group-block">
            <!-- Blockquote -->
            <button
              id="btn-blockquote"
              type="button"
              class="ql-blockquote"
              part="toolbar-button toolbar-button-blockquote"
            ></button>
            <vaadin-tooltip for="btn-blockquote" text="[[i18n.blockquote]]"></vaadin-tooltip>
            <!-- Code block -->
            <button
              id="btn-code"
              type="button"
              class="ql-code-block"
              part="toolbar-button toolbar-button-code-block"
            ></button>
            <vaadin-tooltip for="btn-code" text="[[i18n.codeBlock]]"></vaadin-tooltip>
          </span>

          <span part="toolbar-group toolbar-group-format">
            <!-- Clean -->
            <button id="btn-clean" type="button" class="ql-clean" part="toolbar-button toolbar-button-clean"></button>
            <vaadin-tooltip for="btn-clean" text="[[i18n.clean]]"></vaadin-tooltip>
          </span>

          <input
            id="fileInput"
            type="file"
            accept="image/png, image/gif, image/jpeg, image/bmp, image/x-icon"
            on-change="_uploadImage"
          />
        </div>

        <div part="content"></div>

        <div class="announcer" aria-live="polite"></div>
      </div>

      <vaadin-confirm-dialog id="linkDialog" opened="{{_linkEditing}}" header="[[i18n.linkDialogTitle]]">
        <vaadin-text-field
          id="linkUrl"
          value="{{_linkUrl}}"
          style="width: 100%;"
          on-keydown="_onLinkKeydown"
        ></vaadin-text-field>
        <vaadin-button id="confirmLink" slot="confirm-button" theme="primary" on-click="_onLinkEditConfirm">
          [[i18n.ok]]
        </vaadin-button>
        <vaadin-button
          id="removeLink"
          slot="reject-button"
          theme="error"
          on-click="_onLinkEditRemove"
          hidden$="[[!_linkRange]]"
        >
          [[i18n.remove]]
        </vaadin-button>
        <vaadin-button id="cancelLink" slot="cancel-button" on-click="_onLinkEditCancel">
          [[i18n.cancel]]
        </vaadin-button>
      </vaadin-confirm-dialog>
    `}static get is(){return"vaadin-rich-text-editor"}static get cvdlName(){return"vaadin-rich-text-editor"}}defineCustomElement(RichTextEditor);(function(){const n=function(i){return window.Vaadin.Flow.tryCatchWrapper(i,"Vaadin Select")};window.Vaadin.Flow.selectConnector={initLazy:i=>n(function(t){const r=n(function(){for(let o=0;o<t.childElementCount;o++){const a=t.children[o];if(a.tagName.toUpperCase()==="VAADIN-SELECT-LIST-BOX")return a}});t.$connector||(t.$connector={},t.renderer=n(function(o){const a=r();a&&(o.firstChild&&o.removeChild(o.firstChild),o.appendChild(a))}))})(i)}})();const _window$1=window;_window$1.Vaadin||(_window$1.Vaadin={});var Qt;(Qt=_window$1.Vaadin).Flow||(Qt.Flow={});var Jt;(Jt=_window$1.Vaadin.Flow).tooltip||(Jt.tooltip={});Object.assign(_window$1.Vaadin.Flow.tooltip,{setDefaultHideDelay:n=>Tooltip$1.setDefaultHideDelay(n),setDefaultFocusDelay:n=>Tooltip$1.setDefaultFocusDelay(n),setDefaultHoverDelay:n=>Tooltip$1.setDefaultHoverDelay(n)});const{defaultHideDelay,defaultFocusDelay,defaultHoverDelay}=_window$1.Vaadin.Flow.tooltip;defaultHideDelay&&Tooltip$1.setDefaultHideDelay(defaultHideDelay);defaultFocusDelay&&Tooltip$1.setDefaultFocusDelay(defaultFocusDelay);defaultHoverDelay&&Tooltip$1.setDefaultHoverDelay(defaultHoverDelay);const sideNavItemStyles=css$e`
  :host {
    --_focus-ring-color: var(--vaadin-focus-ring-color, var(--lumo-primary-color-50pct));
    --_focus-ring-width: var(--vaadin-focus-ring-width, 2px);
  }

  [part='link'] {
    width: 100%;
    gap: var(--lumo-space-xs);
    padding: var(--lumo-space-s);
    padding-inline-start: calc(var(--lumo-space-s) + var(--_child-indent, 0px));
    border-radius: var(--lumo-border-radius-m);
    transition: background-color 140ms, color 140ms;
    cursor: var(--lumo-clickable-cursor, default);
    min-height: var(--lumo-icon-size-m);
  }

  [part='link'][href] {
    cursor: pointer;
  }

  :host([disabled]) [part='link'] {
    color: var(--lumo-disabled-text-color);
  }

  [part='toggle-button'] {
    margin-inline-end: calc(var(--lumo-space-xs) * -1);
    width: var(--lumo-size-s);
    height: var(--lumo-size-s);
  }

  :host([has-children]) [part='content'] {
    padding-inline-end: var(--lumo-space-s);
  }

  @media (any-hover: hover) {
    [part='link']:hover {
      color: var(--lumo-header-text-color);
    }

    [part='toggle-button']:hover {
      color: var(--lumo-body-text-color);
    }
  }

  [part='link']:active:focus {
    background-color: var(--lumo-contrast-5pct);
  }

  [part='toggle-button']::before {
    content: var(--lumo-icons-dropdown);
    transform: rotate(-90deg);
    transition: transform 140ms;
  }

  :host([dir='rtl']) [part='toggle-button']::before {
    transform: rotate(90deg);
  }

  :host([expanded]) [part='toggle-button']::before {
    transform: none;
  }

  @supports selector(:focus-visible) {
    [part='link'],
    [part='toggle-button'] {
      outline: none;
    }

    [part='link']:focus-visible,
    [part='toggle-button']:focus-visible {
      border-radius: var(--lumo-border-radius-m);
      box-shadow: 0 0 0 var(--_focus-ring-width) var(--_focus-ring-color);
    }
  }

  [part='link']:active {
    color: var(--lumo-header-text-color);
  }

  slot:not([name]) {
    margin: 0 var(--lumo-space-s);
  }

  slot[name='prefix']::slotted(:is(vaadin-icon, [class*='icon'])) {
    padding: 0.1em;
    flex-shrink: 0;
    color: var(--lumo-contrast-60pct);
  }

  :host([disabled]) slot[name='prefix']::slotted(:is(vaadin-icon, [class*='icon'])) {
    color: var(--lumo-disabled-text-color);
  }

  :host([current]) slot[name='prefix']::slotted(:is(vaadin-icon, [class*='icon'])) {
    color: inherit;
  }

  slot[name='children'] {
    --_child-indent: calc(var(--_child-indent-2, 0px) + var(--vaadin-side-nav-child-indent, var(--lumo-space-l)));
  }

  slot[name='children']::slotted(*) {
    --_child-indent-2: var(--_child-indent);
  }

  :host([current]) [part='content'] {
    background-color: var(--lumo-primary-color-10pct);
    color: var(--vaadin-selection-color-text, var(--lumo-primary-text-color));
    border-radius: var(--lumo-border-radius-m);
  }
`;registerStyles$1("vaadin-side-nav-item",[fieldButton,sideNavItemStyles],{moduleId:"lumo-side-nav-item"});const appliedClassMixins=new WeakMap;function wasMixinPreviouslyApplied(n,i){let t=i;for(;t;){if(appliedClassMixins.get(t)===n)return!0;t=Object.getPrototypeOf(t)}return!1}function dedupeMixin(n){return i=>{if(wasMixinPreviouslyApplied(n,i))return i;const t=n(i);return appliedClassMixins.set(t,n),t}}/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const caseMap={},CAMEL_TO_DASH=/([A-Z])/gu;function camelToDash(n){return caseMap[n]||(caseMap[n]=n.replace(CAMEL_TO_DASH,"-$1").toLowerCase()),caseMap[n]}function upper(n){return n[0].toUpperCase()+n.substring(1)}function parseObserver(n){const[i,t]=n.split("("),r=t.replace(")","").split(",").map(o=>o.trim());return{method:i,observerProps:r}}function getOrCreateMap(n,i){return Object.prototype.hasOwnProperty.call(n,i)||(n[i]=new Map(n[i])),n[i]}const PolylitMixinImplementation=n=>{class i extends n{static createProperty(r,o){[String,Boolean,Number,Array].includes(o)&&(o={type:o}),o.reflectToAttribute&&(o.reflect=!0),super.createProperty(r,o)}static getOrCreateMap(r){return getOrCreateMap(this,r)}static finalize(){if(super.finalize(),Array.isArray(this.observers)){const r=this.getOrCreateMap("__complexObservers");this.observers.forEach(o=>{const{method:a,observerProps:s}=parseObserver(o);r.set(a,s)})}}static addCheckedInitializer(r){super.addInitializer(o=>{o instanceof this&&r(o)})}static getPropertyDescriptor(r,o,a){const s=super.getPropertyDescriptor(r,o,a);let l=s;if(a.sync&&(l={get:s.get,set(c){const h=this[r];this[o]=c,this.requestUpdate(r,h,a),this.hasUpdated&&this.performUpdate()},configurable:!0,enumerable:!0}),a.readOnly){const c=s.set;this.addCheckedInitializer(h=>{h[`_set${upper(r)}`]=function(u){c.call(h,u),a.sync&&this.performUpdate()}}),l={get:s.get,set(){},configurable:!0,enumerable:!0}}if("value"in a&&this.addCheckedInitializer(c=>{const h=typeof a.value=="function"?a.value.call(c):a.value;a.readOnly?c[`_set${upper(r)}`](h):c[r]=h}),a.observer){const c=a.observer;this.getOrCreateMap("__observers").set(r,c),this.addCheckedInitializer(h=>{h[c]||console.warn(`observer method ${c} not defined`)})}if(a.notify){if(!this.__notifyProps)this.__notifyProps=new Set;else if(!this.hasOwnProperty("__notifyProps")){const c=this.__notifyProps;this.__notifyProps=new Set(c)}this.__notifyProps.add(r)}if(a.computed){const c=`__assignComputed${r}`,h=parseObserver(a.computed);this.prototype[c]=function(...u){this[r]=this[h.method](...u)},this.getOrCreateMap("__complexObservers").set(c,h.observerProps)}return a.attribute||(a.attribute=camelToDash(r)),l}firstUpdated(){super.firstUpdated(),this.$||(this.$={}),this.renderRoot.querySelectorAll("[id]").forEach(r=>{this.$[r.id]=r})}ready(){}updated(r){this.constructor.__observers&&this.__runObservers(r,this.constructor.__observers),this.constructor.__complexObservers&&this.__runComplexObservers(r,this.constructor.__complexObservers),this.__dynamicObservers&&this.__runComplexObservers(r,this.__dynamicObservers),this.constructor.__notifyProps&&this.__runNotifyProps(r,this.constructor.__notifyProps),this.__isReadyInvoked||(this.__isReadyInvoked=!0,this.ready())}_createMethodObserver(r){const o=getOrCreateMap(this,"__dynamicObservers"),{method:a,observerProps:s}=parseObserver(r);o.set(a,s)}__runComplexObservers(r,o){o.forEach((a,s)=>{a.some(l=>r.has(l))&&(this[s]?this[s](...a.map(l=>this[l])):console.warn(`observer method ${s} not defined`))})}__runObservers(r,o){r.forEach((a,s)=>{const l=o.get(s);l!==void 0&&this[l]&&this[l](this[s],a)})}__runNotifyProps(r,o){r.forEach((a,s)=>{o.has(s)&&this.dispatchEvent(new CustomEvent(`${camelToDash(s)}-changed`,{detail:{value:this[s]}}))})}_get(r,o){return get$5(r,o)}_set(r,o,a){set$2(r,o,a)}}return i},PolylitMixin=dedupeMixin(PolylitMixinImplementation);/**
 * @license
 * Copyright (c) 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */function matchPaths(n,i){const t=document.baseURI,r=new URL(n,t),o=new URL(i,t);return r.origin===o.origin&&r.pathname===o.pathname}/**
 * @license
 * Copyright (c) 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const sideNavItemBaseStyles=css$e`
  :host {
    display: block;
  }

  :host([hidden]),
  [hidden] {
    display: none !important;
  }

  :host([disabled]) {
    pointer-events: none;
  }

  [part='content'] {
    display: flex;
    align-items: center;
  }

  [part='link'] {
    flex: auto;
    min-width: 0;
    display: flex;
    align-items: center;
    text-decoration: none;
    color: inherit;
    font: inherit;
  }

  button {
    -webkit-appearance: none;
    appearance: none;
    flex: none;
    position: relative;
    margin: 0;
    padding: 0;
    border: 0;
    background: transparent;
  }

  [part='children'] {
    padding: 0;
    margin: 0;
    list-style-type: none;
  }

  :host(:not([has-children])) button {
    display: none !important;
  }

  slot[name='prefix'],
  slot[name='suffix'] {
    flex: none;
  }

  slot:not([name]) {
    display: block;
    flex: auto;
    min-width: 0;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
`,sideNavBaseStyles=css$e`
  :host {
    display: block;
  }

  :host([hidden]) {
    display: none !important;
  }

  button {
    display: flex;
    align-items: center;
    justify-content: inherit;
    width: 100%;
    margin: 0;
    padding: 0;
    background-color: initial;
    color: inherit;
    border: initial;
    outline: none;
    font: inherit;
    text-align: inherit;
  }

  [part='children'] {
    padding: 0;
    margin: 0;
    list-style-type: none;
  }
`;/**
 * @license
 * Copyright (c) 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class ChildrenController extends SlotController{constructor(i,t){super(i,t,null,{observe:!0,multiple:!0})}initAddedNode(){this.host.requestUpdate()}teardownNode(){this.host.requestUpdate()}}const SideNavChildrenMixin=n=>class extends n{static get properties(){return{i18n:{type:Object,value:()=>({toggle:"Toggle child items"})},_itemsCount:{type:Number,value:0}}}constructor(){super(),this._childrenController=new ChildrenController(this,this._itemsSlotName)}get _items(){return this._childrenController.nodes}get _itemsSlotName(){return"children"}firstUpdated(){super.firstUpdated(),this.addController(this._childrenController)}willUpdate(t){super.willUpdate(t),this._itemsCount=this._items.length}updated(t){super.updated(t),t.has("_itemsCount")&&this.toggleAttribute("has-children",this._itemsCount>0),(t.has("_itemsCount")||t.has("i18n"))&&this._items.forEach(r=>{r.i18n=this.i18n})}};/**
 * @license
 * Copyright (c) 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class SideNavItem extends SideNavChildrenMixin(DisabledMixin(ElementMixin(ThemableMixin(PolylitMixin(LitElement))))){static get is(){return"vaadin-side-nav-item"}static get properties(){return{path:String,pathAliases:{type:Array,value:()=>[]},expanded:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},current:{type:Boolean,value:!1,readOnly:!0,reflectToAttribute:!0}}}static get styles(){return[screenReaderOnly,sideNavItemBaseStyles]}constructor(){super(),this.__boundUpdateCurrent=this.__updateCurrent.bind(this)}get _button(){return this.shadowRoot.querySelector("button")}firstUpdated(){super.firstUpdated(),this.hasAttribute("role")||this.setAttribute("role","listitem")}updated(i){super.updated(i),(i.has("path")||i.has("pathAliases"))&&this.__updateCurrent(),(i.has("disabled")||i.has("_itemsCount"))&&this._items.forEach(t=>{t.disabled=this.disabled})}connectedCallback(){super.connectedCallback(),this.__updateCurrent(),window.addEventListener("popstate",this.__boundUpdateCurrent)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("popstate",this.__boundUpdateCurrent)}render(){return html$1`
      <div part="content" @click="${this._onContentClick}">
        <a
          id="link"
          ?disabled="${this.disabled}"
          tabindex="${this.disabled||this.path==null?"-1":"0"}"
          href="${ifDefined(this.disabled?null:this.path)}"
          part="link"
          aria-current="${this.current?"page":"false"}"
        >
          <slot name="prefix"></slot>
          <slot></slot>
          <slot name="suffix"></slot>
        </a>
        <button
          part="toggle-button"
          ?disabled="${this.disabled}"
          @click="${this._onButtonClick}"
          aria-controls="children"
          aria-expanded="${this.expanded}"
          aria-labelledby="link i18n"
        ></button>
      </div>
      <ul part="children" role="list" ?hidden="${!this.expanded}" aria-hidden="${this.expanded?"false":"true"}">
        <slot name="children"></slot>
      </ul>
      <div class="sr-only" id="i18n">${this.i18n.toggle}</div>
    `}_onButtonClick(i){i.stopPropagation(),this.__toggleExpanded()}_onContentClick(){this.path==null&&this.hasAttribute("has-children")&&this.__toggleExpanded()}__toggleExpanded(){this.expanded=!this.expanded}__updateCurrent(){this._setCurrent(this.__isCurrent()),this.current&&(this.expanded=this._items.length>0)}__isCurrent(){return this.path==null?!1:matchPaths(document.location.pathname,this.path)||this.pathAliases.some(i=>matchPaths(document.location.pathname,i))}}defineCustomElement(SideNavItem);const sideNavStyles=css$e`
  :host {
    font-family: var(--lumo-font-family);
    font-size: var(--lumo-font-size-m);
    font-weight: 500;
    line-height: var(--lumo-line-height-xs);
    color: var(--lumo-body-text-color);
    -webkit-tap-highlight-color: transparent;
    --_focus-ring-color: var(--vaadin-focus-ring-color, var(--lumo-primary-color-50pct));
    --_focus-ring-width: var(--vaadin-focus-ring-width, 2px);
  }

  [part='label'] {
    display: flex;
    align-items: center;
    width: 100%;
    outline: none;
    box-sizing: border-box;
    border-radius: var(--lumo-border-radius-m);
    font-family: var(--lumo-font-family);
    font-size: var(--lumo-font-size-s);
    font-weight: 500;
    line-height: var(--lumo-line-height-xs);
  }

  [part='label'] ::slotted([slot='label']) {
    color: var(--lumo-secondary-text-color);
    margin: var(--lumo-space-s);
  }

  :host([focus-ring]) [part='label'] {
    box-shadow: 0 0 0 var(--_focus-ring-width) var(--_focus-ring-color);
  }

  [part='toggle-button'] {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: var(--lumo-size-s);
    height: var(--lumo-size-s);
    margin-inline-start: auto;
    margin-inline-end: var(--lumo-space-xs);
    font-size: var(--lumo-icon-size-m);
    line-height: 1;
    color: var(--lumo-contrast-60pct);
    font-family: 'lumo-icons';
    cursor: var(--lumo-clickable-cursor);
  }

  [part='toggle-button']::before {
    content: var(--lumo-icons-angle-right);
    transition: transform 140ms;
  }

  :host(:not([collapsible])) [part='toggle-button'] {
    display: none !important;
  }

  :host(:not([collapsed])) [part='toggle-button']::before {
    transform: rotate(90deg);
  }

  :host([collapsed][dir='rtl']) [part='toggle-button']::before {
    transform: rotate(180deg);
  }

  @media (any-hover: hover) {
    [part='label']:hover [part='toggle-button'] {
      color: var(--lumo-body-text-color);
    }
  }
`;registerStyles$1("vaadin-side-nav",sideNavStyles,{moduleId:"lumo-side-nav"});/**
 * @license
 * Copyright (c) 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class SideNav extends SideNavChildrenMixin(FocusMixin(ElementMixin(ThemableMixin(PolylitMixin(LitElement))))){static get is(){return"vaadin-side-nav"}static get shadowRootOptions(){return{...LitElement.shadowRootOptions,delegatesFocus:!0}}static get properties(){return{collapsible:{type:Boolean,value:!1,reflectToAttribute:!0},collapsed:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0}}}static get styles(){return sideNavBaseStyles}constructor(){super(),this._labelId=`side-nav-label-${generateUniqueId()}`}get _itemsSlotName(){return""}get focusElement(){return this.shadowRoot.querySelector("button")}firstUpdated(){super.firstUpdated(),this.hasAttribute("role")||this.setAttribute("role","navigation")}render(){return html$1`
      ${this.collapsible?html$1`
            <button
              part="label"
              @click="${this._onLabelClick}"
              aria-expanded="${!this.collapsed}"
              aria-controls="children"
            >
              <slot name="label" @slotchange="${this._onLabelSlotChange}"></slot>
              <span part="toggle-button" aria-hidden="true"></span>
            </button>
          `:html$1`
            <div part="label">
              <slot name="label" @slotchange="${this._onLabelSlotChange}"></slot>
            </div>
          `}
      <ul
        id="children"
        role="list"
        part="children"
        ?hidden="${this.collapsed}"
        aria-hidden="${this.collapsed?"true":"false"}"
      >
        <slot></slot>
      </ul>
    `}_shouldSetFocus(i){return i.composedPath()[0]===this.focusElement}_onLabelClick(){this.collapsible&&this.__toggleCollapsed()}_onLabelSlotChange(){const i=this.querySelector('[slot="label"]');i?(i.id||(i.id=this._labelId),this.setAttribute("aria-labelledby",i.id)):this.removeAttribute("aria-labelledby")}__toggleCollapsed(){this.collapsed=!this.collapsed}}defineCustomElement(SideNav);registerStyles$1("vaadin-split-layout",css$e`
    [part='splitter'] {
      min-width: var(--lumo-space-s);
      min-height: var(--lumo-space-s);
      background-color: var(--lumo-contrast-5pct);
      transition: 0.1s background-color;
    }

    [part='handle'] {
      display: flex;
      align-items: center;
      justify-content: center;
      width: var(--lumo-size-m);
      height: var(--lumo-size-m);
    }

    [part='handle']::after {
      content: '';
      display: block;
      --_handle-size: 4px;
      width: var(--_handle-size);
      height: 100%;
      max-width: 100%;
      max-height: 100%;
      border-radius: var(--lumo-border-radius-s);
      background-color: var(--lumo-contrast-30pct);
      transition: 0.1s opacity, 0.1s background-color;
    }

    :host([orientation='vertical']) [part='handle']::after {
      width: 100%;
      height: var(--_handle-size);
    }

    /* Hover style */
    @media (any-hover: hover) {
      [part='splitter']:hover [part='handle']::after {
        background-color: var(--lumo-contrast-40pct);
      }
    }

    /* Active style */
    [part='splitter']:active [part='handle']::after {
      background-color: var(--lumo-contrast-50pct);
    }

    /* Small/minimal */
    :host([theme~='small']) > [part='splitter'] {
      border-left: 1px solid var(--lumo-contrast-10pct);
      border-top: 1px solid var(--lumo-contrast-10pct);
    }

    :host(:is([theme~='small'], [theme~='minimal'])) > [part='splitter'] {
      min-width: 0;
      min-height: 0;
      background-color: transparent;
    }

    :host(:is([theme~='small'], [theme~='minimal'])) > [part='splitter']::after {
      content: '';
      position: absolute;
      inset: -4px;
    }

    :host(:is([theme~='small'], [theme~='minimal'])) > [part='splitter'] > [part='handle'] {
      left: calc(50% - 0.5px);
      top: calc(50% - 0.5px);
    }

    :host(:is([theme~='small'], [theme~='minimal'])) > [part='splitter'] > [part='handle']::after {
      opacity: 0;
      --_handle-size: 5px;
    }

    :host(:is([theme~='small'], [theme~='minimal'])) > [part='splitter']:hover > [part='handle']::after,
    :host(:is([theme~='small'], [theme~='minimal'])) > [part='splitter']:active > [part='handle']::after {
      opacity: 1;
    }
  `,{moduleId:"lumo-split-layout"});/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const SplitLayoutMixin=n=>class extends n{static get properties(){return{orientation:{type:String,reflectToAttribute:!0,value:"horizontal"},_previousPrimaryPointerEvents:String,_previousSecondaryPointerEvents:String}}ready(){super.ready(),this._processChildren(),this.__observer=new MutationObserver(r=>{r.forEach(o=>{this._cleanupNodes(o.removedNodes)}),this._processChildren()}),this.__observer.observe(this,{childList:!0});const t=this.$.splitter;addListener(t,"track",this._onHandleTrack.bind(this)),addListener(t,"down",this._setPointerEventsNone.bind(this)),addListener(t,"up",this._restorePointerEvents.bind(this))}_cleanupNodes(t){t.forEach(r=>{r.parentElement instanceof this.constructor||r.removeAttribute("slot")})}_processChildren(){const t=[...this.children];t.filter(r=>r.hasAttribute("slot")).forEach(r=>this._processChildWithSlot(r)),t.filter(r=>!r.hasAttribute("slot")).forEach((r,o)=>this._processChildWithoutSlot(r,o))}_processChildWithSlot(t){const r=t.getAttribute("slot");t.__autoSlotted?(this[`_${r}Child`]=null,t.removeAttribute("slot")):this[`_${r}Child`]=t}_processChildWithoutSlot(t,r){let o;this._primaryChild||this._secondaryChild?o=this._primaryChild?"secondary":"primary":o=r===0?"primary":"secondary",this[`_${o}Child`]=t,t.setAttribute("slot",o),t.__autoSlotted=!0}_setFlexBasis(t,r,o){r=Math.max(0,Math.min(r,o)),r===0&&(r=1e-6),t.style.flex=`1 1 ${r}px`}_setPointerEventsNone(t){!this._primaryChild||!this._secondaryChild||(this._previousPrimaryPointerEvents=this._primaryChild.style.pointerEvents,this._previousSecondaryPointerEvents=this._secondaryChild.style.pointerEvents,this._primaryChild.style.pointerEvents="none",this._secondaryChild.style.pointerEvents="none",t.preventDefault())}_restorePointerEvents(){!this._primaryChild||!this._secondaryChild||(this._primaryChild.style.pointerEvents=this._previousPrimaryPointerEvents,this._secondaryChild.style.pointerEvents=this._previousSecondaryPointerEvents)}_onHandleTrack(t){if(!this._primaryChild||!this._secondaryChild)return;const r=this.orientation==="vertical"?"height":"width";if(t.detail.state==="start"){this._startSize={container:this.getBoundingClientRect()[r]-this.$.splitter.getBoundingClientRect()[r],primary:this._primaryChild.getBoundingClientRect()[r],secondary:this._secondaryChild.getBoundingClientRect()[r]};return}const o=this.orientation==="vertical"?t.detail.dy:t.detail.dx,s=this.orientation!=="vertical"&&this.__isRTL?-o:o;this._setFlexBasis(this._primaryChild,this._startSize.primary+s,this._startSize.container),this._setFlexBasis(this._secondaryChild,this._startSize.secondary-s,this._startSize.container),t.detail.state==="end"&&(this.dispatchEvent(new CustomEvent("splitter-dragend")),delete this._startSize)}};/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const splitLayoutStyles=css$e`
  :host {
    display: flex;
    overflow: hidden !important;
    transform: translateZ(0);
  }

  :host([hidden]) {
    display: none !important;
  }

  :host([orientation='vertical']) {
    flex-direction: column;
  }

  :host ::slotted(*) {
    flex: 1 1 auto;
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  [part='splitter'] {
    flex: none;
    position: relative;
    z-index: 1;
    overflow: visible;
    min-width: 8px;
    min-height: 8px;
  }

  :host(:not([orientation='vertical'])) > [part='splitter'] {
    cursor: ew-resize;
  }

  :host([orientation='vertical']) > [part='splitter'] {
    cursor: ns-resize;
  }

  [part='handle'] {
    width: 40px;
    height: 40px;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate3d(-50%, -50%, 0);
  }

  @media (forced-colors: active) {
    [part~='splitter'] {
      outline: 1px solid;
    }

    [part~='handle']::after {
      background-color: AccentColor !important;
      forced-color-adjust: none;
    }
  }
`;/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-split-layout",splitLayoutStyles,{moduleId:"vaadin-split-layout-styles"});class SplitLayout extends SplitLayoutMixin(ElementMixin(ThemableMixin(PolymerElement))){static get template(){return html`
      <slot id="primary" name="primary"></slot>
      <div part="splitter" id="splitter">
        <div part="handle"></div>
      </div>
      <slot id="secondary" name="secondary"></slot>
    `}static get is(){return"vaadin-split-layout"}}defineCustomElement(SplitLayout);registerStyles$1("vaadin-tab",css$e`
    :host {
      box-sizing: border-box;
      padding: 0.5rem 0.75rem;
      font-family: var(--lumo-font-family);
      font-size: var(--lumo-font-size-m);
      line-height: var(--lumo-line-height-xs);
      font-weight: 500;
      opacity: 1;
      color: var(--lumo-secondary-text-color);
      transition: 0.15s color, 0.2s transform;
      flex-shrink: 0;
      display: flex;
      align-items: center;
      position: relative;
      cursor: var(--lumo-clickable-cursor);
      transform-origin: 50% 100%;
      outline: none;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      overflow: hidden;
      min-width: var(--lumo-size-m);
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
      --_focus-ring-color: var(--vaadin-focus-ring-color, var(--lumo-primary-color-50pct));
      --_focus-ring-width: var(--vaadin-focus-ring-width, 2px);
      --_selection-color: var(--vaadin-selection-color, var(--lumo-primary-color));
      --_selection-color-text: var(--vaadin-selection-color-text, var(--lumo-primary-text-color));
    }

    :host(:not([orientation='vertical'])) {
      text-align: center;
    }

    :host([orientation='vertical']) {
      transform-origin: 0% 50%;
      padding: 0.25rem 1rem;
      min-height: var(--lumo-size-m);
      min-width: 0;
    }

    @media (forced-colors: active) {
      :host([focused]) {
        outline: 1px solid;
        outline-offset: -1px;
      }

      :host([orientation='vertical'][selected]) {
        border-bottom: none;
        border-left: 2px solid;
      }
    }

    :host(:hover),
    :host([focus-ring]) {
      color: var(--lumo-body-text-color);
    }

    :host([selected]) {
      color: var(--_selection-color-text);
      transition: 0.6s color;
    }

    :host([active]:not([selected])) {
      color: var(--_selection-color-text);
      transition-duration: 0.1s;
    }

    :host::before,
    :host::after {
      content: '';
      position: absolute;
      display: var(--_lumo-tab-marker-display, block);
      bottom: 0;
      left: 50%;
      width: var(--lumo-size-s);
      height: 2px;
      background-color: var(--lumo-contrast-60pct);
      border-radius: var(--lumo-border-radius-s) var(--lumo-border-radius-s) 0 0;
      transform: translateX(-50%) scale(0);
      transform-origin: 50% 100%;
      transition: 0.14s transform cubic-bezier(0.12, 0.32, 0.54, 1);
      will-change: transform;
    }

    :host([selected])::before,
    :host([selected])::after {
      background-color: var(--_selection-color);
    }

    :host([orientation='vertical'])::before,
    :host([orientation='vertical'])::after {
      left: 0;
      bottom: 50%;
      transform: translateY(50%) scale(0);
      width: 2px;
      height: var(--lumo-size-xs);
      border-radius: 0 var(--lumo-border-radius-s) var(--lumo-border-radius-s) 0;
      transform-origin: 100% 50%;
    }

    :host::after {
      box-shadow: 0 0 0 4px var(--_selection-color);
      opacity: 0.15;
      transition: 0.15s 0.02s transform, 0.8s 0.17s opacity;
    }

    :host([selected])::before,
    :host([selected])::after {
      transform: translateX(-50%) scale(1);
      transition-timing-function: cubic-bezier(0.12, 0.32, 0.54, 1.5);
    }

    :host([orientation='vertical'][selected])::before,
    :host([orientation='vertical'][selected])::after {
      transform: translateY(50%) scale(1);
    }

    :host([selected]:not([active]))::after {
      opacity: 0;
    }

    :host(:not([orientation='vertical'])) ::slotted(a[href]) {
      justify-content: center;
    }

    :host ::slotted(a) {
      display: flex;
      width: 100%;
      align-items: center;
      height: 100%;
      margin: -0.5rem -0.75rem;
      padding: 0.5rem 0.75rem;
      outline: none;

      /*
          Override the CSS inherited from \`lumo-color\` and \`lumo-typography\`.
          Note: \`!important\` is needed because of the \`:slotted\` specificity.
        */
      text-decoration: none !important;
      color: inherit !important;
    }

    :host ::slotted(vaadin-icon) {
      margin: 0 4px;
      width: var(--lumo-icon-size-m);
      height: var(--lumo-icon-size-m);
    }

    /* Vaadin icons are based on a 16x16 grid (unlike Lumo and Material icons with 24x24), so they look too big by default */
    :host ::slotted(vaadin-icon[icon^='vaadin:']) {
      padding: 0.25rem;
      box-sizing: border-box !important;
    }

    :host(:not([dir='rtl'])) ::slotted(vaadin-icon:first-child) {
      margin-left: 0;
    }

    :host(:not([dir='rtl'])) ::slotted(vaadin-icon:last-child) {
      margin-right: 0;
    }

    :host([theme~='icon-on-top']) {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: space-around;
      text-align: center;
      padding-bottom: 0.5rem;
      padding-top: 0.25rem;
    }

    :host([theme~='icon-on-top']) ::slotted(a) {
      flex-direction: column;
      align-items: center;
      margin-top: -0.25rem;
      padding-top: 0.25rem;
    }

    :host([theme~='icon-on-top']) ::slotted(vaadin-icon) {
      margin: 0;
    }

    /* Disabled */

    :host([disabled]) {
      pointer-events: none;
      opacity: 1;
      color: var(--lumo-disabled-text-color);
    }

    /* Focus-ring */

    :host([focus-ring]) {
      box-shadow: inset 0 0 0 var(--_focus-ring-width) var(--_focus-ring-color);
      border-radius: var(--lumo-border-radius-m);
    }

    /* RTL specific styles */

    :host([dir='rtl'])::before,
    :host([dir='rtl'])::after {
      left: auto;
      right: 50%;
      transform: translateX(50%) scale(0);
    }

    :host([dir='rtl'][selected]:not([orientation='vertical']))::before,
    :host([dir='rtl'][selected]:not([orientation='vertical']))::after {
      transform: translateX(50%) scale(1);
    }

    :host([dir='rtl']) ::slotted(vaadin-icon:first-child) {
      margin-right: 0;
    }

    :host([dir='rtl']) ::slotted(vaadin-icon:last-child) {
      margin-left: 0;
    }

    :host([orientation='vertical'][dir='rtl']) {
      transform-origin: 100% 50%;
    }

    :host([dir='rtl'][orientation='vertical'])::before,
    :host([dir='rtl'][orientation='vertical'])::after {
      left: auto;
      right: 0;
      border-radius: var(--lumo-border-radius-s) 0 0 var(--lumo-border-radius-s);
      transform-origin: 0% 50%;
    }
  `,{moduleId:"lumo-tab"});/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const TabMixin=n=>class extends ItemMixin(n){ready(){super.ready(),this.setAttribute("role","tab")}_onKeyUp(t){const r=this.hasAttribute("active");if(super._onKeyUp(t),r){const o=this.querySelector("a");o&&o.click()}}};/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const tabStyles=css$e`
  :host {
    display: block;
  }

  :host([hidden]) {
    display: none !important;
  }

  @media (forced-colors: active) {
    :host([focused]) {
      outline: 1px solid;
      outline-offset: -1px;
    }

    :host([selected]) {
      border-bottom: 2px solid;
    }
  }
`;/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-tab",tabStyles,{moduleId:"vaadin-tab-styles"});class Tab extends ElementMixin(ThemableMixin(TabMixin(ControllerMixin(PolymerElement)))){static get template(){return html`
      <slot></slot>
      <slot name="tooltip"></slot>
    `}static get is(){return"vaadin-tab"}ready(){super.ready(),this._tooltipController=new TooltipController(this),this.addController(this._tooltipController)}}defineCustomElement(Tab);registerStyles$1("vaadin-tabs",css$e`
    :host {
      -webkit-tap-highlight-color: transparent;
    }

    :host(:not([orientation='vertical'])) {
      box-shadow: inset 0 -1px 0 0 var(--lumo-contrast-10pct);
      position: relative;
      min-height: var(--lumo-size-l);
    }

    :host([orientation='horizontal']) [part='tabs'] ::slotted(vaadin-tab:not([theme~='icon-on-top'])) {
      justify-content: center;
    }

    :host([orientation='vertical']) {
      box-shadow: -1px 0 0 0 var(--lumo-contrast-10pct);
    }

    :host([orientation='horizontal']) [part='tabs'] {
      margin: 0 0.75rem;
    }

    :host([orientation='vertical']) [part='tabs'] {
      width: 100%;
      margin: 0.5rem 0;
    }

    [part='forward-button'],
    [part='back-button'] {
      position: absolute;
      z-index: 1;
      font-family: lumo-icons;
      color: var(--lumo-tertiary-text-color);
      font-size: var(--lumo-icon-size-m);
      display: flex;
      align-items: center;
      justify-content: center;
      width: 1.5em;
      height: 100%;
      transition: 0.2s opacity;
      top: 0;
    }

    [part='forward-button']:hover,
    [part='back-button']:hover {
      color: inherit;
    }

    :host(:not([dir='rtl'])) [part='forward-button'] {
      right: 0;
    }

    [part='forward-button']::after {
      content: var(--lumo-icons-angle-right);
    }

    [part='back-button']::after {
      content: var(--lumo-icons-angle-left);
    }

    /* Tabs overflow */

    [part='tabs'] {
      --_lumo-tabs-overflow-mask-image: none;
      -webkit-mask-image: var(--_lumo-tabs-overflow-mask-image);
      mask-image: var(--_lumo-tabs-overflow-mask-image);
    }

    /* Horizontal tabs overflow */

    /* Both ends overflowing */
    :host([overflow~='start'][overflow~='end']:not([orientation='vertical'])) [part='tabs'] {
      --_lumo-tabs-overflow-mask-image: linear-gradient(
        90deg,
        transparent 2em,
        #000 4em,
        #000 calc(100% - 4em),
        transparent calc(100% - 2em)
      );
    }

    /* End overflowing */
    :host([overflow~='end']:not([orientation='vertical'])) [part='tabs'] {
      --_lumo-tabs-overflow-mask-image: linear-gradient(90deg, #000 calc(100% - 4em), transparent calc(100% - 2em));
    }

    /* Start overflowing */
    :host([overflow~='start']:not([orientation='vertical'])) [part='tabs'] {
      --_lumo-tabs-overflow-mask-image: linear-gradient(90deg, transparent 2em, #000 4em);
    }

    /* Vertical tabs overflow */

    /* Both ends overflowing */
    :host([overflow~='start'][overflow~='end'][orientation='vertical']) [part='tabs'] {
      --_lumo-tabs-overflow-mask-image: linear-gradient(transparent, #000 2em, #000 calc(100% - 2em), transparent);
    }

    /* End overflowing */
    :host([overflow~='end'][orientation='vertical']) [part='tabs'] {
      --_lumo-tabs-overflow-mask-image: linear-gradient(#000 calc(100% - 2em), transparent);
    }

    /* Start overflowing */
    :host([overflow~='start'][orientation='vertical']) [part='tabs'] {
      --_lumo-tabs-overflow-mask-image: linear-gradient(transparent, #000 2em);
    }

    :host [part='tabs'] ::slotted(:not(vaadin-tab)) {
      margin-left: var(--lumo-space-m);
    }

    /* Centered */

    :host([theme~='centered'][orientation='horizontal']) ::slotted(vaadin-tab:first-of-type) {
      margin-inline-start: auto;
    }

    :host([theme~='centered'][orientation='horizontal']) ::slotted(vaadin-tab:last-of-type) {
      margin-inline-end: auto;
    }

    /* Small */

    :host([theme~='small']),
    :host([theme~='small']) [part='tabs'] {
      min-height: var(--lumo-size-m);
    }

    :host([theme~='small']) [part='tabs'] ::slotted(vaadin-tab) {
      font-size: var(--lumo-font-size-s);
    }

    /* Minimal */

    :host([theme~='minimal']) {
      box-shadow: none;
      --_lumo-tab-marker-display: none;
    }

    /* Hide-scroll-buttons */

    :host([theme~='hide-scroll-buttons']) [part='back-button'],
    :host([theme~='hide-scroll-buttons']) [part='forward-button'] {
      display: none;
    }

    /* prettier-ignore */
    :host([theme~='hide-scroll-buttons'][overflow~='start'][overflow~='end']:not([orientation='vertical'])) [part='tabs'] {
      --_lumo-tabs-overflow-mask-image: linear-gradient(
        90deg,
        transparent,
        #000 2em,
        #000 calc(100% - 2em),
        transparent 100%
      );
    }

    :host([theme~='hide-scroll-buttons'][overflow~='end']:not([orientation='vertical'])) [part='tabs'] {
      --_lumo-tabs-overflow-mask-image: linear-gradient(90deg, #000 calc(100% - 2em), transparent 100%);
    }

    :host([theme~='hide-scroll-buttons'][overflow~='start']:not([orientation='vertical'])) [part='tabs'] {
      --_lumo-tabs-overflow-mask-image: linear-gradient(90deg, transparent, #000 2em);
    }

    /* Equal-width tabs */
    :host([theme~='equal-width-tabs']) {
      flex: auto;
    }

    :host([theme~='equal-width-tabs']) [part='tabs'] ::slotted(vaadin-tab) {
      flex: 1 0 0%;
    }

    /* RTL specific styles */

    :host([dir='rtl']) [part='forward-button']::after {
      content: var(--lumo-icons-angle-left);
    }

    :host([dir='rtl']) [part='back-button']::after {
      content: var(--lumo-icons-angle-right);
    }

    :host([orientation='vertical'][dir='rtl']) {
      box-shadow: 1px 0 0 0 var(--lumo-contrast-10pct);
    }

    :host([dir='rtl']) [part='forward-button'] {
      left: 0;
    }

    :host([dir='rtl']) [part='tabs'] ::slotted(:not(vaadin-tab)) {
      margin-left: 0;
      margin-right: var(--lumo-space-m);
    }

    /* Both ends overflowing */
    :host([dir='rtl'][overflow~='start'][overflow~='end']:not([orientation='vertical'])) [part='tabs'] {
      --_lumo-tabs-overflow-mask-image: linear-gradient(
        -90deg,
        transparent 2em,
        #000 4em,
        #000 calc(100% - 4em),
        transparent calc(100% - 2em)
      );
    }

    /* End overflowing */
    :host([dir='rtl'][overflow~='end']:not([orientation='vertical'])) [part='tabs'] {
      --_lumo-tabs-overflow-mask-image: linear-gradient(-90deg, #000 calc(100% - 4em), transparent calc(100% - 2em));
    }

    /* Start overflowing */
    :host([dir='rtl'][overflow~='start']:not([orientation='vertical'])) [part='tabs'] {
      --_lumo-tabs-overflow-mask-image: linear-gradient(-90deg, transparent 2em, #000 4em);
    }

    :host([dir='rtl'][theme~='hide-scroll-buttons'][overflow~='start'][overflow~='end']:not([orientation='vertical']))
      [part='tabs'] {
      --_lumo-tabs-overflow-mask-image: linear-gradient(
        -90deg,
        transparent,
        #000 2em,
        #000 calc(100% - 2em),
        transparent 100%
      );
    }

    :host([dir='rtl'][theme~='hide-scroll-buttons'][overflow~='end']:not([orientation='vertical'])) [part='tabs'] {
      --_lumo-tabs-overflow-mask-image: linear-gradient(-90deg, #000 calc(100% - 2em), transparent 100%);
    }

    :host([dir='rtl'][theme~='hide-scroll-buttons'][overflow~='start']:not([orientation='vertical'])) [part='tabs'] {
      --_lumo-tabs-overflow-mask-image: linear-gradient(-90deg, transparent, #000 2em);
    }
  `,{moduleId:"lumo-tabs"});/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const TabsMixin=n=>class extends ResizeMixin(ListMixin(n)){static get properties(){return{orientation:{value:"horizontal",type:String},selected:{value:0,type:Number}}}static get observers(){return["__tabsItemsChanged(items)"]}constructor(){super(),this.__itemsResizeObserver=new ResizeObserver(()=>{setTimeout(()=>this._updateOverflow())})}get _scrollOffset(){return this._vertical?this._scrollerElement.offsetHeight:this._scrollerElement.offsetWidth}get _scrollerElement(){return this.$.scroll}get __direction(){return!this._vertical&&this.__isRTL?1:-1}ready(){super.ready(),this._scrollerElement.addEventListener("scroll",()=>this._updateOverflow()),this.setAttribute("role","tablist"),afterNextRender(this,()=>{this._updateOverflow()})}_onResize(){this._updateOverflow()}__tabsItemsChanged(t){this.__itemsResizeObserver.disconnect(),(t||[]).forEach(r=>{this.__itemsResizeObserver.observe(r)}),this._updateOverflow()}_scrollForward(){const t=this._getNavigationButtonVisibleWidth("forward-button"),r=this._getNavigationButtonVisibleWidth("back-button"),o=this._scrollerElement.getBoundingClientRect(),s=[...this.items].reverse().find(u=>this._isItemVisible(u,t,r,o)).getBoundingClientRect(),c=20+this.shadowRoot.querySelector('[part="back-button"]').clientWidth;let h;if(this.__isRTL){const u=o.right-c;h=s.right-u}else{const u=o.left+c;h=s.left-u}-this.__direction*h<1&&(h=-this.__direction*(this._scrollOffset-c)),this._scroll(h)}_scrollBack(){const t=this._getNavigationButtonVisibleWidth("forward-button"),r=this._getNavigationButtonVisibleWidth("back-button"),o=this._scrollerElement.getBoundingClientRect(),s=this.items.find(u=>this._isItemVisible(u,t,r,o)).getBoundingClientRect(),c=20+this.shadowRoot.querySelector('[part="forward-button"]').clientWidth;let h;if(this.__isRTL){const u=o.left+c;h=s.left-u}else{const u=o.right-c;h=s.right-u}this.__direction*h<1&&(h=this.__direction*(this._scrollOffset-c)),this._scroll(h)}_isItemVisible(t,r,o,a){if(this._vertical)throw new Error("Visibility check is only supported for horizontal tabs.");const s=this.__isRTL?o:r,l=this.__isRTL?r:o,c=a.right-s,h=a.left+l,u=t.getBoundingClientRect();return c>Math.floor(u.left)&&h<Math.ceil(u.right)}_getNavigationButtonVisibleWidth(t){const r=this.shadowRoot.querySelector(`[part="${t}"]`);return window.getComputedStyle(r).opacity==="0"?0:r.clientWidth}_updateOverflow(){const t=this._vertical?this._scrollerElement.scrollTop:getNormalizedScrollLeft(this._scrollerElement,this.getAttribute("dir")),r=this._vertical?this._scrollerElement.scrollHeight:this._scrollerElement.scrollWidth;let o=Math.floor(t)>1?"start":"";Math.ceil(t)<Math.ceil(r-this._scrollOffset)&&(o+=" end"),this.__direction===1&&(o=o.replace(/start|end/giu,a=>a==="start"?"end":"start")),o?this.setAttribute("overflow",o.trim()):this.removeAttribute("overflow")}};/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const tabsStyles=css$e`
  :host {
    display: flex;
    align-items: center;
  }

  :host([hidden]) {
    display: none !important;
  }

  :host([orientation='vertical']) {
    display: block;
  }

  :host([orientation='horizontal']) [part='tabs'] {
    flex-grow: 1;
    display: flex;
    align-self: stretch;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  /* This seems more future-proof than \`overflow: -moz-scrollbars-none\` which is marked obsolete
         and is no longer guaranteed to work:
         https://developer.mozilla.org/en-US/docs/Web/CSS/overflow#Mozilla_Extensions */
  @-moz-document url-prefix() {
    :host([orientation='horizontal']) [part='tabs'] {
      overflow: hidden;
    }
  }

  :host([orientation='horizontal']) [part='tabs']::-webkit-scrollbar {
    display: none;
  }

  :host([orientation='vertical']) [part='tabs'] {
    height: 100%;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }

  [part='back-button'],
  [part='forward-button'] {
    pointer-events: none;
    opacity: 0;
    cursor: default;
  }

  :host([overflow~='start']) [part='back-button'],
  :host([overflow~='end']) [part='forward-button'] {
    pointer-events: auto;
    opacity: 1;
  }

  [part='back-button']::after {
    content: '\\25C0';
  }

  [part='forward-button']::after {
    content: '\\25B6';
  }

  :host([orientation='vertical']) [part='back-button'],
  :host([orientation='vertical']) [part='forward-button'] {
    display: none;
  }

  /* RTL specific styles */

  :host([dir='rtl']) [part='back-button']::after {
    content: '\\25B6';
  }

  :host([dir='rtl']) [part='forward-button']::after {
    content: '\\25C0';
  }
`;/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-tabs",tabsStyles,{moduleId:"vaadin-tabs-styles"});class Tabs extends TabsMixin(ElementMixin(ThemableMixin(PolymerElement))){static get template(){return html`
      <div on-click="_scrollBack" part="back-button" aria-hidden="true"></div>

      <div id="scroll" part="tabs">
        <slot></slot>
      </div>

      <div on-click="_scrollForward" part="forward-button" aria-hidden="true"></div>
    `}static get is(){return"vaadin-tabs"}}defineCustomElement(Tabs);const tabsheet=css$e`
  :host {
    font-size: var(--lumo-font-size-m);
    line-height: var(--lumo-line-height-m);
    font-family: var(--lumo-font-family);
  }

  :host([theme~='bordered']) {
    border: 1px solid var(--lumo-contrast-20pct);
    border-radius: var(--lumo-border-radius-l);
  }

  [part='tabs-container'] {
    box-shadow: inset 0 -1px 0 0 var(--lumo-contrast-10pct);
    padding: var(--lumo-space-xs) var(--lumo-space-s);
    gap: var(--lumo-space-s);
  }

  ::slotted([slot='tabs']) {
    box-shadow: initial;
    margin: calc(var(--lumo-space-xs) * -1) calc(var(--lumo-space-s) * -1);
  }

  [part='content'] {
    padding: var(--lumo-space-s) var(--lumo-space-m);
    border-bottom-left-radius: inherit;
    border-bottom-right-radius: inherit;
  }

  :host([loading]) [part='content'] {
    display: flex;
    align-items: center;
    justify-content: center;
  }
`;registerStyles$1("vaadin-tabsheet",[tabsheet,loader],{moduleId:"lumo-tabsheet"});/**
 * @license
 * Copyright (c) 2022 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class TabsheetScroller extends Scroller{static get is(){return"vaadin-tabsheet-scroller"}}defineCustomElement(TabsheetScroller);/**
 * @license
 * Copyright (c) 2022 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class TabsSlotController extends SlotController{constructor(i){super(i,"tabs"),this.__tabsItemsChangedListener=this.__tabsItemsChangedListener.bind(this),this.__tabsSelectedChangedListener=this.__tabsSelectedChangedListener.bind(this)}__tabsItemsChangedListener(){this.host._setItems(this.tabs.items)}__tabsSelectedChangedListener(){this.host.selected=this.tabs.selected}initCustomNode(i){if(!(i instanceof Tabs))throw Error('The "tabs" slot of a <vaadin-tabsheet> must only contain a <vaadin-tabs> element!');this.tabs=i,i.addEventListener("items-changed",this.__tabsItemsChangedListener),i.addEventListener("selected-changed",this.__tabsSelectedChangedListener),this.host.__tabs=i,this.host.stateTarget=i,this.__tabsItemsChangedListener()}teardownNode(i){this.tabs=null,i.removeEventListener("items-changed",this.__tabsItemsChangedListener),i.removeEventListener("selected-changed",this.__tabsSelectedChangedListener),this.host.__tabs=null,this.host._setItems([]),this.host.stateTarget=void 0}}class TabSheet extends ControllerMixin(DelegateStateMixin(ElementMixin(ThemableMixin(PolymerElement)))){static get template(){return html`
      <style>
        :host([hidden]) {
          display: none !important;
        }

        :host {
          display: flex;
          flex-direction: column;
        }

        [part='tabs-container'] {
          position: relative;
          display: flex;
          align-items: center;
        }

        ::slotted([slot='tabs']) {
          flex: 1;
          align-self: stretch;
          min-width: 8em;
        }

        [part='content'] {
          position: relative;
          flex: 1;
          box-sizing: border-box;
        }
      </style>

      <div part="tabs-container">
        <slot name="prefix"></slot>
        <slot name="tabs"></slot>
        <slot name="suffix"></slot>
      </div>

      <vaadin-tabsheet-scroller part="content">
        <div part="loader"></div>
        <slot id="panel-slot"></slot>
      </vaadin-tabsheet-scroller>
    `}static get is(){return"vaadin-tabsheet"}static get properties(){return{items:{type:Array,readOnly:!0,notify:!0},selected:{value:0,type:Number,notify:!0},__tabs:{type:Object},__panels:{type:Array}}}static get observers(){return["__itemsOrPanelsChanged(items, __panels)","__selectedTabItemChanged(selected, items, __panels)"]}static get delegateProps(){return["selected"]}static get delegateAttrs(){return["theme"]}ready(){super.ready(),this.__overflowController=new OverflowController(this,this.shadowRoot.querySelector('[part="content"]')),this.addController(this.__overflowController),this._tabsSlotController=new TabsSlotController(this),this.addController(this._tabsSlotController);const i=this.shadowRoot.querySelector("#panel-slot");this.__panelsObserver=new SlotObserver(i,()=>{this.__panels=Array.from(i.assignedNodes({flatten:!0})).filter(t=>t.nodeType===Node.ELEMENT_NODE)})}__itemsOrPanelsChanged(i,t){!i||!t||i.forEach(r=>{const o=t.find(a=>a.getAttribute("tab")===r.id);o&&(o.role="tabpanel",o.id||(o.id=`tabsheet-panel-${generateUniqueId()}`),o.setAttribute("aria-labelledby",r.id),r.setAttribute("aria-controls",o.id))})}__selectedTabItemChanged(i,t,r){if(!t||!r||i===void 0)return;const o=this.shadowRoot.querySelector('[part="content"]'),a=t[i],s=a?a.id:"",l=r.find(h=>h.getAttribute("tab")===s);this.toggleAttribute("loading",!l);const c=r.filter(h=>!h.hidden).length===1;l?o.style.minHeight="":c&&(o.style.minHeight=`${o.offsetHeight}px`),r.forEach(h=>{h.hidden=h!==l})}}defineCustomElement(TabSheet);(function(){let n;customElements.whenDefined("vaadin-text-field").then(()=>{class i extends customElements.get("vaadin-text-field"){static get template(){return n||(n=super.template.cloneNode(!0),n.innerHTML+=`<style>
                  :host {
                    width: 8em;
                  }

                  :host([dir="rtl"]) [part="input-field"] {
                    direction: ltr;
                  }

                  :host([dir="rtl"]) [part="input-field"] ::slotted(input) {
                    --_lumo-text-field-overflow-mask-image: linear-gradient(to left, transparent, #000 1.25em) !important;
                  }
            </style>`),n}static get is(){return"vaadin-big-decimal-field"}static get properties(){return{_decimalSeparator:{type:String,value:".",observer:"__decimalSeparatorChanged"}}}ready(){super.ready(),this.inputElement.setAttribute("inputmode","decimal")}__decimalSeparatorChanged(r,o){this.allowedCharPattern="[-+\\d"+r+"]",this.value&&o&&(this.value=this.value.split(o).join(r))}}customElements.define(i.is,i)})})();/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const emailField=css$e`
  :host([dir='rtl']) [part='input-field'] ::slotted(input) {
    --_lumo-text-field-overflow-mask-image: linear-gradient(to left, transparent, #000 1.25em);
  }

  :host([dir='rtl']) [part='input-field'] ::slotted(input:placeholder-shown) {
    --_lumo-text-field-overflow-mask-image: none;
  }
`;registerStyles$1("vaadin-email-field",[inputFieldShared,emailField],{moduleId:"lumo-email-field"});/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const emailFieldStyles=css$e`
  :host([dir='rtl']) [part='input-field'] {
    direction: ltr;
  }

  :host([dir='rtl']) [part='input-field'] ::slotted(input)::placeholder {
    direction: rtl;
    text-align: left;
  }
`;/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-email-field",emailFieldStyles,{moduleId:"vaadin-email-field-styles"});class EmailField extends TextField{static get is(){return"vaadin-email-field"}constructor(){super(),this._setType("email"),this.pattern="^([a-zA-Z0-9_\\.\\-+])+@[a-zA-Z0-9\\-.]+\\.[a-zA-Z0-9\\-]{2,}$"}ready(){super.ready(),this.inputElement&&(this.inputElement.autocapitalize="off")}}defineCustomElement(EmailField);/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const numberField=css$e`
  :host([step-buttons-visible]:not([theme~='align-right'])) ::slotted(input) {
    text-align: center;
  }

  [part$='button'][disabled] {
    opacity: 0.2;
  }

  :host([step-buttons-visible]) [part='input-field'] {
    padding: 0;
  }

  [part\$='button'] {
    cursor: pointer;
    font-size: var(--lumo-icon-size-s);
    width: 1.6em;
    height: 1.6em;
  }

  [part\$='button']::before {
    margin-top: 0.3em;
  }

  [part='decrease-button']::before {
    content: var(--lumo-icons-minus);
  }

  [part='increase-button']::before {
    content: var(--lumo-icons-plus);
  }

  /* RTL specific styles */
  :host([dir='rtl']:not([theme~='align-right'])) ::slotted(input) {
    --_lumo-text-field-overflow-mask-image: linear-gradient(to left, transparent, #000 1.25em);
  }
`;registerStyles$1("vaadin-number-field",[inputFieldShared,fieldButton,numberField],{moduleId:"lumo-number-field"});/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const NumberFieldMixin=n=>class extends InputFieldMixin(n){static get properties(){return{min:{type:Number},max:{type:Number},step:{type:Number},stepButtonsVisible:{type:Boolean,value:!1,reflectToAttribute:!0}}}static get observers(){return["_stepChanged(step, inputElement)"]}static get delegateProps(){return[...super.delegateProps,"min","max"]}static get constraints(){return[...super.constraints,"min","max","step"]}constructor(){super(),this._setType("number"),this.__onWheel=this.__onWheel.bind(this)}get slotStyles(){const t=this.localName;return[`
          ${t} input[type="number"]::-webkit-outer-spin-button,
          ${t} input[type="number"]::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
          }

          ${t} input[type="number"] {
            -moz-appearance: textfield;
          }

          ${t}[dir='rtl'] input[type="number"]::placeholder {
            direction: rtl;
          }

          ${t}[dir='rtl']:not([step-buttons-visible]) input[type="number"]::placeholder {
            text-align: left;
          }
        `]}get clearElement(){return this.$.clearButton}get __hasUnparsableValue(){return this.inputElement.validity.badInput}ready(){super.ready(),this.addController(new InputController(this,t=>{this._setInputElement(t),this._setFocusElement(t),this.stateTarget=t,this.ariaTarget=t})),this.addController(new LabelledInputController(this.inputElement,this._labelController))}checkValidity(){return this.inputElement?this.inputElement.checkValidity():!this.invalid}_addInputListeners(t){super._addInputListeners(t),t.addEventListener("wheel",this.__onWheel)}_removeInputListeners(t){super._removeInputListeners(t),t.removeEventListener("wheel",this.__onWheel)}__onWheel(t){this.hasAttribute("focused")&&t.preventDefault()}_onDecreaseButtonTouchend(t){t.cancelable&&(t.preventDefault(),this._decreaseValue())}_onIncreaseButtonTouchend(t){t.cancelable&&(t.preventDefault(),this._increaseValue())}_onDecreaseButtonClick(){this._decreaseValue()}_onIncreaseButtonClick(){this._increaseValue()}_decreaseValue(){this._incrementValue(-1)}_increaseValue(){this._incrementValue(1)}_incrementValue(t){if(this.disabled||this.readonly)return;const r=this.step||1;let o=parseFloat(this.value);this.value?o<this.min?(t=0,o=this.min):o>this.max&&(t=0,o=this.max):this.min===0&&t<0||this.max===0&&t>0||this.max===0&&this.min===0?(t=0,o=0):(this.max==null||this.max>=0)&&(this.min==null||this.min<=0)?o=0:this.min>0?(o=this.min,this.max<0&&t<0&&(o=this.max),t=0):this.max<0&&(o=this.max,t<0?t=0:this._getIncrement(1,o-r)>this.max?o-=2*r:o-=r);const a=this._getIncrement(t,o);(!this.value||t===0||this._incrementIsInsideTheLimits(t,o))&&(this.__keepCommittedValue=!0,this.value=this.inputElement.value=String(parseFloat(a)),this.__keepCommittedValue=!1,this.__commitValueChange())}_getIncrement(t,r){let o=this.step||1,a=this.min||0;const s=Math.max(this._getMultiplier(r),this._getMultiplier(o),this._getMultiplier(a));o*=s,r=Math.round(r*s),a*=s;const l=(r-a)%o;return t>0?(r-l+o)/s:t<0?(r-(l||o))/s:r/s}_getDecimalCount(t){const r=String(t),o=r.indexOf(".");return o===-1?1:r.length-o-1}_getMultiplier(t){if(!isNaN(t))return 10**this._getDecimalCount(t)}_incrementIsInsideTheLimits(t,r){return t<0?this.min==null||this._getIncrement(t,r)>=this.min:t>0?this.max==null||this._getIncrement(t,r)<=this.max:this._getIncrement(t,r)<=this.max&&this._getIncrement(t,r)>=this.min}_isButtonEnabled(t){const r=t*(this.step||1),o=parseFloat(this.value);return!this.value||!this.disabled&&this._incrementIsInsideTheLimits(r,o)}_stepChanged(t,r){r&&(r.step=t||"any")}_valueChanged(t,r){t&&isNaN(parseFloat(t))?this.value="":typeof this.value!="string"&&(this.value=String(this.value)),super._valueChanged(this.value,r),this.__keepCommittedValue||(this.__committedValue=this.value,this.__committedUnparsableValueStatus=!1)}_onKeyDown(t){t.key==="ArrowUp"?(t.preventDefault(),this._increaseValue()):t.key==="ArrowDown"&&(t.preventDefault(),this._decreaseValue()),super._onKeyDown(t)}_setHasInputValue(t){const r=t.composedPath()[0];this._hasInputValue=r.value.length>0||this.__hasUnparsableValue}_onInput(t){this.__keepCommittedValue=!0,super._onInput(t),this.__keepCommittedValue=!1}_onChange(t){t.stopPropagation()}_onClearAction(t){super._onClearAction(t),this.__commitValueChange()}_setFocused(t){super._setFocused(t),t||this.__commitValueChange()}_onEnter(t){super._onEnter(t),this.__commitValueChange()}__commitValueChange(){this.__committedValue!==this.value?(this.validate(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))):this.__committedUnparsableValueStatus!==this.__hasUnparsableValue&&(this.validate(),this.dispatchEvent(new CustomEvent("unparsable-change"))),this.__committedValue=this.value,this.__committedUnparsableValueStatus=this.__hasUnparsableValue}};/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const numberFieldStyles=css$e`
  :host([readonly]) [part$='button'] {
    pointer-events: none;
  }

  [part='decrease-button']::before {
    content: '\\2212';
  }

  [part='increase-button']::before {
    content: '+';
  }

  [part='decrease-button'],
  [part='increase-button'] {
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }

  :host([dir='rtl']) [part='input-field'] {
    direction: ltr;
  }
`;/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-number-field",[inputFieldShared$1,numberFieldStyles],{moduleId:"vaadin-number-field-styles"});class NumberField extends NumberFieldMixin(ThemableMixin(ElementMixin(PolymerElement))){static get is(){return"vaadin-number-field"}static get template(){return html`
      <div class="vaadin-field-container">
        <div part="label">
          <slot name="label"></slot>
          <span part="required-indicator" aria-hidden="true" on-click="focus"></span>
        </div>

        <vaadin-input-container
          part="input-field"
          readonly="[[readonly]]"
          disabled="[[disabled]]"
          invalid="[[invalid]]"
          theme$="[[_theme]]"
        >
          <div
            disabled$="[[!_isButtonEnabled(-1, value, min, max, step)]]"
            part="decrease-button"
            on-click="_onDecreaseButtonClick"
            on-touchend="_onDecreaseButtonTouchend"
            hidden$="[[!stepButtonsVisible]]"
            aria-hidden="true"
            slot="prefix"
          ></div>
          <slot name="prefix" slot="prefix"></slot>
          <slot name="input"></slot>
          <slot name="suffix" slot="suffix"></slot>
          <div id="clearButton" part="clear-button" slot="suffix" aria-hidden="true"></div>
          <div
            disabled$="[[!_isButtonEnabled(1, value, min, max, step)]]"
            part="increase-button"
            on-click="_onIncreaseButtonClick"
            on-touchend="_onIncreaseButtonTouchend"
            hidden$="[[!stepButtonsVisible]]"
            aria-hidden="true"
            slot="suffix"
          ></div>
        </vaadin-input-container>

        <div part="helper-text">
          <slot name="helper"></slot>
        </div>

        <div part="error-message">
          <slot name="error-message"></slot>
        </div>
      </div>

      <slot name="tooltip"></slot>
    `}ready(){super.ready(),this._tooltipController=new TooltipController(this),this.addController(this._tooltipController),this._tooltipController.setPosition("top"),this._tooltipController.setAriaTarget(this.inputElement)}}defineCustomElement(NumberField);/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class IntegerField extends NumberField{static get is(){return"vaadin-integer-field"}constructor(){super(),this.allowedCharPattern="[-+\\d]"}_valueChanged(i,t){if(i!==""&&!this.__isInteger(i)){console.warn(`Trying to set non-integer value "${i}" to <vaadin-integer-field>. Clearing the value.`),this.value="";return}super._valueChanged(i,t)}_stepChanged(i,t){if(i!=null&&!this.__hasOnlyDigits(i)){console.warn(`<vaadin-integer-field> The \`step\` property must be a positive integer but \`${i}\` was provided, so the property was reset to \`null\`.`),this.step=null;return}super._stepChanged(i,t)}__isInteger(i){return/^(-\d)?\d*$/u.test(String(i))}__hasOnlyDigits(i){return/^\d+$/u.test(String(i))}}defineCustomElement(IntegerField);const _window=window;_window.Vaadin=_window.Vaadin||{};_window.Vaadin.setLitRenderer=(n,i,t,r,o,a)=>{const s=Function(`
    "use strict";

    const [render, html, returnChannel] = arguments;

    return (root, model, itemKey) => {
      const { item, index } = model;
      ${o.map(c=>`
          const ${c} = (...args) => {
            if (itemKey !== undefined) {
              returnChannel('${c}', itemKey, args[0] instanceof Event ? [] : [...args]);
            }
          }`).join("")}

      render(html\`${t}\`, root)
    }
  `)(render$1,html$1,r),l=(c,h,u)=>{const{item:d}=u;c.__litRenderer!==l&&(c.innerHTML="",delete c._$litPart$,c.__litRenderer=l);const f={};for(const p in d)p.startsWith(a)&&(f[p.replace(a,"")]=d[p]);s(c,{...u,item:f},d.key)};l.__rendererId=a,n[i]=l};_window.Vaadin.unsetLitRenderer=(n,i,t)=>{var r;((r=n[i])==null?void 0:r.__rendererId)===t&&(n[i]=void 0)};registerStyles$1("vaadin-upload",css$e`
    :host {
      line-height: var(--lumo-line-height-m);
    }

    :host(:not([nodrop])) {
      overflow: hidden;
      border: 1px dashed var(--lumo-contrast-20pct);
      border-radius: var(--lumo-border-radius-l);
      padding: var(--lumo-space-m);
      transition: background-color 0.6s, border-color 0.6s;
    }

    [part='drop-label'] {
      display: inline-block;
      white-space: normal;
      padding: 0 var(--lumo-space-s);
      color: var(--lumo-secondary-text-color);
      font-family: var(--lumo-font-family);
    }

    :host([dragover-valid]) {
      border-color: var(--lumo-primary-color-50pct);
      background: var(--lumo-primary-color-10pct);
      transition: background-color 0.1s, border-color 0.1s;
    }

    :host([dragover-valid]) [part='drop-label'] {
      color: var(--lumo-primary-text-color);
    }

    :host([max-files-reached]) [part='drop-label'] {
      color: var(--lumo-disabled-text-color);
    }
  `,{moduleId:"lumo-upload"});registerStyles$1("vaadin-upload-icon",css$e`
    :host::before {
      content: var(--lumo-icons-upload);
      font-family: lumo-icons;
      font-size: var(--lumo-icon-size-m);
      line-height: 1;
      vertical-align: -0.25em;
    }
  `,{moduleId:"lumo-upload-icon"});registerStyles$1("vaadin-upload-file-list",css$e`
    ::slotted(li:not(:first-of-type)) {
      border-top: 1px solid var(--lumo-contrast-10pct);
    }
  `,{moduleId:"lumo-upload-file-list"});const uploadFile=css$e`
  :host {
    padding: var(--lumo-space-s) 0;
    outline: none;
    --_focus-ring-color: var(--vaadin-focus-ring-color, var(--lumo-primary-color-50pct));
    --_focus-ring-width: var(--vaadin-focus-ring-width, 2px);
  }

  :host([focus-ring]) [part='row'] {
    border-radius: var(--lumo-border-radius-s);
    box-shadow: 0 0 0 var(--_focus-ring-width) var(--_focus-ring-color);
  }

  [part='row'] {
    display: flex;
    align-items: baseline;
    justify-content: space-between;
  }

  [part='status'],
  [part='error'] {
    color: var(--lumo-secondary-text-color);
    font-size: var(--lumo-font-size-s);
  }

  [part='info'] {
    display: flex;
    align-items: baseline;
    flex: auto;
  }

  [part='meta'] {
    width: 0.001px;
    flex: 1 1 auto;
  }

  [part='name'] {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  [part='commands'] {
    display: flex;
    align-items: baseline;
    flex: none;
  }

  [part$='icon'] {
    margin-right: var(--lumo-space-xs);
    font-size: var(--lumo-icon-size-m);
    font-family: 'lumo-icons';
    line-height: 1;
  }

  /* When both icons are hidden, let us keep space for one */
  [part='done-icon'][hidden] + [part='warning-icon'][hidden] {
    display: block !important;
    visibility: hidden;
  }

  [part$='button'] {
    flex: none;
    margin-left: var(--lumo-space-xs);
    cursor: var(--lumo-clickable-cursor);
  }

  [part$='button']:focus {
    outline: none;
    border-radius: var(--lumo-border-radius-s);
    box-shadow: 0 0 0 var(--_focus-ring-width) var(--_focus-ring-color);
  }

  [part$='icon']::before,
  [part$='button']::before {
    vertical-align: -0.25em;
  }

  [part='done-icon']::before {
    content: var(--lumo-icons-checkmark);
    color: var(--lumo-primary-text-color);
  }

  [part='warning-icon']::before {
    content: var(--lumo-icons-error);
    color: var(--lumo-error-text-color);
  }

  [part='start-button']::before {
    content: var(--lumo-icons-play);
  }

  [part='retry-button']::before {
    content: var(--lumo-icons-reload);
  }

  [part='remove-button']::before {
    content: var(--lumo-icons-cross);
  }

  [part='error'] {
    color: var(--lumo-error-text-color);
  }

  ::slotted([slot='progress']) {
    width: auto;
    margin-left: calc(var(--lumo-icon-size-m) + var(--lumo-space-xs));
    margin-right: calc(var(--lumo-icon-size-m) + var(--lumo-space-xs));
  }
`;registerStyles$1("vaadin-upload-file",[fieldButton,uploadFile],{moduleId:"lumo-upload-file"});/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class UploadIcon extends ThemableMixin(PolymerElement){static get is(){return"vaadin-upload-icon"}static get template(){return html`
      <style>
        :host {
          display: inline-block;
        }

        :host([hidden]) {
          display: none !important;
        }
      </style>
    `}}defineCustomElement(UploadIcon);/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const template$1=document.createElement("template");template$1.innerHTML=`
  <style>
    @font-face {
      font-family: 'vaadin-upload-icons';
      src: url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAasAAsAAAAABmAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIF5mNtYXAAAAFoAAAAVAAAAFQXVtKMZ2FzcAAAAbwAAAAIAAAACAAAABBnbHlmAAABxAAAAfQAAAH0bBJxYWhlYWQAAAO4AAAANgAAADYPD267aGhlYQAAA/AAAAAkAAAAJAfCA8tobXR4AAAEFAAAACgAAAAoHgAAx2xvY2EAAAQ8AAAAFgAAABYCSgHsbWF4cAAABFQAAAAgAAAAIAAOADVuYW1lAAAEdAAAAhYAAAIWmmcHf3Bvc3QAAAaMAAAAIAAAACAAAwAAAAMDtwGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA6QUDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEADgAAAAKAAgAAgACAAEAIOkF//3//wAAAAAAIOkA//3//wAB/+MXBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAgAA/8AEAAPAABkAMgAAEz4DMzIeAhczLgMjIg4CBycRIScFIRcOAyMiLgInIx4DMzI+AjcXphZGWmo6SH9kQwyADFiGrmJIhXJbIEYBAFoDWv76YBZGXGw8Rn5lRQyADFmIrWBIhHReIkYCWjJVPSIyVnVDXqN5RiVEYTxG/wBa2loyVT0iMlZ1Q16jeUYnRWE5RgAAAAABAIAAAAOAA4AAAgAAExEBgAMAA4D8gAHAAAAAAwAAAAAEAAOAAAIADgASAAAJASElIiY1NDYzMhYVFAYnETMRAgD+AAQA/gAdIyMdHSMjXYADgPyAgCMdHSMjHR0jwAEA/wAAAQANADMD5gNaAAUAACUBNwUBFwHT/jptATMBppMzAU2a4AIgdAAAAAEAOv/6A8YDhgALAAABJwkBBwkBFwkBNwEDxoz+xv7GjAFA/sCMAToBOoz+wAL6jP7AAUCM/sb+xowBQP7AjAE6AAAAAwAA/8AEAAPAAAcACwASAAABFSE1IREhEQEjNTMJAjMRIRECwP6A/sAEAP0AgIACQP7A/sDAAQABQICA/oABgP8AgAHAAUD+wP6AAYAAAAABAAAAAQAAdhiEdV8PPPUACwQAAAAAANX4FR8AAAAA1fgVHwAA/8AEAAPAAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAQAAAEAAAAAAAAAAAAAAAAAAAAKBAAAAAAAAAAAAAAAAgAAAAQAAAAEAACABAAAAAQAAA0EAAA6BAAAAAAAAAAACgAUAB4AagB4AJwAsADSAPoAAAABAAAACgAzAAMAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEAEwAAAAEAAAAAAAIABwDMAAEAAAAAAAMAEwBaAAEAAAAAAAQAEwDhAAEAAAAAAAUACwA5AAEAAAAAAAYAEwCTAAEAAAAAAAoAGgEaAAMAAQQJAAEAJgATAAMAAQQJAAIADgDTAAMAAQQJAAMAJgBtAAMAAQQJAAQAJgD0AAMAAQQJAAUAFgBEAAMAAQQJAAYAJgCmAAMAAQQJAAoANAE0dmFhZGluLXVwbG9hZC1pY29ucwB2AGEAYQBkAGkAbgAtAHUAcABsAG8AYQBkAC0AaQBjAG8AbgBzVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwdmFhZGluLXVwbG9hZC1pY29ucwB2AGEAYQBkAGkAbgAtAHUAcABsAG8AYQBkAC0AaQBjAG8AbgBzdmFhZGluLXVwbG9hZC1pY29ucwB2AGEAYQBkAGkAbgAtAHUAcABsAG8AYQBkAC0AaQBjAG8AbgBzUmVndWxhcgBSAGUAZwB1AGwAYQBydmFhZGluLXVwbG9hZC1pY29ucwB2AGEAYQBkAGkAbgAtAHUAcABsAG8AYQBkAC0AaQBjAG8AbgBzRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==) format('woff');
      font-weight: normal;
      font-style: normal;
    }
  </style>
`;document.head.appendChild(template$1.content);/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const UploadFileMixin=n=>class extends FocusMixin(n){static get properties(){return{complete:{type:Boolean,value:!1,reflectToAttribute:!0},errorMessage:{type:String,value:"",observer:"_errorMessageChanged"},file:{type:Object},fileName:{type:String},held:{type:Boolean,value:!1},indeterminate:{type:Boolean,value:!1,reflectToAttribute:!0},i18n:{type:Object},progress:{type:Number},status:{type:String},tabindex:{type:Number,value:0,reflectToAttribute:!0},uploading:{type:Boolean,value:!1,reflectToAttribute:!0},_progress:{type:Object}}}static get observers(){return["__updateProgress(_progress, progress, indeterminate)"]}ready(){super.ready(),this.addController(new SlotController(this,"progress","vaadin-progress-bar",{initializer:t=>{this._progress=t}})),this.shadowRoot.addEventListener("focusin",t=>{t.composedPath()[0].getAttribute("part").endsWith("button")&&this._setFocused(!1)}),this.shadowRoot.addEventListener("focusout",t=>{t.relatedTarget===this&&this._setFocused(!0)})}_shouldSetFocus(t){return t.composedPath()[0]===this}_errorMessageChanged(t){this.toggleAttribute("error",!!t)}__updateProgress(t,r,o){t&&(t.value=isNaN(r)?0:r/100,t.indeterminate=o)}_fireFileEvent(t){return t.preventDefault(),this.dispatchEvent(new CustomEvent(t.target.getAttribute("file-event"),{detail:{file:this.file},bubbles:!0,composed:!0}))}};/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const uploadFileStyles=css$e`
  :host {
    display: block;
  }

  [hidden] {
    display: none;
  }

  [part='row'] {
    list-style-type: none;
  }

  button {
    background: transparent;
    padding: 0;
    border: none;
    box-shadow: none;
  }

  :host([complete]) ::slotted([slot='progress']),
  :host([error]) ::slotted([slot='progress']) {
    display: none !important;
  }
`;/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-upload-file",uploadFileStyles,{moduleId:"vaadin-upload-file-styles"});class UploadFile extends UploadFileMixin(ThemableMixin(ControllerMixin(PolymerElement))){static get template(){return html`
      <div part="row">
        <div part="info">
          <div part="done-icon" hidden$="[[!complete]]" aria-hidden="true"></div>
          <div part="warning-icon" hidden$="[[!errorMessage]]" aria-hidden="true"></div>

          <div part="meta">
            <div part="name" id="name">[[fileName]]</div>
            <div part="status" hidden$="[[!status]]" id="status">[[status]]</div>
            <div part="error" id="error" hidden$="[[!errorMessage]]">[[errorMessage]]</div>
          </div>
        </div>
        <div part="commands">
          <button
            type="button"
            part="start-button"
            file-event="file-start"
            on-click="_fireFileEvent"
            hidden$="[[!held]]"
            aria-label$="[[i18n.file.start]]"
            aria-describedby="name"
          ></button>
          <button
            type="button"
            part="retry-button"
            file-event="file-retry"
            on-click="_fireFileEvent"
            hidden$="[[!errorMessage]]"
            aria-label$="[[i18n.file.retry]]"
            aria-describedby="name"
          ></button>
          <button
            type="button"
            part="remove-button"
            file-event="file-abort"
            on-click="_fireFileEvent"
            aria-label$="[[i18n.file.remove]]"
            aria-describedby="name"
          ></button>
        </div>
      </div>

      <slot name="progress"></slot>
    `}static get is(){return"vaadin-upload-file"}}defineCustomElement(UploadFile);/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const UploadFileListMixin=n=>class extends n{static get properties(){return{items:{type:Array},i18n:{type:Object}}}static get observers(){return["__updateItems(items, i18n)"]}__updateItems(t,r){t&&r&&this.requestContentUpdate()}requestContentUpdate(){const{items:t,i18n:r}=this;render$1(html$1`
          ${t.map(o=>html$1`
              <li>
                <vaadin-upload-file
                  .file="${o}"
                  .complete="${o.complete}"
                  .errorMessage="${o.error}"
                  .fileName="${o.name}"
                  .held="${o.held}"
                  .indeterminate="${o.indeterminate}"
                  .progress="${o.progress}"
                  .status="${o.status}"
                  .uploading="${o.uploading}"
                  .i18n="${r}"
                ></vaadin-upload-file>
              </li>
            `)}
        `,this)}};/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class UploadFileList extends UploadFileListMixin(ThemableMixin(PolymerElement)){static get is(){return"vaadin-upload-file-list"}static get template(){return html`
      <style>
        :host {
          display: block;
        }

        :host([hidden]) {
          display: none !important;
        }

        [part='list'] {
          padding: 0;
          margin: 0;
          list-style-type: none;
        }
      </style>
      <ul part="list">
        <slot></slot>
      </ul>
    `}}defineCustomElement(UploadFileList);/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class AddButtonController extends SlotController{constructor(i){super(i,"add-button","vaadin-button")}initNode(i){i._isDefault&&(this.defaultNode=i),i.addEventListener("touchend",t=>{this.host._onAddFilesTouchEnd(t)}),i.addEventListener("click",t=>{this.host._onAddFilesClick(t)}),this.host._addButton=i}}class DropLabelController extends SlotController{constructor(i){super(i,"drop-label","span")}initNode(i){i._isDefault&&(this.defaultNode=i),this.host._dropLabel=i}}const UploadMixin=n=>class extends n{static get properties(){return{nodrop:{type:Boolean,reflectToAttribute:!0,value:isTouch},target:{type:String,value:""},method:{type:String,value:"POST"},headers:{type:Object,value:{}},timeout:{type:Number,value:0},_dragover:{type:Boolean,value:!1,observer:"_dragoverChanged"},files:{type:Array,notify:!0,value:()=>[],sync:!0},maxFiles:{type:Number,value:1/0,sync:!0},maxFilesReached:{type:Boolean,value:!1,notify:!0,readOnly:!0,reflectToAttribute:!0},accept:{type:String,value:""},maxFileSize:{type:Number,value:1/0},_dragoverValid:{type:Boolean,value:!1,observer:"_dragoverValidChanged"},formDataName:{type:String,value:"file"},noAuto:{type:Boolean,value:!1},withCredentials:{type:Boolean,value:!1},capture:String,i18n:{type:Object,value(){return{dropFiles:{one:"Drop file here",many:"Drop files here"},addFiles:{one:"Upload File...",many:"Upload Files..."},error:{tooManyFiles:"Too Many Files.",fileIsTooBig:"File is Too Big.",incorrectFileType:"Incorrect File Type."},uploading:{status:{connecting:"Connecting...",stalled:"Stalled",processing:"Processing File...",held:"Queued"},remainingTime:{prefix:"remaining time: ",unknown:"unknown remaining time"},error:{serverUnavailable:"Upload failed, please try again later",unexpectedServerError:"Upload failed due to server error",forbidden:"Upload forbidden"}},file:{retry:"Retry",start:"Start",remove:"Remove"},units:{size:["B","kB","MB","GB","TB","PB","EB","ZB","YB"]}}}},_addButton:{type:Object},_dropLabel:{type:Object},_fileList:{type:Object},_files:{type:Array}}}static get observers(){return["__updateAddButton(_addButton, maxFiles, i18n, maxFilesReached)","__updateDropLabel(_dropLabel, maxFiles, i18n)","__updateFileList(_fileList, files, i18n)","__updateMaxFilesReached(maxFiles, files)"]}get __acceptRegexp(){if(!this.accept)return null;const t=this.accept.split(",").map(r=>{let o=r.trim();return o=o.replace(/[+.]/gu,"\\$&"),o.startsWith("\\.")&&(o=`.*${o}$`),o.replace(/\/\*/gu,"/.*")});return new RegExp(`^(${t.join("|")})$`,"iu")}ready(){super.ready(),this.addEventListener("dragover",this._onDragover.bind(this)),this.addEventListener("dragleave",this._onDragleave.bind(this)),this.addEventListener("drop",this._onDrop.bind(this)),this.addEventListener("file-retry",this._onFileRetry.bind(this)),this.addEventListener("file-abort",this._onFileAbort.bind(this)),this.addEventListener("file-start",this._onFileStart.bind(this)),this.addEventListener("file-reject",this._onFileReject.bind(this)),this.addEventListener("upload-start",this._onUploadStart.bind(this)),this.addEventListener("upload-success",this._onUploadSuccess.bind(this)),this.addEventListener("upload-error",this._onUploadError.bind(this)),this._addButtonController=new AddButtonController(this),this.addController(this._addButtonController),this._dropLabelController=new DropLabelController(this),this.addController(this._dropLabelController),this.addController(new SlotController(this,"file-list","vaadin-upload-file-list",{initializer:t=>{this._fileList=t}})),this.addController(new SlotController(this,"drop-label-icon","vaadin-upload-icon"))}_formatSize(t){if(typeof this.i18n.formatSize=="function")return this.i18n.formatSize(t);const r=this.i18n.units.sizeBase||1e3,o=~~(Math.log(t)/Math.log(r)),a=Math.max(0,Math.min(3,o-1));return`${parseFloat((t/r**o).toFixed(a))} ${this.i18n.units.size[o]}`}_splitTimeByUnits(t){const r=[60,60,24,1/0],o=[0];for(let a=0;a<r.length&&t>0;a++)o[a]=t%r[a],t=Math.floor(t/r[a]);return o}_formatTime(t,r){if(typeof this.i18n.formatTime=="function")return this.i18n.formatTime(t,r);for(;r.length<3;)r.push(0);return r.reverse().map(o=>(o<10?"0":"")+o).join(":")}_formatFileProgress(t){const r=t.loaded>0?this.i18n.uploading.remainingTime.prefix+t.remainingStr:this.i18n.uploading.remainingTime.unknown;return`${t.totalStr}: ${t.progress}% (${r})`}__updateMaxFilesReached(t,r){this._setMaxFilesReached(t>=0&&r.length>=t)}__updateAddButton(t,r,o,a){t&&(t.disabled=a,t===this._addButtonController.defaultNode&&(t.textContent=this._i18nPlural(r,o.addFiles)))}__updateDropLabel(t,r,o){t&&t===this._dropLabelController.defaultNode&&(t.textContent=this._i18nPlural(r,o.dropFiles))}__updateFileList(t,r,o){t&&(t.items=[...r],t.i18n=o)}_onDragover(t){t.preventDefault(),!this.nodrop&&!this._dragover&&(this._dragoverValid=!this.maxFilesReached,this._dragover=!0),t.dataTransfer.dropEffect=!this._dragoverValid||this.nodrop?"none":"copy"}_onDragleave(t){t.preventDefault(),this._dragover&&!this.nodrop&&(this._dragover=this._dragoverValid=!1)}_onDrop(t){this.nodrop||(t.preventDefault(),this._dragover=this._dragoverValid=!1,this._addFiles(t.dataTransfer.files))}_createXhr(){return new XMLHttpRequest}_configureXhr(t){if(typeof this.headers=="string")try{this.headers=JSON.parse(this.headers)}catch{this.headers=void 0}Object.entries(this.headers).forEach(([r,o])=>{t.setRequestHeader(r,o)}),this.timeout&&(t.timeout=this.timeout),t.withCredentials=this.withCredentials}_setStatus(t,r,o,a){t.elapsed=a,t.elapsedStr=this._formatTime(t.elapsed,this._splitTimeByUnits(t.elapsed)),t.remaining=Math.ceil(a*(r/o-1)),t.remainingStr=this._formatTime(t.remaining,this._splitTimeByUnits(t.remaining)),t.speed=~~(r/a/1024),t.totalStr=this._formatSize(r),t.loadedStr=this._formatSize(o),t.status=this._formatFileProgress(t)}uploadFiles(t=this.files){t&&!Array.isArray(t)&&(t=[t]),t=t.filter(r=>!r.complete),Array.prototype.forEach.call(t,this._uploadFile.bind(this))}_uploadFile(t){if(t.uploading)return;const r=Date.now(),o=t.xhr=this._createXhr();let a,s;o.upload.onprogress=u=>{clearTimeout(a),s=Date.now();const d=(s-r)/1e3,f=u.loaded,p=u.total,m=~~(f/p*100);t.loaded=f,t.progress=m,t.indeterminate=f<=0||f>=p,t.error?t.indeterminate=t.status=void 0:t.abort||(m<100?(this._setStatus(t,p,f,d),a=setTimeout(()=>{t.status=this.i18n.uploading.status.stalled,this._renderFileList()},2e3)):(t.loadedStr=t.totalStr,t.status=this.i18n.uploading.status.processing)),this._renderFileList(),this.dispatchEvent(new CustomEvent("upload-progress",{detail:{file:t,xhr:o}}))},o.onreadystatechange=()=>{if(o.readyState===4){if(clearTimeout(a),t.indeterminate=t.uploading=!1,t.abort||(t.status="",!this.dispatchEvent(new CustomEvent("upload-response",{detail:{file:t,xhr:o},cancelable:!0}))))return;o.status===0?t.error=this.i18n.uploading.error.serverUnavailable:o.status>=500?t.error=this.i18n.uploading.error.unexpectedServerError:o.status>=400&&(t.error=this.i18n.uploading.error.forbidden),t.complete=!t.error,this.dispatchEvent(new CustomEvent(`upload-${t.error?"error":"success"}`,{detail:{file:t,xhr:o}})),this._renderFileList()}};const l=new FormData;if(t.uploadTarget=t.uploadTarget||this.target||"",t.formDataName=this.formDataName,!this.dispatchEvent(new CustomEvent("upload-before",{detail:{file:t,xhr:o},cancelable:!0})))return;l.append(t.formDataName,t,t.name),o.open(this.method,t.uploadTarget,!0),this._configureXhr(o),t.status=this.i18n.uploading.status.connecting,t.uploading=t.indeterminate=!0,t.complete=t.abort=t.error=t.held=!1,o.upload.onloadstart=()=>{this.dispatchEvent(new CustomEvent("upload-start",{detail:{file:t,xhr:o}})),this._renderFileList()},this.dispatchEvent(new CustomEvent("upload-request",{detail:{file:t,xhr:o,formData:l},cancelable:!0}))&&o.send(l)}_retryFileUpload(t){this.dispatchEvent(new CustomEvent("upload-retry",{detail:{file:t,xhr:t.xhr},cancelable:!0}))&&this._uploadFile(t)}_abortFileUpload(t){this.dispatchEvent(new CustomEvent("upload-abort",{detail:{file:t,xhr:t.xhr},cancelable:!0}))&&(t.abort=!0,t.xhr&&t.xhr.abort(),this._removeFile(t))}_renderFileList(){this._fileList&&this._fileList.requestContentUpdate()}_addFiles(t){Array.prototype.forEach.call(t,this._addFile.bind(this))}_addFile(t){if(this.maxFilesReached){this.dispatchEvent(new CustomEvent("file-reject",{detail:{file:t,error:this.i18n.error.tooManyFiles}}));return}if(this.maxFileSize>=0&&t.size>this.maxFileSize){this.dispatchEvent(new CustomEvent("file-reject",{detail:{file:t,error:this.i18n.error.fileIsTooBig}}));return}const r=this.__acceptRegexp;if(r&&!(r.test(t.type)||r.test(t.name))){this.dispatchEvent(new CustomEvent("file-reject",{detail:{file:t,error:this.i18n.error.incorrectFileType}}));return}t.loaded=0,t.held=!0,t.status=this.i18n.uploading.status.held,this.files=[t,...this.files],this.noAuto||this._uploadFile(t)}_removeFile(t){this.files.indexOf(t)>-1&&(this.files=this.files.filter(r=>r!==t),this.dispatchEvent(new CustomEvent("file-remove",{detail:{file:t},bubbles:!0,composed:!0})))}_onAddFilesTouchEnd(t){t.preventDefault(),this._onAddFilesClick(t)}_onAddFilesClick(t){this.maxFilesReached||(t.stopPropagation(),this.$.fileInput.value="",this.$.fileInput.click())}_onFileInputChange(t){this._addFiles(t.target.files)}_onFileStart(t){this._uploadFile(t.detail.file)}_onFileRetry(t){this._retryFileUpload(t.detail.file)}_onFileAbort(t){this._abortFileUpload(t.detail.file)}_onFileReject(t){announce(`${t.detail.file.name}: ${t.detail.error}`,{mode:"alert"})}_onUploadStart(t){announce(`${t.detail.file.name}: 0%`,{mode:"alert"})}_onUploadSuccess(t){announce(`${t.detail.file.name}: 100%`,{mode:"alert"})}_onUploadError(t){announce(`${t.detail.file.name}: ${t.detail.file.error}`,{mode:"alert"})}_dragoverChanged(t){t?this.setAttribute("dragover",t):this.removeAttribute("dragover")}_dragoverValidChanged(t){t?this.setAttribute("dragover-valid",t):this.removeAttribute("dragover-valid")}_i18nPlural(t,r){return t===1?r.one:r.many}_isMultiple(t){return t!==1}};/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Upload extends UploadMixin(ElementMixin(ThemableMixin(ControllerMixin(PolymerElement)))){static get template(){return html`
      <style>
        :host {
          display: block;
          position: relative;
          box-sizing: border-box;
        }

        :host([hidden]) {
          display: none !important;
        }

        [hidden] {
          display: none !important;
        }
      </style>

      <div part="primary-buttons">
        <slot name="add-button"></slot>
        <div part="drop-label" hidden$="[[nodrop]]" id="dropLabelContainer" aria-hidden="true">
          <slot name="drop-label-icon"></slot>
          <slot name="drop-label"></slot>
        </div>
      </div>
      <slot name="file-list"></slot>
      <slot></slot>
      <input
        type="file"
        id="fileInput"
        hidden
        on-change="_onFileInputChange"
        accept$="{{accept}}"
        multiple$="[[_isMultiple(maxFiles)]]"
        capture$="[[capture]]"
      />
    `}static get is(){return"vaadin-upload"}}defineCustomElement(Upload);/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const VirtualListMixin=n=>class extends ControllerMixin(n){static get properties(){return{items:{type:Array,sync:!0},renderer:{type:Function,sync:!0},__virtualizer:Object}}static get observers(){return["__itemsOrRendererChanged(items, renderer, __virtualizer)"]}get firstVisibleIndex(){return this.__virtualizer.firstVisibleIndex}get lastVisibleIndex(){return this.__virtualizer.lastVisibleIndex}ready(){super.ready(),this.__virtualizer=new Virtualizer({createElements:this.__createElements,updateElement:this.__updateElement.bind(this),elementsContainer:this,scrollTarget:this,scrollContainer:this.shadowRoot.querySelector("#items")}),this.__overflowController=new OverflowController(this),this.addController(this.__overflowController),processTemplates(this)}scrollToIndex(t){this.__virtualizer.scrollToIndex(t)}__createElements(t){return[...Array(t)].map(()=>document.createElement("div"))}__updateElement(t,r){t.__renderer!==this.renderer&&(t.__renderer=this.renderer,this.__clearRenderTargetContent(t)),this.renderer&&this.renderer(t,this,{item:this.items[r],index:r})}__clearRenderTargetContent(t){t.innerHTML="",delete t._$litPart$}__itemsOrRendererChanged(t,r,o){const a=this.childElementCount>0;(r||a)&&o&&(o.size=(t||[]).length,o.update())}requestContentUpdate(){this.__virtualizer&&this.__virtualizer.update()}};/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const virtualListStyles=css$e`
  :host {
    display: block;
    height: 400px;
    overflow: auto;
    flex: auto;
    align-self: stretch;
  }

  :host([hidden]) {
    display: none !important;
  }

  :host(:not([grid])) #items > ::slotted(*) {
    width: 100%;
  }

  #items {
    position: relative;
  }
`;/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */registerStyles$1("vaadin-virtual-list",virtualListStyles,{moduleId:"vaadin-virtual-list-styles"});class VirtualList extends ElementMixin(ThemableMixin(VirtualListMixin(PolymerElement))){static get template(){return html`
      <div id="items">
        <slot></slot>
      </div>
    `}static get is(){return"vaadin-virtual-list"}}defineCustomElement(VirtualList);window.Vaadin.Flow.virtualListConnector={initLazy:function(n){if(n.$connector)return;const i=20;let t=[0,0];n.$connector={},n.$connector.placeholderItem={__placeholder:!0};const r=function(){const a=[...n.children].filter(u=>"__virtualListIndex"in u).map(u=>u.__virtualListIndex),s=Math.min(...a),l=Math.max(...a);let c=Math.max(0,s-i),h=Math.min(l+i,n.items.length);if(t[0]!=c||t[1]!=h){t=[c,h];const u=1+h-c;n.$server.setRequestedRange(c,u)}},o=function(){n.__requestDebounce=Debouncer.debounce(n.__requestDebounce,timeOut$1.after(50),r)};requestAnimationFrame(()=>r),n.patchVirtualListRenderer=function(){if(!n.renderer||n.renderer.__virtualListConnectorPatched)return;const a=n.renderer,s=(l,c,h)=>{l.__virtualListIndex=h.index,h.item===void 0?c.$connector.placeholderElement?l.__hasComponentRendererPlaceholder||(l.innerHTML="",delete l._$litPart$,l.appendChild(c.$connector.placeholderElement.cloneNode(!0)),l.__hasComponentRendererPlaceholder=!0):a.call(c,l,c,{...h,item:c.$connector.placeholderItem}):(l.__hasComponentRendererPlaceholder&&(l.innerHTML="",l.__hasComponentRendererPlaceholder=!1),a.call(c,l,c,h)),o()};s.__virtualListConnectorPatched=!0,s.__rendererId=a.__rendererId,n.renderer=s},n._createPropertyObserver("renderer","patchVirtualListRenderer",!0),n.patchVirtualListRenderer(),n.items=[],n.$connector.set=function(a,s){n.items.splice(a,s.length,...s),n.items=[...n.items]},n.$connector.clear=function(a,s){const l=Math.min(s,n.items.length-a);n.$connector.set(a,[...Array(l)])},n.$connector.updateData=function(a){const s=a.reduce((l,c)=>(l[c.key]=c,l),{});n.items=n.items.map(l=>l&&(s[l.key]||l))},n.$connector.updateSize=function(a){const s=a-n.items.length;s>0?n.items=[...n.items,...Array(s)]:s<0&&(n.items=n.items.slice(0,a))},n.$connector.setPlaceholderItem=function(a={},s){a.__placeholder=!0,n.$connector.placeholderItem=a;const l=Object.entries(a).find(([c])=>c.endsWith("_nodeid"));n.$connector.placeholderElement=l?Vaadin.Flow.clients[s].getByNodeId(l[1]):null}}};/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const template=document.createElement("template");template.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg"><defs>
<g id="lumo:align-center"><path d="M167 217c0-18 17-33 38-34H795c21 0 38 15 38 34 0 18-17 33-38 33H205C184 250 167 235 167 217z m83 191c0-18 13-33 29-33H721c16 0 29 15 29 33 0 18-13 33-29 34H279C263 442 250 427 250 408zM250 792c0-18 13-33 29-34H721c16 0 29 15 29 34s-13 33-29 33H279C263 825 250 810 250 792z m-83-192c0-18 17-33 38-33H795c21 0 38 15 38 33s-17 33-38 33H205C184 633 167 618 167 600z" fill-rule="evenodd" clip-rule="evenodd"></path></g>
<g id="lumo:align-left"><path d="M167 217c0-18 17-33 38-34H795c21 0 38 15 38 34 0 18-17 33-38 33H205C184 250 167 235 167 217z m0 191c0-18 13-33 28-33H638c16 0 29 15 29 33 0 18-13 33-29 34H195C179 442 167 427 167 408zM167 792c0-18 13-33 28-34H638c16 0 29 15 29 34s-13 33-29 33H195C179 825 167 810 167 792z m0-192c0-18 17-33 38-33H795c21 0 38 15 38 33s-17 33-38 33H205C184 633 167 618 167 600z" fill-rule="evenodd" clip-rule="evenodd"></path></g>
<g id="lumo:align-right"><path d="M167 217c0-18 17-33 38-34H795c21 0 38 15 38 34 0 18-17 33-38 33H205C184 250 167 235 167 217z m166 191c0-18 13-33 29-33H805c16 0 29 15 28 33 0 18-13 33-28 34H362C346 442 333 427 333 408zM333 792c0-18 13-33 29-34H805c16 0 29 15 28 34s-13 33-28 33H362C346 825 333 810 333 792z m-166-192c0-18 17-33 38-33H795c21 0 38 15 38 33s-17 33-38 33H205C184 633 167 618 167 600z" fill-rule="evenodd" clip-rule="evenodd"></path></g>
<g id="lumo:angle-down"><path d="M283 391c-18-16-46-15-63 4-16 18-15 46 3 63l244 224c17 15 43 15 60 0l250-229c18-16 20-45 3-63-16-18-45-20-63-4l-220 203-214-198z"></path></g>
<g id="lumo:angle-left"><path d="M601 710c16 18 15 46-3 63-18 16-46 15-63-4l-224-244c-15-17-15-43 0-59l229-250c16-18 45-20 63-4 18 16 20 45 3 63l-203 220 198 215z"></path></g>
<g id="lumo:angle-right"><path d="M399 275c-16-18-15-46 3-63 18-16 46-15 63 4l224 244c15 17 15 43 0 59l-229 250c-16 18-45 20-63 4-18-16-20-45-3-63l203-220-198-215z"></path></g>
<g id="lumo:angle-up"><path d="M283 635c-18 16-46 15-63-3-16-18-15-46 3-63l244-224c17-15 43-15 60 0l250 229c18 16 20 45 3 63-16 18-45 20-63 3l-220-202L283 635z"></path></g>
<g id="lumo:arrow-down"><path d="M538 646l125-112c15-14 39-12 53 4 14 15 12 39-4 53l-187 166c0 0 0 0 0 0-14 13-36 12-50 0l-187-166c-15-14-17-37-4-53 14-15 37-17 53-4L462 646V312c0-21 17-38 38-37s38 17 37 37v334z"></path></g>
<g id="lumo:arrow-left"><path d="M375 538l111 125c14 15 12 39-3 53-15 14-39 12-53-4l-166-187c0 0 0 0 0 0-13-14-12-36 0-50l166-187c14-15 37-17 53-4 15 14 17 37 3 53L375 463h333c21 0 38 17 38 37 0 21-17 38-38 38h-333z"></path></g>
<g id="lumo:arrow-right"><path d="M625 538h-333c-21 0-38-17-38-38 0-21 17-38 38-37h333l-111-126c-14-15-12-39 3-53 15-14 39-12 53 4l166 187c13 14 13 36 0 50 0 0 0 0 0 0l-166 187c-14 15-37 17-53 4-15-14-17-37-3-53l111-125z"></path></g>
<g id="lumo:arrow-up"><path d="M538 354V688c0 21-17 38-38 37s-38-17-38-38V354l-125 112c-15 14-39 12-53-4-14-15-12-39 4-53l187-166c14-13 36-13 50 0 0 0 0 0 0 0l187 166c15 14 17 37 4 53-14 15-37 17-53 4L538 354z"></path></g>
<g id="lumo:bar-chart"><path d="M175 500h108c28 0 50 22 50 50v233c0 28-22 50-50 50H175c-28 0-50-22-50-50v-233c0-28 22-50 50-50z m33 67c-9 0-17 7-16 16v167c0 9 7 17 16 17h42c9 0 17-7 17-17v-167c0-9-7-17-17-16H208zM446 167h108c28 0 50 22 50 50v566c0 28-22 50-50 50h-108c-28 0-50-22-50-50V217c0-28 22-50 50-50z m33 66c-9 0-17 7-17 17v500c0 9 7 17 17 17h42c9 0 17-7 16-17V250c0-9-7-17-16-17h-42zM717 333h108c28 0 50 22 50 50v400c0 28-22 50-50 50h-108c-28 0-50-22-50-50V383c0-28 22-50 50-50z m33 67c-9 0-17 7-17 17v333c0 9 7 17 17 17h42c9 0 17-7 16-17v-333c0-9-7-17-16-17h-42z"></path></g>
<g id="lumo:bell"><path d="M367 675H292v-258C292 325 366 250 459 250H458V208c0-23 18-42 42-41 23 0 42 18 42 41v42h-1C634 250 708 325 708 417V675h-75v-258c0-51-41-92-91-92h-84C408 325 367 366 367 417V675z m-159 37c0-21 17-38 38-37h508c21 0 37 17 38 37 0 21-17 38-38 38H246C225 750 208 733 208 713z m230 71h125v32c0 17-14 31-32 31h-62c-17 0-32-14-31-31v-32z"></path></g>
<g id="lumo:calendar"><path d="M375 208h250v-20C625 176 634 167 646 167h41C699 167 708 176 708 188V208h74c23 0 41 19 41 42v42C823 315 804 333 782 333H218C196 333 177 315 177 292V250C177 227 196 208 218 208H292v-20C292 176 301 167 313 167h41C366 167 375 176 375 188V208zM229 375h42C283 375 292 384 292 396v41C292 449 282 458 271 458h-42C217 458 208 449 208 437v-41C208 384 218 375 229 375z m125 0h42C408 375 417 384 417 396v41C417 449 407 458 396 458h-42C342 458 333 449 333 437v-41C333 384 343 375 354 375z m125 0h42C533 375 542 384 542 396v41C542 449 532 458 521 458h-42C467 458 458 449 458 437v-41C458 384 468 375 479 375z m-250 125h42C283 500 292 509 292 521v41C292 574 282 583 271 583h-42C217 583 208 574 208 562v-41C208 509 218 500 229 500z m125 0h42C408 500 417 509 417 521v41C417 574 407 583 396 583h-42C342 583 333 574 333 562v-41C333 509 343 500 354 500z m125 0h42c12 0 21 9 21 21v41C542 574 532 583 521 583h-42C467 583 458 574 458 562v-41C458 509 468 500 479 500z m-250 125h42C283 625 292 634 292 646v41C292 699 282 708 271 708h-42C217 708 208 699 208 687v-41C208 634 218 625 229 625z m125 0h42C408 625 417 634 417 646v41C417 699 407 708 396 708h-42C342 708 333 699 333 687v-41C333 634 343 625 354 625z m125 0h42c12 0 21 9 21 21v41C542 699 532 708 521 708h-42C467 708 458 699 458 687v-41C458 634 468 625 479 625z m125-250h42C658 375 667 384 667 396v41C667 449 657 458 646 458h-42C592 458 583 449 583 437v-41C583 384 593 375 604 375z m0 125h42c12 0 21 9 21 21v41C667 574 657 583 646 583h-42C592 583 583 574 583 562v-41C583 509 593 500 604 500z m0 125h42c12 0 21 9 21 21v41C667 699 657 708 646 708h-42C592 708 583 699 583 687v-41C583 634 593 625 604 625z m125 0h42c12 0 21 9 21 21v41C792 699 782 708 771 708h-42C717 708 708 699 708 687v-41C708 634 718 625 729 625z m-500 125h42C283 750 292 759 292 771v41C292 824 282 833 271 833h-42C217 833 208 824 208 812v-41C208 759 218 750 229 750z m125 0h42C408 750 417 759 417 771v41C417 824 407 833 396 833h-42C342 833 333 824 333 812v-41C333 759 343 750 354 750z m125 0h42c12 0 21 9 21 21v41C542 824 532 833 521 833h-42C467 833 458 824 458 812v-41C458 759 468 750 479 750z m125 0h42c12 0 21 9 21 21v41C667 824 657 833 646 833h-42C592 833 583 824 583 812v-41C583 759 593 750 604 750z m125 0h42c12 0 21 9 21 21v41C792 824 782 833 771 833h-42C717 833 708 824 708 812v-41C708 759 718 750 729 750z m0-250h42c12 0 21 9 21 21v41C792 574 782 583 771 583h-42C717 583 708 574 708 562v-41C708 509 718 500 729 500z m0-125h42C783 375 792 384 792 396v41C792 449 782 458 771 458h-42C717 458 708 449 708 437v-41C708 384 718 375 729 375z"></path></g>
<g id="lumo:checkmark"><path d="M318 493c-15-15-38-15-53 0-15 15-15 38 0 53l136 136c15 15 38 15 53 0l323-322c15-15 15-38 0-53-15-15-38-15-54 0l-295 296-110-110z"></path></g>
<g id="lumo:chevron-down"><path d="M533 654l210-199c9-9 9-23 0-32C739 419 733 417 726 417H274C261 417 250 427 250 439c0 6 2 12 7 16l210 199c18 17 48 17 66 0z"></path></g>
<g id="lumo:chevron-left"><path d="M346 533l199 210c9 9 23 9 32 0 4-4 7-10 6-17V274C583 261 573 250 561 250c-6 0-12 2-16 7l-199 210c-17 18-17 48 0 66z"></path></g>
<g id="lumo:chevron-right"><path d="M654 533L455 743c-9 9-23 9-32 0C419 739 417 733 417 726V274C417 261 427 250 439 250c6 0 12 2 16 7l199 210c17 18 17 48 0 66z"></path></g>
<g id="lumo:chevron-up"><path d="M533 346l210 199c9 9 9 23 0 32-4 4-10 7-17 6H274C261 583 250 573 250 561c0-6 2-12 7-16l210-199c18-17 48-17 66 0z"></path></g>
<g id="lumo:clock"><path d="M538 489l85 85c15 15 15 38 0 53-15 15-38 15-53 0l-93-93a38 38 0 0 1-2-2C467 525 462 515 462 504V308c0-21 17-38 38-37 21 0 38 17 37 37v181zM500 833c-184 0-333-149-333-333s149-333 333-333 333 149 333 333-149 333-333 333z m0-68c146 0 265-118 265-265 0-146-118-265-265-265-146 0-265 118-265 265 0 146 118 265 265 265z"></path></g>
<g id="lumo:cog"><path d="M833 458l-81-18c-8-25-17-50-29-75L767 292 708 233l-72 49c-21-12-46-25-75-30L542 167h-84l-19 79c-25 8-50 17-71 30L296 233 233 296l47 69c-12 21-21 46-29 71L167 458v84l84 25c8 25 17 50 29 75L233 708 292 767l76-44c21 12 46 25 75 29L458 833h84l19-81c25-8 50-17 75-29L708 767l59-59-44-66c12-21 25-46 29-75L833 542v-84z m-333 217c-96 0-175-79-175-175 0-96 79-175 175-175 96 0 175 79 175 175 0 96-79 175-175 175z"></path></g>
<g id="lumo:cross"><path d="M445 500l-142-141c-15-15-15-40 0-56 15-15 40-15 56 0L500 445l141-142c15-15 40-15 56 0 15 15 15 40 0 56L555 500l142 141c15 15 15 40 0 56-15 15-40 15-56 0L500 555l-141 142c-15 15-40 15-56 0-15-15-15-40 0-56L445 500z"></path></g>
<g id="lumo:download"><path d="M538 521l125-112c15-14 39-12 53 4 14 15 12 39-4 53l-187 166a38 38 0 0 1 0 0c-14 13-36 12-50 0l-187-166c-15-14-17-37-4-53 14-15 37-17 53-4L462 521V188c0-21 17-38 38-38s38 17 37 38v333zM758 704c0-21 17-38 38-37 21 0 38 17 37 37v92c0 21-17 38-37 37H204c-21 0-38-17-37-37v-92c0-21 17-38 37-37s38 17 38 37v54h516v-54z"></path></g>
<g id="lumo:dropdown"><path d="M317 393c-15-14-39-13-53 3-14 15-13 39 3 53l206 189c14 13 36 13 50 0l210-193c15-14 17-38 3-53-14-15-38-17-53-3l-185 171L317 393z"></path></g>
<g id="lumo:edit"><path d="M673 281l62 56-205 233c-9 10-38 24-85 39a8 8 0 0 1-5 0c-4-1-7-6-6-10l0 0c14-47 25-76 35-86l204-232z m37-42l52-59c15-17 41-18 58-2 17 16 18 42 3 59L772 295l-62-56zM626 208l-67 75h-226C305 283 283 306 283 333v334C283 695 306 717 333 717h334c28 0 50-22 50-50v-185L792 398v269C792 736 736 792 667 792H333C264 792 208 736 208 667V333C208 264 264 208 333 208h293z"></path></g>
<g id="lumo:error"><path d="M500 833c-184 0-333-149-333-333s149-333 333-333 333 149 333 333-149 333-333 333z m0-68c146 0 265-118 265-265 0-146-118-265-265-265-146 0-265 118-265 265 0 146 118 265 265 265zM479 292h42c12 0 21 9 20 20l-11 217c0 8-6 13-13 13h-34c-7 0-13-6-13-13l-11-217C459 301 468 292 479 292zM483 608h34c12 0 21 9 20 21v33c0 12-9 21-20 21h-34c-12 0-21-9-21-21v-33c0-12 9-21 21-21z"></path></g>
<g id="lumo:eye"><path d="M500 750c-187 0-417-163-417-250s230-250 417-250 417 163 417 250-230 250-417 250z m-336-231c20 22 47 46 78 69C322 644 411 678 500 678s178-34 258-90c31-22 59-46 78-69 6-7 12-14 16-19-4-6-9-12-16-19-20-22-47-46-78-69C678 356 589 322 500 322s-178 34-258 90c-31 22-59 46-78 69-6 7-12 14-16 19 4 6 9 12 16 19zM500 646c-81 0-146-65-146-146s65-146 146-146 146 65 146 146-65 146-146 146z m0-75c39 0 71-32 71-71 0-39-32-71-71-71-39 0-71 32-71 71 0 39 32 71 71 71z"></path></g>
<g id="lumo:eye-disabled"><path d="M396 735l60-60c15 2 30 3 44 3 89 0 178-34 258-90 31-22 59-46 78-69 6-7 12-14 16-19-4-6-9-12-16-19-20-22-47-46-78-69-8-5-15-11-23-15l50-51C862 397 917 458 917 500c0 87-230 250-417 250-34 0-69-5-104-15zM215 654C138 603 83 542 83 500c0-87 230-250 417-250 34 0 69 5 104 15l-59 60c-15-2-30-3-45-3-89 0-178 34-258 90-31 22-59 46-78 69-6 7-12 14-16 19 4 6 9 12 16 19 20 22 47 46 78 69 8 5 16 11 24 16L215 654z m271-9l159-159c0 5 1 9 1 14 0 81-65 146-146 146-5 0-9 0-14-1z m-131-131C354 510 354 505 354 500c0-81 65-146 146-146 5 0 10 0 14 1l-159 159z m-167 257L780 179c12-12 32-12 44 0 12 12 12 32 0 44L232 815c-12 12-32 12-44 0s-12-32 0-44z"></path></g>
<g id="lumo:menu"><path d="M167 292c0-23 19-42 41-42h584C815 250 833 268 833 292c0 23-19 42-41 41H208C185 333 167 315 167 292z m0 208c0-23 19-42 41-42h584C815 458 833 477 833 500c0 23-19 42-41 42H208C185 542 167 523 167 500z m0 208c0-23 19-42 41-41h584C815 667 833 685 833 708c0 23-19 42-41 42H208C185 750 167 732 167 708z"></path></g>
<g id="lumo:minus"><path d="M261 461c-22 0-39 18-39 39 0 22 18 39 39 39h478c22 0 39-18 39-39 0-22-18-39-39-39H261z"></path></g>
<g id="lumo:ordered-list"><path d="M138 333V198H136l-43 28v-38l45-31h45V333H138z m-61 128c0-35 27-59 68-59 39 0 66 21 66 53 0 20-11 37-43 64l-29 27v2h74V583H80v-30l55-52c26-24 32-33 33-43 0-13-10-22-24-22-15 0-26 10-26 25v1h-41v-1zM123 759v-31h21c15 0 25-8 25-21 0-13-10-21-25-21-15 0-26 9-26 23h-41c1-34 27-56 68-57 39 0 66 20 66 49 0 20-14 36-33 39v3c24 3 40 19 39 41 0 32-30 54-73 54-41 0-69-22-70-57h43c1 13 11 22 28 22 16 0 27-9 27-22 0-14-10-22-28-22h-21zM333 258c0-18 15-33 34-33h516c18 0 33 15 34 33 0 18-15 33-34 34H367c-18 0-33-15-34-34z m0 250c0-18 15-33 34-33h516c18 0 33 15 34 33s-15 33-34 34H367c-18 0-33-15-34-34z m0 250c0-18 15-33 34-33h516c18 0 33 15 34 33s-15 33-34 34H367c-18 0-33-15-34-34z"></path></g>
<g id="lumo:phone"><path d="M296 208l42-37c17-15 44-13 58 4a42 42 0 0 1 5 7L459 282c12 20 5 45-15 57l-7 4c-17 10-25 30-19 48l20 66a420 420 0 0 0 93 157l41 45c13 14 35 17 51 8l7-5c20-12 45-5 57 16L745 777c12 20 5 45-15 57a42 42 0 0 1-8 4l-52 17c-61 21-129 4-174-43l-50-52c-81-85-141-189-175-302l-24-78c-19-62 0-129 49-172z"></path></g>
<g id="lumo:photo"><path d="M208 167h584c69 0 125 56 125 125v416c0 69-56 125-125 125H208c-69 0-125-56-125-125V292c0-69 56-125 125-125z m584 75H208c-28 0-50 22-50 50v416c0 28 22 50 50 50h584c28 0 50-22 50-50V292c0-28-22-50-50-50zM239 740l167-167c12-12 31-14 45-6l73 43 172-201c13-15 34-18 50-7l95 67v92l-111-78-169 199c-12 14-32 17-47 8l-76-43-111 111H229c2-7 5-13 10-18zM458 427C458 490 407 542 344 542S229 490 229 427c0-63 51-115 115-115S458 364 458 427z m-62 0C396 398 373 375 344 375S292 398 292 427c0 29 23 52 52 52s52-23 52-52z"></path></g>
<g id="lumo:play"><path d="M689 528l-298 175c-13 8-34 8-48 0-6-4-10-9-10-14V311C333 300 348 292 367 292c9 0 17 2 24 5l298 175c26 15 26 40 0 56z"></path></g>
<g id="lumo:plus"><path d="M461 461H261c-22 0-39 18-39 39 0 22 18 39 39 39h200v200c0 22 18 39 39 39 22 0 39-18 39-39v-200h200c22 0 39-18 39-39 0-22-18-39-39-39h-200V261c0-22-18-39-39-39-22 0-39 18-39 39v200z"></path></g>
<g id="lumo:redo"><path d="M290 614C312 523 393 458 491 458c55 0 106 22 144 57l-88 88c-3 3-5 7-5 11 0 8 6 15 15 15l193-5c17 0 31-15 31-32l5-192c0-4-1-8-4-11-6-6-16-6-22 0l-66 67C641 406 570 375 491 375c-136 0-248 90-281 215-1 2-1 5-1 8-8 44 45 68 73 32 4-5 7-11 8-16z"></path></g>
<g id="lumo:reload"><path d="M500 233V137c0-9 7-16 15-16 4 0 8 2 10 4l133 140c12 12 12 32 0 45l-133 140c-6 6-15 6-21 0C502 447 500 443 500 438V308c-117 0-212 95-212 213 0 117 95 212 212 212 117 0 212-95 212-212 0-21 17-38 38-38s38 17 37 38c0 159-129 288-287 287-159 0-288-129-288-287 0-159 129-288 288-288z"></path></g>
<g id="lumo:search"><path d="M662 603l131 131c16 16 16 42 0 59-16 16-43 16-59 0l-131-131C562 691 512 708 458 708c-138 0-250-112-250-250 0-138 112-250 250-250 138 0 250 112 250 250 0 54-17 104-46 145zM458 646c104 0 188-84 188-188S562 271 458 271 271 355 271 458s84 188 187 188z"></path></g>
<g id="lumo:undo"><path d="M710 614C688 523 607 458 509 458c-55 0-106 22-144 57l88 88c3 3 5 7 5 11 0 8-6 15-15 15l-193-5c-17 0-31-15-31-32L214 400c0-4 1-8 4-11 6-6 16-6 22 0l66 67C359 406 430 375 509 375c136 0 248 90 281 215 1 2 1 5 1 8 8 44-45 68-73 32-4-5-7-11-8-16z"></path></g>
<g id="lumo:unordered-list"><path d="M146 325c-42 0-67-26-67-63 0-37 25-63 67-63 42 0 67 26 67 63 0 37-25 63-67 63z m0 250c-42 0-67-26-67-63 0-37 25-63 67-63 42 0 67 26 67 63 0 37-25 63-67 63z m0 250c-42 0-67-26-67-63 0-37 25-63 67-63 42 0 67 26 67 63 0 37-25 63-67 63zM333 258c0-18 15-33 34-33h516c18 0 33 15 34 33 0 18-15 33-34 34H367c-18 0-33-15-34-34z m0 250c0-18 15-33 34-33h516c18 0 33 15 34 33s-15 33-34 34H367c-18 0-33-15-34-34z m0 250c0-18 15-33 34-33h516c18 0 33 15 34 33s-15 33-34 34H367c-18 0-33-15-34-34z"></path></g>
<g id="lumo:upload"><path d="M454 271V604c0 21-17 38-37 38s-38-17-38-38V271L254 382c-15 14-39 12-53-3-14-15-12-39 3-53L391 160c14-13 36-13 51-1 0 0 0 0 0 1l187 166c15 14 17 37 3 53-14 15-37 17-53 3L454 271zM675 704c0-21 17-38 37-37 21 0 38 17 38 37v92c0 21-17 38-38 37H121c-21 0-38-17-38-37v-92c0-21 17-38 38-37s38 17 37 37v54h517v-54z"></path></g>
<g id="lumo:user"><path d="M500 500c-69 0-125-56-125-125s56-125 125-125 125 56 125 125-56 125-125 125z m-292 292c0-115 131-208 292-209s292 93 292 209H208z"></path></g>
</defs></svg>`;Iconset.register("lumo",1e3,template);injectGlobalCss($cssFromFile_0.toString(),"CSSImport end",document);const loadOnDemand=n=>Promise.resolve(0);window.Vaadin=window.Vaadin||{};window.Vaadin.Flow=window.Vaadin.Flow||{};window.Vaadin.Flow.loadOnDemand=loadOnDemand;window.Vaadin.Flow.resetFocus=()=>{let n=document.activeElement;for(;n&&n.shadowRoot;)n=n.shadowRoot.activeElement;return!n||n.blur()||n.focus()||!0}});export default ae();
